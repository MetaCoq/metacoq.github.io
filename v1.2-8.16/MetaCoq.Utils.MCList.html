<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.Utils.MCList</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.SetoidList.html#"><span class="id" title="library">SetoidList</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8.html#"><span class="id" title="library">Utf8</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#"><span class="id" title="library">MCPrelude</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#"><span class="id" title="library">MCRelations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>

<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="50abc9bd1bb81dce67ffb7e42f8ed4c9" class="idref" href="#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">&quot;</span></a>#| l |" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">l</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">l</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">format</span> "#| l |").<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> {<span class="id" title="var">_</span>}, <span class="id" title="var">_</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="proper_map_ho" class="idref" href="#proper_map_ho"><span class="id" title="instance">proper_map_ho</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> <a id="B:2" class="idref" href="#B:2"><span class="id" title="binder">B</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>)<br/>
&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:2"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> →. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="app_tip_assoc" class="idref" href="#app_tip_assoc"><span class="id" title="lemma">app_tip_assoc</span></a> {<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a>} (<a id="l:4" class="idref" href="#l:4"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:3"><span class="id" title="variable">A</span></a>) <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> <a id="l':6" class="idref" href="#l':6"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:4"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:5"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':6"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:4"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':6"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="fold_left_i_aux" class="idref" href="#fold_left_i_aux"><span class="id" title="definition">fold_left_i_aux</span></a> {<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> <a id="B:8" class="idref" href="#B:8"><span class="id" title="binder">B</span></a>} (<a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:7"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:8"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:7"><span class="id" title="variable">A</span></a>) (<a id="n0:10" class="idref" href="#n0:10"><span class="id" title="binder">n0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:11" class="idref" href="#l:11"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:8"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a0:12" class="idref" href="#a0:12"><span class="id" title="binder">a0</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:7"><span class="id" title="variable">A</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">l</span>} : <a class="idref" href="MetaCoq.Utils.MCList.html#A:7"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:11"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#a0:12"><span class="id" title="variable">a0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#fold_left_i_aux:13"><span class="id" title="definition">fold_left_i_aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:9"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n0:10"><span class="id" title="variable">n0</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:11"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a0:12"><span class="id" title="variable">a0</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n0:10"><span class="id" title="variable">n0</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="fold_left_i" class="idref" href="#fold_left_i"><span class="id" title="definition">fold_left_i</span></a> {<a id="A:15" class="idref" href="#A:15"><span class="id" title="binder">A</span></a> <a id="B:16" class="idref" href="#B:16"><span class="id" title="binder">B</span></a>} <a id="f:17" class="idref" href="#f:17"><span class="id" title="binder">f</span></a> := @<a class="idref" href="MetaCoq.Utils.MCList.html#fold_left_i_aux"><span class="id" title="definition">fold_left_i_aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:15"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:16"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:17"><span class="id" title="variable">f</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="mapi_rec" class="idref" href="#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> {<a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> <a id="B:19" class="idref" href="#B:19"><span class="id" title="binder">B</span></a>} (<a id="f:20" class="idref" href="#f:20"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:19"><span class="id" title="variable">B</span></a>) (<a id="l:21" class="idref" href="#l:21"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:18"><span class="id" title="variable">A</span></a>) (<a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:19"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:21"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:22"><span class="id" title="variable">n</span></a> <span class="id" title="var">hd</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec:23"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:20"><span class="id" title="variable">f</span></a> <span class="id" title="var">tl</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:22"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mapi" class="idref" href="#mapi"><span class="id" title="definition">mapi</span></a> {<a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a> <a id="B:26" class="idref" href="#B:26"><span class="id" title="binder">B</span></a>} (<a id="f:27" class="idref" href="#f:27"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:25"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:26"><span class="id" title="variable">B</span></a>) (<a id="l:28" class="idref" href="#l:28"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:25"><span class="id" title="variable">A</span></a>) := <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:27"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:28"><span class="id" title="variable">l</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="safe_nth" class="idref" href="#safe_nth"><span class="id" title="definition">safe_nth</span></a> {<a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a>} (<a id="l:30" class="idref" href="#l:30"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:29"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">(</span></a><a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">List.length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">)</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:29"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:30"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#n:32"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="var">hd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#safe_nth:33"><span class="id" title="definition">safe_nth</span></a> <span class="id" title="var">tl</span> <a class="idref" href="MetaCoq.Utils.MCList.html#n:32"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="map2" class="idref" href="#map2"><span class="id" title="definition">map2</span></a> {<a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a> <a id="B:37" class="idref" href="#B:37"><span class="id" title="binder">B</span></a> <a id="C:38" class="idref" href="#C:38"><span class="id" title="binder">C</span></a>} (<a id="f:39" class="idref" href="#f:39"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:37"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:38"><span class="id" title="variable">C</span></a>) (<a id="l:40" class="idref" href="#l:40"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:36"><span class="id" title="variable">A</span></a>) (<a id="l':41" class="idref" href="#l':41"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:37"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:38"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:40"><span class="id" title="variable">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#l':41"><span class="id" title="variable">l'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a>, <span class="id" title="var">hd'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tl'</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:39"><span class="id" title="variable">f</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">hd'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2:42"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:39"><span class="id" title="variable">f</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">tl'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_ext" class="idref" href="#map2_ext"><span class="id" title="lemma">map2_ext</span></a> {<a id="A:45" class="idref" href="#A:45"><span class="id" title="binder">A</span></a> <a id="B:46" class="idref" href="#B:46"><span class="id" title="binder">B</span></a> <a id="C:47" class="idref" href="#C:47"><span class="id" title="binder">C</span></a>} (<a id="f:48" class="idref" href="#f:48"><span class="id" title="binder">f</span></a> <a id="g:49" class="idref" href="#g:49"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:45"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:46"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:47"><span class="id" title="variable">C</span></a>) (<a id="l:50" class="idref" href="#l:50"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:45"><span class="id" title="variable">A</span></a>) (<a id="l':51" class="idref" href="#l':51"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:46"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:52" class="idref" href="#x:52"><span class="id" title="binder">x</span></a> <a id="y:53" class="idref" href="#y:53"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:48"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:52"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:53"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:49"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:52"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:53"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:48"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':51"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:49"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':51"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_safe_nth" class="idref" href="#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a> {<a id="A:54" class="idref" href="#A:54"><span class="id" title="binder">A</span></a>} <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> (<a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:54"><span class="id" title="variable">A</span></a>) (<a id="isdecl:57" class="idref" href="#isdecl:57"><span class="id" title="binder">isdecl</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:56"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:56"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.MCList.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#isdecl:57"><span class="id" title="variable">isdecl</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">isdecl</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">isdecl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">n'</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rev" class="idref" href="#rev"><span class="id" title="definition">rev</span></a> {<a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a>} (<a id="l:59" class="idref" href="#l:59"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:58"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:58"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <a id="aux:64" class="idref" href="#aux:64"><span class="id" title="binder">aux</span></a> (<a id="l:60" class="idref" href="#l:60"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:58"><span class="id" title="variable">A</span></a>) (<a id="acc:61" class="idref" href="#acc:61"><span class="id" title="binder">acc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:58"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:58"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:60"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#acc:61"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#aux:62"><span class="id" title="variable">aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:60"><span class="id" title="variable">l</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:61"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="MetaCoq.Utils.MCList.html#aux:64"><span class="id" title="variable">aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:59"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rev_map" class="idref" href="#rev_map"><span class="id" title="definition">rev_map</span></a> {<a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a> <a id="B:66" class="idref" href="#B:66"><span class="id" title="binder">B</span></a>} (<a id="f:67" class="idref" href="#f:67"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:65"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:66"><span class="id" title="variable">B</span></a>) (<a id="l:68" class="idref" href="#l:68"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:65"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:66"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <a id="aux:73" class="idref" href="#aux:73"><span class="id" title="binder">aux</span></a> (<a id="l:69" class="idref" href="#l:69"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:65"><span class="id" title="variable">A</span></a>) (<a id="acc:70" class="idref" href="#acc:70"><span class="id" title="binder">acc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:66"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:66"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:69"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#acc:70"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#aux:71"><span class="id" title="variable">aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:69"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:67"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:70"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="MetaCoq.Utils.MCList.html#aux:73"><span class="id" title="variable">aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:68"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="rev_cons" class="idref" href="#rev_cons"><span class="id" title="lemma">rev_cons</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:74" class="idref" href="#A:74"><span class="id" title="binder">A</span></a>} {<a id="l:75" class="idref" href="#l:75"><span class="id" title="binder">l</span></a>} {<a id="a:76" class="idref" href="#a:76"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:74"><span class="id" title="variable">A</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#a:76"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:75"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:75"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#a:76"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">∀</span> <a id="l:79" class="idref" href="#l:79"><span class="id" title="binder">l</span></a> <a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a>, ?<span class="id" title="var">faux</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">set</span> (<span class="id" title="var">aux</span> := <span class="id" title="var">faux</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="keyword">∀</span> <a id="l:83" class="idref" href="#l:83"><span class="id" title="binder">l</span></a> <a id="acc:84" class="idref" href="#acc:84"><span class="id" title="binder">acc</span></a>, <span class="id" title="var">aux</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:81"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:82"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<span class="id" title="var">aux</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:81"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:82"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">list</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">intro</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">acc</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">acc</span>)%<span class="id" title="var">list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">datatypes</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="rev_map_cons" class="idref" href="#rev_map_cons"><span class="id" title="lemma">rev_map_cons</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:85" class="idref" href="#A:85"><span class="id" title="binder">A</span></a> <a id="B:86" class="idref" href="#B:86"><span class="id" title="binder">B</span></a>} {<a id="f:87" class="idref" href="#f:87"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:85"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:86"><span class="id" title="variable">B</span></a>} {<a id="l:88" class="idref" href="#l:88"><span class="id" title="binder">l</span></a>} {<a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:85"><span class="id" title="variable">A</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:87"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:88"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:87"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:88"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#f:87"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:89"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">∀</span> <a id="l:92" class="idref" href="#l:92"><span class="id" title="binder">l</span></a> <a id="a:93" class="idref" href="#a:93"><span class="id" title="binder">a</span></a>, ?<span class="id" title="var">faux</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">set</span> (<span class="id" title="var">aux</span> := <span class="id" title="var">faux</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="keyword">∀</span> <a id="l:96" class="idref" href="#l:96"><span class="id" title="binder">l</span></a> <a id="acc:97" class="idref" href="#acc:97"><span class="id" title="binder">acc</span></a>, <span class="id" title="var">aux</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:94"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:95"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<span class="id" title="var">aux</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:94"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:95"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">list</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">intro</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">acc</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">acc</span>)%<span class="id" title="var">list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">datatypes</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="rev_length" class="idref" href="#rev_length"><span class="id" title="lemma">rev_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:98" class="idref" href="#A:98"><span class="id" title="binder">A</span></a>} {<a id="l:99" class="idref" href="#l:99"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:98"><span class="id" title="variable">A</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:99"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:99"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (?<span class="id" title="var">faux</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ] ⇒ <span class="id" title="tactic">set</span> (<span class="id" title="var">aux</span> := <span class="id" title="var">faux</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="keyword">∀</span> <a id="l:102" class="idref" href="#l:102"><span class="id" title="binder">l</span></a> <a id="acc:103" class="idref" href="#acc:103"><span class="id" title="binder">acc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (<span class="id" title="var">aux</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:101"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:101"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:100"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">intro</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#rev_length"><span class="id" title="lemma">rev_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="rev_map_length" class="idref" href="#rev_map_length"><span class="id" title="lemma">rev_map_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:104" class="idref" href="#A:104"><span class="id" title="binder">A</span></a> <a id="B:105" class="idref" href="#B:105"><span class="id" title="binder">B</span></a>} {<a id="f:106" class="idref" href="#f:106"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:104"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:105"><span class="id" title="variable">B</span></a>} {<a id="l:107" class="idref" href="#l:107"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:104"><span class="id" title="variable">A</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:107"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:107"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (?<span class="id" title="var">faux</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ] ⇒ <span class="id" title="tactic">set</span> (<span class="id" title="var">aux</span> := <span class="id" title="var">faux</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="keyword">∀</span> <a id="l:110" class="idref" href="#l:110"><span class="id" title="binder">l</span></a> <a id="acc:111" class="idref" href="#acc:111"><span class="id" title="binder">acc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> (<span class="id" title="var">aux</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:108"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:109"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:109"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:108"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">intro</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map_length"><span class="id" title="lemma">rev_map_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="rev_map_app" class="idref" href="#rev_map_app"><span class="id" title="lemma">rev_map_app</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:112" class="idref" href="#A:112"><span class="id" title="binder">A</span></a> <a id="B:113" class="idref" href="#B:113"><span class="id" title="binder">B</span></a>} {<a id="f:114" class="idref" href="#f:114"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:112"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:113"><span class="id" title="variable">B</span></a>} {<a id="l1:115" class="idref" href="#l1:115"><span class="id" title="binder">l1</span></a> <a id="l2:116" class="idref" href="#l2:116"><span class="id" title="binder">l2</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:114"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l1:115"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:116"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:116"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:115"><span class="id" title="variable">l1</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>. <span class="id" title="var">revert</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">l2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map_cons"><span class="id" title="lemma">rev_map_cons</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_map_compose" class="idref" href="#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:117" class="idref" href="#A:117"><span class="id" title="binder">A</span></a> <a id="B:118" class="idref" href="#B:118"><span class="id" title="binder">B</span></a> <a id="C:119" class="idref" href="#C:119"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:117"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:118"><span class="id" title="variable">B</span></a>) (<a id="g:121" class="idref" href="#g:121"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:118"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:119"><span class="id" title="variable">C</span></a>) (<a id="l:122" class="idref" href="#l:122"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:117"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:121"><span class="id" title="variable">g</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:122"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:123" class="idref" href="#x:123"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#g:121"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:123"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:122"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_id_f" class="idref" href="#map_id_f"><span class="id" title="lemma">map_id_f</span></a> {<a id="A:124" class="idref" href="#A:124"><span class="id" title="binder">A</span></a>} (<a id="l:125" class="idref" href="#l:125"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:124"><span class="id" title="variable">A</span></a>) (<a id="f:126" class="idref" href="#f:126"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:124"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:124"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:127" class="idref" href="#x:127"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:126"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:127"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:126"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:125"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:125"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Reverse_Induction" class="idref" href="#Reverse_Induction"><span class="id" title="section">Reverse_Induction</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rev_list_ind" class="idref" href="#rev_list_ind"><span class="id" title="lemma">rev_list_ind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:129" class="idref" href="#P:129"><span class="id" title="binder">P</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="a:130" class="idref" href="#a:130"><span class="id" title="binder">a</span></a>:<a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a>) (<a id="l:131" class="idref" href="#l:131"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a>), <a class="idref" href="MetaCoq.Utils.MCList.html#P:129"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:131"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#P:129"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#a:130"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:131"><span class="id" title="variable">l</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:132" class="idref" href="#l:132"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:129"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">Coq.Lists.List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:132"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="rev_ind" class="idref" href="#rev_ind"><span class="id" title="lemma">rev_ind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:133" class="idref" href="#P:133"><span class="id" title="binder">P</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#P:133"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a>:<a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a>) (<a id="l:135" class="idref" href="#l:135"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a>), <a class="idref" href="MetaCoq.Utils.MCList.html#P:133"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:135"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#P:133"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:135"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:134"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="l:136" class="idref" href="#l:136"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:133"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:136"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev_list_ind"><span class="id" title="lemma">rev_list_ind</span></a> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">X0</span> <span class="id" title="var">a</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">l0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#Reverse_Induction"><span class="id" title="section">Reverse_Induction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_nil" class="idref" href="#skipn_nil"><span class="id" title="lemma">skipn_nil</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:137" class="idref" href="#A:137"><span class="id" title="binder">A</span></a>} <a id="n:138" class="idref" href="#n:138"><span class="id" title="binder">n</span></a>, @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:138"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> [| <span class="id" title="var">n</span>] ; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_S" class="idref" href="#skipn_S"><span class="id" title="lemma">skipn_S</span></a> {<a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a>} <a id="a:140" class="idref" href="#a:140"><span class="id" title="binder">a</span></a> (<a id="l:141" class="idref" href="#l:141"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:139"><span class="id" title="variable">A</span></a>) <a id="n:142" class="idref" href="#n:142"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:142"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#a:140"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:141"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:142"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:141"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_ext_size" class="idref" href="#mapi_ext_size"><span class="id" title="lemma">mapi_ext_size</span></a> {<a id="A:143" class="idref" href="#A:143"><span class="id" title="binder">A</span></a> <a id="B:144" class="idref" href="#B:144"><span class="id" title="binder">B</span></a>} (<a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a> <a id="g:146" class="idref" href="#g:146"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:143"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:144"><span class="id" title="variable">B</span></a>) <a id="l:147" class="idref" href="#l:147"><span class="id" title="binder">l</span></a> <a id="k:148" class="idref" href="#k:148"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k':149" class="idref" href="#k':149"><span class="id" title="binder">k'</span></a> <a id="x:150" class="idref" href="#x:150"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#k':149"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:148"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:147"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k':149"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:150"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:146"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k':149"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:150"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:147"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:148"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:146"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:147"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:148"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.le_refl"><span class="id" title="lemma">Nat.le_refl</span></a> <span class="id" title="var">k</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">k</span> <span class="id" title="tactic">at</span> 1 3 4.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span>, <span class="id" title="var">Hl</span> |- ×. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">erewrite</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_ext_size" class="idref" href="#map_ext_size"><span class="id" title="lemma">map_ext_size</span></a> {<a id="A:151" class="idref" href="#A:151"><span class="id" title="binder">A</span></a> <a id="B:152" class="idref" href="#B:152"><span class="id" title="binder">B</span></a>} (<a id="f:153" class="idref" href="#f:153"><span class="id" title="binder">f</span></a> <a id="g:154" class="idref" href="#g:154"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:151"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:152"><span class="id" title="variable">B</span></a>) <a id="l:155" class="idref" href="#l:155"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:156" class="idref" href="#k:156"><span class="id" title="binder">k</span></a> <a id="x:157" class="idref" href="#x:157"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#k:156"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:155"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:153"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:156"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:157"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:154"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:156"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:157"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:153"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:155"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:154"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:155"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext_size"><span class="id" title="lemma">mapi_ext_size</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_map" class="idref" href="#firstn_map"><span class="id" title="lemma">firstn_map</span></a> {<a id="A:158" class="idref" href="#A:158"><span class="id" title="binder">A</span></a> <a id="B:159" class="idref" href="#B:159"><span class="id" title="binder">B</span></a>} <a id="n:160" class="idref" href="#n:160"><span class="id" title="binder">n</span></a> (<a id="f:161" class="idref" href="#f:161"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:159"><span class="id" title="variable">B</span></a>) <a id="l:162" class="idref" href="#l:162"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:160"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:161"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:162"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:161"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:160"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:162"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_compose" class="idref" href="#mapi_rec_compose"><span class="id" title="lemma">mapi_rec_compose</span></a> {<a id="A:163" class="idref" href="#A:163"><span class="id" title="binder">A</span></a> <a id="B:164" class="idref" href="#B:164"><span class="id" title="binder">B</span></a> <a id="C:165" class="idref" href="#C:165"><span class="id" title="binder">C</span></a>} (<a id="g:166" class="idref" href="#g:166"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:164"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:165"><span class="id" title="variable">C</span></a>) (<a id="f:167" class="idref" href="#f:167"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:163"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:164"><span class="id" title="variable">B</span></a>) <a id="k:168" class="idref" href="#k:168"><span class="id" title="binder">k</span></a> <a id="l:169" class="idref" href="#l:169"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:166"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:167"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:169"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:168"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#k:168"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> (<span class="id" title="keyword">fun</span> <a id="k:170" class="idref" href="#k:170"><span class="id" title="binder">k</span></a> <a id="x:171" class="idref" href="#x:171"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#g:166"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:170"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:167"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:170"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:171"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:169"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:168"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_compose" class="idref" href="#mapi_compose"><span class="id" title="lemma">mapi_compose</span></a> {<a id="A:172" class="idref" href="#A:172"><span class="id" title="binder">A</span></a> <a id="B:173" class="idref" href="#B:173"><span class="id" title="binder">B</span></a> <a id="C:174" class="idref" href="#C:174"><span class="id" title="binder">C</span></a>} (<a id="g:175" class="idref" href="#g:175"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:173"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:174"><span class="id" title="variable">C</span></a>) (<a id="f:176" class="idref" href="#f:176"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:172"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:173"><span class="id" title="variable">B</span></a>) <a id="l:177" class="idref" href="#l:177"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:175"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:176"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:177"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k:178" class="idref" href="#k:178"><span class="id" title="binder">k</span></a> <a id="x:179" class="idref" href="#x:179"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#g:175"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:178"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:176"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:178"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:179"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:177"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_compose"><span class="id" title="lemma">mapi_rec_compose</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_ext" class="idref" href="#map_ext"><span class="id" title="lemma">map_ext</span></a> {<a id="A:180" class="idref" href="#A:180"><span class="id" title="binder">A</span></a> <a id="B:181" class="idref" href="#B:181"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:182" class="idref" href="#f:182"><span class="id" title="binder">f</span></a> <a id="g:183" class="idref" href="#g:183"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:181"><span class="id" title="variable">B</span></a>) (<a id="l:184" class="idref" href="#l:184"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:180"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:182"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:185"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:183"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:185"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:182"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:184"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:183"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:184"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_skipn" class="idref" href="#map_skipn"><span class="id" title="lemma">map_skipn</span></a> {<a id="A:186" class="idref" href="#A:186"><span class="id" title="binder">A</span></a> <a id="B:187" class="idref" href="#B:187"><span class="id" title="binder">B</span></a>} (<a id="f:188" class="idref" href="#f:188"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:186"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:187"><span class="id" title="variable">B</span></a>) (<a id="l:189" class="idref" href="#l:189"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:186"><span class="id" title="variable">A</span></a>) (<a id="n:190" class="idref" href="#n:190"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:188"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:190"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:189"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:190"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:188"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:189"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> <span class="id" title="var">l</span> ⇒ <span class="id" title="var">l</span> // <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_map" class="idref" href="#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> {<a id="A:191" class="idref" href="#A:191"><span class="id" title="binder">A</span></a> <a id="B:192" class="idref" href="#B:192"><span class="id" title="binder">B</span></a>} (<a id="f:193" class="idref" href="#f:193"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:191"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:192"><span class="id" title="variable">B</span></a>) <a id="n:194" class="idref" href="#n:194"><span class="id" title="binder">n</span></a> <a id="l:195" class="idref" href="#l:195"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:193"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:195"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:194"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:193"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:195"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:194"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">case</span> ⇒ // <span class="id" title="var">IHn</span> <span class="id" title="var">l</span> /=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_nil" class="idref" href="#map_nil"><span class="id" title="lemma">map_nil</span></a> {<a id="A:196" class="idref" href="#A:196"><span class="id" title="binder">A</span></a> <a id="B:197" class="idref" href="#B:197"><span class="id" title="binder">B</span></a>} (<a id="f:198" class="idref" href="#f:198"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:196"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:197"><span class="id" title="variable">B</span></a>) (<a id="l:199" class="idref" href="#l:199"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:196"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#l:199"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:198"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:199"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">map_nil</span> : <span class="id" title="keyword">wf</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="nth_error_Spec" class="idref" href="#nth_error_Spec"><span class="id" title="inductive">nth_error_Spec</span></a> {<a id="A:200" class="idref" href="#A:200"><span class="id" title="binder">A</span></a>} (<a id="l:201" class="idref" href="#l:201"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:200"><span class="id" title="variable">A</span></a>) (<a id="n:202" class="idref" href="#n:202"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="nth_error_Spec_Some" class="idref" href="#nth_error_Spec_Some"><span class="id" title="constructor">nth_error_Spec_Some</span></a> <a id="x:205" class="idref" href="#x:205"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:205"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Spec:203"><span class="id" title="inductive">nth_error_Spec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:202"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:205"><span class="id" title="variable">x</span></a>)<br/>
| <a id="nth_error_Spec_None" class="idref" href="#nth_error_Spec_None"><span class="id" title="constructor">nth_error_Spec_None</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Spec:203"><span class="id" title="inductive">nth_error_Spec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_eqn" class="idref" href="#mapi_rec_eqn"><span class="id" title="lemma">mapi_rec_eqn</span></a> {<a id="A:206" class="idref" href="#A:206"><span class="id" title="binder">A</span></a> <a id="B:207" class="idref" href="#B:207"><span class="id" title="binder">B</span></a>} (<a id="f:208" class="idref" href="#f:208"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:206"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:207"><span class="id" title="variable">B</span></a>) (<a id="l:209" class="idref" href="#l:209"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:206"><span class="id" title="variable">A</span></a>) <a id="a:210" class="idref" href="#a:210"><span class="id" title="binder">a</span></a> <a id="n:211" class="idref" href="#n:211"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:208"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#a:210"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:209"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:211"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:208"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:211"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:210"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:208"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:209"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:211"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_mapi_rec" class="idref" href="#nth_error_mapi_rec"><span class="id" title="lemma">nth_error_mapi_rec</span></a> {<a id="A:212" class="idref" href="#A:212"><span class="id" title="binder">A</span></a> <a id="B:213" class="idref" href="#B:213"><span class="id" title="binder">B</span></a>} (<a id="f:214" class="idref" href="#f:214"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:212"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:213"><span class="id" title="variable">B</span></a>) <a id="n:215" class="idref" href="#n:215"><span class="id" title="binder">n</span></a> <a id="k:216" class="idref" href="#k:216"><span class="id" title="binder">k</span></a> <a id="l:217" class="idref" href="#l:217"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:214"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:217"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:216"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:215"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:214"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#n:215"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:216"><span class="id" title="variable">k</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:217"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:215"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">k</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_mapi" class="idref" href="#nth_error_mapi"><span class="id" title="lemma">nth_error_mapi</span></a> {<a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> <a id="B:219" class="idref" href="#B:219"><span class="id" title="binder">B</span></a>} (<a id="f:220" class="idref" href="#f:220"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:219"><span class="id" title="variable">B</span></a>) <a id="n:221" class="idref" href="#n:221"><span class="id" title="binder">n</span></a> <a id="l:222" class="idref" href="#l:222"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:222"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:221"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:221"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:222"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:221"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_mapi_rec"><span class="id" title="lemma">nth_error_mapi_rec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_Some_length" class="idref" href="#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> {<a id="A:223" class="idref" href="#A:223"><span class="id" title="binder">A</span></a>} {<a id="l:224" class="idref" href="#l:224"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:223"><span class="id" title="variable">A</span></a>} {<a id="n:225" class="idref" href="#n:225"><span class="id" title="binder">n</span></a> <a id="t:226" class="idref" href="#t:226"><span class="id" title="binder">t</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:224"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:225"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#t:226"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:225"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:224"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_Some"><span class="id" title="lemma">nth_error_Some</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">l</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_Some_non_nil" class="idref" href="#nth_error_Some_non_nil"><span class="id" title="lemma">nth_error_Some_non_nil</span></a> {<a id="A:227" class="idref" href="#A:227"><span class="id" title="binder">A</span></a>} (<a id="l:228" class="idref" href="#l:228"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:227"><span class="id" title="variable">A</span></a>) (<a id="n:229" class="idref" href="#n:229"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:230" class="idref" href="#x:230"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:227"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:228"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:229"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:230"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:228"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_Some'" class="idref" href="#nth_error_Some'"><span class="id" title="lemma">nth_error_Some'</span></a> {<a id="A:231" class="idref" href="#A:231"><span class="id" title="binder">A</span></a>} <a id="l:232" class="idref" href="#l:232"><span class="id" title="binder">l</span></a> <a id="n:233" class="idref" href="#n:233"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="x:234" class="idref" href="#x:234"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:231"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:232"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:233"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:234"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:233"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:232"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> 1 | <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> 1 | <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_spec" class="idref" href="#nth_error_spec"><span class="id" title="lemma">nth_error_spec</span></a> {<a id="A:235" class="idref" href="#A:235"><span class="id" title="binder">A</span></a>} (<a id="l:236" class="idref" href="#l:236"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:235"><span class="id" title="variable">A</span></a>) (<a id="n:237" class="idref" href="#n:237"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Spec"><span class="id" title="inductive">nth_error_Spec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:236"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:237"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:236"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:237"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_app_left" class="idref" href="#nth_error_app_left"><span class="id" title="lemma">nth_error_app_left</span></a> {<a id="A:238" class="idref" href="#A:238"><span class="id" title="binder">A</span></a>} (<a id="l:239" class="idref" href="#l:239"><span class="id" title="binder">l</span></a> <a id="l':240" class="idref" href="#l':240"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:238"><span class="id" title="variable">A</span></a>) <a id="n:241" class="idref" href="#n:241"><span class="id" title="binder">n</span></a> <a id="t:242" class="idref" href="#t:242"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:239"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:241"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#t:242"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:239"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':240"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:241"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#t:242"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_nil" class="idref" href="#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> {<a id="A:243" class="idref" href="#A:243"><span class="id" title="binder">A</span></a>} <a id="n:244" class="idref" href="#n:244"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:243"><span class="id" title="variable">A</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:244"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="chop" class="idref" href="#chop"><span class="id" title="definition">chop</span></a> {<a id="A:245" class="idref" href="#A:245"><span class="id" title="binder">A</span></a>} (<a id="n:246" class="idref" href="#n:246"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:247" class="idref" href="#l:247"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:245"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#n:246"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:247"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:247"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.Utils.MCList.html#chop:248"><span class="id" title="definition">chop</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:246"><span class="id" title="variable">n</span></a> <span class="id" title="var">tl</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:247"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_map'" class="idref" href="#nth_map'"><span class="id" title="lemma">nth_map'</span></a> {<a id="A:251" class="idref" href="#A:251"><span class="id" title="binder">A</span></a> <a id="B:252" class="idref" href="#B:252"><span class="id" title="binder">B</span></a>} (<a id="f:253" class="idref" href="#f:253"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:251"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:252"><span class="id" title="variable">B</span></a>) <a id="n:254" class="idref" href="#n:254"><span class="id" title="binder">n</span></a> <a id="l:255" class="idref" href="#l:255"><span class="id" title="binder">l</span></a> <a id="d:256" class="idref" href="#d:256"><span class="id" title="binder">d</span></a> <a id="d':257" class="idref" href="#d':257"><span class="id" title="binder">d'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#d':257"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:253"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:256"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:254"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:253"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:255"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#d':257"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:253"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:254"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:255"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:256"><span class="id" title="variable">d</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_map" class="idref" href="#mapi_map"><span class="id" title="lemma">mapi_map</span></a> {<a id="A:258" class="idref" href="#A:258"><span class="id" title="binder">A</span></a> <a id="B:259" class="idref" href="#B:259"><span class="id" title="binder">B</span></a> <a id="C:260" class="idref" href="#C:260"><span class="id" title="binder">C</span></a>} (<a id="f:261" class="idref" href="#f:261"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:259"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:260"><span class="id" title="variable">C</span></a>) (<a id="l:262" class="idref" href="#l:262"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:258"><span class="id" title="variable">A</span></a>) (<a id="g:263" class="idref" href="#g:263"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:258"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:259"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:261"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:263"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:262"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:264" class="idref" href="#i:264"><span class="id" title="binder">i</span></a> <a id="x:265" class="idref" href="#x:265"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:261"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:264"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#g:263"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:265"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:262"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_mapi" class="idref" href="#map_mapi"><span class="id" title="lemma">map_mapi</span></a> {<a id="A:266" class="idref" href="#A:266"><span class="id" title="binder">A</span></a> <a id="B:267" class="idref" href="#B:267"><span class="id" title="binder">B</span></a> <a id="C:268" class="idref" href="#C:268"><span class="id" title="binder">C</span></a>} (<a id="f:269" class="idref" href="#f:269"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:266"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:267"><span class="id" title="variable">B</span></a>) (<a id="l:270" class="idref" href="#l:270"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:266"><span class="id" title="variable">A</span></a>) (<a id="g:271" class="idref" href="#g:271"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:267"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:268"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:271"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:269"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:270"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a> <a id="x:273" class="idref" href="#x:273"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#g:271"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:269"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:273"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:270"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="chop_map" class="idref" href="#chop_map"><span class="id" title="lemma">chop_map</span></a> {<a id="A:274" class="idref" href="#A:274"><span class="id" title="binder">A</span></a> <a id="B:275" class="idref" href="#B:275"><span class="id" title="binder">B</span></a>} (<a id="f:276" class="idref" href="#f:276"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:274"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:275"><span class="id" title="variable">B</span></a>) <a id="n:277" class="idref" href="#n:277"><span class="id" title="binder">n</span></a> <a id="l:278" class="idref" href="#l:278"><span class="id" title="binder">l</span></a> <a id="l':279" class="idref" href="#l':279"><span class="id" title="binder">l'</span></a> <a id="l'':280" class="idref" href="#l'':280"><span class="id" title="binder">l''</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#chop"><span class="id" title="definition">chop</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:277"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:278"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l':279"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l'':280"><span class="id" title="variable">l''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#chop"><span class="id" title="definition">chop</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:277"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:276"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:278"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:276"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':279"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:276"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l'':280"><span class="id" title="variable">l''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">l''</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= &lt;- &lt;-]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#chop"><span class="id" title="definition">chop</span></a> <span class="id" title="var">n</span> <span class="id" title="var">l</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="chop_n_app" class="idref" href="#chop_n_app"><span class="id" title="lemma">chop_n_app</span></a> {<a id="A:281" class="idref" href="#A:281"><span class="id" title="binder">A</span></a>} {<a id="l:282" class="idref" href="#l:282"><span class="id" title="binder">l</span></a> <a id="l':283" class="idref" href="#l':283"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:281"><span class="id" title="variable">A</span></a>} {<a id="n:284" class="idref" href="#n:284"><span class="id" title="binder">n</span></a>} : <a class="idref" href="MetaCoq.Utils.MCList.html#n:284"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:282"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#chop"><span class="id" title="definition">chop</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:284"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:282"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':283"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:282"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':283"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_mapi" class="idref" href="#mapi_mapi"><span class="id" title="lemma">mapi_mapi</span></a> {<a id="A:285" class="idref" href="#A:285"><span class="id" title="binder">A</span></a> <a id="B:286" class="idref" href="#B:286"><span class="id" title="binder">B</span></a> <a id="C:287" class="idref" href="#C:287"><span class="id" title="binder">C</span></a>} (<a id="g:288" class="idref" href="#g:288"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:285"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:286"><span class="id" title="variable">B</span></a>) (<a id="f:289" class="idref" href="#f:289"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:286"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:287"><span class="id" title="variable">C</span></a>) (<a id="l:290" class="idref" href="#l:290"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:285"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:289"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:288"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:290"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="n:291" class="idref" href="#n:291"><span class="id" title="binder">n</span></a> <a id="x:292" class="idref" href="#x:292"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:289"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:291"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#g:288"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:291"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:292"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:290"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_cst_map" class="idref" href="#mapi_cst_map"><span class="id" title="lemma">mapi_cst_map</span></a> {<a id="A:293" class="idref" href="#A:293"><span class="id" title="binder">A</span></a> <a id="B:294" class="idref" href="#B:294"><span class="id" title="binder">B</span></a>} (<a id="f:295" class="idref" href="#f:295"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:293"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:294"><span class="id" title="variable">B</span></a>) <a id="l:296" class="idref" href="#l:296"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:295"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:296"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:295"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:296"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_ext" class="idref" href="#mapi_rec_ext"><span class="id" title="lemma">mapi_rec_ext</span></a> {<a id="A:297" class="idref" href="#A:297"><span class="id" title="binder">A</span></a> <a id="B:298" class="idref" href="#B:298"><span class="id" title="binder">B</span></a>} (<a id="f:299" class="idref" href="#f:299"><span class="id" title="binder">f</span></a> <a id="g:300" class="idref" href="#g:300"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:297"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:298"><span class="id" title="variable">B</span></a>) (<a id="l:301" class="idref" href="#l:301"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:297"><span class="id" title="variable">A</span></a>) <a id="n:302" class="idref" href="#n:302"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:303" class="idref" href="#k:303"><span class="id" title="binder">k</span></a> <a id="x:304" class="idref" href="#x:304"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#n:302"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:303"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:303"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:301"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:302"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:303"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:304"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:303"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:304"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:299"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:301"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:302"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:300"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:301"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:302"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">Hfg</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_ext" class="idref" href="#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> {<a id="A:305" class="idref" href="#A:305"><span class="id" title="binder">A</span></a> <a id="B:306" class="idref" href="#B:306"><span class="id" title="binder">B</span></a>} (<a id="f:307" class="idref" href="#f:307"><span class="id" title="binder">f</span></a> <a id="g:308" class="idref" href="#g:308"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:305"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:306"><span class="id" title="variable">B</span></a>) (<a id="l:309" class="idref" href="#l:309"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:305"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:310" class="idref" href="#n:310"><span class="id" title="binder">n</span></a> <a id="x:311" class="idref" href="#x:311"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:307"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:310"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:311"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:308"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:310"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:311"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:307"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:309"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:308"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:309"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_ext"><span class="id" title="lemma">mapi_rec_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_Sk" class="idref" href="#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a> {<a id="A:312" class="idref" href="#A:312"><span class="id" title="binder">A</span></a> <a id="B:313" class="idref" href="#B:313"><span class="id" title="binder">B</span></a>} (<a id="f:314" class="idref" href="#f:314"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:312"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:313"><span class="id" title="variable">B</span></a>) (<a id="l:315" class="idref" href="#l:315"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:312"><span class="id" title="variable">A</span></a>) <a id="k:316" class="idref" href="#k:316"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:314"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:315"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:316"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> (<span class="id" title="keyword">fun</span> <a id="n:317" class="idref" href="#n:317"><span class="id" title="binder">n</span></a> <a id="x:318" class="idref" href="#x:318"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:314"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:317"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:318"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:315"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:316"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_add" class="idref" href="#mapi_rec_add"><span class="id" title="lemma">mapi_rec_add</span></a> {<a id="A:319" class="idref" href="#A:319"><span class="id" title="binder">A</span></a> <a id="B:320" class="idref" href="#B:320"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:321" class="idref" href="#f:321"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:319"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:320"><span class="id" title="variable">B</span></a>) (<a id="l:322" class="idref" href="#l:322"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:319"><span class="id" title="variable">A</span></a>) (<a id="n:323" class="idref" href="#n:323"><span class="id" title="binder">n</span></a> <a id="k:324" class="idref" href="#k:324"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:321"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:322"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#n:323"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:324"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> (<span class="id" title="keyword">fun</span> (<a id="k:325" class="idref" href="#k:325"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:326" class="idref" href="#x:326"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:319"><span class="id" title="variable">A</span></a>) ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:321"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#n:323"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:325"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:326"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:322"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:324"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">k</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">k</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_ext"><span class="id" title="lemma">mapi_rec_ext</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_app" class="idref" href="#mapi_rec_app"><span class="id" title="lemma">mapi_rec_app</span></a> {<a id="A:327" class="idref" href="#A:327"><span class="id" title="binder">A</span></a> <a id="B:328" class="idref" href="#B:328"><span class="id" title="binder">B</span></a>} (<a id="f:329" class="idref" href="#f:329"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:327"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:328"><span class="id" title="variable">B</span></a>) (<a id="l:330" class="idref" href="#l:330"><span class="id" title="binder">l</span></a> <a id="l':331" class="idref" href="#l':331"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:327"><span class="id" title="variable">A</span></a>) <a id="n:332" class="idref" href="#n:332"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:329"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:330"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':331"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:332"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:329"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:330"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:332"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:329"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':331"><span class="id" title="variable">l'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:330"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:332"><span class="id" title="variable">n</span></a>))%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_app" class="idref" href="#mapi_app"><span class="id" title="lemma">mapi_app</span></a> {<a id="A:333" class="idref" href="#A:333"><span class="id" title="binder">A</span></a> <a id="B:334" class="idref" href="#B:334"><span class="id" title="binder">B</span></a>} (<a id="f:335" class="idref" href="#f:335"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:333"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:334"><span class="id" title="variable">B</span></a>) (<a id="l:336" class="idref" href="#l:336"><span class="id" title="binder">l</span></a> <a id="l':337" class="idref" href="#l':337"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:333"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:335"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:336"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':337"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:335"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:336"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="n:338" class="idref" href="#n:338"><span class="id" title="binder">n</span></a> <a id="x:339" class="idref" href="#x:339"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:335"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:336"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:338"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:339"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l':337"><span class="id" title="variable">l'</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_app"><span class="id" title="lemma">mapi_rec_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_eqn"><span class="id" title="lemma">mapi_rec_eqn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_mapi_rec" class="idref" href="#rev_mapi_rec"><span class="id" title="lemma">rev_mapi_rec</span></a> {<a id="A:340" class="idref" href="#A:340"><span class="id" title="binder">A</span></a> <a id="B:341" class="idref" href="#B:341"><span class="id" title="binder">B</span></a>} (<a id="f:342" class="idref" href="#f:342"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:340"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:341"><span class="id" title="variable">B</span></a>) (<a id="l:343" class="idref" href="#l:343"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:340"><span class="id" title="variable">A</span></a>) <a id="n:344" class="idref" href="#n:344"><span class="id" title="binder">n</span></a> <a id="k:345" class="idref" href="#k:345"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#k:345"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:344"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:342"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:343"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#n:344"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:345"><span class="id" title="variable">k</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> (<span class="id" title="keyword">fun</span> <a id="k:346" class="idref" href="#k:346"><span class="id" title="binder">k</span></a> <a id="x:347" class="idref" href="#x:347"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:342"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:343"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:344"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:346"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:347"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:343"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#k:345"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">rev_unit</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_app"><span class="id" title="lemma">mapi_rec_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_ext"><span class="id" title="lemma">mapi_rec_ext</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>. <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_mapi" class="idref" href="#rev_mapi"><span class="id" title="lemma">rev_mapi</span></a> {<a id="A:348" class="idref" href="#A:348"><span class="id" title="binder">A</span></a> <a id="B:349" class="idref" href="#B:349"><span class="id" title="binder">B</span></a>} (<a id="f:350" class="idref" href="#f:350"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:348"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:349"><span class="id" title="variable">B</span></a>) (<a id="l:351" class="idref" href="#l:351"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:348"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:350"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:351"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k:352" class="idref" href="#k:352"><span class="id" title="binder">k</span></a> <a id="x:353" class="idref" href="#x:353"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:350"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:351"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:352"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:353"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:351"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">change</span> 0 <span class="id" title="keyword">with</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 0) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_mapi_rec"><span class="id" title="lemma">rev_mapi_rec</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_rev" class="idref" href="#mapi_rec_rev"><span class="id" title="lemma">mapi_rec_rev</span></a> {<a id="A:354" class="idref" href="#A:354"><span class="id" title="binder">A</span></a> <a id="B:355" class="idref" href="#B:355"><span class="id" title="binder">B</span></a>} (<a id="f:356" class="idref" href="#f:356"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:354"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:355"><span class="id" title="variable">B</span></a>) (<a id="l:357" class="idref" href="#l:357"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:354"><span class="id" title="variable">A</span></a>) <a id="n:358" class="idref" href="#n:358"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:356"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:357"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:358"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k:359" class="idref" href="#k:359"><span class="id" title="binder">k</span></a> <a id="x:360" class="idref" href="#x:360"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:356"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:357"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:358"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:359"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:360"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:357"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">rev_unit</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_app"><span class="id" title="lemma">mapi_rec_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">rev_unit</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_ext"><span class="id" title="lemma">mapi_rec_ext</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rev" class="idref" href="#mapi_rev"><span class="id" title="lemma">mapi_rev</span></a> {<a id="A:361" class="idref" href="#A:361"><span class="id" title="binder">A</span></a> <a id="B:362" class="idref" href="#B:362"><span class="id" title="binder">B</span></a>} (<a id="f:363" class="idref" href="#f:363"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:361"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:362"><span class="id" title="variable">B</span></a>) (<a id="l:364" class="idref" href="#l:364"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:361"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:363"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:364"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k:365" class="idref" href="#k:365"><span class="id" title="binder">k</span></a> <a id="x:366" class="idref" href="#x:366"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:363"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:364"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:365"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#x:366"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:364"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_rev"><span class="id" title="lemma">mapi_rec_rev</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_rec_length" class="idref" href="#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a> {<a id="A:367" class="idref" href="#A:367"><span class="id" title="binder">A</span></a> <a id="B:368" class="idref" href="#B:368"><span class="id" title="binder">B</span></a>} (<a id="f:369" class="idref" href="#f:369"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:367"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:368"><span class="id" title="variable">B</span></a>) (<a id="l:370" class="idref" href="#l:370"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:367"><span class="id" title="variable">A</span></a>) <a id="n:371" class="idref" href="#n:371"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:369"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:370"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:371"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:370"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_length" class="idref" href="#mapi_length"><span class="id" title="lemma">mapi_length</span></a> {<a id="A:372" class="idref" href="#A:372"><span class="id" title="binder">A</span></a> <a id="B:373" class="idref" href="#B:373"><span class="id" title="binder">B</span></a>} (<a id="f:374" class="idref" href="#f:374"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:372"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:373"><span class="id" title="variable">B</span></a>) (<a id="l:375" class="idref" href="#l:375"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:372"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:374"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:375"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:375"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_cons" class="idref" href="#mapi_cons"><span class="id" title="lemma">mapi_cons</span></a> {<a id="A:376" class="idref" href="#A:376"><span class="id" title="binder">A</span></a> <a id="B:377" class="idref" href="#B:377"><span class="id" title="binder">B</span></a>} (<a id="f:378" class="idref" href="#f:378"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:376"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:377"><span class="id" title="variable">B</span></a>) <a id="a:379" class="idref" href="#a:379"><span class="id" title="binder">a</span></a> <a id="l:380" class="idref" href="#l:380"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:378"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#a:379"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:380"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:378"><span class="id" title="variable">f</span></a> 0 <a class="idref" href="MetaCoq.Utils.MCList.html#a:379"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="x:381" class="idref" href="#x:381"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:378"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:381"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:380"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> /= <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_nth" class="idref" href="#mapi_nth"><span class="id" title="lemma">mapi_nth</span></a> {<a id="A:382" class="idref" href="#A:382"><span class="id" title="binder">A</span></a> <a id="B:383" class="idref" href="#B:383"><span class="id" title="binder">B</span></a>} (<a id="l:384" class="idref" href="#l:384"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:382"><span class="id" title="variable">A</span></a>) (<a id="l':385" class="idref" href="#l':385"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:383"><span class="id" title="variable">B</span></a>) (<a id="default:386" class="idref" href="#default:386"><span class="id" title="binder">default</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:382"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:384"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l':385"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:387" class="idref" href="#i:387"><span class="id" title="binder">i</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:387"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:384"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#default:386"><span class="id" title="variable">default</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l':385"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:384"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> [= <span class="id" title="var">Hl</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_length" class="idref" href="#skipn_length"><span class="id" title="lemma">skipn_length</span></a> {<a id="A:388" class="idref" href="#A:388"><span class="id" title="binder">A</span></a>} <a id="n:389" class="idref" href="#n:389"><span class="id" title="binder">n</span></a> (<a id="l:390" class="idref" href="#l:390"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:388"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:389"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:390"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:390"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:389"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="combine_map_id" class="idref" href="#combine_map_id"><span class="id" title="lemma">combine_map_id</span></a> {<a id="A:391" class="idref" href="#A:391"><span class="id" title="binder">A</span></a> <a id="B:392" class="idref" href="#B:392"><span class="id" title="binder">B</span></a>} (<a id="l:393" class="idref" href="#l:393"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#A:391"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:392"><span class="id" title="variable">B</span></a>)) :<br/>
&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#l:393"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:393"><span class="id" title="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:393"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">invs</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="last_inv" class="idref" href="#last_inv"><span class="id" title="lemma">last_inv</span></a> <a id="A:394" class="idref" href="#A:394"><span class="id" title="binder">A</span></a> (<a id="l1:395" class="idref" href="#l1:395"><span class="id" title="binder">l1</span></a> <a id="l2:396" class="idref" href="#l2:396"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:394"><span class="id" title="variable">A</span></a>) <a id="x:397" class="idref" href="#x:397"><span class="id" title="binder">x</span></a> <a id="y:398" class="idref" href="#y:398"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#l1:395"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:397"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:396"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#y:398"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:395"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:396"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:397"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:398"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l2</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_all2" class="idref" href="#skipn_all2"><span class="id" title="lemma">skipn_all2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:399" class="idref" href="#A:399"><span class="id" title="binder">A</span></a> <a id="n:400" class="idref" href="#n:400"><span class="id" title="binder">n</span></a>} (<a id="l:401" class="idref" href="#l:401"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:399"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:401"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:400"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:400"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:401"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span>. <span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_empty_map" class="idref" href="#not_empty_map"><span class="id" title="lemma">not_empty_map</span></a> {<a id="A:402" class="idref" href="#A:402"><span class="id" title="binder">A</span></a> <a id="B:403" class="idref" href="#B:403"><span class="id" title="binder">B</span></a>} (<a id="f:404" class="idref" href="#f:404"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:402"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:403"><span class="id" title="variable">B</span></a>) <a id="l:405" class="idref" href="#l:405"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#l:405"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:404"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:405"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_skipn_add" class="idref" href="#nth_error_skipn_add"><span class="id" title="lemma">nth_error_skipn_add</span></a> <a id="A:406" class="idref" href="#A:406"><span class="id" title="binder">A</span></a> <a id="l:407" class="idref" href="#l:407"><span class="id" title="binder">l</span></a> <a id="m:408" class="idref" href="#m:408"><span class="id" title="binder">m</span></a> <a id="n:409" class="idref" href="#n:409"><span class="id" title="binder">n</span></a> (<a id="a:410" class="idref" href="#a:410"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:406"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:407"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#m:408"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:409"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:410"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:408"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:407"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:409"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:410"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">l</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_all_app" class="idref" href="#skipn_all_app"><span class="id" title="lemma">skipn_all_app</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:411" class="idref" href="#A:411"><span class="id" title="binder">A</span></a> (<a id="l1:412" class="idref" href="#l1:412"><span class="id" title="binder">l1</span></a> <a id="l2:413" class="idref" href="#l2:413"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:411"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l1:412"><span class="id" title="variable">l1</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l1:412"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:413"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:413"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l2</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_map_spec" class="idref" href="#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> {<a id="A:414" class="idref" href="#A:414"><span class="id" title="binder">A</span></a> <a id="B:415" class="idref" href="#B:415"><span class="id" title="binder">B</span></a>} (<a id="f:416" class="idref" href="#f:416"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:414"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:415"><span class="id" title="variable">B</span></a>) (<a id="l:417" class="idref" href="#l:417"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:414"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:416"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:417"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:416"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:417"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map"><span class="id" title="definition">rev_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <span class="id" title="var">l</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_0" class="idref" href="#skipn_0"><span class="id" title="lemma">skipn_0</span></a> {<a id="A:418" class="idref" href="#A:418"><span class="id" title="binder">A</span></a>} (<a id="l:419" class="idref" href="#l:419"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:418"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> 0 <a class="idref" href="MetaCoq.Utils.MCList.html#l:419"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:419"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_0_eq" class="idref" href="#skipn_0_eq"><span class="id" title="lemma">skipn_0_eq</span></a> {<a id="A:420" class="idref" href="#A:420"><span class="id" title="binder">A</span></a>} (<a id="l:421" class="idref" href="#l:421"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:420"><span class="id" title="variable">A</span></a>) <a id="n:422" class="idref" href="#n:422"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#n:422"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:422"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:421"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:421"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_0"><span class="id" title="lemma">skipn_0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_n_Sn" class="idref" href="#skipn_n_Sn"><span class="id" title="lemma">skipn_n_Sn</span></a> {<a id="A:423" class="idref" href="#A:423"><span class="id" title="binder">A</span></a>} <a id="n:424" class="idref" href="#n:424"><span class="id" title="binder">n</span></a> <a id="s:425" class="idref" href="#s:425"><span class="id" title="binder">s</span></a> (<a id="x:426" class="idref" href="#x:426"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:423"><span class="id" title="variable">A</span></a>) <a id="xs:427" class="idref" href="#xs:427"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:424"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#s:425"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:426"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:427"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:424"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#s:425"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:427"><span class="id" title="variable">xs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>, <span class="id" title="var">x</span>, <span class="id" title="var">xs</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_all" class="idref" href="#skipn_all"><span class="id" title="lemma">skipn_all</span></a> {<a id="A:428" class="idref" href="#A:428"><span class="id" title="binder">A</span></a>} (<a id="l:429" class="idref" href="#l:429"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:428"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:429"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:429"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_app_le" class="idref" href="#skipn_app_le"><span class="id" title="lemma">skipn_app_le</span></a> {<a id="A:430" class="idref" href="#A:430"><span class="id" title="binder">A</span></a>} <a id="n:431" class="idref" href="#n:431"><span class="id" title="binder">n</span></a> (<a id="l:432" class="idref" href="#l:432"><span class="id" title="binder">l</span></a> <a id="l':433" class="idref" href="#l':433"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:430"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#n:431"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:432"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:431"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:432"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':433"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:431"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:432"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':433"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_mapi_rec" class="idref" href="#skipn_mapi_rec"><span class="id" title="lemma">skipn_mapi_rec</span></a> {<a id="A:434" class="idref" href="#A:434"><span class="id" title="binder">A</span></a> <a id="B:435" class="idref" href="#B:435"><span class="id" title="binder">B</span></a>} <a id="n:436" class="idref" href="#n:436"><span class="id" title="binder">n</span></a> (<a id="f:437" class="idref" href="#f:437"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:434"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:435"><span class="id" title="variable">B</span></a>) <a id="k:438" class="idref" href="#k:438"><span class="id" title="binder">k</span></a> (<a id="l:439" class="idref" href="#l:439"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:434"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:436"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:437"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:439"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:438"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:437"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:436"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:439"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#n:436"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:438"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">l</span>, <span class="id" title="var">k</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_0"><span class="id" title="lemma">skipn_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_map_length" class="idref" href="#skipn_map_length"><span class="id" title="lemma">skipn_map_length</span></a> {<a id="A:440" class="idref" href="#A:440"><span class="id" title="binder">A</span></a> <a id="B:441" class="idref" href="#B:441"><span class="id" title="binder">B</span></a>} <a id="n:442" class="idref" href="#n:442"><span class="id" title="binder">n</span></a> (<a id="f:443" class="idref" href="#f:443"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:440"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:441"><span class="id" title="variable">B</span></a>) (<a id="l:444" class="idref" href="#l:444"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:440"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:442"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:443"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:444"><span class="id" title="variable">l</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:442"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:444"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn_length"><span class="id" title="lemma">List.skipn_length</span></a>; <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_map_length"><span class="id" title="lemma">skipn_map_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_ge" class="idref" href="#firstn_ge"><span class="id" title="lemma">firstn_ge</span></a> {<a id="A:445" class="idref" href="#A:445"><span class="id" title="binder">A</span></a>} (<a id="l:446" class="idref" href="#l:446"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:445"><span class="id" title="variable">A</span></a>) <a id="n:447" class="idref" href="#n:447"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:446"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:447"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:447"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:446"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:446"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_nil"><span class="id" title="lemma">firstn_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_0" class="idref" href="#firstn_0"><span class="id" title="lemma">firstn_0</span></a> {<a id="A:448" class="idref" href="#A:448"><span class="id" title="binder">A</span></a>} (<a id="l:449" class="idref" href="#l:449"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:448"><span class="id" title="variable">A</span></a>) <a id="n:450" class="idref" href="#n:450"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#n:450"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:450"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:449"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_firstn_skipn" class="idref" href="#skipn_firstn_skipn"><span class="id" title="lemma">skipn_firstn_skipn</span></a> {<a id="A:451" class="idref" href="#A:451"><span class="id" title="binder">A</span></a>} (<a id="l:452" class="idref" href="#l:452"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:451"><span class="id" title="variable">A</span></a>) <a id="n:453" class="idref" href="#n:453"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:453"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:453"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:452"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:453"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:452"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:453"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:452"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>⇒ /=; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_firstn_firstn" class="idref" href="#firstn_firstn_firstn"><span class="id" title="lemma">firstn_firstn_firstn</span></a> {<a id="A:454" class="idref" href="#A:454"><span class="id" title="binder">A</span></a>} (<a id="l:455" class="idref" href="#l:455"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:454"><span class="id" title="variable">A</span></a>) <a id="n:456" class="idref" href="#n:456"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:456"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:456"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:455"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:456"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:455"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>⇒ /=; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_eq_cons" class="idref" href="#skipn_eq_cons"><span class="id" title="lemma">skipn_eq_cons</span></a> {<a id="A:457" class="idref" href="#A:457"><span class="id" title="binder">A</span></a>} <a id="n:458" class="idref" href="#n:458"><span class="id" title="binder">n</span></a> (<a id="l:459" class="idref" href="#l:459"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:457"><span class="id" title="variable">A</span></a>) <a id="hd:460" class="idref" href="#hd:460"><span class="id" title="binder">hd</span></a> <a id="tl:461" class="idref" href="#tl:461"><span class="id" title="binder">tl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:458"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#hd:460"><span class="id" title="variable">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#tl:461"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:458"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#hd:460"><span class="id" title="variable">hd</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:458"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#tl:461"><span class="id" title="variable">tl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">hd</span>, <span class="id" title="var">tl</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_0"><span class="id" title="lemma">skipn_0</span></a> ⇒ →. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">hd'</span> <span class="id" title="var">tl'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_nil"><span class="id" title="lemma">skipn_nil</span></a>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="split_at_aux" class="idref" href="#split_at_aux"><span class="id" title="definition">split_at_aux</span></a> {<a id="A:462" class="idref" href="#A:462"><span class="id" title="binder">A</span></a>} (<a id="n:463" class="idref" href="#n:463"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="acc:464" class="idref" href="#acc:464"><span class="id" title="binder">acc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:462"><span class="id" title="variable">A</span></a>) (<a id="l:465" class="idref" href="#l:465"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:462"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:462"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:462"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#n:463"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:464"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:465"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:465"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:464"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#split_at_aux:466"><span class="id" title="definition">split_at_aux</span></a> <span class="id" title="var">n'</span> (<span class="id" title="var">hd</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:464"><span class="id" title="variable">acc</span></a>) <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="split_at" class="idref" href="#split_at"><span class="id" title="definition">split_at</span></a> {<a id="A:469" class="idref" href="#A:469"><span class="id" title="binder">A</span></a>} (<a id="n:470" class="idref" href="#n:470"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:471" class="idref" href="#l:471"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:469"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:469"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:469"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#split_at_aux"><span class="id" title="definition">split_at_aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:470"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:471"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="split_at_aux_firstn_skipn" class="idref" href="#split_at_aux_firstn_skipn"><span class="id" title="lemma">split_at_aux_firstn_skipn</span></a> {<a id="A:472" class="idref" href="#A:472"><span class="id" title="binder">A</span></a>} <a id="n:473" class="idref" href="#n:473"><span class="id" title="binder">n</span></a> <a id="acc:474" class="idref" href="#acc:474"><span class="id" title="binder">acc</span></a> (<a id="l:475" class="idref" href="#l:475"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:472"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#split_at_aux"><span class="id" title="definition">split_at_aux</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:473"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:474"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:475"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#acc:474"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:473"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:475"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:473"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:475"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span>, <span class="id" title="var">l</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="split_at_firstn_skipn" class="idref" href="#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a> {<a id="A:476" class="idref" href="#A:476"><span class="id" title="binder">A</span></a>} <a id="n:477" class="idref" href="#n:477"><span class="id" title="binder">n</span></a> (<a id="l:478" class="idref" href="#l:478"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:476"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#split_at"><span class="id" title="definition">split_at</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:477"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:478"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:477"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:478"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:477"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:478"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.MCList.html#split_at"><span class="id" title="definition">split_at</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#split_at_aux_firstn_skipn"><span class="id" title="lemma">split_at_aux_firstn_skipn</span></a> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_app" class="idref" href="#rev_app"><span class="id" title="lemma">rev_app</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:479" class="idref" href="#A:479"><span class="id" title="binder">A</span></a> (<a id="l:480" class="idref" href="#l:480"><span class="id" title="binder">l</span></a> <a id="l':481" class="idref" href="#l':481"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:479"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:480"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':481"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':481"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:480"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">A</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_cons"><span class="id" title="lemma">rev_cons</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_cons"><span class="id" title="lemma">rev_cons</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_invol" class="idref" href="#rev_invol"><span class="id" title="lemma">rev_invol</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:482" class="idref" href="#A:482"><span class="id" title="binder">A</span></a> (<a id="l:483" class="idref" href="#l:483"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:482"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:483"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:483"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_cons"><span class="id" title="lemma">rev_cons</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_app"><span class="id" title="lemma">rev_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_ind_rev" class="idref" href="#list_ind_rev"><span class="id" title="lemma">list_ind_rev</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:484" class="idref" href="#A:484"><span class="id" title="binder">A</span></a> (<a id="P:485" class="idref" href="#P:485"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:484"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#P:485"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a:486" class="idref" href="#a:486"><span class="id" title="binder">a</span></a> <a id="l:487" class="idref" href="#l:487"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:485"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:487"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#P:485"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:487"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#a:486"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:488" class="idref" href="#l:488"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:485"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:488"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.MCList.html#rev_invol"><span class="id" title="lemma">rev_invol</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_cons"><span class="id" title="lemma">rev_cons</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_rect_rev" class="idref" href="#list_rect_rev"><span class="id" title="lemma">list_rect_rev</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:489" class="idref" href="#A:489"><span class="id" title="binder">A</span></a> (<a id="P:490" class="idref" href="#P:490"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:489"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#P:490"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a:491" class="idref" href="#a:491"><span class="id" title="binder">a</span></a> <a id="l:492" class="idref" href="#l:492"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:490"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:492"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#P:490"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:492"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#a:491"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:493" class="idref" href="#l:493"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:490"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:493"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.MCList.html#rev_invol"><span class="id" title="lemma">rev_invol</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_cons"><span class="id" title="lemma">rev_cons</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="last_app" class="idref" href="#last_app"><span class="id" title="lemma">last_app</span></a> {<a id="A:494" class="idref" href="#A:494"><span class="id" title="binder">A</span></a>} (<a id="l:495" class="idref" href="#l:495"><span class="id" title="binder">l</span></a> <a id="l':496" class="idref" href="#l':496"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:494"><span class="id" title="variable">A</span></a>) <a id="d:497" class="idref" href="#d:497"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#l':496"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:495"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':496"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#d:497"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':496"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:497"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="last_nonempty_eq" class="idref" href="#last_nonempty_eq"><span class="id" title="lemma">last_nonempty_eq</span></a> {<a id="A:498" class="idref" href="#A:498"><span class="id" title="binder">A</span></a>} {<a id="l:499" class="idref" href="#l:499"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:498"><span class="id" title="variable">A</span></a>} {<a id="d:500" class="idref" href="#d:500"><span class="id" title="binder">d</span></a> <a id="d':501" class="idref" href="#d':501"><span class="id" title="binder">d'</span></a>} : <a class="idref" href="MetaCoq.Utils.MCList.html#l:499"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:499"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:500"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:499"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d':501"><span class="id" title="variable">d'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_removelast" class="idref" href="#nth_error_removelast"><span class="id" title="lemma">nth_error_removelast</span></a> {<a id="A:502" class="idref" href="#A:502"><span class="id" title="binder">A</span></a>} (<a id="args:503" class="idref" href="#args:503"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:502"><span class="id" title="variable">A</span></a>) <a id="n:504" class="idref" href="#n:504"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#n:504"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#args:503"><span class="id" title="variable">args</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#args:503"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:504"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#removelast"><span class="id" title="definition">removelast</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#args:503"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:504"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">args</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>, <span class="id" title="var">n</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_skipn" class="idref" href="#nth_error_skipn"><span class="id" title="lemma">nth_error_skipn</span></a> {<a id="A:505" class="idref" href="#A:505"><span class="id" title="binder">A</span></a>} <a id="n:506" class="idref" href="#n:506"><span class="id" title="binder">n</span></a> (<a id="l:507" class="idref" href="#l:507"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:505"><span class="id" title="variable">A</span></a>) <a id="i:508" class="idref" href="#i:508"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:506"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:507"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#i:508"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:507"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#n:506"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:508"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">i</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_skipn" class="idref" href="#skipn_skipn"><span class="id" title="lemma">skipn_skipn</span></a> {<a id="A:509" class="idref" href="#A:509"><span class="id" title="binder">A</span></a>} <a id="n:510" class="idref" href="#n:510"><span class="id" title="binder">n</span></a> <a id="m:511" class="idref" href="#m:511"><span class="id" title="binder">m</span></a> (<a id="l:512" class="idref" href="#l:512"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:509"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:510"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:511"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:512"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#m:511"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:510"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:512"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">l</span> |- ×. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_nth_error" class="idref" href="#skipn_nth_error"><span class="id" title="lemma">skipn_nth_error</span></a> {<a id="A:513" class="idref" href="#A:513"><span class="id" title="binder">A</span></a>} (<a id="l:514" class="idref" href="#l:514"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:513"><span class="id" title="variable">A</span></a>) <a id="i:515" class="idref" href="#i:515"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:514"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:515"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:515"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:514"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:515"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:514"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:515"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:514"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span> |- ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<span class="id" title="var">IHl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<span class="id" title="var">IHl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_app_ge" class="idref" href="#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> {<a id="A:516" class="idref" href="#A:516"><span class="id" title="binder">A</span></a>} (<a id="l:517" class="idref" href="#l:517"><span class="id" title="binder">l</span></a> <a id="l':518" class="idref" href="#l':518"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:516"><span class="id" title="variable">A</span></a>) (<a id="v:519" class="idref" href="#v:519"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:517"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:519"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:517"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':518"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#v:519"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':518"><span class="id" title="variable">l'</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#v:519"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:517"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_app_lt" class="idref" href="#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> {<a id="A:520" class="idref" href="#A:520"><span class="id" title="binder">A</span></a>} (<a id="l:521" class="idref" href="#l:521"><span class="id" title="binder">l</span></a> <a id="l':522" class="idref" href="#l':522"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:520"><span class="id" title="variable">A</span></a>) (<a id="v:523" class="idref" href="#v:523"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#v:523"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:521"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:521"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':522"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#v:523"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:521"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:523"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_app_inv" class="idref" href="#nth_error_app_inv"><span class="id" title="lemma">nth_error_app_inv</span></a> <a id="X:524" class="idref" href="#X:524"><span class="id" title="binder">X</span></a> (<a id="x:525" class="idref" href="#x:525"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#X:524"><span class="id" title="variable">X</span></a>) <a id="n:526" class="idref" href="#n:526"><span class="id" title="binder">n</span></a> <a id="l1:527" class="idref" href="#l1:527"><span class="id" title="binder">l1</span></a> <a id="l2:528" class="idref" href="#l2:528"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l1:527"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:528"><span class="id" title="variable">l2</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:526"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:525"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#n:526"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l1:527"><span class="id" title="variable">l1</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:527"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:526"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:525"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#n:526"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l1:527"><span class="id" title="variable">l1</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:528"><span class="id" title="variable">l2</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#n:526"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:527"><span class="id" title="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:525"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">le_lt_dec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l1</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_rev" class="idref" href="#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> {<a id="A:529" class="idref" href="#A:529"><span class="id" title="binder">A</span></a>} (<a id="l:530" class="idref" href="#l:530"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:529"><span class="id" title="variable">A</span></a>) <a id="i:531" class="idref" href="#i:531"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#i:531"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:530"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:530"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:531"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:530"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:530"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:531"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 0) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHi</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_rev_inv" class="idref" href="#nth_error_rev_inv"><span class="id" title="lemma">nth_error_rev_inv</span></a> {<a id="A:532" class="idref" href="#A:532"><span class="id" title="binder">A</span></a>} (<a id="l:533" class="idref" href="#l:533"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:532"><span class="id" title="variable">A</span></a>) <a id="i:534" class="idref" href="#i:534"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#i:534"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:533"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:533"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#i:534"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:533"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:533"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:534"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_snoc" class="idref" href="#nth_error_snoc"><span class="id" title="lemma">nth_error_snoc</span></a> {<a id="A:535" class="idref" href="#A:535"><span class="id" title="binder">A</span></a>} (<a id="l:536" class="idref" href="#l:536"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:535"><span class="id" title="variable">A</span></a>) (<a id="a:537" class="idref" href="#a:537"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:535"><span class="id" title="variable">A</span></a>) (<a id="l':538" class="idref" href="#l':538"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:535"><span class="id" title="variable">A</span></a>) <a id="i:539" class="idref" href="#i:539"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#i:539"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:536"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:536"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:537"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':538"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#i:539"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:537"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; [<span class="id" title="var">easy</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_inj" class="idref" href="#map_inj"><span class="id" title="lemma">map_inj</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:540" class="idref" href="#A:540"><span class="id" title="binder">A</span></a> <a id="B:541" class="idref" href="#B:541"><span class="id" title="binder">B</span></a> (<a id="f:542" class="idref" href="#f:542"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:540"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:541"><span class="id" title="variable">B</span></a>) <a id="l:543" class="idref" href="#l:543"><span class="id" title="binder">l</span></a> <a id="l':544" class="idref" href="#l':544"><span class="id" title="binder">l'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:545" class="idref" href="#x:545"><span class="id" title="binder">x</span></a> <a id="y:546" class="idref" href="#y:546"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:542"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:545"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:542"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:546"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:545"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:546"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:542"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:543"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:542"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':544"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#l:543"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':544"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ListSize" class="idref" href="#ListSize"><span class="id" title="section">ListSize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:547" class="idref" href="#A:547"><span class="id" title="binder">A</span></a>} (<a id="size:548" class="idref" href="#size:548"><span class="id" title="binder">size</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:547"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="list_size" class="idref" href="#list_size"><span class="id" title="definition">list_size</span></a> (<a id="l:549" class="idref" href="#l:549"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSize.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:549"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒  0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#ListSize.size"><span class="id" title="variable">size</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size:550"><span class="id" title="definition">list_size</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_app" class="idref" href="#list_size_app"><span class="id" title="lemma">list_size_app</span></a> (<a id="l:552" class="idref" href="#l:552"><span class="id" title="binder">l</span></a> <a id="l':553" class="idref" href="#l':553"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSize.A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:552"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':553"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:552"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':553"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_rev" class="idref" href="#list_size_rev"><span class="id" title="lemma">list_size_rev</span></a> (<a id="l:554" class="idref" href="#l:554"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSize.A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:554"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:554"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_cons"><span class="id" title="lemma">rev_cons</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size_app"><span class="id" title="lemma">list_size_app</span></a> <span class="id" title="var">IHl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_length" class="idref" href="#list_size_length"><span class="id" title="lemma">list_size_length</span></a> (<a id="l:555" class="idref" href="#l:555"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSize.A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:555"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:555"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSize"><span class="id" title="section">ListSize</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ListSizeMap" class="idref" href="#ListSizeMap"><span class="id" title="section">ListSizeMap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:556" class="idref" href="#A:556"><span class="id" title="binder">A</span></a>} (<a id="sizeA:557" class="idref" href="#sizeA:557"><span class="id" title="binder">sizeA</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:556"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="B:558" class="idref" href="#B:558"><span class="id" title="binder">B</span></a>} (<a id="sizeB:559" class="idref" href="#sizeB:559"><span class="id" title="binder">sizeB</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:558"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_map" class="idref" href="#list_size_map"><span class="id" title="lemma">list_size_map</span></a> (<a id="f:560" class="idref" href="#f:560"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) <a id="l:561" class="idref" href="#l:561"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:560"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:561"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> (<span class="id" title="keyword">fun</span> <a id="x:562" class="idref" href="#x:562"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:560"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:562"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:561"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_mapi_rec_eq" class="idref" href="#list_size_mapi_rec_eq"><span class="id" title="lemma">list_size_mapi_rec_eq</span></a> (<a id="l:563" class="idref" href="#l:563"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a>) (<a id="f:564" class="idref" href="#f:564"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) <a id="k:565" class="idref" href="#k:565"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:566" class="idref" href="#i:566"><span class="id" title="binder">i</span></a> <a id="x:567" class="idref" href="#x:567"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:564"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:566"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:567"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:567"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:564"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:563"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:565"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:563"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- ×. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_mapi_eq" class="idref" href="#list_size_mapi_eq"><span class="id" title="lemma">list_size_mapi_eq</span></a> (<a id="l:568" class="idref" href="#l:568"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a>) (<a id="f:569" class="idref" href="#f:569"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:570" class="idref" href="#i:570"><span class="id" title="binder">i</span></a> <a id="x:571" class="idref" href="#x:571"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:569"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:570"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:571"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:571"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:569"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:568"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:568"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size_mapi_rec_eq"><span class="id" title="lemma">list_size_mapi_rec_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_map_eq" class="idref" href="#list_size_map_eq"><span class="id" title="lemma">list_size_map_eq</span></a> (<a id="l:572" class="idref" href="#l:572"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a>) (<a id="f:573" class="idref" href="#f:573"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:574" class="idref" href="#x:574"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:574"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:573"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:574"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:573"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:572"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:572"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_mapi_rec_le" class="idref" href="#list_size_mapi_rec_le"><span class="id" title="lemma">list_size_mapi_rec_le</span></a> (<a id="l:575" class="idref" href="#l:575"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a>) (<a id="f:576" class="idref" href="#f:576"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) <a id="k:577" class="idref" href="#k:577"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:578" class="idref" href="#i:578"><span class="id" title="binder">i</span></a> <a id="x:579" class="idref" href="#x:579"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:576"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:578"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:579"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:579"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:576"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:575"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:577"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:575"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- ×. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_mapi_le" class="idref" href="#list_size_mapi_le"><span class="id" title="lemma">list_size_mapi_le</span></a> (<a id="l:580" class="idref" href="#l:580"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a>) (<a id="f:581" class="idref" href="#f:581"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:582" class="idref" href="#i:582"><span class="id" title="binder">i</span></a> <a id="x:583" class="idref" href="#x:583"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:581"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:582"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:583"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:583"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:581"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:580"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:580"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size_mapi_rec_le"><span class="id" title="lemma">list_size_mapi_rec_le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_size_map_le" class="idref" href="#list_size_map_le"><span class="id" title="lemma">list_size_map_le</span></a> (<a id="l:584" class="idref" href="#l:584"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a>) (<a id="f:585" class="idref" href="#f:585"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:586" class="idref" href="#x:586"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:585"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:586"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:586"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeB"><span class="id" title="variable">sizeB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:585"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:584"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap.sizeA"><span class="id" title="variable">sizeA</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:584"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#ListSizeMap"><span class="id" title="section">ListSizeMap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_size_map_hom" class="idref" href="#list_size_map_hom"><span class="id" title="lemma">list_size_map_hom</span></a> {<a id="A:587" class="idref" href="#A:587"><span class="id" title="binder">A</span></a>} (<a id="size:588" class="idref" href="#size:588"><span class="id" title="binder">size</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:587"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:589" class="idref" href="#l:589"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:587"><span class="id" title="variable">A</span></a>) (<a id="f:590" class="idref" href="#f:590"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:587"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:587"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:591" class="idref" href="#x:591"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#size:588"><span class="id" title="variable">size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:591"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#size:588"><span class="id" title="variable">size</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:590"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:591"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#size:588"><span class="id" title="variable">size</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:590"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:589"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#size:588"><span class="id" title="variable">size</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:589"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="InA_In_eq" class="idref" href="#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a> {<a id="A:592" class="idref" href="#A:592"><span class="id" title="binder">A</span></a>} <a id="x:593" class="idref" href="#x:593"><span class="id" title="binder">x</span></a> (<a id="l:594" class="idref" href="#l:594"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:592"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:593"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:594"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:593"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:594"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_rev" class="idref" href="#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a> {<a id="A:595" class="idref" href="#A:595"><span class="id" title="binder">A</span></a>} (<a id="p:596" class="idref" href="#p:596"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:595"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="l:597" class="idref" href="#l:597"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#p:596"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:597"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#p:596"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:597"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">rev_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="unfold" class="idref" href="#unfold"><span class="id" title="definition">unfold</span></a> {<a id="A:598" class="idref" href="#A:598"><span class="id" title="binder">A</span></a>} (<a id="n:599" class="idref" href="#n:599"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:600" class="idref" href="#f:600"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:598"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:598"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#n:599"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#unfold:601"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:599"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:600"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#f:600"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:599"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_irrel_list" class="idref" href="#mapi_irrel_list"><span class="id" title="lemma">mapi_irrel_list</span></a> {<a id="A:603" class="idref" href="#A:603"><span class="id" title="binder">A</span></a> <a id="B:604" class="idref" href="#B:604"><span class="id" title="binder">B</span></a>} (<a id="f:605" class="idref" href="#f:605"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:603"><span class="id" title="variable">A</span></a>) (<a id="l:606" class="idref" href="#l:606"><span class="id" title="binder">l</span></a> <a id="l':607" class="idref" href="#l':607"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:604"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:606"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l':607"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:608" class="idref" href="#i:608"><span class="id" title="binder">i</span></a> (<a id="x:609" class="idref" href="#x:609"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:604"><span class="id" title="variable">B</span></a>) ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:605"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:608"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:606"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:610" class="idref" href="#i:610"><span class="id" title="binder">i</span></a> <a id="x:611" class="idref" href="#x:611"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:605"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:610"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l':607"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span> ⇒ //; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= <span class="id" title="var">eq</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<span class="id" title="var">IHl</span> (<span class="id" title="keyword">fun</span> <a id="x:614" class="idref" href="#x:614"><span class="id" title="binder">x</span></a> ⇒ (<span class="id" title="var">f</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:612"><span class="id" title="variable">x</span></a>))) <span class="id" title="var">l'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_unfold" class="idref" href="#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> {<a id="A:615" class="idref" href="#A:615"><span class="id" title="binder">A</span></a> <a id="B:616" class="idref" href="#B:616"><span class="id" title="binder">B</span></a>} (<a id="f:617" class="idref" href="#f:617"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:616"><span class="id" title="variable">B</span></a>) <a id="l:618" class="idref" href="#l:618"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:619" class="idref" href="#i:619"><span class="id" title="binder">i</span></a> (<a id="x:620" class="idref" href="#x:620"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:615"><span class="id" title="variable">A</span></a>) ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:617"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:619"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:618"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:618"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:617"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHl</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_Sk"><span class="id" title="lemma">mapi_rec_Sk</span></a> (<span class="id" title="keyword">fun</span> <a id="i:625" class="idref" href="#i:625"><span class="id" title="binder">i</span></a> <a id="x:626" class="idref" href="#x:626"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#i:621"><span class="id" title="variable">i</span></a>) <span class="id" title="var">l</span> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec"><span class="id" title="definition">mapi_rec</span></a> (<span class="id" title="keyword">fun</span> <a id="i:629" class="idref" href="#i:629"><span class="id" title="binder">i</span></a> <a id="x:630" class="idref" href="#x:630"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#i:627"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>). <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_app"><span class="id" title="lemma">mapi_rec_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:633" class="idref" href="#i:633"><span class="id" title="binder">i</span></a> <a id="x:634" class="idref" href="#x:634"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#i:631"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_irrel_list"><span class="id" title="lemma">mapi_irrel_list</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unfold_length" class="idref" href="#unfold_length"><span class="id" title="lemma">unfold_length</span></a> {<a id="A:635" class="idref" href="#A:635"><span class="id" title="binder">A</span></a>} (<a id="f:636" class="idref" href="#f:636"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:635"><span class="id" title="variable">A</span></a>) <a id="m:637" class="idref" href="#m:637"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:637"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:636"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:637"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_unfold" class="idref" href="#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> {<a id="A:638" class="idref" href="#A:638"><span class="id" title="binder">A</span></a>} (<a id="f:639" class="idref" href="#f:639"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:638"><span class="id" title="variable">A</span></a>) <a id="m:640" class="idref" href="#m:640"><span class="id" title="binder">m</span></a> <a id="n:641" class="idref" href="#n:641"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#n:641"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:640"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:640"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:639"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:641"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:639"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:641"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Classes.eq_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>); [<span class="id" title="tactic">subst</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> ?<a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> //; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHm</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /= <a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_unfold_inv" class="idref" href="#nth_error_unfold_inv"><span class="id" title="lemma">nth_error_unfold_inv</span></a> {<a id="A:642" class="idref" href="#A:642"><span class="id" title="binder">A</span></a>} (<a id="f:643" class="idref" href="#f:643"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:642"><span class="id" title="variable">A</span></a>) <a id="m:644" class="idref" href="#m:644"><span class="id" title="binder">m</span></a> <a id="n:645" class="idref" href="#n:645"><span class="id" title="binder">n</span></a> <a id="t:646" class="idref" href="#t:646"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#m:644"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:643"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:645"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#t:646"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#t:646"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#f:643"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:645"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /= <a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Classes.eq_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>); [<span class="id" title="tactic">subst</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> /= //; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> ?<a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> //; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_unfold_inj" class="idref" href="#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> {<a id="A:647" class="idref" href="#A:647"><span class="id" title="binder">A</span></a>} (<a id="f:648" class="idref" href="#f:648"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:647"><span class="id" title="variable">A</span></a>) <a id="n:649" class="idref" href="#n:649"><span class="id" title="binder">n</span></a> <a id="i:650" class="idref" href="#i:650"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:651" class="idref" href="#i:651"><span class="id" title="binder">i</span></a> <a id="j:652" class="idref" href="#j:652"><span class="id" title="binder">j</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:648"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:651"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:648"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#j:652"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:651"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#j:652"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:648"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:650"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:649"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:648"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:650"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:649"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">H</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">hf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_unfold" class="idref" href="#forallb_unfold"><span class="id" title="lemma">forallb_unfold</span></a> {<a id="A:653" class="idref" href="#A:653"><span class="id" title="binder">A</span></a>} (<a id="f:654" class="idref" href="#f:654"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:653"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="g:655" class="idref" href="#g:655"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:653"><span class="id" title="variable">A</span></a>) <a id="n:656" class="idref" href="#n:656"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:657" class="idref" href="#x:657"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#x:657"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:656"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:654"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#g:655"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:657"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:654"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:656"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:655"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> <span class="id" title="var">IHn</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">lt</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">fg</span> //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">fg</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_mapi" class="idref" href="#forallb_mapi"><span class="id" title="lemma">forallb_mapi</span></a> {<a id="A:658" class="idref" href="#A:658"><span class="id" title="binder">A</span></a> <a id="B:659" class="idref" href="#B:659"><span class="id" title="binder">B</span></a>} (<a id="p:660" class="idref" href="#p:660"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:659"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="f:661" class="idref" href="#f:661"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:659"><span class="id" title="variable">B</span></a>) <a id="l:662" class="idref" href="#l:662"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:663" class="idref" href="#i:663"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#i:663"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:662"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#p:660"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:661"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:663"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#p:660"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:664" class="idref" href="#i:664"><span class="id" title="binder">i</span></a> (<a id="x:665" class="idref" href="#x:665"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:658"><span class="id" title="variable">A</span></a>) ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:661"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:664"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:662"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> // !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_left_andb_forallb" class="idref" href="#fold_left_andb_forallb"><span class="id" title="lemma">fold_left_andb_forallb</span></a> {<a id="A:666" class="idref" href="#A:666"><span class="id" title="binder">A</span></a>} <a id="P:667" class="idref" href="#P:667"><span class="id" title="binder">P</span></a> <a id="l:668" class="idref" href="#l:668"><span class="id" title="binder">l</span></a> <a id="x:669" class="idref" href="#x:669"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="b:670" class="idref" href="#b:670"><span class="id" title="binder">b</span></a> <a id="x:671" class="idref" href="#x:671"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#P:667"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:671"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#b:670"><span class="id" title="variable">b</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:668"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#P:667"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:669"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:666"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#P:667"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#x:669"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:668"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left_rev_right"><span class="id" title="lemma">fold_left_rev_right</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.MCList.html#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">l</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl0</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_nth_error" class="idref" href="#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a> {<a id="A:672" class="idref" href="#A:672"><span class="id" title="binder">A</span></a>} <a id="n:673" class="idref" href="#n:673"><span class="id" title="binder">n</span></a> <a id="l:674" class="idref" href="#l:674"><span class="id" title="binder">l</span></a> (<a id="d:675" class="idref" href="#d:675"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:672"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:673"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:674"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:675"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:674"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:673"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#d:675"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_default_eq"><span class="id" title="lemma">nth_default_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_nth_error'" class="idref" href="#nth_nth_error'"><span class="id" title="lemma">nth_nth_error'</span></a> {<a id="A:676" class="idref" href="#A:676"><span class="id" title="binder">A</span></a>} {<a id="i:677" class="idref" href="#i:677"><span class="id" title="binder">i</span></a>} {<a id="l:678" class="idref" href="#l:678"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:676"><span class="id" title="variable">A</span></a>} {<a id="d:679" class="idref" href="#d:679"><span class="id" title="binder">d</span></a> <a id="v:680" class="idref" href="#v:680"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:677"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:678"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:679"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:680"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:678"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:677"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:680"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:678"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:677"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:680"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#d:679"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">i</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> ⇒ [|<span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IH</span>] //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span> ⇒ /= //; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span> ⇒ /= // <span class="id" title="var">_</span> &lt;-. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_add" class="idref" href="#firstn_add"><span class="id" title="lemma">firstn_add</span></a> {<a id="A:681" class="idref" href="#A:681"><span class="id" title="binder">A</span></a>} <a id="x:682" class="idref" href="#x:682"><span class="id" title="binder">x</span></a> <a id="y:683" class="idref" href="#y:683"><span class="id" title="binder">y</span></a> (<a id="args:684" class="idref" href="#args:684"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:681"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#x:682"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:683"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#args:684"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:682"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#args:684"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:683"><span class="id" title="variable">y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:682"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#args:684"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">y</span>, <span class="id" title="var">args</span> |- ×. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_nil"><span class="id" title="lemma">firstn_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHx</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_app_left_rem" class="idref" href="#firstn_app_left_rem"><span class="id" title="lemma">firstn_app_left_rem</span></a> (<a id="A:685" class="idref" href="#A:685"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="n:686" class="idref" href="#n:686"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l1:687" class="idref" href="#l1:687"><span class="id" title="binder">l1</span></a> <a id="l2:688" class="idref" href="#l2:688"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:685"><span class="id" title="variable">A</span></a>) <a id="k:689" class="idref" href="#k:689"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#k:689"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l1:687"><span class="id" title="variable">l1</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:686"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#k:689"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l1:687"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:688"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:687"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:686"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:688"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_app_2"><span class="id" title="lemma">firstn_app_2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_app_left" class="idref" href="#firstn_app_left"><span class="id" title="lemma">firstn_app_left</span></a> {<a id="A:690" class="idref" href="#A:690"><span class="id" title="binder">A</span></a>} <a id="n:691" class="idref" href="#n:691"><span class="id" title="binder">n</span></a> (<a id="l:692" class="idref" href="#l:692"><span class="id" title="binder">l</span></a> <a id="l':693" class="idref" href="#l':693"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:690"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#n:691"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:692"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:691"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:692"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':693"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:692"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_app"><span class="id" title="lemma">firstn_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_all"><span class="id" title="lemma">firstn_all</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#firstn_0"><span class="id" title="lemma">firstn_0</span></a> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_all_app_eq" class="idref" href="#skipn_all_app_eq"><span class="id" title="lemma">skipn_all_app_eq</span></a> {<a id="A:694" class="idref" href="#A:694"><span class="id" title="binder">A</span></a>} <a id="n:695" class="idref" href="#n:695"><span class="id" title="binder">n</span></a> (<a id="l:696" class="idref" href="#l:696"><span class="id" title="binder">l</span></a> <a id="l':697" class="idref" href="#l':697"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:694"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#n:695"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:696"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:695"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:696"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':697"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':697"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>→. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_all_app"><span class="id" title="lemma">skipn_all_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_case" class="idref" href="#rev_case"><span class="id" title="lemma">rev_case</span></a> {<a id="A:698" class="idref" href="#A:698"><span class="id" title="binder">A</span></a>} (<a id="P:699" class="idref" href="#P:699"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:698"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#P:699"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="l:700" class="idref" href="#l:700"><span class="id" title="binder">l</span></a> <a id="x:701" class="idref" href="#x:701"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:699"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:700"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:701"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="l:702" class="idref" href="#l:702"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#P:699"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:702"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstn_length_le_inv" class="idref" href="#firstn_length_le_inv"><span class="id" title="lemma">firstn_length_le_inv</span></a> {<a id="A:703" class="idref" href="#A:703"><span class="id" title="binder">A</span></a>} <a id="n:704" class="idref" href="#n:704"><span class="id" title="binder">n</span></a> (<a id="l:705" class="idref" href="#l:705"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:703"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:704"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:705"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:704"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:704"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:705"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>. <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="map2i_rec" class="idref" href="#map2i_rec"><span class="id" title="definition">map2i_rec</span></a> {<a id="A:706" class="idref" href="#A:706"><span class="id" title="binder">A</span></a> <a id="B:707" class="idref" href="#B:707"><span class="id" title="binder">B</span></a> <a id="C:708" class="idref" href="#C:708"><span class="id" title="binder">C</span></a>} (<a id="f:709" class="idref" href="#f:709"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:706"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:707"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:708"><span class="id" title="variable">C</span></a>) <a id="i:710" class="idref" href="#i:710"><span class="id" title="binder">i</span></a> (<a id="l:711" class="idref" href="#l:711"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:706"><span class="id" title="variable">A</span></a>) (<a id="l':712" class="idref" href="#l':712"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:707"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:708"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.MCList.html#l:711"><span class="id" title="variable">l</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#l':712"><span class="id" title="variable">l'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a>, <span class="id" title="var">hd'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tl'</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:709"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:710"><span class="id" title="variable">i</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">hd'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2i_rec:713"><span class="id" title="definition">map2i_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:709"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:710"><span class="id" title="variable">i</span></a>) <span class="id" title="var">tl</span> <span class="id" title="var">tl'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="map2i" class="idref" href="#map2i"><span class="id" title="definition">map2i</span></a> {<a id="A:716" class="idref" href="#A:716"><span class="id" title="binder">A</span></a> <a id="B:717" class="idref" href="#B:717"><span class="id" title="binder">B</span></a> <a id="C:718" class="idref" href="#C:718"><span class="id" title="binder">C</span></a>} (<a id="f:719" class="idref" href="#f:719"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:716"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:717"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:718"><span class="id" title="variable">C</span></a>) := <a class="idref" href="MetaCoq.Utils.MCList.html#map2i_rec"><span class="id" title="definition">map2i_rec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:719"><span class="id" title="variable">f</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_map2" class="idref" href="#mapi_map2"><span class="id" title="lemma">mapi_map2</span></a> {<a id="A:720" class="idref" href="#A:720"><span class="id" title="binder">A</span></a> <a id="B:721" class="idref" href="#B:721"><span class="id" title="binder">B</span></a> <a id="C:722" class="idref" href="#C:722"><span class="id" title="binder">C</span></a> <a id="D:723" class="idref" href="#D:723"><span class="id" title="binder">D</span></a>} (<a id="f:724" class="idref" href="#f:724"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:720"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:721"><span class="id" title="variable">B</span></a>) (<a id="g:725" class="idref" href="#g:725"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#C:722"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#D:723"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:720"><span class="id" title="variable">A</span></a>) <a id="l:726" class="idref" href="#l:726"><span class="id" title="binder">l</span></a> <a id="l':727" class="idref" href="#l':727"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:724"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:725"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:726"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':727"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a> (<span class="id" title="keyword">fun</span> <a id="i:728" class="idref" href="#i:728"><span class="id" title="binder">i</span></a> <a id="x:729" class="idref" href="#x:729"><span class="id" title="binder">x</span></a> <a id="y:730" class="idref" href="#y:730"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:724"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:728"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#g:725"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:729"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:730"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:726"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':727"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_mapi" class="idref" href="#map2_mapi"><span class="id" title="lemma">map2_mapi</span></a> {<a id="A:731" class="idref" href="#A:731"><span class="id" title="binder">A</span></a> <a id="A':732" class="idref" href="#A':732"><span class="id" title="binder">A'</span></a> <a id="B:733" class="idref" href="#B:733"><span class="id" title="binder">B</span></a> <a id="B':734" class="idref" href="#B':734"><span class="id" title="binder">B'</span></a> <a id="C:735" class="idref" href="#C:735"><span class="id" title="binder">C</span></a>} (<a id="f:736" class="idref" href="#f:736"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:731"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:733"><span class="id" title="variable">B</span></a>) (<a id="f':737" class="idref" href="#f':737"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A':732"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B':734"><span class="id" title="variable">B'</span></a>) (<a id="g:738" class="idref" href="#g:738"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:733"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B':734"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:735"><span class="id" title="variable">C</span></a>) <a id="l:739" class="idref" href="#l:739"><span class="id" title="binder">l</span></a> <a id="l':740" class="idref" href="#l':740"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:738"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:736"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:739"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f':737"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':740"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a> (<span class="id" title="keyword">fun</span> <a id="i:741" class="idref" href="#i:741"><span class="id" title="binder">i</span></a> <a id="x:742" class="idref" href="#x:742"><span class="id" title="binder">x</span></a> <a id="y:743" class="idref" href="#y:743"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#g:738"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:736"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:741"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:742"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#f':737"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:741"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:743"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#l:739"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':740"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2i_ext" class="idref" href="#map2i_ext"><span class="id" title="lemma">map2i_ext</span></a> {<a id="A:744" class="idref" href="#A:744"><span class="id" title="binder">A</span></a> <a id="B:745" class="idref" href="#B:745"><span class="id" title="binder">B</span></a> <a id="C:746" class="idref" href="#C:746"><span class="id" title="binder">C</span></a>} (<a id="f:747" class="idref" href="#f:747"><span class="id" title="binder">f</span></a> <a id="g:748" class="idref" href="#g:748"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:744"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:745"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:746"><span class="id" title="variable">C</span></a>) <a id="l:749" class="idref" href="#l:749"><span class="id" title="binder">l</span></a> <a id="l':750" class="idref" href="#l':750"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:751" class="idref" href="#i:751"><span class="id" title="binder">i</span></a> <a id="x:752" class="idref" href="#x:752"><span class="id" title="binder">x</span></a> <a id="y:753" class="idref" href="#y:753"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#f:747"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:751"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:752"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:753"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:748"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#i:751"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:752"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:753"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:747"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:749"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':750"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:748"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:749"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':750"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map2i"><span class="id" title="definition">map2i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="app_inj_length_r" class="idref" href="#app_inj_length_r"><span class="id" title="lemma">app_inj_length_r</span></a> {<a id="A:754" class="idref" href="#A:754"><span class="id" title="binder">A</span></a>} (<a id="l:755" class="idref" href="#l:755"><span class="id" title="binder">l</span></a> <a id="l':756" class="idref" href="#l':756"><span class="id" title="binder">l'</span></a> <a id="r:757" class="idref" href="#r:757"><span class="id" title="binder">r</span></a> <a id="r':758" class="idref" href="#r':758"><span class="id" title="binder">r'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:754"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:755"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r:757"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':756"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r':758"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#r:757"><span class="id" title="variable">r</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#r':758"><span class="id" title="variable">r'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:755"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':756"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r:757"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r':758"><span class="id" title="variable">r'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">r'</span> |- ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r'</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">r</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">r</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">l'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">r'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">l'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">r'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_inj_tail"><span class="id" title="lemma">app_inj_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="app_inj_length_l" class="idref" href="#app_inj_length_l"><span class="id" title="lemma">app_inj_length_l</span></a> {<a id="A:759" class="idref" href="#A:759"><span class="id" title="binder">A</span></a>} (<a id="l:760" class="idref" href="#l:760"><span class="id" title="binder">l</span></a> <a id="l':761" class="idref" href="#l':761"><span class="id" title="binder">l'</span></a> <a id="r:762" class="idref" href="#r:762"><span class="id" title="binder">r</span></a> <a id="r':763" class="idref" href="#r':763"><span class="id" title="binder">r'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:759"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:760"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r:762"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':761"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r':763"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:760"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l':761"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:760"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':761"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r:762"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#r':763"><span class="id" title="variable">r'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>, <span class="id" title="var">r'</span>, <span class="id" title="var">l'</span> |- ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [= → ?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a id="map_In" class="idref" href="#map_In"><span class="id" title="definition">map_In</span></a> {<a id="A:764" class="idref" href="#A:764"><span class="id" title="binder">A</span></a> <a id="B:765" class="idref" href="#B:765"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l:766" class="idref" href="#l:766"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:764"><span class="id" title="variable">A</span></a>) (<a id="f:768" class="idref" href="#f:768"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:767" class="idref" href="#x:767"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:764"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:767"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:766"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:765"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">B</span> :=<br/>
<a class="idref" href="MetaCoq.Utils.MCList.html#map_In:770"><span class="id" title="definition">map_In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>;<br/>
<a class="idref" href="MetaCoq.Utils.MCList.html#map_In:774"><span class="id" title="definition">map_In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:772"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:773"><span class="id" title="variable">xs</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#f:771"><span class="id" title="variable">f</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.MCList.html#map_In:769"><span class="id" title="definition">map_In</span></a> <span class="id" title="var">xs</span> (<span class="id" title="keyword">fun</span> <a id="x:775" class="idref" href="#x:775"><span class="id" title="binder">x</span></a> <a id="H:776" class="idref" href="#H:776"><span class="id" title="binder">H</span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#x:775"><span class="id" title="variable">x</span></a> <span class="id" title="var">_</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_In_spec" class="idref" href="#map_In_spec"><span class="id" title="lemma">map_In_spec</span></a> {<a id="A:777" class="idref" href="#A:777"><span class="id" title="binder">A</span></a> <a id="B:778" class="idref" href="#B:778"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:779" class="idref" href="#f:779"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:777"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:778"><span class="id" title="variable">B</span></a>) (<a id="l:780" class="idref" href="#l:780"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:777"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map_In"><span class="id" title="definition">map_In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:780"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:781" class="idref" href="#x:781"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:777"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:781"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:780"><span class="id" title="variable">l</span></a>) ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:779"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:781"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:779"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:780"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">fun</span> (<a id="x:783" class="idref" href="#x:783"><span class="id" title="binder">x</span></a> : <span class="id" title="var">A</span>) (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:782"><span class="id" title="variable">x</span></a> <span class="id" title="var">l</span>) ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#x:782"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#map_In"><span class="id" title="definition">map_In</span></a> <span class="id" title="var">l</span> <span class="id" title="var">g</span>) ⇒ //; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">f0</span>); <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rev_repeat" class="idref" href="#rev_repeat"><span class="id" title="lemma">rev_repeat</span></a> {<a id="A:784" class="idref" href="#A:784"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="n:785" class="idref" href="#n:785"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="a:786" class="idref" href="#a:786"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:784"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:786"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:785"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:786"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:785"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="tactic">at</span> 2 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="tactic">repeat</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span>  <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#repeat_app"><span class="id" title="lemma">repeat_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#"><span class="id" title="library">ReflectEq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="SplitPrefix" class="idref" href="#SplitPrefix"><span class="id" title="section">SplitPrefix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:787" class="idref" href="#A:787"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:788" class="idref" href="#H:788"><span class="id" title="binder">ReflectEq</span></a> <a id="H:788" class="idref" href="#H:788"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="split_prefix" class="idref" href="#split_prefix"><span class="id" title="definition">split_prefix</span></a> (<a id="l1:789" class="idref" href="#l1:789"><span class="id" title="binder">l1</span></a> <a id="l2:790" class="idref" href="#l2:790"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#l2:793"><span class="id" title="variable">l2</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.MCList.html#l1:794"><span class="id" title="variable">l1</span></a> , <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.MCList.html#a1:796"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:798"><span class="id" title="variable">l1</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#a2:801"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:803"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">a1</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <span class="id" title="var">a2</span> ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix:791"><span class="id" title="definition">split_prefix</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#prefix:814"><span class="id" title="variable">prefix</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1':811"><span class="id" title="variable">l1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2':813"><span class="id" title="variable">l2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">prefix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="split_prefix_is_prefix" class="idref" href="#split_prefix_is_prefix"><span class="id" title="lemma">split_prefix_is_prefix</span></a> <a id="l1:820" class="idref" href="#l1:820"><span class="id" title="binder">l1</span></a> <a id="l2:821" class="idref" href="#l2:821"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">prefix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:820"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:821"><span class="id" title="variable">l2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l1:820"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l2:821"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="var">simp</span> <span class="id" title="var">split_prefix</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hind</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq0</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_prefix" class="idref" href="#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a id="l1:822" class="idref" href="#l1:822"><span class="id" title="binder">l1</span></a> <a id="l2:823" class="idref" href="#l2:823"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l':824" class="idref" href="#l':824"><span class="id" title="binder">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:823"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:822"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':824"><span class="id" title="variable">l'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nil_prefix" class="idref" href="#nil_prefix"><span class="id" title="lemma">nil_prefix</span></a> <a id="l:825" class="idref" href="#l:825"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:825"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cons_prefix" class="idref" href="#cons_prefix"><span class="id" title="lemma">cons_prefix</span></a> <a id="x:826" class="idref" href="#x:826"><span class="id" title="binder">x</span></a> <a id="l1:827" class="idref" href="#l1:827"><span class="id" title="binder">l1</span></a> <a id="l2:828" class="idref" href="#l2:828"><span class="id" title="binder">l2</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:827"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:828"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#x:826"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:827"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#x:826"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:828"><span class="id" title="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">l</span> -&gt;]; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_prefix_nil" class="idref" href="#is_prefix_nil"><span class="id" title="lemma">is_prefix_nil</span></a> <a id="l:829" class="idref" href="#l:829"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:829"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:829"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">move</span>⇒ [?]; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_prefix_cons" class="idref" href="#is_prefix_cons"><span class="id" title="lemma">is_prefix_cons</span></a> <a id="l:830" class="idref" href="#l:830"><span class="id" title="binder">l</span></a> <a id="x:831" class="idref" href="#x:831"><span class="id" title="binder">x</span></a> <a id="xs:832" class="idref" href="#xs:832"><span class="id" title="binder">xs</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:830"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#x:831"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:832"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#l:830"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l':833" class="idref" href="#l':833"><span class="id" title="binder">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:830"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:831"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':833"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':833"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:832"><span class="id" title="variable">xs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">xs</span>⇒ [|<span class="id" title="var">y</span> <span class="id" title="var">ys</span> ??[<span class="id" title="var">tl</span> [= → -&gt;]]]; [<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">ys</span>; <span class="id" title="tactic">split</span>⇒ //; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_prefix_cons_inv" class="idref" href="#is_prefix_cons_inv"><span class="id" title="lemma">is_prefix_cons_inv</span></a> <a id="x:834" class="idref" href="#x:834"><span class="id" title="binder">x</span></a> <a id="xs:835" class="idref" href="#xs:835"><span class="id" title="binder">xs</span></a> <a id="y:836" class="idref" href="#y:836"><span class="id" title="binder">y</span></a> <a id="ys:837" class="idref" href="#ys:837"><span class="id" title="binder">ys</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#x:834"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:835"><span class="id" title="variable">xs</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#y:836"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ys:837"><span class="id" title="variable">ys</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:834"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#y:836"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:835"><span class="id" title="variable">xs</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ys:837"><span class="id" title="variable">ys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">tl</span> [= → -&gt;]]; <span class="id" title="tactic">split</span>⇒ //; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'Simp'" := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">simp</span> <span class="id" title="var">split_prefix</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">ssripat_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="split_prefix_maximal" class="idref" href="#split_prefix_maximal"><span class="id" title="lemma">split_prefix_maximal</span></a> <a id="l1:838" class="idref" href="#l1:838"><span class="id" title="binder">l1</span></a> <a id="l2:839" class="idref" href="#l2:839"><span class="id" title="binder">l2</span></a> <a id="l:840" class="idref" href="#l:840"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:840"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:838"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:840"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:839"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:840"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:838"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:839"><span class="id" title="variable">l2</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_nil"><span class="id" title="lemma">is_prefix_nil</span></a> → <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nil_prefix"><span class="id" title="lemma">nil_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">_</span> /<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_nil"><span class="id" title="lemma">is_prefix_nil</span></a> -&gt;; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nil_prefix"><span class="id" title="lemma">nil_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_cons"><span class="id" title="lemma">is_prefix_cons</span></a> [-&gt; ?|]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nil_prefix"><span class="id" title="lemma">nil_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [? [-&gt; ?]] /<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_cons_inv"><span class="id" title="lemma">is_prefix_cons_inv</span></a> [<span class="id" title="var">eqa</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqa</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_cons"><span class="id" title="lemma">is_prefix_cons</span></a> [-&gt; ?|]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nil_prefix"><span class="id" title="lemma">nil_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [? [-&gt; <span class="id" title="var">pr1</span>]] /<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_cons_inv"><span class="id" title="lemma">is_prefix_cons_inv</span></a> [<span class="id" title="var">eqa</span> <span class="id" title="var">pr2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#cons_prefix"><span class="id" title="lemma">cons_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Heqcall</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">pr1</span> <span class="id" title="var">pr2</span>)=&gt; /<a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.::ssripat_scope:'Simp'"><span class="id" title="notation">Simp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqa</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>⇒ /<a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.::ssripat_scope:'Simp'"><span class="id" title="notation">Simp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>)=&gt; -[[??]?] /<a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix.::ssripat_scope:'Simp'"><span class="id" title="notation">Simp</span></a> [= -&gt;] //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitPrefix"><span class="id" title="section">SplitPrefix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="SplitSuffix" class="idref" href="#SplitSuffix"><span class="id" title="section">SplitSuffix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:841" class="idref" href="#A:841"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:842" class="idref" href="#H:842"><span class="id" title="binder">ReflectEq</span></a> <a id="H:842" class="idref" href="#H:842"><span class="id" title="binder">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="split_suffix" class="idref" href="#split_suffix"><span class="id" title="definition">split_suffix</span></a> (<a id="l1:843" class="idref" href="#l1:843"><span class="id" title="binder">l1</span></a> <a id="l2:844" class="idref" href="#l2:844"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitSuffix.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitSuffix.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitSuffix.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitSuffix.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:843"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:844"><span class="id" title="variable">l2</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:843"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:844"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="split_suffix_is_suffix" class="idref" href="#split_suffix_is_suffix"><span class="id" title="lemma">split_suffix_is_suffix</span></a> <a id="l1:845" class="idref" href="#l1:845"><span class="id" title="binder">l1</span></a> <a id="l2:846" class="idref" href="#l2:846"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.Utils.MCList.html#split_suffix"><span class="id" title="definition">split_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:845"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:846"><span class="id" title="variable">l2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l1:845"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l2:846"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l2'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#split_suffix"><span class="id" title="definition">split_suffix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">y</span> := <a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix_is_prefix"><span class="id" title="lemma">split_prefix_is_prefix</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l1</span>) (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [[??] ?] [/(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a>) + /(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaCoq.Utils.MCList.html#rev_invol"><span class="id" title="lemma">rev_invol</span></a> 2!<a class="idref" href="MetaCoq.Utils.MCList.html#rev_app"><span class="id" title="lemma">rev_app</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_suffix" class="idref" href="#is_suffix"><span class="id" title="definition">is_suffix</span></a> (<a id="l1:847" class="idref" href="#l1:847"><span class="id" title="binder">l1</span></a> <a id="l2:848" class="idref" href="#l2:848"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitSuffix.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l':849" class="idref" href="#l':849"><span class="id" title="binder">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:848"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':849"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:847"><span class="id" title="variable">l1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_suffix_is_prefix_rev" class="idref" href="#is_suffix_is_prefix_rev"><span class="id" title="lemma">is_suffix_is_prefix_rev</span></a> <a id="l1:850" class="idref" href="#l1:850"><span class="id" title="binder">l1</span></a> <a id="l2:851" class="idref" href="#l2:851"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix"><span class="id" title="definition">is_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:850"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:851"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:850"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:851"><span class="id" title="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">l</span>] /(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a>) -&gt;; <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>); <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.MCList.html#rev_app"><span class="id" title="lemma">rev_app</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_prefix_rev_is_suffix" class="idref" href="#is_prefix_rev_is_suffix"><span class="id" title="lemma">is_prefix_rev_is_suffix</span></a> <a id="l1:852" class="idref" href="#l1:852"><span class="id" title="binder">l1</span></a> <a id="l2:853" class="idref" href="#l2:853"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:852"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:853"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix"><span class="id" title="definition">is_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:852"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:853"><span class="id" title="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">l</span>] /(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_app"><span class="id" title="lemma">rev_app</span></a> 2! <a class="idref" href="MetaCoq.Utils.MCList.html#rev_invol"><span class="id" title="lemma">rev_invol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ -&gt;; <span class="id" title="tactic">by</span> <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="split_suffix_maximal" class="idref" href="#split_suffix_maximal"><span class="id" title="lemma">split_suffix_maximal</span></a> <a id="l1:854" class="idref" href="#l1:854"><span class="id" title="binder">l1</span></a> <a id="l2:855" class="idref" href="#l2:855"><span class="id" title="binder">l2</span></a> <a id="l:856" class="idref" href="#l:856"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix"><span class="id" title="definition">is_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:856"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:854"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix"><span class="id" title="definition">is_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:856"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:855"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix"><span class="id" title="definition">is_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:856"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#split_suffix"><span class="id" title="definition">split_suffix</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l1:854"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l2:855"><span class="id" title="variable">l2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix_is_prefix_rev"><span class="id" title="lemma">is_suffix_is_prefix_rev</span></a> <span class="id" title="var">ll1</span> /<a class="idref" href="MetaCoq.Utils.MCList.html#is_suffix_is_prefix_rev"><span class="id" title="lemma">is_suffix_is_prefix_rev</span></a> <span class="id" title="var">ll2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.MCList.html#is_prefix_rev_is_suffix"><span class="id" title="lemma">is_prefix_rev_is_suffix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">z</span> := <a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix_maximal"><span class="id" title="lemma">split_prefix_maximal</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l1</span>) (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l2</span>) (<a class="idref" href="MetaCoq.Utils.MCList.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">ll1</span> <span class="id" title="var">ll2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">z</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#split_suffix"><span class="id" title="definition">split_suffix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.MCList.html#split_prefix"><span class="id" title="definition">split_prefix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [[??]?] /=; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_invol"><span class="id" title="lemma">rev_invol</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#SplitSuffix"><span class="id" title="section">SplitSuffix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="AllInP" class="idref" href="#AllInP"><span class="id" title="section">AllInP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:857" class="idref" href="#A:857"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="forallb_InP" class="idref" href="#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> (<a id="l:858" class="idref" href="#l:858"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#AllInP.A"><span class="id" title="variable">A</span></a>) (<a id="H:860" class="idref" href="#H:860"><span class="id" title="binder">H</span></a> : <span class="id" title="keyword">∀</span> <a id="x:859" class="idref" href="#x:859"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#AllInP.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:859"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:858"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>, <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ;<br/>
&nbsp;&nbsp;| (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:863"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:864"><span class="id" title="variable">xs</span></a>), <a class="idref" href="MetaCoq.Utils.MCList.html#H:865"><span class="id" title="variable">H</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#forallb_InP:861"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">xs</span> (<span class="id" title="keyword">fun</span> <a id="x:868" class="idref" href="#x:868"><span class="id" title="binder">x</span></a> <a id="inx:869" class="idref" href="#inx:869"><span class="id" title="binder">inx</span></a> ⇒ <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.MCList.html#x:868"><span class="id" title="variable">x</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#AllInP"><span class="id" title="section">AllInP</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_InP_spec" class="idref" href="#forallb_InP_spec"><span class="id" title="lemma">forallb_InP_spec</span></a> {<a id="A:870" class="idref" href="#A:870"><span class="id" title="binder">A</span></a>} (<a id="f:871" class="idref" href="#f:871"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:870"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="l:872" class="idref" href="#l:872"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:870"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:872"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> <a id="x:873" class="idref" href="#x:873"><span class="id" title="binder">x</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:871"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:873"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:871"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:872"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">fun</span> <a id="x:875" class="idref" href="#x:875"><span class="id" title="binder">x</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#x:874"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#forallb_InP"><span class="id" title="definition">forallb_InP</span></a> <span class="id" title="var">l</span> <span class="id" title="var">g</span>) ⇒ //; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H0</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MapInP" class="idref" href="#MapInP"><span class="id" title="section">MapInP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:876" class="idref" href="#A:876"><span class="id" title="binder">A</span></a> <a id="B:877" class="idref" href="#B:877"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="map_InP" class="idref" href="#map_InP"><span class="id" title="definition">map_InP</span></a> (<a id="l:878" class="idref" href="#l:878"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#MapInP.A"><span class="id" title="variable">A</span></a>) (<a id="f:880" class="idref" href="#f:880"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">∀</span> <a id="x:879" class="idref" href="#x:879"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#MapInP.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:879"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:878"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#MapInP.B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#MapInP.B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map_InP:882"><span class="id" title="definition">map_InP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map_InP:886"><span class="id" title="definition">map_InP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:884"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#xs:885"><span class="id" title="variable">xs</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#f:883"><span class="id" title="variable">f</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.MCList.html#map_InP:881"><span class="id" title="definition">map_InP</span></a> <span class="id" title="var">xs</span> (<span class="id" title="keyword">fun</span> <a id="x:887" class="idref" href="#x:887"><span class="id" title="binder">x</span></a> <a id="inx:888" class="idref" href="#inx:888"><span class="id" title="binder">inx</span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#x:887"><span class="id" title="variable">x</span></a> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.MCList.html#MapInP"><span class="id" title="section">MapInP</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_InP_spec" class="idref" href="#map_InP_spec"><span class="id" title="lemma">map_InP_spec</span></a> {<a id="A:889" class="idref" href="#A:889"><span class="id" title="binder">A</span></a> <a id="B:890" class="idref" href="#B:890"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:891" class="idref" href="#f:891"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:889"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:890"><span class="id" title="variable">B</span></a>) (<a id="l:892" class="idref" href="#l:892"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:889"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map_InP"><span class="id" title="definition">map_InP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:892"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:893" class="idref" href="#x:893"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:889"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:891"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:893"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:891"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:892"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">fun</span> (<a id="x:895" class="idref" href="#x:895"><span class="id" title="binder">x</span></a> : <span class="id" title="var">A</span>) <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#x:894"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#map_InP"><span class="id" title="definition">map_InP</span></a> <span class="id" title="var">l</span> <span class="id" title="var">g</span>) ⇒ //; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">f0</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_size" class="idref" href="#In_size"><span class="id" title="lemma">In_size</span></a> {<a id="A:896" class="idref" href="#A:896"><span class="id" title="binder">A</span></a> <a id="B:897" class="idref" href="#B:897"><span class="id" title="binder">B</span></a>} {<a id="x:898" class="idref" href="#x:898"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:896"><span class="id" title="variable">A</span></a>} {<a id="l:899" class="idref" href="#l:899"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:896"><span class="id" title="variable">A</span></a>} (<a id="proj:900" class="idref" href="#proj:900"><span class="id" title="binder">proj</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:896"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:897"><span class="id" title="variable">B</span></a>) (<a id="size:901" class="idref" href="#size:901"><span class="id" title="binder">size</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:897"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:898"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:899"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#size:901"><span class="id" title="variable">size</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#proj:900"><span class="id" title="variable">proj</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:898"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#list_size"><span class="id" title="definition">list_size</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#size:901"><span class="id" title="variable">size</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#proj:900"><span class="id" title="variable">proj</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:899"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [-&gt;|<span class="id" title="var">hin</span>]. <span class="id" title="var">lia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">hin</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="app_tip_nil" class="idref" href="#app_tip_nil"><span class="id" title="lemma">app_tip_nil</span></a> {<a id="A:902" class="idref" href="#A:902"><span class="id" title="binder">A</span></a>} (<a id="l:903" class="idref" href="#l:903"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:902"><span class="id" title="variable">A</span></a>) (<a id="x:904" class="idref" href="#x:904"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:902"><span class="id" title="variable">A</span></a>) : (<a class="idref" href="MetaCoq.Utils.MCList.html#l:903"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:904"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="remove_last" class="idref" href="#remove_last"><span class="id" title="definition">remove_last</span></a> {<a id="A:905" class="idref" href="#A:905"><span class="id" title="binder">A</span></a>} (<a id="args:906" class="idref" href="#args:906"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:905"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">List.firstn</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#args:906"><span class="id" title="variable">args</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="MetaCoq.Utils.MCList.html#args:906"><span class="id" title="variable">args</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_last_app" class="idref" href="#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a> {<a id="A:907" class="idref" href="#A:907"><span class="id" title="binder">A</span></a>} (<a id="l:908" class="idref" href="#l:908"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:907"><span class="id" title="variable">A</span></a>) <a id="x:909" class="idref" href="#x:909"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#remove_last"><span class="id" title="definition">remove_last</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:908"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:909"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:908"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#remove_last"><span class="id" title="definition">remove_last</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1) <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_app"><span class="id" title="lemma">firstn_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_all"><span class="id" title="lemma">firstn_all</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_last_last" class="idref" href="#remove_last_last"><span class="id" title="lemma">remove_last_last</span></a> {<a id="A:910" class="idref" href="#A:910"><span class="id" title="binder">A</span></a>} (<a id="l:911" class="idref" href="#l:911"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:910"><span class="id" title="variable">A</span></a>) (<a id="a:912" class="idref" href="#a:912"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:910"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#l:911"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#l:911"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:911"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:911"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:912"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_repeat" class="idref" href="#forallb_repeat"><span class="id" title="lemma">forallb_repeat</span></a> {<a id="A:913" class="idref" href="#A:913"><span class="id" title="binder">A</span></a>} {<a id="p:914" class="idref" href="#p:914"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:913"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>} {<a id="a:915" class="idref" href="#a:915"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:913"><span class="id" title="variable">A</span></a>} {<a id="n:916" class="idref" href="#n:916"><span class="id" title="binder">n</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#p:914"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:915"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#p:914"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:915"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:916"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">pa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">pa</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_repeat" class="idref" href="#map_repeat"><span class="id" title="lemma">map_repeat</span></a> {<a id="A:917" class="idref" href="#A:917"><span class="id" title="binder">A</span></a> <a id="B:918" class="idref" href="#B:918"><span class="id" title="binder">B</span></a>} (<a id="f:919" class="idref" href="#f:919"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:917"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:918"><span class="id" title="variable">B</span></a>) <a id="a:920" class="idref" href="#a:920"><span class="id" title="binder">a</span></a> <a id="n:921" class="idref" href="#n:921"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:919"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:920"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:921"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:919"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#a:920"><span class="id" title="variable">a</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#n:921"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_length" class="idref" href="#map2_length"><span class="id" title="lemma">map2_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:922" class="idref" href="#A:922"><span class="id" title="binder">A</span></a> <a id="B:923" class="idref" href="#B:923"><span class="id" title="binder">B</span></a> <a id="C:924" class="idref" href="#C:924"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:925" class="idref" href="#f:925"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:922"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:923"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:924"><span class="id" title="variable">C</span></a>) (<a id="l:926" class="idref" href="#l:926"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:922"><span class="id" title="variable">A</span></a>) (<a id="l':927" class="idref" href="#l':927"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:923"><span class="id" title="variable">B</span></a>), <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:925"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:926"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':927"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#min"><span class="id" title="abbreviation">min</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:926"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l':927"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_map_l" class="idref" href="#map2_map_l"><span class="id" title="lemma">map2_map_l</span></a> {<a id="A:928" class="idref" href="#A:928"><span class="id" title="binder">A</span></a> <a id="B:929" class="idref" href="#B:929"><span class="id" title="binder">B</span></a> <a id="C:930" class="idref" href="#C:930"><span class="id" title="binder">C</span></a> <a id="D:931" class="idref" href="#D:931"><span class="id" title="binder">D</span></a>} (<a id="f:932" class="idref" href="#f:932"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:928"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:929"><span class="id" title="variable">B</span></a>) (<a id="g:933" class="idref" href="#g:933"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#B:929"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:930"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#D:931"><span class="id" title="variable">D</span></a>) (<a id="l:934" class="idref" href="#l:934"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:928"><span class="id" title="variable">A</span></a>) (<a id="l':935" class="idref" href="#l':935"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#C:930"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#g:933"><span class="id" title="variable">g</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:932"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:934"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l':935"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:936" class="idref" href="#x:936"><span class="id" title="binder">x</span></a> <a id="y:937" class="idref" href="#y:937"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#g:933"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#f:932"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:936"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#y:937"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:934"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':935"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_diag" class="idref" href="#map2_diag"><span class="id" title="lemma">map2_diag</span></a> {<a id="A:938" class="idref" href="#A:938"><span class="id" title="binder">A</span></a> <a id="B:939" class="idref" href="#B:939"><span class="id" title="binder">B</span></a>} (<a id="f:940" class="idref" href="#f:940"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#A:938"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:938"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:939"><span class="id" title="variable">B</span></a>) (<a id="l:941" class="idref" href="#l:941"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:938"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#f:940"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:941"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:941"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:942" class="idref" href="#x:942"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#f:940"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:942"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#x:942"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:941"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span>⇒ [//|? ? /= → //].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_snd" class="idref" href="#map2_snd"><span class="id" title="lemma">map2_snd</span></a> {<a id="A:943" class="idref" href="#A:943"><span class="id" title="binder">A</span></a> <a id="B:944" class="idref" href="#B:944"><span class="id" title="binder">B</span></a>} (<a id="l:945" class="idref" href="#l:945"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:943"><span class="id" title="variable">A</span></a>) (<a id="l':946" class="idref" href="#l':946"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#B:944"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:947" class="idref" href="#x:947"><span class="id" title="binder">x</span></a> <a id="y:948" class="idref" href="#y:948"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCList.html#x:947"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#l:945"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l':946"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l':946"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:945"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> <span class="id" title="var">l'</span>⇒ [|<span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">ih</span>] [|<span class="id" title="var">y</span> <span class="id" title="var">ys</span>] //=; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_nil" class="idref" href="#length_nil"><span class="id" title="lemma">length_nil</span></a> {<a id="A:949" class="idref" href="#A:949"><span class="id" title="binder">A</span></a>} (<a id="l:950" class="idref" href="#l:950"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:949"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#l:950"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:950"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="snoc_view" class="idref" href="#snoc_view"><span class="id" title="inductive">snoc_view</span></a> {<a id="A:951" class="idref" href="#A:951"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="snoc_view_nil" class="idref" href="#snoc_view_nil"><span class="id" title="constructor">snoc_view_nil</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#snoc_view:952"><span class="id" title="inductive">snoc_view</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
| <a id="snoc_view_snoc" class="idref" href="#snoc_view_snoc"><span class="id" title="constructor">snoc_view_snoc</span></a> <a id="l:954" class="idref" href="#l:954"><span class="id" title="binder">l</span></a> <a id="x:955" class="idref" href="#x:955"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#snoc_view:952"><span class="id" title="inductive">snoc_view</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#l:954"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#x:955"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="snocP" class="idref" href="#snocP"><span class="id" title="lemma">snocP</span></a> {<a id="A:956" class="idref" href="#A:956"><span class="id" title="binder">A</span></a>} (<a id="l:957" class="idref" href="#l:957"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:956"><span class="id" title="variable">A</span></a>) : <a class="idref" href="MetaCoq.Utils.MCList.html#snoc_view"><span class="id" title="inductive">snoc_view</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#l:957"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span>⇒ [|<span class="id" title="var">a</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>⇒ [|<span class="id" title="var">l'</span> <span class="id" title="var">z</span>];<br/>
&nbsp;&nbsp;[<span class="id" title="tactic">exact</span>: (<a class="idref" href="MetaCoq.Utils.MCList.html#snoc_view_snoc"><span class="id" title="constructor">snoc_view_snoc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) | <span class="id" title="tactic">exact</span>: (<a class="idref" href="MetaCoq.Utils.MCList.html#snoc_view_snoc"><span class="id" title="constructor">snoc_view_snoc</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span>))].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hd_error_skipn_iff_In" class="idref" href="#hd_error_skipn_iff_In"><span class="id" title="lemma">hd_error_skipn_iff_In</span></a> {<a id="A:958" class="idref" href="#A:958"><span class="id" title="binder">A</span></a> <a id="v:959" class="idref" href="#v:959"><span class="id" title="binder">v</span></a> <a id="ls:960" class="idref" href="#ls:960"><span class="id" title="binder">ls</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:961" class="idref" href="#n:961"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">hd_error</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#A:958"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#n:961"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ls:960"><span class="id" title="variable">ls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:959"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#v:959"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#ls:960"><span class="id" title="variable">ls</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ls</span>; <span class="id" title="tactic">elim</span> ⇒ //=.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_nil"><span class="id" title="lemma">skipn_nil</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ ?? &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span> ⇒ [[|?]]; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_0"><span class="id" title="lemma">skipn_0</span></a> ?<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">move</span> ⇒ [-&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span> ⇒ [-&gt;|[<span class="id" title="var">n</span> <span class="id" title="var">H</span>]]; [ <span class="id" title="tactic">∃</span> 0 | <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_0"><span class="id" title="lemma">skipn_0</span></a> ?<a class="idref" href="MetaCoq.Utils.MCList.html#skipn_S"><span class="id" title="lemma">skipn_S</span></a> ⇒ //=. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
