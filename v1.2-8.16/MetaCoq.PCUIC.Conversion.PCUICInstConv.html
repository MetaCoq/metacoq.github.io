<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.PCUIC.Conversion.PCUICInstConv</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#"><span class="id" title="library">PCUICOnOne</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICTactics.html#"><span class="id" title="library">PCUICTactics</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#"><span class="id" title="library">PCUICCases</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICClosedConv.html#"><span class="id" title="library">PCUICClosedConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICWeakeningEnvConv.html#"><span class="id" title="library">PCUICWeakeningEnvConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#"><span class="id" title="library">PCUICSigmaCalculus</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICRenameDef.html#"><span class="id" title="library">PCUICRenameDef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#"><span class="id" title="library">PCUICRenameConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#"><span class="id" title="library">PCUICInstDef</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICGuardCondition.html#"><span class="id" title="library">PCUICGuardCondition</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#"><span class="id" title="library">PCUICUnivSubstitutionConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICOnFreeVarsConv.html#"><span class="id" title="library">PCUICOnFreeVarsConv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations.Prop.DepElim</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="var">With</span> <span class="id" title="var">UIP</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab136"></a><h1 class="section">Type preservation for σ-calculus instantiation</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="inst_constructor_body" class="idref" href="#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> <a id="mdecl:1" class="idref" href="#mdecl:1"><span class="id" title="binder">mdecl</span></a> <a id="f:2" class="idref" href="#f:2"><span class="id" title="binder">f</span></a> <a id="c:3" class="idref" href="#c:3"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.map_constructor_body"><span class="id" title="definition">map_constructor_body</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:1"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:1"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="k:4" class="idref" href="#k:4"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a>  (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:2"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c:3"><span class="id" title="variable">c</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rigid_head" class="idref" href="#rigid_head"><span class="id" title="definition">rigid_head</span></a> <a id="t:5" class="idref" href="#t:5"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:5"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_snoc" class="idref" href="#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <a id="s:7" class="idref" href="#s:7"><span class="id" title="binder">s</span></a> <a id="d5be501d00a8c9c4c28302f544699b7d" class="idref" href="#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="binder">Γ</span></a> <a id="d:9" class="idref" href="#d:9"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:7"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:9"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:7"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:7"><span class="id" title="variable">s</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:9"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context_snoc0"><span class="id" title="definition">inst_context_snoc0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_alt" class="idref" href="#inst_context_alt"><span class="id" title="lemma">inst_context_alt</span></a> <a id="s:10" class="idref" href="#s:10"><span class="id" title="binder">s</span></a> <a id="8a5fb5e1be55058be9aa6b31d1a8bfab" class="idref" href="#8a5fb5e1be55058be9aa6b31d1a8bfab"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:10"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8a5fb5e1be55058be9aa6b31d1a8bfab"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="k':12" class="idref" href="#k':12"><span class="id" title="binder">k'</span></a> <a id="d:13" class="idref" href="#d:13"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8a5fb5e1be55058be9aa6b31d1a8bfab"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k':12"><span class="id" title="variable">k'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:10"><span class="id" title="variable">s</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:13"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8a5fb5e1be55058be9aa6b31d1a8bfab"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_alt"><span class="id" title="lemma">fold_context_k_alt</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_length" class="idref" href="#inst_context_length"><span class="id" title="lemma">inst_context_length</span></a> <a id="s:14" class="idref" href="#s:14"><span class="id" title="binder">s</span></a> <a id="918d7ebace48bcbe2bb5610a4828654d" class="idref" href="#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:14"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#918d7ebace48bcbe2bb5610a4828654d"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_length"><span class="id" title="lemma">inst_context_length</span></a> : <span class="id" title="var">sigma</span> <span class="id" title="keyword">wf</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution in contexts is just a particular kind of instantiation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_context_inst_context" class="idref" href="#subst_context_inst_context"><span class="id" title="lemma">subst_context_inst_context</span></a> <a id="s:16" class="idref" href="#s:16"><span class="id" title="binder">s</span></a> <a id="k:17" class="idref" href="#k:17"><span class="id" title="binder">k</span></a> <a id="f0fc26962fbc1476a5f5245f565ffb72" class="idref" href="#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:16"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:17"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:17"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:16"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst'"><span class="id" title="lemma">subst_inst'</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_context0_inst_context" class="idref" href="#subst_context0_inst_context"><span class="id" title="lemma">subst_context0_inst_context</span></a> <a id="s:19" class="idref" href="#s:19"><span class="id" title="binder">s</span></a> <a id="5072e11836a76219245d89c98ca72259" class="idref" href="#5072e11836a76219245d89c98ca72259"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:19"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:19"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#subst_context_inst_context"><span class="id" title="lemma">subst_context_inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_mkApps" class="idref" href="#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a> <a id="f:21" class="idref" href="#f:21"><span class="id" title="binder">f</span></a> <a id="l:22" class="idref" href="#l:22"><span class="id" title="binder">l</span></a> <a id="ae0c06ba32431cba6651bad87205f6d2" class="idref" href="#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:22"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:21"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ae0c06ba32431cba6651bad87205f6d2"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:22"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift0_inst" class="idref" href="#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a> <a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a> <a id="t:25" class="idref" href="#t:25"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:25"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:25"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:24"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_0"><span class="id" title="lemma">lift_renaming_0</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftk"><span class="id" title="lemma">ren_shiftk</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_decl_inst_decl" class="idref" href="#rename_decl_inst_decl"><span class="id" title="lemma">rename_decl_inst_decl</span></a> : <span class="id" title="keyword">∀</span> <a id="f:26" class="idref" href="#f:26"><span class="id" title="binder">f</span></a> <a id="d:27" class="idref" href="#d:27"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_decl"><span class="id" title="definition">rename_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:26"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:27"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:26"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:27"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_decl"><span class="id" title="definition">rename_decl</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#rename_decl_inst_decl"><span class="id" title="lemma">rename_decl_inst_decl</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_context_inst_context" class="idref" href="#rename_context_inst_context"><span class="id" title="lemma">rename_context_inst_context</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f:28" class="idref" href="#f:28"><span class="id" title="binder">f</span></a> <a id="0b505d350bf3c4269fbe0253bf0ba4a2" class="idref" href="#0b505d350bf3c4269fbe0253bf0ba4a2"><span class="id" title="binder">Γ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:28"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0b505d350bf3c4269fbe0253bf0ba4a2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:28"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0b505d350bf3c4269fbe0253bf0ba4a2"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl_body</span>. 2: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#rename_context_inst_context"><span class="id" title="lemma">rename_context_inst_context</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_subst0" class="idref" href="#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a> <a id="a:30" class="idref" href="#a:30"><span class="id" title="binder">a</span></a> <a id="b:31" class="idref" href="#b:31"><span class="id" title="binder">b</span></a> <a id="2a046109bdcd234cf1f1caa02c0d4a23" class="idref" href="#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="binder">τ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a:30"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b:31"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a:30"><span class="id" title="variable">a</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b:31"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a:30"><span class="id" title="variable">a</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst"><span class="id" title="lemma">subst_inst</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_comp"><span class="id" title="lemma">Upn_comp</span></a> //; <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst10_inst" class="idref" href="#subst10_inst"><span class="id" title="lemma">subst10_inst</span></a> <a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a> <a id="b:34" class="idref" href="#b:34"><span class="id" title="binder">b</span></a> <a id="8811648c61adae5d3bde45effec37c78" class="idref" href="#8811648c61adae5d3bde45effec37c78"><span class="id" title="binder">τ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b:34"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a:33"><span class="id" title="variable">a</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8811648c61adae5d3bde45effec37c78"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b:34"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8811648c61adae5d3bde45effec37c78"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a:33"><span class="id" title="variable">a</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8811648c61adae5d3bde45effec37c78"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">subst10</span>. <span class="id" title="var">sigma</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_tip"><span class="id" title="lemma">subst_consn_tip</span></a> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#subst10_inst"><span class="id" title="lemma">subst10_inst</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_closed0" class="idref" href="#inst_closed0"><span class="id" title="lemma">inst_closed0</span></a> <a id="37ad0dd721e485b0343473169ded3613" class="idref" href="#37ad0dd721e485b0343473169ded3613"><span class="id" title="binder">σ</span></a> <a id="t:37" class="idref" href="#t:37"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:37"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:37"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#37ad0dd721e485b0343473169ded3613"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:37"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">t</span>](<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a> σ 0) //. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_context_eqP_onctx_k_spec" class="idref" href="#mapi_context_eqP_onctx_k_spec"><span class="id" title="lemma">mapi_context_eqP_onctx_k_spec</span></a> {<a id="P:38" class="idref" href="#P:38"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="k:39" class="idref" href="#k:39"><span class="id" title="binder">k</span></a>} {<a id="ctx:40" class="idref" href="#ctx:40"><span class="id" title="binder">ctx</span></a>} {<a id="f:41" class="idref" href="#f:41"><span class="id" title="binder">f</span></a> <a id="g:42" class="idref" href="#g:42"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#onctx_k"><span class="id" title="definition">onctx_k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:38"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:39"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:40"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a> <a id="x:44" class="idref" href="#x:44"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:38"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:39"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:44"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:41"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:44"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#g:42"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:44"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:41"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:40"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#g:42"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:40"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Ha</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context_fold"><span class="id" title="lemma">mapi_context_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_alt"><span class="id" title="lemma">fold_context_k_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_mapi_spec"><span class="id" title="lemma">Alli_mapi_spec</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /= <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_decl_eq_spec"><span class="id" title="lemma">map_decl_eq_spec</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_ext_closed" class="idref" href="#inst_ext_closed"><span class="id" title="lemma">inst_ext_closed</span></a> <a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a> <a id="s':46" class="idref" href="#s':46"><span class="id" title="binder">s'</span></a> <a id="k:47" class="idref" href="#k:47"><span class="id" title="binder">k</span></a> <a id="t:48" class="idref" href="#t:48"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:47"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s':46"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:49"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:47"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:48"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:48"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s':46"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:48"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">clt</span>. <span class="id" title="var">revert</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span> <span class="id" title="var">clt</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#term_closedn_list_ind"><span class="id" title="lemma">term_closedn_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>, (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a> <span class="id" title="var">_</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>, (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a> <span class="id" title="var">_</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ppars</span> <span class="id" title="var">pret</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_predicate"><span class="id" title="definition">test_predicate</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">b</span>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">b0</span>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">len</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_id" class="idref" href="#subst_id"><span class="id" title="lemma">subst_id</span></a> <a id="s:50" class="idref" href="#s:50"><span class="id" title="binder">s</span></a> <a id="f82dd08e39371d88da60b669e12500e0" class="idref" href="#f82dd08e39371d88da60b669e12500e0"><span class="id" title="binder">Γ</span></a> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:50"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:50"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:50"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:52"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">ass</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids"><span class="id" title="lemma">subst_ids</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_ext_closed"><span class="id" title="lemma">inst_ext_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some'"><span class="id" title="lemma">nth_error_Some'</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span>) <span class="id" title="var">H</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl</span>, <span class="id" title="var">H</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#reln_alt_eq"><span class="id" title="lemma">reln_alt_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">ass</span> <span class="id" title="var">e</span>. <span class="id" title="var">revert</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>, <span class="id" title="var">ass</span>, <span class="id" title="var">x0</span> |- × ⇒ <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">ass</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΓ</span> <span class="id" title="var">ass</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΓ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_inst_idsn" class="idref" href="#map_inst_idsn"><span class="id" title="lemma">map_inst_idsn</span></a> <a id="l:53" class="idref" href="#l:53"><span class="id" title="binder">l</span></a> <a id="l':54" class="idref" href="#l':54"><span class="id" title="binder">l'</span></a> <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:53"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:53"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l':54"><span class="id" title="variable">l'</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:55"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:53"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">l'</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">l</span> <span class="id" title="var">a</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_case"><span class="id" title="lemma">rev_case</span></a> ⇒ // /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> ⇒ [=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_app"><span class="id" title="lemma">subst_consn_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> /= ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">List.app_length</span></a> /= //; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> /= // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_decl_closed" class="idref" href="#inst_decl_closed"><span class="id" title="lemma">inst_decl_closed</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b0ba84f119d49f977643a90f1f3113df" class="idref" href="#b0ba84f119d49f977643a90f1f3113df"><span class="id" title="binder">σ</span></a> <a id="k:57" class="idref" href="#k:57"><span class="id" title="binder">k</span></a> <a id="d:58" class="idref" href="#d:58"><span class="id" title="binder">d</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_decl"><span class="id" title="abbreviation">closed_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:57"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:58"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:57"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b0ba84f119d49f977643a90f1f3113df"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:58"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:58"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">k</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaCoq.Common.BasicAst.html#ondeclP"><span class="id" title="lemma">ondeclP</span></a> <a class="idref" href="MetaCoq.Utils.MCReflect.html#reflectT_pred"><span class="id" title="lemma">reflectT_pred</span></a>) ⇒ <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_decl_id_spec"><span class="id" title="lemma">map_decl_id_spec</span></a>; <span class="id" title="var">tea</span> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_tele_inst" class="idref" href="#closed_tele_inst"><span class="id" title="lemma">closed_tele_inst</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5a9b0098afca755e8cd9d7504a2c357d" class="idref" href="#5a9b0098afca755e8cd9d7504a2c357d"><span class="id" title="binder">σ</span></a> <a id="ctx:60" class="idref" href="#ctx:60"><span class="id" title="binder">ctx</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:60"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:61" class="idref" href="#i:61"><span class="id" title="binder">i</span></a> <a id="decl:62" class="idref" href="#decl:62"><span class="id" title="binder">decl</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:61"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5a9b0098afca755e8cd9d7504a2c357d"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#decl:62"><span class="id" title="variable">decl</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:60"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:60"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">ctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> /<a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> ⇒ [<span class="id" title="var">closedx</span> <span class="id" title="var">Hctx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_decl_closed"><span class="id" title="lemma">inst_decl_closed</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_closedn_ctx" class="idref" href="#inst_closedn_ctx"><span class="id" title="lemma">inst_closedn_ctx</span></a> <a id="f:63" class="idref" href="#f:63"><span class="id" title="binder">f</span></a> <a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a> <a id="79e37c9ff12ecc84ba1fac2efe4b1d20" class="idref" href="#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:63"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#79e37c9ff12ecc84ba1fac2efe4b1d20"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#alli_fold_context_k"><span class="id" title="lemma">alli_fold_context_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_decl_closed"><span class="id" title="lemma">inst_decl_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typed_inst" class="idref" href="#typed_inst"><span class="id" title="lemma">typed_inst</span></a> {<a id="cf:66" class="idref" href="#cf:66"><span class="id" title="binder">cf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="7473bf99cf9a3fe22029fde8c9a850a7" class="idref" href="#7473bf99cf9a3fe22029fde8c9a850a7"><span class="id" title="binder">Σ</span></a> <a id="7414bf024cc8a6b3141a135f5f1ab24c" class="idref" href="#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="binder">Γ</span></a> <a id="t:69" class="idref" href="#t:69"><span class="id" title="binder">t</span></a> <a id="T:70" class="idref" href="#T:70"><span class="id" title="binder">T</span></a> <a id="k:71" class="idref" href="#k:71"><span class="id" title="binder">k</span></a> <a id="0ae2c1b7c19c1b09433317da0b615082" class="idref" href="#0ae2c1b7c19c1b09433317da0b615082"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7473bf99cf9a3fe22029fde8c9a850a7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7473bf99cf9a3fe22029fde8c9a850a7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:69"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#T:70"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#T:70"><span class="id" title="variable">T</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0ae2c1b7c19c1b09433317da0b615082"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#T:70"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:69"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0ae2c1b7c19c1b09433317da0b615082"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:69"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">k</span> σ <span class="id" title="var">hΣ</span> <span class="id" title="var">hk</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hΓ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#typecheck_closed"><span class="id" title="lemma">typecheck_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">hclΓ</span> <span class="id" title="var">hcl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hcl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">hcl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clt</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a> <span class="id" title="var">k</span> <span class="id" title="var">clt</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a> <span class="id" title="var">k</span> <span class="id" title="var">clT</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">ht</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">hT</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_wf_local" class="idref" href="#inst_wf_local"><span class="id" title="lemma">inst_wf_local</span></a> {<a id="cf:73" class="idref" href="#cf:73"><span class="id" title="binder">cf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="0bb1b226b53b6455e93ad6a4d211d8ec" class="idref" href="#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="binder">Σ</span></a> <a id="e51bcafeb9b433188a2c3b3a39d1e22b" class="idref" href="#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="binder">Γ</span></a> <a id="bb9f148e9a80fad1ea0458fa9f4a09e9" class="idref" href="#bb9f148e9a80fad1ea0458fa9f4a09e9"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bb9f148e9a80fad1ea0458fa9f4a09e9"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e51bcafeb9b433188a2c3b3a39d1e22b"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> σ <span class="id" title="var">hΣ</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_snoc0"><span class="id" title="lemma">fold_context_k_snoc0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">ht</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#typed_inst"><span class="id" title="lemma">typed_inst</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_snoc0"><span class="id" title="lemma">fold_context_k_snoc0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#typed_inst"><span class="id" title="lemma">typed_inst</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#typed_inst"><span class="id" title="lemma">typed_inst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t1</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_destArity" class="idref" href="#inst_destArity"><span class="id" title="lemma">inst_destArity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ctx:77" class="idref" href="#ctx:77"><span class="id" title="binder">ctx</span></a> <a id="t:78" class="idref" href="#t:78"><span class="id" title="binder">t</span></a> <a id="36a428aee24e113c951be020d2a663a9" class="idref" href="#36a428aee24e113c951be020d2a663a9"><span class="id" title="binder">σ</span></a> <a id="args:80" class="idref" href="#args:80"><span class="id" title="binder">args</span></a> <a id="s:81" class="idref" href="#s:81"><span class="id" title="binder">s</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:77"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:78"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:80"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:81"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#36a428aee24e113c951be020d2a663a9"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:77"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:78"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:77"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#36a428aee24e113c951be020d2a663a9"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#36a428aee24e113c951be020d2a663a9"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:80"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:81"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ctx</span> <span class="id" title="var">t</span> σ <span class="id" title="var">args</span> <span class="id" title="var">s</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctx</span>, σ, <span class="id" title="var">args</span>, <span class="id" title="var">s</span>, <span class="id" title="var">h</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">IHt2</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">IHt3</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Up_subst_instance" class="idref" href="#Up_subst_instance"><span class="id" title="lemma">Up_subst_instance</span></a> <a id="u:82" class="idref" href="#u:82"><span class="id" title="binder">u</span></a> <a id="78e95ecd0ac555e18a30c8417ce0c5ad" class="idref" href="#78e95ecd0ac555e18a30c8417ce0c5ad"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:82"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#78e95ecd0ac555e18a30c8417ce0c5ad"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:82"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#78e95ecd0ac555e18a30c8417ce0c5ad"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Up"><span class="id" title="lemma">up_Up</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst_instance"><span class="id" title="lemma">rename_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="upn_subst_instance" class="idref" href="#upn_subst_instance"><span class="id" title="lemma">upn_subst_instance</span></a> <a id="u:84" class="idref" href="#u:84"><span class="id" title="binder">u</span></a> <a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="fe2b596e2bfb6e5a10b504397c4bc4c9" class="idref" href="#fe2b596e2bfb6e5a10b504397c4bc4c9"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:85"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:84"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#fe2b596e2bfb6e5a10b504397c4bc4c9"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:84"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:85"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#fe2b596e2bfb6e5a10b504397c4bc4c9"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#rename_subst_instance"><span class="id" title="lemma">rename_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_subst_instance" class="idref" href="#Upn_subst_instance"><span class="id" title="lemma">Upn_subst_instance</span></a> <a id="u:87" class="idref" href="#u:87"><span class="id" title="binder">u</span></a> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> <a id="7447d91e2fba8ca2cefcebd175fa45f6" class="idref" href="#7447d91e2fba8ca2cefcebd175fa45f6"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:87"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7447d91e2fba8ca2cefcebd175fa45f6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:87"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7447d91e2fba8ca2cefcebd175fa45f6"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#upn_subst_instance"><span class="id" title="lemma">upn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_subst_instance" class="idref" href="#inst_subst_instance"><span class="id" title="lemma">inst_subst_instance</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:90" class="idref" href="#u:90"><span class="id" title="binder">u</span></a> <a id="t:91" class="idref" href="#t:91"><span class="id" title="binder">t</span></a> <a id="ab2738b9d9b1507f91028eefee5968da" class="idref" href="#ab2738b9d9b1507f91028eefee5968da"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:90"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:91"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:90"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ab2738b9d9b1507f91028eefee5968da"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:90"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:91"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ab2738b9d9b1507f91028eefee5968da"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> σ |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHt</span> ?<span class="id" title="var">IHt1</span> ?<span class="id" title="var">IHt2</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span><br/>
&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">f_equal</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">solve_all</span> ; <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>; <span class="id" title="var">sigma</span>; <span class="id" title="tactic">rewrite</span>-<span class="id" title="var">IHt2</span> -?<span class="id" title="var">IHt3</span> ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Up_subst_instance"><span class="id" title="lemma">Up_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a>, <span class="id" title="var">inst_predicate</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#upn_subst_instance"><span class="id" title="lemma">upn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">inst_branch</span>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#upn_subst_instance"><span class="id" title="lemma">upn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#upn_subst_instance"><span class="id" title="lemma">upn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#upn_subst_instance"><span class="id" title="lemma">upn_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_vass_map_def_inst" class="idref" href="#map_vass_map_def_inst"><span class="id" title="lemma">map_vass_map_def_inst</span></a> <a id="g:93" class="idref" href="#g:93"><span class="id" title="binder">g</span></a> <a id="l:94" class="idref" href="#l:94"><span class="id" title="binder">l</span></a> <a id="s:95" class="idref" href="#s:95"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:96" class="idref" href="#i:96"><span class="id" title="binder">i</span></a> (<a id="d:97" class="idref" href="#d:97"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:97"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:96"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:97"><span class="id" title="variable">d</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:95"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#g:93"><span class="id" title="variable">g</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:94"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:100" class="idref" href="#i:100"><span class="id" title="binder">i</span></a> <a id="d:101" class="idref" href="#d:101"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:100"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:95"><span class="id" title="variable">s</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:101"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:98" class="idref" href="#i:98"><span class="id" title="binder">i</span></a> (<a id="d:99" class="idref" href="#d:99"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:99"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:98"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:99"><span class="id" title="variable">d</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:94"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_mapi"><span class="id" title="lemma">mapi_mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_fix_context" class="idref" href="#inst_fix_context"><span class="id" title="lemma">inst_fix_context</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="mfix:102" class="idref" href="#mfix:102"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)) <a id="s:103" class="idref" href="#s:103"><span class="id" title="binder">s</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:103"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:102"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:103"><span class="id" title="variable">s</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:102"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:103"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:102"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#map_vass_map_def_inst"><span class="id" title="lemma">map_vass_map_def_inst</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_mapi"><span class="id" title="lemma">rev_mapi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_alt"><span class="id" title="lemma">inst_context_alt</span></a> <span class="id" title="var">s</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_fix_context_up" class="idref" href="#inst_fix_context_up"><span class="id" title="lemma">inst_fix_context_up</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="mfix:104" class="idref" href="#mfix:104"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)) <a id="s:105" class="idref" href="#s:105"><span class="id" title="binder">s</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:105"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:104"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:105"><span class="id" title="variable">s</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:104"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:105"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:104"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#map_vass_map_def_inst"><span class="id" title="lemma">map_vass_map_def_inst</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_mapi"><span class="id" title="lemma">rev_mapi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_alt"><span class="id" title="lemma">inst_context_alt</span></a> <span class="id" title="var">s</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_context_inst" class="idref" href="#mapi_context_inst"><span class="id" title="lemma">mapi_context_inst</span></a> <a id="da3fe8135a0510b4fdaeb1371519bb14" class="idref" href="#da3fe8135a0510b4fdaeb1371519bb14"><span class="id" title="binder">σ</span></a> <a id="ctx:107" class="idref" href="#ctx:107"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> (<span class="id" title="keyword">fun</span> <a id="k:108" class="idref" href="#k:108"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:108"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#da3fe8135a0510b4fdaeb1371519bb14"><span class="id" title="variable">σ</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:107"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#da3fe8135a0510b4fdaeb1371519bb14"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:107"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context_fold"><span class="id" title="lemma">mapi_context_fold</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_predicate_pcontext" class="idref" href="#inst_predicate_pcontext"><span class="id" title="lemma">inst_predicate_pcontext</span></a> <a id="f:109" class="idref" href="#f:109"><span class="id" title="binder">f</span></a> (<a id="p:110" class="idref" href="#p:110"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:110"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:109"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:110"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> /= //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_predicate_preturn" class="idref" href="#inst_predicate_preturn"><span class="id" title="lemma">inst_predicate_preturn</span></a> <a id="f:111" class="idref" href="#f:111"><span class="id" title="binder">f</span></a> <a id="p:112" class="idref" href="#p:112"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:112"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:111"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:112"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:111"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:112"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_mkLambda_or_LetIn" class="idref" href="#inst_mkLambda_or_LetIn"><span class="id" title="lemma">inst_mkLambda_or_LetIn</span></a> <a id="f:113" class="idref" href="#f:113"><span class="id" title="binder">f</span></a> <a id="d:114" class="idref" href="#d:114"><span class="id" title="binder">d</span></a> <a id="t:115" class="idref" href="#t:115"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:113"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkLambda_or_LetIn"><span class="id" title="definition">mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:114"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:115"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkLambda_or_LetIn"><span class="id" title="definition">mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:114"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:113"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:115"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkLambda_or_LetIn"><span class="id" title="definition">mkLambda_or_LetIn</span></a> /=; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Up"><span class="id" title="lemma">up_Up</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_it_mkLambda_or_LetIn" class="idref" href="#inst_it_mkLambda_or_LetIn"><span class="id" title="lemma">inst_it_mkLambda_or_LetIn</span></a> <a id="f:116" class="idref" href="#f:116"><span class="id" title="binder">f</span></a> <a id="ctx:117" class="idref" href="#ctx:117"><span class="id" title="binder">ctx</span></a> <a id="t:118" class="idref" href="#t:118"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:116"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:117"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:118"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:116"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:117"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:117"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:116"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:118"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span>; <span class="id" title="tactic">simpl</span> ⇒ <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IHctx</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkLambda_or_LetIn"><span class="id" title="lemma">inst_mkLambda_or_LetIn</span></a> /=; <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_reln" class="idref" href="#inst_reln"><span class="id" title="lemma">inst_reln</span></a> <a id="f:119" class="idref" href="#f:119"><span class="id" title="binder">f</span></a> <a id="ctx:120" class="idref" href="#ctx:120"><span class="id" title="binder">ctx</span></a> <a id="n:121" class="idref" href="#n:121"><span class="id" title="binder">n</span></a> <a id="acc:122" class="idref" href="#acc:122"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:120"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#acc:122"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:120"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:119"><span class="id" title="variable">f</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#acc:122"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:120"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.reln"><span class="id" title="definition">reln</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#acc:122"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:120"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">acc</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">clacc</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">clacc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <span class="id" title="var">IHctx</span> // /= -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHctx</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)) /= // -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">clacc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_to_extended_list" class="idref" href="#inst_to_extended_list"><span class="id" title="lemma">inst_to_extended_list</span></a> <a id="f:123" class="idref" href="#f:123"><span class="id" title="binder">f</span></a> <a id="ctx:124" class="idref" href="#ctx:124"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:124"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:123"><span class="id" title="variable">f</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:124"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:124"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_reln"><span class="id" title="lemma">inst_reln</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_subst" class="idref" href="#inst_subst"><span class="id" title="lemma">inst_subst</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f:125" class="idref" href="#f:125"><span class="id" title="binder">f</span></a> <a id="s:126" class="idref" href="#s:126"><span class="id" title="binder">s</span></a> <a id="n:127" class="idref" href="#n:127"><span class="id" title="binder">n</span></a> <a id="t:128" class="idref" href="#t:128"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:125"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:126"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:128"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:125"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:126"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:127"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:126"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:125"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:128"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a> //. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a> //. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a> //. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a> //; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">sigma</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">n</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a> //. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a> ⇒ <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a> //; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_subst_k" class="idref" href="#inst_context_subst_k"><span class="id" title="lemma">inst_context_subst_k</span></a> <a id="f:129" class="idref" href="#f:129"><span class="id" title="binder">f</span></a> <a id="s:130" class="idref" href="#s:130"><span class="id" title="binder">s</span></a> <a id="k:131" class="idref" href="#k:131"><span class="id" title="binder">k</span></a> <a id="a8852a1478e92cfb3798a7cee11ef3f8" class="idref" href="#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:131"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:129"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:130"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:131"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:129"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:130"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:131"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:131"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:130"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:129"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8852a1478e92cfb3798a7cee11ef3f8"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_alt"><span class="id" title="lemma">inst_context_alt</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_mapi"><span class="id" title="lemma">mapi_mapi</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a> !<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a> ⇒ <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst"><span class="id" title="lemma">inst_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_subst" class="idref" href="#inst_context_subst"><span class="id" title="lemma">inst_context_subst</span></a> <a id="f:133" class="idref" href="#f:133"><span class="id" title="binder">f</span></a> <a id="s:134" class="idref" href="#s:134"><span class="id" title="binder">s</span></a> <a id="95a2dff135c0b1fef773df5f3c6e831b" class="idref" href="#95a2dff135c0b1fef773df5f3c6e831b"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:133"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:134"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#95a2dff135c0b1fef773df5f3c6e831b"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:133"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:134"><span class="id" title="variable">s</span></a>) 0 (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:134"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:133"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#95a2dff135c0b1fef773df5f3c6e831b"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_subst_k"><span class="id" title="lemma">inst_context_subst_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_ctx_expand_lets" class="idref" href="#closedn_ctx_expand_lets"><span class="id" title="lemma">closedn_ctx_expand_lets</span></a> (<a id="k:136" class="idref" href="#k:136"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="c91bc42e648d459a7dfac8df37a90ce6" class="idref" href="#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="binder">Γ</span></a> <a id="1cdb497ac8c6a3b50ffc8779f303d9ad" class="idref" href="#1cdb497ac8c6a3b50ffc8779f303d9ad"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:136"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1cdb497ac8c6a3b50ffc8779f303d9ad"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:136"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c91bc42e648d459a7dfac8df37a90ce6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1cdb497ac8c6a3b50ffc8779f303d9ad"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [<span class="id" title="var">HΓ</span> <span class="id" title="var">HΔ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_expand_lets"><span class="id" title="lemma">closedn_ctx_expand_lets</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_predicate_context" class="idref" href="#inst_case_predicate_context"><span class="id" title="lemma">inst_case_predicate_context</span></a> {<a id="cf:139" class="idref" href="#cf:139"><span class="id" title="binder">cf</span></a>} {<a id="75ed2921b549f9c84d9f181eb5d84e73" class="idref" href="#75ed2921b549f9c84d9f181eb5d84e73"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="9c5ad4d50b589f3e4b4c29c6dec1f5e9" class="idref" href="#9c5ad4d50b589f3e4b4c29c6dec1f5e9"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#75ed2921b549f9c84d9f181eb5d84e73"><span class="id" title="variable">Σ</span></a>} {<a id="ind:142" class="idref" href="#ind:142"><span class="id" title="binder">ind</span></a> <a id="mdecl:143" class="idref" href="#mdecl:143"><span class="id" title="binder">mdecl</span></a> <a id="idecl:144" class="idref" href="#idecl:144"><span class="id" title="binder">idecl</span></a> <a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a> <a id="p:146" class="idref" href="#p:146"><span class="id" title="binder">p</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#75ed2921b549f9c84d9f181eb5d84e73"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:142"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:143"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:144"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:143"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:144"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:146"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:145"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:142"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:143"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:144"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:146"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:142"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:143"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:144"><span class="id" title="variable">idecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:146"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#map2_set_binder_name_fold"><span class="id" title="lemma">map2_set_binder_name_fold</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">len</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pcontext"><span class="id" title="lemma">wf_predicate_length_pcontext</span></a> <span class="id" title="var">wfp</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <span class="id" title="var">f</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> /= !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_cons"><span class="id" title="lemma">subst_instance_cons</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_subst"><span class="id" title="lemma">inst_context_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closedn_ctx"><span class="id" title="lemma">inst_closedn_ctx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closedn_ctx_expand_lets"><span class="id" title="lemma">closedn_ctx_expand_lets</span></a> 0 (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <span class="id" title="var">idecl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_pars_indices"><span class="id" title="lemma">declared_inductive_closed_pars_indices</span></a> <span class="id" title="var">decli</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">closedn_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst"><span class="id" title="lemma">subst_inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_ext_closed"><span class="id" title="lemma">inst_ext_closed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <span class="id" title="var">idecl</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_compose"><span class="id" title="lemma">Upn_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_subst_consn_lt"><span class="id" title="lemma">Upn_subst_consn_lt</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="notation">?(</span><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>). <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_subst_consn_lt"><span class="id" title="lemma">Upn_subst_consn_lt</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="notation">?(</span><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>). <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_to_extended_list"><span class="id" title="lemma">subst_instance_to_extended_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>); [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_to_extended_list"><span class="id" title="lemma">closedn_to_extended_list</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_wf_predicate" class="idref" href="#inst_wf_predicate"><span class="id" title="lemma">inst_wf_predicate</span></a> <a id="mdecl:147" class="idref" href="#mdecl:147"><span class="id" title="binder">mdecl</span></a> <a id="idecl:148" class="idref" href="#idecl:148"><span class="id" title="binder">idecl</span></a> <a id="f:149" class="idref" href="#f:149"><span class="id" title="binder">f</span></a> <a id="p:150" class="idref" href="#p:150"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:147"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:148"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:150"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:147"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:148"><span class="id" title="variable">idecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:149"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:150"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_wf_branch" class="idref" href="#inst_wf_branch"><span class="id" title="lemma">inst_wf_branch</span></a> <a id="cdecl:151" class="idref" href="#cdecl:151"><span class="id" title="binder">cdecl</span></a> <a id="f:152" class="idref" href="#f:152"><span class="id" title="binder">f</span></a> <a id="br:153" class="idref" href="#br:153"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:151"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:153"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:151"><span class="id" title="variable">cdecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:152"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:153"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch_gen"><span class="id" title="definition">wf_branch_gen</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_wf_branches" class="idref" href="#inst_wf_branches"><span class="id" title="lemma">inst_wf_branches</span></a> <a id="cdecl:154" class="idref" href="#cdecl:154"><span class="id" title="binder">cdecl</span></a> <a id="f:155" class="idref" href="#f:155"><span class="id" title="binder">f</span></a> <a id="brs:156" class="idref" href="#brs:156"><span class="id" title="binder">brs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:154"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#brs:156"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:154"><span class="id" title="variable">cdecl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="br:157" class="idref" href="#br:157"><span class="id" title="binder">br</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:155"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:157"><span class="id" title="variable">br</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#brs:156"><span class="id" title="variable">brs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches_gen"><span class="id" title="definition">wf_branches_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_closed_decl" class="idref" href="#inst_closed_decl"><span class="id" title="lemma">inst_closed_decl</span></a> <a id="k:158" class="idref" href="#k:158"><span class="id" title="binder">k</span></a> <a id="f:159" class="idref" href="#f:159"><span class="id" title="binder">f</span></a> <a id="d:160" class="idref" href="#d:160"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_decl"><span class="id" title="abbreviation">closed_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:158"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:160"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:158"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:159"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:160"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:160"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [? [] ?] ⇒ /=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>⇒ [] <span class="id" title="var">clt</span> <span class="id" title="var">clty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">clt</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_closed_constructor_body" class="idref" href="#inst_closed_constructor_body"><span class="id" title="lemma">inst_closed_constructor_body</span></a> <a id="mdecl:161" class="idref" href="#mdecl:161"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:162" class="idref" href="#cdecl:162"><span class="id" title="binder">cdecl</span></a> <a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closed_constructor_body"><span class="id" title="definition">closed_constructor_body</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:161"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:162"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:161"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:162"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:162"><span class="id" title="variable">cdecl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closed_constructor_body"><span class="id" title="definition">closed_constructor_body</span></a> /<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.map_constructor_body"><span class="id" title="definition">map_constructor_body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>⇒ [] /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">clctx</span> <span class="id" title="var">clind</span> <span class="id" title="var">clty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">fold_context_k</span>] <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">clctx</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#alli_fold_context_k"><span class="id" title="lemma">alli_fold_context_k</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">d</span> <span class="id" title="var">cldecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closed_decl"><span class="id" title="lemma">inst_closed_decl</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">cldecl</span>; <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_cstr_args" class="idref" href="#inst_cstr_args"><span class="id" title="lemma">inst_cstr_args</span></a> <a id="mdecl:164" class="idref" href="#mdecl:164"><span class="id" title="binder">mdecl</span></a> <a id="f:165" class="idref" href="#f:165"><span class="id" title="binder">f</span></a> <a id="cdecl:166" class="idref" href="#cdecl:166"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:164"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:166"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:164"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:164"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:165"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:166"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_closedn_terms" class="idref" href="#inst_closedn_terms"><span class="id" title="lemma">inst_closedn_terms</span></a> <a id="f:167" class="idref" href="#f:167"><span class="id" title="binder">f</span></a> <a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a> <a id="ts:169" class="idref" href="#ts:169"><span class="id" title="binder">ts</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:168"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ts:169"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:168"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:167"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ts:169"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ts:169"><span class="id" title="variable">ts</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_closed_extended_subst" class="idref" href="#inst_closed_extended_subst"><span class="id" title="lemma">inst_closed_extended_subst</span></a> <a id="f:170" class="idref" href="#f:170"><span class="id" title="binder">f</span></a> <a id="cebcdde4cf278c2497d80b5952bddf81" class="idref" href="#cebcdde4cf278c2497d80b5952bddf81"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cebcdde4cf278c2497d80b5952bddf81"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cebcdde4cf278c2497d80b5952bddf81"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:170"><span class="id" title="variable">f</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cebcdde4cf278c2497d80b5952bddf81"><span class="id" title="variable">Γ</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cebcdde4cf278c2497d80b5952bddf81"><span class="id" title="variable">Γ</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closedn_terms"><span class="id" title="lemma">inst_closedn_terms</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_extended_subst_gen"><span class="id" title="lemma">closedn_extended_subst_gen</span></a> <span class="id" title="var">Γ</span> 0 0).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_lift" class="idref" href="#inst_lift"><span class="id" title="lemma">inst_lift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f:172" class="idref" href="#f:172"><span class="id" title="binder">f</span></a> <a id="n:173" class="idref" href="#n:173"><span class="id" title="binder">n</span></a> <a id="k:174" class="idref" href="#k:174"><span class="id" title="binder">k</span></a> <a id="t:175" class="idref" href="#t:175"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:174"><span class="id" title="variable">k</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:172"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:174"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:175"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:174"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:174"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:172"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:175"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_compose"><span class="id" title="lemma">Upn_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_lift" class="idref" href="#inst_context_lift"><span class="id" title="lemma">inst_context_lift</span></a> <a id="f:176" class="idref" href="#f:176"><span class="id" title="binder">f</span></a> <a id="n:177" class="idref" href="#n:177"><span class="id" title="binder">n</span></a> <a id="k:178" class="idref" href="#k:178"><span class="id" title="binder">k</span></a> <a id="7807f98c7c2a7e31d92972793b159d64" class="idref" href="#7807f98c7c2a7e31d92972793b159d64"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:177"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:178"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:176"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:177"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:178"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7807f98c7c2a7e31d92972793b159d64"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:177"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:178"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:178"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:176"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7807f98c7c2a7e31d92972793b159d64"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_alt"><span class="id" title="lemma">inst_context_alt</span></a> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_alt"><span class="id" title="lemma">lift_context_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_mapi"><span class="id" title="lemma">mapi_mapi</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> !<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a> ⇒ <span class="id" title="var">t</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_lift"><span class="id" title="lemma">inst_lift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_inds" class="idref" href="#inst_inds"><span class="id" title="lemma">inst_inds</span></a> <a id="f:180" class="idref" href="#f:180"><span class="id" title="binder">f</span></a> <a id="ind:181" class="idref" href="#ind:181"><span class="id" title="binder">ind</span></a> <a id="pu:182" class="idref" href="#pu:182"><span class="id" title="binder">pu</span></a> <a id="bodies:183" class="idref" href="#bodies:183"><span class="id" title="binder">bodies</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:180"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:181"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pu:182"><span class="id" title="variable">pu</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bodies:183"><span class="id" title="variable">bodies</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:181"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pu:182"><span class="id" title="variable">pu</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bodies:183"><span class="id" title="variable">bodies</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">bodies</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_ctx_args" class="idref" href="#closed_ctx_args"><span class="id" title="lemma">closed_ctx_args</span></a> <a id="n:184" class="idref" href="#n:184"><span class="id" title="binder">n</span></a> <a id="bctx:185" class="idref" href="#bctx:185"><span class="id" title="binder">bctx</span></a> <a id="ctx:186" class="idref" href="#ctx:186"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bctx:185"><span class="id" title="variable">bctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:186"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:184"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:186"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:184"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bctx:185"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:186"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bctx</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">bctx</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [=] <span class="id" title="var">hlen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>⇒ [<span class="id" title="var">cla</span> <span class="id" title="var">clctx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span> // /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hlen</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_set_binder_name" class="idref" href="#inst_context_set_binder_name"><span class="id" title="lemma">inst_context_set_binder_name</span></a> <a id="f:187" class="idref" href="#f:187"><span class="id" title="binder">f</span></a> <a id="ctx:188" class="idref" href="#ctx:188"><span class="id" title="binder">ctx</span></a> <a id="ctx':189" class="idref" href="#ctx':189"><span class="id" title="binder">ctx'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:188"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx':189"><span class="id" title="variable">ctx'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:187"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:188"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx':189"><span class="id" title="variable">ctx'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:188"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:187"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx':189"><span class="id" title="variable">ctx'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctx'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">ctx'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a> // <span class="id" title="var">H0</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a> // <span class="id" title="var">H0</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_subst_instance" class="idref" href="#inst_context_subst_instance"><span class="id" title="lemma">inst_context_subst_instance</span></a> <a id="f:190" class="idref" href="#f:190"><span class="id" title="binder">f</span></a> <a id="u:191" class="idref" href="#u:191"><span class="id" title="binder">u</span></a> <a id="cfcf9625e6d3f263e97950fc9e914d08" class="idref" href="#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:191"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:190"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:191"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:191"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:190"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_map"><span class="id" title="lemma">fold_context_k_map</span></a> // [<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a> ⇒ <span class="id" title="var">k</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Upn_subst_instance"><span class="id" title="lemma">Upn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst_instance"><span class="id" title="lemma">inst_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_inst_case_context" class="idref" href="#inst_inst_case_context"><span class="id" title="lemma">inst_inst_case_context</span></a> <a id="f:193" class="idref" href="#f:193"><span class="id" title="binder">f</span></a> <a id="pars:194" class="idref" href="#pars:194"><span class="id" title="binder">pars</span></a> <a id="puinst:195" class="idref" href="#puinst:195"><span class="id" title="binder">puinst</span></a> <a id="ctx:196" class="idref" href="#ctx:196"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:194"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:196"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:193"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:194"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#puinst:195"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:196"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:193"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:194"><span class="id" title="variable">pars</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#puinst:195"><span class="id" title="variable">puinst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:194"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:193"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:196"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">clctx</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_subst"><span class="id" title="lemma">inst_context_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closedn_ctx"><span class="id" title="lemma">inst_closedn_ctx</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">closedn_subst_instance_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_inst_case_context_wf" class="idref" href="#inst_inst_case_context_wf"><span class="id" title="lemma">inst_inst_case_context_wf</span></a> <a id="f:197" class="idref" href="#f:197"><span class="id" title="binder">f</span></a> <a id="pars:198" class="idref" href="#pars:198"><span class="id" title="binder">pars</span></a> <a id="puinst:199" class="idref" href="#puinst:199"><span class="id" title="binder">puinst</span></a> <a id="ctx:200" class="idref" href="#ctx:200"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:201" class="idref" href="#k:201"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:201"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:198"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:200"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:197"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:198"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#puinst:199"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:200"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:197"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:198"><span class="id" title="variable">pars</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#puinst:199"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:200"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inst_case_context"><span class="id" title="lemma">inst_inst_case_context</span></a> //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closedn_ctx"><span class="id" title="lemma">inst_closedn_ctx</span></a> // <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_cstr_branch_context" class="idref" href="#inst_cstr_branch_context"><span class="id" title="lemma">inst_cstr_branch_context</span></a> <a id="f:202" class="idref" href="#f:202"><span class="id" title="binder">f</span></a> <a id="ind:203" class="idref" href="#ind:203"><span class="id" title="binder">ind</span></a> <a id="mdecl:204" class="idref" href="#mdecl:204"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:205" class="idref" href="#cdecl:205"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:204"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:204"><span class="id" title="variable">mdecl</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:202"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:203"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:204"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:205"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:203"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:204"><span class="id" title="variable">mdecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:204"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:202"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:205"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">clctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_subst"><span class="id" title="lemma">inst_context_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closed_extended_subst"><span class="id" title="lemma">inst_closed_extended_subst</span></a> //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_lift"><span class="id" title="lemma">inst_context_lift</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_subst_k"><span class="id" title="lemma">inst_context_subst_k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inds"><span class="id" title="lemma">inst_inds</span></a> /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_ctx_cstr_branch_context" class="idref" href="#closedn_ctx_cstr_branch_context"><span class="id" title="lemma">closedn_ctx_cstr_branch_context</span></a> {<a id="cf:206" class="idref" href="#cf:206"><span class="id" title="binder">cf</span></a>} {<a id="2008e4a6f6b0fd127aa6f855da30ec04" class="idref" href="#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="48638b74f451317d58f1cdb5f0638078" class="idref" href="#48638b74f451317d58f1cdb5f0638078"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a>} {<a id="c:209" class="idref" href="#c:209"><span class="id" title="binder">c</span></a> <a id="mdecl:210" class="idref" href="#mdecl:210"><span class="id" title="binder">mdecl</span></a> <a id="idecl:211" class="idref" href="#idecl:211"><span class="id" title="binder">idecl</span></a> <a id="cdecl:212" class="idref" href="#cdecl:212"><span class="id" title="binder">cdecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c:209"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:210"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:211"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:212"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:210"><span class="id" title="variable">mdecl</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c:209"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:210"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:212"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closedn_ctx_expand_lets"><span class="id" title="lemma">closedn_ctx_expand_lets</span></a> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">cl</span>) /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_subst"><span class="id" title="lemma">closedn_ctx_subst</span></a> 0) ⇒ /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed_args"><span class="id" title="lemma">declared_constructor_closed_args</span></a> <span class="id" title="var">cl</span>) //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closed_inds"><span class="id" title="lemma">closed_inds</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_branch_context_gen" class="idref" href="#inst_case_branch_context_gen"><span class="id" title="lemma">inst_case_branch_context_gen</span></a> {<a id="cf:213" class="idref" href="#cf:213"><span class="id" title="binder">cf</span></a>} {<a id="e86bbde777236a61b5ad1abac5d71e29" class="idref" href="#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="8de84b1700b99c86f5e439ecbe593eda" class="idref" href="#8de84b1700b99c86f5e439ecbe593eda"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a>} {<a id="ind:216" class="idref" href="#ind:216"><span class="id" title="binder">ind</span></a> <a id="i:217" class="idref" href="#i:217"><span class="id" title="binder">i</span></a> <a id="idecl:218" class="idref" href="#idecl:218"><span class="id" title="binder">idecl</span></a> <a id="mdecl:219" class="idref" href="#mdecl:219"><span class="id" title="binder">mdecl</span></a> <a id="f:220" class="idref" href="#f:220"><span class="id" title="binder">f</span></a> <a id="p:221" class="idref" href="#p:221"><span class="id" title="binder">p</span></a> <a id="bctx:222" class="idref" href="#bctx:222"><span class="id" title="binder">bctx</span></a> <a id="cdecl:223" class="idref" href="#cdecl:223"><span class="id" title="binder">cdecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:216"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:217"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:219"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:218"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:223"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bctx:222"><span class="id" title="variable">bctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:223"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:221"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:219"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:220"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:216"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:219"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bctx:222"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:223"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:216"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:219"><span class="id" title="variable">mdecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:221"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bctx:222"><span class="id" title="variable">bctx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:219"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:223"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">declc</span> <span class="id" title="var">hlen</span> <span class="id" title="var">hlen'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_branch_context_gen"><span class="id" title="definition">pre_case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_set_binder_name"><span class="id" title="lemma">inst_context_set_binder_name</span></a>; <span class="id" title="var">len</span> ⇒ //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inst_case_context_wf"><span class="id" title="lemma">inst_inst_case_context_wf</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a> <span class="id" title="var">hlen'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closedn_ctx_cstr_branch_context"><span class="id" title="lemma">closedn_ctx_cstr_branch_context</span></a> <span class="id" title="var">declc</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closed_constructor_body"><span class="id" title="lemma">inst_closed_constructor_body</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed"><span class="id" title="lemma">declared_constructor_closed</span></a> <span class="id" title="var">declc</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_0" class="idref" href="#up_0"><span class="id" title="lemma">up_0</span></a> <a id="f:224" class="idref" href="#f:224"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:224"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:224"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> /=; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ren_id"><span class="id" title="lemma">rename_ren_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forallb_map_spec" class="idref" href="#forallb_map_spec"><span class="id" title="lemma">forallb_map_spec</span></a> {<a id="A:225" class="idref" href="#A:225"><span class="id" title="binder">A</span></a> <a id="B:226" class="idref" href="#B:226"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} {<a id="p:227" class="idref" href="#p:227"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:225"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="l:228" class="idref" href="#l:228"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:225"><span class="id" title="variable">A</span></a>} {<a id="f:229" class="idref" href="#f:229"><span class="id" title="binder">f</span></a> <a id="g:230" class="idref" href="#g:230"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:225"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:226"><span class="id" title="variable">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:231" class="idref" href="#x:231"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:225"><span class="id" title="variable">A</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:227"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:229"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#g:230"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:231"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:227"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:228"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:229"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:228"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#g:230"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:228"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span> [<span class="id" title="var">px</span> <span class="id" title="var">pl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. - <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>. - <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_branch_type" class="idref" href="#inst_case_branch_type"><span class="id" title="lemma">inst_case_branch_type</span></a> {<a id="cf:232" class="idref" href="#cf:232"><span class="id" title="binder">cf</span></a>} {<a id="6415288ff3ab9e6abe4d622289bc17a1" class="idref" href="#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="797baf4742b44c474a3b36960d7a5028" class="idref" href="#797baf4742b44c474a3b36960d7a5028"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a>} <a id="f:235" class="idref" href="#f:235"><span class="id" title="binder">f</span></a> (<a id="ci:236" class="idref" href="#ci:236"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="i:237" class="idref" href="#i:237"><span class="id" title="binder">i</span></a> <a id="mdecl:238" class="idref" href="#mdecl:238"><span class="id" title="binder">mdecl</span></a> <a id="idecl:239" class="idref" href="#idecl:239"><span class="id" title="binder">idecl</span></a> <a id="p:240" class="idref" href="#p:240"><span class="id" title="binder">p</span></a> <a id="br:241" class="idref" href="#br:241"><span class="id" title="binder">br</span></a> <a id="cdecl:242" class="idref" href="#cdecl:242"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6415288ff3ab9e6abe4d622289bc17a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ci:236"><span class="id" title="variable">ci</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:237"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:239"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:242"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:239"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:240"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:242"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:241"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pctx:243" class="idref" href="#pctx:243"><span class="id" title="binder">pctx</span></a> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ci:236"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:239"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:240"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:244" class="idref" href="#ptm:244"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pctx:243"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:240"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':245" class="idref" href="#p':245"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:240"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pctx':246" class="idref" href="#pctx':246"><span class="id" title="binder">pctx'</span></a> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ci:236"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:239"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p':245"><span class="id" title="variable">p'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm':247" class="idref" href="#ptm':247"><span class="id" title="binder">ptm'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pctx':246"><span class="id" title="variable">pctx'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p':245"><span class="id" title="variable">p'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ci:236"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:239"><span class="id" title="variable">idecl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:240"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_branch"><span class="id" title="abbreviation">inst_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:241"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ptm':247"><span class="id" title="variable">ptm'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:237"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_constructor_body"><span class="id" title="definition">inst_constructor_body</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:235"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:242"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:235"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:241"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:235"><span class="id" title="variable">f</span></a>))<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ci:236"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mdecl:238"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idecl:239"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:240"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:241"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ptm:244"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:237"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cdecl:242"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfb</span> <span class="id" title="var">ptm</span> <span class="id" title="var">p'</span> <span class="id" title="var">ptm'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type_gen"><span class="id" title="definition">case_branch_type_gen</span></a> /<a class="idref" href="MetaCoq.Utils.MCProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_case_branch_context_gen"><span class="id" title="lemma">inst_case_branch_context_gen</span></a> <span class="id" title="var">decli</span>) //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">len</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="var">wfb</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch_length"><span class="id" title="lemma">wf_branch_length</span></a> <span class="id" title="var">wfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm'</span> /<span class="id" title="var">ptm</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_it_mkLambda_or_LetIn"><span class="id" title="lemma">lift_it_mkLambda_or_LetIn</span></a> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_it_mkLambda_or_LetIn"><span class="id" title="lemma">inst_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">p'</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_lift"><span class="id" title="lemma">inst_context_lift</span></a> <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <span class="id" title="var">cdecl</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#up_0"><span class="id" title="lemma">up_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_case_predicate_context"><span class="id" title="lemma">inst_case_predicate_context</span></a> <span class="id" title="var">decli</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">p'</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_wf_predicate"><span class="id" title="lemma">inst_wf_predicate</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>. <span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_lift"><span class="id" title="lemma">inst_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_length"><span class="id" title="lemma">case_predicate_context_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_constructor_closed_indices"><span class="id" title="lemma">declared_constructor_closed_indices</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#forallb_map_spec"><span class="id" title="lemma">forallb_map_spec</span></a> ⇒ <span class="id" title="var">t</span> <span class="id" title="var">clt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst_instance"><span class="id" title="lemma">inst_subst_instance</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst"><span class="id" title="lemma">inst_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst"><span class="id" title="lemma">inst_subst</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wfp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">decli</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closed_extended_subst"><span class="id" title="lemma">inst_closed_extended_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">closedn_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_inductive_closed_params"><span class="id" title="lemma">declared_inductive_closed_params</span></a> <span class="id" title="var">decli</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">_</span>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_lift"><span class="id" title="lemma">inst_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst"><span class="id" title="lemma">inst_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inds"><span class="id" title="lemma">inst_inds</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Upn_subst_instance"><span class="id" title="lemma">Upn_subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#inst_closed"><span class="id" title="lemma">inst_closed</span></a> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#closed_upwards"><span class="id" title="lemma">closed_upwards</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_to_extended_list"><span class="id" title="lemma">inst_to_extended_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.reln_fold"><span class="id" title="lemma">reln_fold</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="map_def_ext" class="idref" href="#map_def_ext"><span class="id" title="instance">map_def_ext</span></a> {<a id="A:248" class="idref" href="#A:248"><span class="id" title="binder">A</span></a> <a id="B:249" class="idref" href="#B:249"><span class="id" title="binder">B</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (@<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:248"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:249"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">Hfg'</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hfg'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_decompose_prod_assum" class="idref" href="#inst_decompose_prod_assum"><span class="id" title="lemma">inst_decompose_prod_assum</span></a> <a id="f:250" class="idref" href="#f:250"><span class="id" title="binder">f</span></a> <a id="222197b84259c68a7058b2f17e9c382a" class="idref" href="#222197b84259c68a7058b2f17e9c382a"><span class="id" title="binder">Γ</span></a> <a id="t:252" class="idref" href="#t:252"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:250"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#222197b84259c68a7058b2f17e9c382a"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#222197b84259c68a7058b2f17e9c382a"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:250"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:252"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#222197b84259c68a7058b2f17e9c382a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:252"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#222197b84259c68a7058b2f17e9c382a"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:250"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:252"><span class="id" title="variable">t</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:250"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#222197b84259c68a7058b2f17e9c382a"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- ×. <span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt2</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">t1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt3</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">IHt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> <span class="id" title="var">IHt3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_prod_assum_mkApps" class="idref" href="#decompose_prod_assum_mkApps"><span class="id" title="lemma">decompose_prod_assum_mkApps</span></a> <a id="ctx:253" class="idref" href="#ctx:253"><span class="id" title="binder">ctx</span></a> <a id="ind:254" class="idref" href="#ind:254"><span class="id" title="binder">ind</span></a> <a id="u:255" class="idref" href="#u:255"><span class="id" title="binder">u</span></a> <a id="args:256" class="idref" href="#args:256"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:253"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:254"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:255"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:256"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ctx:253"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ind:254"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:255"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:256"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_it_mkProd"><span class="id" title="lemma">decompose_prod_assum_it_mkProd</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#is_ind_app_head_mkApps"><span class="id" title="lemma">is_ind_app_head_mkApps</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_app_context" class="idref" href="#inst_app_context"><span class="id" title="lemma">inst_app_context</span></a> <a id="f:257" class="idref" href="#f:257"><span class="id" title="binder">f</span></a> <a id="97336815cb2b60fd0b415a69392ae31d" class="idref" href="#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="binder">Γ</span></a> <a id="f5d09b8fd3f0b34ad857228eb632a3a7" class="idref" href="#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:257"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:257"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#97336815cb2b60fd0b415a69392ae31d"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:257"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f5d09b8fd3f0b34ad857228eb632a3a7"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_app"><span class="id" title="lemma">fold_context_k_app</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_smash_context" class="idref" href="#inst_smash_context"><span class="id" title="lemma">inst_smash_context</span></a> <a id="f:260" class="idref" href="#f:260"><span class="id" title="binder">f</span></a> <a id="b49c2b27e77a1b1de8923a7455d5a59f" class="idref" href="#b49c2b27e77a1b1de8923a7455d5a59f"><span class="id" title="binder">Γ</span></a> <a id="c5f6c0a3831263fdd5ef7f39c01b961f" class="idref" href="#c5f6c0a3831263fdd5ef7f39c01b961f"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:260"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b49c2b27e77a1b1de8923a7455d5a59f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c5f6c0a3831263fdd5ef7f39c01b961f"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c5f6c0a3831263fdd5ef7f39c01b961f"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:260"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b49c2b27e77a1b1de8923a7455d5a59f"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:260"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c5f6c0a3831263fdd5ef7f39c01b961f"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a> // ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="var">IHΔ</span> /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_subst"><span class="id" title="lemma">inst_context_subst</span></a> /= -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_app_context"><span class="id" title="lemma">inst_app_context</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_tip"><span class="id" title="lemma">fold_context_k_tip</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_inst_context" class="idref" href="#nth_error_inst_context"><span class="id" title="lemma">nth_error_inst_context</span></a> <a id="f:263" class="idref" href="#f:263"><span class="id" title="binder">f</span></a> <a id="24161378f53291012c9800bc196729c5" class="idref" href="#24161378f53291012c9800bc196729c5"><span class="id" title="binder">Γ</span></a> <a id="n:265" class="idref" href="#n:265"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:263"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#24161378f53291012c9800bc196729c5"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:265"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#24161378f53291012c9800bc196729c5"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:265"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:263"><span class="id" title="variable">f</span></a>))) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#24161378f53291012c9800bc196729c5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:265"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>. <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_succ"><span class="id" title="lemma">Nat.sub_succ</span></a> -<span class="id" title="var">IHΓ</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; (<span class="id" title="var">lia</span> || <span class="id" title="tactic">congruence</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_check_one_fix" class="idref" href="#inst_check_one_fix"><span class="id" title="lemma">inst_check_one_fix</span></a> <a id="f:266" class="idref" href="#f:266"><span class="id" title="binder">f</span></a> (<a id="mfix:267" class="idref" href="#mfix:267"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="d:268" class="idref" href="#d:268"><span class="id" title="binder">d</span></a> <a id="x:269" class="idref" href="#x:269"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:268"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:269"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:266"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:267"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:266"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:268"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:269"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_decompose_prod_assum"><span class="id" title="lemma">inst_decompose_prod_assum</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">dtype</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#up_0"><span class="id" title="lemma">up_0</span></a>. <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γ'</span> <span class="id" title="var">t'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context_app"><span class="id" title="lemma">smash_context_app</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#smash_context_acc"><span class="id" title="lemma">smash_context_acc</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_smash_context"><span class="id" title="lemma">inst_smash_context</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">hlen</span> := <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">hnth</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hlen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hlen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_rev_inv"><span class="id" title="lemma">nth_error_rev_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_rev_inv"><span class="id" title="lemma">nth_error_rev_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">rarg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">Γ'</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">rarg</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#nth_error_inst_context"><span class="id" title="lemma">nth_error_inst_context</span></a> /= <span class="id" title="var">hnth</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">hnth'</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">hnth'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_check_one_cofix" class="idref" href="#inst_check_one_cofix"><span class="id" title="lemma">inst_check_one_cofix</span></a> <a id="f:270" class="idref" href="#f:270"><span class="id" title="binder">f</span></a> (<a id="mfix:271" class="idref" href="#mfix:271"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="d:272" class="idref" href="#d:272"><span class="id" title="binder">d</span></a> <a id="x:273" class="idref" href="#x:273"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:272"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:273"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:270"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:271"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:270"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:272"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#x:273"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_decompose_prod_assum"><span class="id" title="lemma">inst_decompose_prod_assum</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">dtype</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#up_0"><span class="id" title="lemma">up_0</span></a>. <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">sigma</span> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#decompose_prod_assum_mkApps"><span class="id" title="lemma">decompose_prod_assum_mkApps</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">dp</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">da'</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">da'</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_wf_fixpoint" class="idref" href="#inst_wf_fixpoint"><span class="id" title="lemma">inst_wf_fixpoint</span></a> <a id="cc664e2ebdb5001557a38eea9d90b077" class="idref" href="#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="binder">Σ</span></a> <a id="f:275" class="idref" href="#f:275"><span class="id" title="binder">f</span></a> <a id="mfix:276" class="idref" href="#mfix:276"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:276"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#cc664e2ebdb5001557a38eea9d90b077"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:275"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:276"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:275"><span class="id" title="variable">f</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:276"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint_gen"><span class="id" title="definition">wf_fixpoint_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> ⇒ [] <span class="id" title="var">hmfix</span> <span class="id" title="var">ho</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_impl"><span class="id" title="lemma">forallb_impl</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">hx</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>) ⇒ /= //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> <span class="id" title="var">mfix</span>)) <span class="id" title="keyword">as</span> [[]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">hmap</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out_impl"><span class="id" title="lemma">map_option_out_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hmap</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_check_one_fix"><span class="id" title="lemma">inst_check_one_fix</span></a> <span class="id" title="var">f</span> <span class="id" title="var">mfix</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hmap</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_wf_cofixpoint" class="idref" href="#inst_wf_cofixpoint"><span class="id" title="lemma">inst_wf_cofixpoint</span></a> <a id="7f5a747cea315fd0dcbf7d702451de21" class="idref" href="#7f5a747cea315fd0dcbf7d702451de21"><span class="id" title="binder">Σ</span></a> <a id="f:278" class="idref" href="#f:278"><span class="id" title="binder">f</span></a> <a id="mfix:279" class="idref" href="#mfix:279"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7f5a747cea315fd0dcbf7d702451de21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:279"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7f5a747cea315fd0dcbf7d702451de21"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:278"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:279"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:278"><span class="id" title="variable">f</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:279"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint_gen"><span class="id" title="definition">wf_cofixpoint_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> <span class="id" title="var">mfix</span>)) <span class="id" title="keyword">as</span> [[]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">hmap</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out_impl"><span class="id" title="lemma">map_option_out_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hmap</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_check_one_cofix"><span class="id" title="lemma">inst_check_one_cofix</span></a> <span class="id" title="var">f</span> <span class="id" title="var">mfix</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hmap</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_extended_subst" class="idref" href="#inst_extended_subst"><span class="id" title="lemma">inst_extended_subst</span></a> <a id="f:280" class="idref" href="#f:280"><span class="id" title="binder">f</span></a> <a id="854c33c731e7ba97688106c356af8e81" class="idref" href="#854c33c731e7ba97688106c356af8e81"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#854c33c731e7ba97688106c356af8e81"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:280"><span class="id" title="variable">f</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#854c33c731e7ba97688106c356af8e81"><span class="id" title="variable">Γ</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:280"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#854c33c731e7ba97688106c356af8e81"><span class="id" title="variable">Γ</span></a>) 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_lift"><span class="id" title="lemma">inst_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst"><span class="id" title="lemma">lift_extended_subst</span></a> <span class="id" title="var">_</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> 1); <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>; <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_iota_red" class="idref" href="#inst_iota_red"><span class="id" title="lemma">inst_iota_red</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f:282" class="idref" href="#f:282"><span class="id" title="binder">f</span></a> <a id="p:283" class="idref" href="#p:283"><span class="id" title="binder">p</span></a> <a id="pars:284" class="idref" href="#pars:284"><span class="id" title="binder">pars</span></a> <a id="args:285" class="idref" href="#args:285"><span class="id" title="binder">args</span></a> <a id="br:286" class="idref" href="#br:286"><span class="id" title="binder">br</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:284"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:285"><span class="id" title="variable">args</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:286"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:283"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:286"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:282"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:284"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:283"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:285"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:286"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:284"><span class="id" title="variable">pars</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:282"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:283"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:282"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#args:285"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_branch"><span class="id" title="abbreviation">inst_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:282"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#br:286"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span> <span class="id" title="var">pars</span> <span class="id" title="var">args</span> <span class="id" title="var">br</span> <span class="id" title="var">hlen</span> <span class="id" title="var">hlen'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> -<span class="id" title="var">hlen</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_lift"><span class="id" title="lemma">inst_lift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hlen</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">_</span>); [<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_extended_subst"><span class="id" title="lemma">inst_extended_subst</span></a>|<span class="id" title="var">now</span> <span class="id" title="var">len</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inst_case_context"><span class="id" title="lemma">inst_inst_case_context</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closedn_ctx"><span class="id" title="lemma">inst_closedn_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_unfold_fix" class="idref" href="#inst_unfold_fix"><span class="id" title="lemma">inst_unfold_fix</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="mfix:287" class="idref" href="#mfix:287"><span class="id" title="binder">mfix</span></a> <a id="idx:288" class="idref" href="#idx:288"><span class="id" title="binder">idx</span></a> <a id="narg:289" class="idref" href="#narg:289"><span class="id" title="binder">narg</span></a> <a id="fn:290" class="idref" href="#fn:290"><span class="id" title="binder">fn</span></a> <a id="f:291" class="idref" href="#f:291"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:287"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idx:288"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#narg:289"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#fn:290"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:291"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:287"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:291"><span class="id" title="variable">f</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:287"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idx:288"><span class="id" title="variable">idx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#narg:289"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:291"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#fn:290"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">narg</span> <span class="id" title="var">fn</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">intro</span> <span class="id" title="var">neq</span> ; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#neq"><span class="id" title="definition">neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst_length"><span class="id" title="lemma">fix_subst_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">at</span> 2 3. <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_unfold_cofix" class="idref" href="#inst_unfold_cofix"><span class="id" title="lemma">inst_unfold_cofix</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="mfix:292" class="idref" href="#mfix:292"><span class="id" title="binder">mfix</span></a> <a id="idx:293" class="idref" href="#idx:293"><span class="id" title="binder">idx</span></a> <a id="narg:294" class="idref" href="#narg:294"><span class="id" title="binder">narg</span></a> <a id="fn:295" class="idref" href="#fn:295"><span class="id" title="binder">fn</span></a> <a id="f:296" class="idref" href="#f:296"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:292"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idx:293"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#narg:294"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#fn:295"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:296"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:292"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:296"><span class="id" title="variable">f</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#mfix:292"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#idx:293"><span class="id" title="variable">idx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#narg:294"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:296"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#fn:295"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">narg</span> <span class="id" title="var">fn</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">intro</span> <span class="id" title="var">neq</span> ; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#neq"><span class="id" title="definition">neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst0"><span class="id" title="lemma">inst_subst0</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst_length"><span class="id" title="lemma">cofix_subst_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">at</span> 2 3. <span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_inst" class="idref" href="#decompose_app_inst"><span class="id" title="lemma">decompose_app_inst</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f:297" class="idref" href="#f:297"><span class="id" title="binder">f</span></a> <a id="t:298" class="idref" href="#t:298"><span class="id" title="binder">t</span></a> <a id="u:299" class="idref" href="#u:299"><span class="id" title="binder">u</span></a> <a id="l:300" class="idref" href="#l:300"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:298"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:299"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:300"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#rigid_head"><span class="id" title="definition">rigid_head</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:299"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:297"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:298"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:297"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:299"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:297"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:300"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">aux</span> : <span class="id" title="keyword">∀</span> <a id="f:306" class="idref" href="#f:306"><span class="id" title="binder">f</span></a> <a id="t:307" class="idref" href="#t:307"><span class="id" title="binder">t</span></a> <a id="u:308" class="idref" href="#u:308"><span class="id" title="binder">u</span></a> <a id="l:309" class="idref" href="#l:309"><span class="id" title="binder">l</span></a> <a id="acc:310" class="idref" href="#acc:310"><span class="id" title="binder">acc</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:302"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#acc:305"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:303"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:304"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#rigid_head"><span class="id" title="definition">rigid_head</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:303"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:301"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:302"><span class="id" title="variable">t</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:301"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#acc:305"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:301"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:303"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:301"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:304"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span> <span class="id" title="var">acc</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span>, <span class="id" title="var">h</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span> ; <span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">noconf</span> <span class="id" title="var">h</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ru</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHt1</span> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">aux</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isConstruct_app_inst" class="idref" href="#isConstruct_app_inst"><span class="id" title="lemma">isConstruct_app_inst</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:311" class="idref" href="#t:311"><span class="id" title="binder">t</span></a> <a id="f:312" class="idref" href="#f:312"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:311"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:311"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#decompose_app_inst"><span class="id" title="lemma">decompose_app_inst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">destruct</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> ⇒ /= //. <span class="id" title="var">noconf</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#and5P"><span class="id" title="lemma">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#and5P"><span class="id" title="lemma">//</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_constructor_inst" class="idref" href="#is_constructor_inst"><span class="id" title="lemma">is_constructor_inst</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:313" class="idref" href="#n:313"><span class="id" title="binder">n</span></a> <a id="l:314" class="idref" href="#l:314"><span class="id" title="binder">l</span></a> <a id="f:315" class="idref" href="#f:315"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:313"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:314"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:313"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:315"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#l:314"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#isConstruct_app_inst"><span class="id" title="lemma">isConstruct_app_inst</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_predicate_set_pparams" class="idref" href="#inst_predicate_set_pparams"><span class="id" title="lemma">inst_predicate_set_pparams</span></a> <a id="f:316" class="idref" href="#f:316"><span class="id" title="binder">f</span></a> <a id="p:317" class="idref" href="#p:317"><span class="id" title="binder">p</span></a> <a id="params:318" class="idref" href="#params:318"><span class="id" title="binder">params</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:316"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:317"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#params:318"><span class="id" title="variable">params</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:316"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:317"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:316"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#params:318"><span class="id" title="variable">params</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;inst_predicate_set_pcontext&nbsp;f&nbsp;p&nbsp;pcontext'&nbsp;:<br/>
&nbsp;&nbsp;|pcontext'| = |p.(pcontext)|&nbsp;-&gt;<br/>
&nbsp;&nbsp;inst_predicate&nbsp;f&nbsp;(set_pcontext&nbsp;p&nbsp;pcontext')&nbsp;=<br/>
&nbsp;&nbsp;set_pcontext&nbsp;(inst_predicate&nbsp;f&nbsp;p)<br/>
&nbsp;&nbsp;(mapi_context&nbsp;(fun&nbsp;k&nbsp;=&gt;&nbsp;inst&nbsp;(up&nbsp;k&nbsp;f))&nbsp;pcontext').<br/>
Proof.&nbsp;rewrite&nbsp;/inst_predicate&nbsp;/=&nbsp;/set_pcontext.&nbsp;simpl.&nbsp;intros&nbsp;-&gt;.&nbsp;reflexivity.&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_predicate_set_preturn" class="idref" href="#inst_predicate_set_preturn"><span class="id" title="lemma">inst_predicate_set_preturn</span></a> <a id="f:319" class="idref" href="#f:319"><span class="id" title="binder">f</span></a> <a id="p:320" class="idref" href="#p:320"><span class="id" title="binder">p</span></a> <a id="pret:321" class="idref" href="#pret:321"><span class="id" title="binder">pret</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:319"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:320"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pret:321"><span class="id" title="variable">pret</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:319"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:320"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#p:320"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:319"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pret:321"><span class="id" title="variable">pret</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_rename_S" class="idref" href="#on_free_vars_rename_S"><span class="id" title="lemma">on_free_vars_rename_S</span></a> <a id="9a35698f4e5be8c2e2bb857862c7d372" class="idref" href="#9a35698f4e5be8c2e2bb857862c7d372"><span class="id" title="binder">Δ</span></a> <a id="t:323" class="idref" href="#t:323"><span class="id" title="binder">t</span></a> <a id="n:324" class="idref" href="#n:324"><span class="id" title="binder">n</span></a> <a id="A:325" class="idref" href="#A:325"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9a35698f4e5be8c2e2bb857862c7d372"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:323"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9a35698f4e5be8c2e2bb857862c7d372"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:324"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:325"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:323"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICOnFreeVarsConv.html#on_free_vars_rename"><span class="id" title="lemma">on_free_vars_rename</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>. 2:<span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_ext_cond" class="idref" href="#up_ext_cond"><span class="id" title="lemma">up_ext_cond</span></a> (<a id="P:326" class="idref" href="#P:326"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="n:327" class="idref" href="#n:327"><span class="id" title="binder">n</span></a> <a id="s:328" class="idref" href="#s:328"><span class="id" title="binder">s</span></a> <a id="s':329" class="idref" href="#s':329"><span class="id" title="binder">s'</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:330" class="idref" href="#i:330"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:330"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:328"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:330"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s':329"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:330"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="k:331" class="idref" href="#k:331"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:327"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:326"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:331"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:327"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:328"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:331"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:327"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s':329"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#k:331"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Hs</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_antisym"><span class="id" title="lemma">Nat.leb_antisym</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>) ⇒ //= <span class="id" title="var">_</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_ext_cond" class="idref" href="#inst_ext_cond"><span class="id" title="lemma">inst_ext_cond</span></a> (<a id="P:332" class="idref" href="#P:332"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="s:333" class="idref" href="#s:333"><span class="id" title="binder">s</span></a> <a id="s':334" class="idref" href="#s':334"><span class="id" title="binder">s'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:335" class="idref" href="#i:335"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:332"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:335"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:333"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:335"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s':334"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:335"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:336" class="idref" href="#t:336"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:332"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:333"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s':334"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:336"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">revert</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;8-9: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;1-5,7-9:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#up_ext_cond"><span class="id" title="lemma">up_ext_cond</span></a>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#up_ext_cond"><span class="id" title="lemma">up_ext_cond</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#up_ext_cond"><span class="id" title="lemma">up_ext_cond</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_on_free_vars" class="idref" href="#inst_on_free_vars"><span class="id" title="lemma">inst_on_free_vars</span></a> <a id="n:337" class="idref" href="#n:337"><span class="id" title="binder">n</span></a> <a id="t:338" class="idref" href="#t:338"><span class="id" title="binder">t</span></a> <a id="61d78c5385e6af75c2ce51f3b94b1d25" class="idref" href="#61d78c5385e6af75c2ce51f3b94b1d25"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:337"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:338"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:338"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:337"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#61d78c5385e6af75c2ce51f3b94b1d25"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:338"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_ext_cond"><span class="id" title="lemma">inst_ext_cond</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids"><span class="id" title="lemma">subst_ids</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_idsn_consn_lt"><span class="id" title="lemma">subst_idsn_consn_lt</span></a> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_up" class="idref" href="#on_free_vars_up"><span class="id" title="lemma">on_free_vars_up</span></a> (<a id="P:340" class="idref" href="#P:340"><span class="id" title="binder">P</span></a> <a id="Q:341" class="idref" href="#Q:341"><span class="id" title="binder">Q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="n:342" class="idref" href="#n:342"><span class="id" title="binder">n</span></a> <a id="s:343" class="idref" href="#s:343"><span class="id" title="binder">s</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:344" class="idref" href="#i:344"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Q:341"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:344"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:340"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:343"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:344"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:345" class="idref" href="#i:345"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:342"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Q:341"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:345"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:342"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:340"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:342"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:343"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:345"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec0"><span class="id" title="lemma">Nat.leb_spec0</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span>|<span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICOnFreeVarsConv.html#on_free_vars_rename"><span class="id" title="lemma">on_free_vars_rename</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ext"><span class="id" title="lemma">on_free_vars_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> ? ; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">Hi</span> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.nle_gt"><span class="id" title="lemma">Nat.nle_gt</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_inst" class="idref" href="#on_free_vars_inst"><span class="id" title="lemma">on_free_vars_inst</span></a> (<a id="P:346" class="idref" href="#P:346"><span class="id" title="binder">P</span></a> <a id="Q:347" class="idref" href="#Q:347"><span class="id" title="binder">Q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="s:348" class="idref" href="#s:348"><span class="id" title="binder">s</span></a> <a id="t:349" class="idref" href="#t:349"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:350" class="idref" href="#i:350"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Q:347"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:350"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:346"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:348"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:350"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Q:347"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:349"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:346"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:349"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:348"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">P</span>, <span class="id" title="var">Q</span>, <span class="id" title="var">s</span>, <span class="id" title="var">Hs</span>, <span class="id" title="var">Ht</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;7-8: <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> |- ×.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">solve</span> [<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_up"><span class="id" title="lemma">on_free_vars_up</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_on_free_vars_shift" class="idref" href="#usubst_on_free_vars_shift"><span class="id" title="lemma">usubst_on_free_vars_shift</span></a> <a id="5fe9a45ed0e880b9eb0b14e00dad650b" class="idref" href="#5fe9a45ed0e880b9eb0b14e00dad650b"><span class="id" title="binder">Γ</span></a> <a id="708b84a4a772f55bf07c3013ca3c08d1" class="idref" href="#708b84a4a772f55bf07c3013ca3c08d1"><span class="id" title="binder">Δ</span></a> <a id="e2e29e23fb142b96f186aea5a773bbe6" class="idref" href="#e2e29e23fb142b96f186aea5a773bbe6"><span class="id" title="binder">σ</span></a> <a id="u:354" class="idref" href="#u:354"><span class="id" title="binder">u</span></a> <a id="n:355" class="idref" href="#n:355"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5fe9a45ed0e880b9eb0b14e00dad650b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e2e29e23fb142b96f186aea5a773bbe6"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#708b84a4a772f55bf07c3013ca3c08d1"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5fe9a45ed0e880b9eb0b14e00dad650b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:355"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5fe9a45ed0e880b9eb0b14e00dad650b"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:354"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:355"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#708b84a4a772f55bf07c3013ca3c08d1"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:354"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:355"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e2e29e23fb142b96f186aea5a773bbe6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_inst"><span class="id" title="lemma">on_free_vars_inst</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">iΔ</span> [<span class="id" title="var">d</span> <span class="id" title="var">usub</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;1:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec0"><span class="id" title="lemma">Nat.leb_spec0</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>) ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> (<span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">n</span>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) ⇒ // <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec0"><span class="id" title="lemma">Nat.leb_spec0</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICOnFreeVarsConv.html#on_free_vars_rename"><span class="id" title="lemma">on_free_vars_rename</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some'"><span class="id" title="lemma">nth_error_Some'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ // <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Sigma" class="idref" href="#Sigma"><span class="id" title="section">Sigma</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a id="cf:356" class="idref" href="#cf:356"><span class="id" title="binder">cf</span></a>: <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_ext" class="idref" href="#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a> {<a id="1283901244265afd5c754504b3bba57b" class="idref" href="#1283901244265afd5c754504b3bba57b"><span class="id" title="binder">Δ</span></a> <a id="d19c03c12f2d3a09689e8df34232c0f4" class="idref" href="#d19c03c12f2d3a09689e8df34232c0f4"><span class="id" title="binder">σ</span></a> <a id="a2957af4ec7d5cca93c2422af84ac942" class="idref" href="#a2957af4ec7d5cca93c2422af84ac942"><span class="id" title="binder">σ'</span></a> <a id="c33bed169a5c5284844fe9a66a755ce5" class="idref" href="#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="binder">Γ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d19c03c12f2d3a09689e8df34232c0f4"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1283901244265afd5c754504b3bba57b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d19c03c12f2d3a09689e8df34232c0f4"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a2957af4ec7d5cca93c2422af84ac942"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a2957af4ec7d5cca93c2422af84ac942"><span class="id" title="variable">σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1283901244265afd5c754504b3bba57b"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>σ <span class="id" title="var">eq</span> <span class="id" title="var">n</span> <span class="id" title="var">decl</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span>σ <span class="id" title="var">n</span> <span class="id" title="var">decl</span> <span class="id" title="var">hnth</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">hb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">hd</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">hb</span> <span class="id" title="var">b</span> <span class="id" title="var">hd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hb</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x'</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">eqn</span> [<span class="id" title="var">hnth'</span> <span class="id" title="var">hsome</span>]]]]|<span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">x'</span>, <span class="id" title="var">decl'</span>. <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">eq</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">eq</span> <span class="id" title="var">n</span>) -<span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_ext" class="idref" href="#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a> {<a id="347053822f6e11c2224a129c7721d0a0" class="idref" href="#347053822f6e11c2224a129c7721d0a0"><span class="id" title="binder">Δ</span></a> <a id="c0df5f890c8159fa3f685d2119f23d71" class="idref" href="#c0df5f890c8159fa3f685d2119f23d71"><span class="id" title="binder">σ</span></a> <a id="a2dd747c74a4fd2682e3c3d53fc51438" class="idref" href="#a2dd747c74a4fd2682e3c3d53fc51438"><span class="id" title="binder">σ'</span></a> <a id="639f524296204efb43151bb8cc1eba7d" class="idref" href="#639f524296204efb43151bb8cc1eba7d"><span class="id" title="binder">Γ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#639f524296204efb43151bb8cc1eba7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c0df5f890c8159fa3f685d2119f23d71"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#347053822f6e11c2224a129c7721d0a0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c0df5f890c8159fa3f685d2119f23d71"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a2dd747c74a4fd2682e3c3d53fc51438"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#639f524296204efb43151bb8cc1eba7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a2dd747c74a4fd2682e3c3d53fc51438"><span class="id" title="variable">σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#347053822f6e11c2224a129c7721d0a0"><span class="id" title="variable">Δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HΔ</span> <span class="id" title="var">H</span>σ] <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>σ <span class="id" title="keyword">as</span> [<span class="id" title="var">closed_</span>σ <span class="id" title="var">H</span>σ]. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">decl</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eq</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">closed_</span>σ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="well_subst_ext" class="idref" href="#well_subst_ext"><span class="id" title="lemma">well_subst_ext</span></a> <a id="0711c37ee51b7422792584a58eb1a856" class="idref" href="#0711c37ee51b7422792584a58eb1a856"><span class="id" title="binder">Σ</span></a> <a id="4ac6cf47ac87dde33311828f9797f6e8" class="idref" href="#4ac6cf47ac87dde33311828f9797f6e8"><span class="id" title="binder">Δ</span></a> <a id="90926aa4d329d1d9d577092298d5f8b6" class="idref" href="#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="binder">σ</span></a> <a id="06e0afdf3fff51630b68a8a705ee3fd9" class="idref" href="#06e0afdf3fff51630b68a8a705ee3fd9"><span class="id" title="binder">σ'</span></a> <a id="9877b0d04353f203abf5a83757dee169" class="idref" href="#9877b0d04353f203abf5a83757dee169"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0711c37ee51b7422792584a58eb1a856"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4ac6cf47ac87dde33311828f9797f6e8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9877b0d04353f203abf5a83757dee169"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#06e0afdf3fff51630b68a8a705ee3fd9"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0711c37ee51b7422792584a58eb1a856"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4ac6cf47ac87dde33311828f9797f6e8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#06e0afdf3fff51630b68a8a705ee3fd9"><span class="id" title="variable">σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9877b0d04353f203abf5a83757dee169"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>σ <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>σ <span class="id" title="keyword">as</span> [<span class="id" title="var">typed_</span>σ <span class="id" title="var">H</span>σ]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">decl</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">eq</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#meta_conv"><span class="id" title="lemma">meta_conv</span></a>. 2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eq</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">typed_</span>σ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_Up" class="idref" href="#usubst_Up"><span class="id" title="lemma">usubst_Up</span></a> {<a id="4cf08cb9178de058d3894731359a2edd" class="idref" href="#4cf08cb9178de058d3894731359a2edd"><span class="id" title="binder">Γ</span></a> <a id="dafd24ac3c69a50933887d0f8b9866cd" class="idref" href="#dafd24ac3c69a50933887d0f8b9866cd"><span class="id" title="binder">Δ</span></a> <a id="b3b8163059b43c50f5db4205044b9583" class="idref" href="#b3b8163059b43c50f5db4205044b9583"><span class="id" title="binder">σ</span></a> <a id="na:373" class="idref" href="#na:373"><span class="id" title="binder">na</span></a> <a id="A:374" class="idref" href="#A:374"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4cf08cb9178de058d3894731359a2edd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b3b8163059b43c50f5db4205044b9583"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#dafd24ac3c69a50933887d0f8b9866cd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4cf08cb9178de058d3894731359a2edd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:373"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:374"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b3b8163059b43c50f5db4205044b9583"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#dafd24ac3c69a50933887d0f8b9866cd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:373"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:374"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b3b8163059b43c50f5db4205044b9583"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">decl</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h1</span> <span class="id" title="var">_</span> <span class="id" title="var">hb</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x'</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">hrel</span> [<span class="id" title="var">hnth</span> <span class="id" title="var">hdecl</span>]]]]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x'</span>), <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>]. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">decl'</span>) ⇒ //. <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">hdecl</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">hdecl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_1_Up"><span class="id" title="lemma">Upn_1_Up</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a> 1) -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a> -<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_Up" class="idref" href="#closed_subst_Up"><span class="id" title="lemma">closed_subst_Up</span></a> {<a id="f1eaf2ab25471bde9f3c4a1f3ddf6d90" class="idref" href="#f1eaf2ab25471bde9f3c4a1f3ddf6d90"><span class="id" title="binder">Γ</span></a> <a id="9b4bb308ce8cbb9190fda55230bdefcc" class="idref" href="#9b4bb308ce8cbb9190fda55230bdefcc"><span class="id" title="binder">Δ</span></a> <a id="7e641b9c3ea9a5c6ba67c11dd582f04c" class="idref" href="#7e641b9c3ea9a5c6ba67c11dd582f04c"><span class="id" title="binder">σ</span></a> <a id="na:378" class="idref" href="#na:378"><span class="id" title="binder">na</span></a> <a id="A:379" class="idref" href="#A:379"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f1eaf2ab25471bde9f3c4a1f3ddf6d90"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e641b9c3ea9a5c6ba67c11dd582f04c"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9b4bb308ce8cbb9190fda55230bdefcc"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9b4bb308ce8cbb9190fda55230bdefcc"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:379"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e641b9c3ea9a5c6ba67c11dd582f04c"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f1eaf2ab25471bde9f3c4a1f3ddf6d90"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:378"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:379"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e641b9c3ea9a5c6ba67c11dd582f04c"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9b4bb308ce8cbb9190fda55230bdefcc"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:378"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:379"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e641b9c3ea9a5c6ba67c11dd582f04c"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HΔ</span> <span class="id" title="var">h</span>] <span class="id" title="var">HA</span>σ; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">decl</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_inst"><span class="id" title="lemma">on_free_vars_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up"><span class="id" title="lemma">usubst_Up</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="well_subst_Up" class="idref" href="#well_subst_Up"><span class="id" title="lemma">well_subst_Up</span></a> {<a id="8e68da057f07f89f66948bedde183ec8" class="idref" href="#8e68da057f07f89f66948bedde183ec8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="9ba504ea7539af0086e86d7eeb2aee12" class="idref" href="#9ba504ea7539af0086e86d7eeb2aee12"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8e68da057f07f89f66948bedde183ec8"><span class="id" title="variable">Σ</span></a>} {<a id="05d67ada0e96bf50a6c570f2e22e4153" class="idref" href="#05d67ada0e96bf50a6c570f2e22e4153"><span class="id" title="binder">Γ</span></a> <a id="c389454aa6538c6219c7a30f629e070f" class="idref" href="#c389454aa6538c6219c7a30f629e070f"><span class="id" title="binder">Δ</span></a> <a id="8239aee30a1d58ff2f3e69f230556555" class="idref" href="#8239aee30a1d58ff2f3e69f230556555"><span class="id" title="binder">σ</span></a> <a id="na:385" class="idref" href="#na:385"><span class="id" title="binder">na</span></a> <a id="A:386" class="idref" href="#A:386"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8e68da057f07f89f66948bedde183ec8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c389454aa6538c6219c7a30f629e070f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:385"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:386"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8239aee30a1d58ff2f3e69f230556555"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8e68da057f07f89f66948bedde183ec8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c389454aa6538c6219c7a30f629e070f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8239aee30a1d58ff2f3e69f230556555"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#05d67ada0e96bf50a6c570f2e22e4153"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8e68da057f07f89f66948bedde183ec8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c389454aa6538c6219c7a30f629e070f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:385"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:386"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8239aee30a1d58ff2f3e69f230556555"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8239aee30a1d58ff2f3e69f230556555"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#05d67ada0e96bf50a6c570f2e22e4153"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:385"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:386"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hΔ</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">decl</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#meta_conv"><span class="id" title="lemma">meta_conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">sigma</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">_</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">_</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">e</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>. <span class="id" title="var">sigma</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#meta_conv"><span class="id" title="lemma">meta_conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#weakening_rename_typing"><span class="id" title="lemma">weakening_rename_typing</span></a> (<span class="id" title="var">Γ'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<span class="id" title="var">Γ''</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="var">hΔ</span> <span class="id" title="var">h1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up"><span class="id" title="lemma">usubst_Up</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_Up'" class="idref" href="#usubst_Up'"><span class="id" title="lemma">usubst_Up'</span></a> {<a id="4252f0e0fc9c300d98c0e3eaff8a2435" class="idref" href="#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="binder">Γ</span></a> <a id="2d73fd9f7b10a4de4006cf2110e43c67" class="idref" href="#2d73fd9f7b10a4de4006cf2110e43c67"><span class="id" title="binder">Δ</span></a> <a id="483706a5a8a0a061fc9d051d1c57c7e4" class="idref" href="#483706a5a8a0a061fc9d051d1c57c7e4"><span class="id" title="binder">σ</span></a> <a id="na:390" class="idref" href="#na:390"><span class="id" title="binder">na</span></a> <a id="t:391" class="idref" href="#t:391"><span class="id" title="binder">t</span></a> <a id="A:392" class="idref" href="#A:392"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#483706a5a8a0a061fc9d051d1c57c7e4"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d73fd9f7b10a4de4006cf2110e43c67"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4252f0e0fc9c300d98c0e3eaff8a2435"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:390"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:391"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:392"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#483706a5a8a0a061fc9d051d1c57c7e4"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d73fd9f7b10a4de4006cf2110e43c67"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:390"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:391"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#483706a5a8a0a061fc9d051d1c57c7e4"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:392"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#483706a5a8a0a061fc9d051d1c57c7e4"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">decl</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> [= -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> 0. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">sigma</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h2</span> <span class="id" title="var">_</span> <span class="id" title="var">hb</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x'</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">hrel</span> [<span class="id" title="var">hnth</span> <span class="id" title="var">hdecl</span>]]]]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x'</span>), <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>]. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">decl'</span>) ⇒ //. <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">hdecl</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">hdecl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_1_Up"><span class="id" title="lemma">Upn_1_Up</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a> 1) -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a> -<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_Up'" class="idref" href="#closed_subst_Up'"><span class="id" title="lemma">closed_subst_Up'</span></a> {<a id="1619ff5abc63ef4c0bf4d2fc5bf92f7d" class="idref" href="#1619ff5abc63ef4c0bf4d2fc5bf92f7d"><span class="id" title="binder">Γ</span></a> <a id="4ffe074e0470fe50fd9d50211c9fe6b3" class="idref" href="#4ffe074e0470fe50fd9d50211c9fe6b3"><span class="id" title="binder">Δ</span></a> <a id="91ba529cc488f8d372bc03919b457500" class="idref" href="#91ba529cc488f8d372bc03919b457500"><span class="id" title="binder">σ</span></a> <a id="na:396" class="idref" href="#na:396"><span class="id" title="binder">na</span></a> <a id="t:397" class="idref" href="#t:397"><span class="id" title="binder">t</span></a> <a id="A:398" class="idref" href="#A:398"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1619ff5abc63ef4c0bf4d2fc5bf92f7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#91ba529cc488f8d372bc03919b457500"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4ffe074e0470fe50fd9d50211c9fe6b3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4ffe074e0470fe50fd9d50211c9fe6b3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:398"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#91ba529cc488f8d372bc03919b457500"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4ffe074e0470fe50fd9d50211c9fe6b3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:397"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#91ba529cc488f8d372bc03919b457500"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1619ff5abc63ef4c0bf4d2fc5bf92f7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:396"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:397"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:398"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#91ba529cc488f8d372bc03919b457500"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4ffe074e0470fe50fd9d50211c9fe6b3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:396"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:397"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#91ba529cc488f8d372bc03919b457500"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:398"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#91ba529cc488f8d372bc03919b457500"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HΔ</span> <span class="id" title="var">h</span>] <span class="id" title="var">HA</span>σ <span class="id" title="var">Ht</span>σ; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">is_open_decl</span>, <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">decl</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_inst"><span class="id" title="lemma">on_free_vars_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up'"><span class="id" title="lemma">usubst_Up'</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="well_subst_Up'" class="idref" href="#well_subst_Up'"><span class="id" title="lemma">well_subst_Up'</span></a> {<a id="ce417266595ef8f4117f383c842ab1ce" class="idref" href="#ce417266595ef8f4117f383c842ab1ce"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="5d17c5813daec6d9986e4475db0f8fbd" class="idref" href="#5d17c5813daec6d9986e4475db0f8fbd"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ce417266595ef8f4117f383c842ab1ce"><span class="id" title="variable">Σ</span></a>} {<a id="a8aa5df2c921688579a2e991a35763a0" class="idref" href="#a8aa5df2c921688579a2e991a35763a0"><span class="id" title="binder">Γ</span></a> <a id="ea8196c6299f61b3dcc81e52d102c5e0" class="idref" href="#ea8196c6299f61b3dcc81e52d102c5e0"><span class="id" title="binder">Δ</span></a> <a id="9de6ea8d5413b64513b52f608e64bb57" class="idref" href="#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="binder">σ</span></a> <a id="na:404" class="idref" href="#na:404"><span class="id" title="binder">na</span></a> <a id="t:405" class="idref" href="#t:405"><span class="id" title="binder">t</span></a> <a id="A:406" class="idref" href="#A:406"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ce417266595ef8f4117f383c842ab1ce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ea8196c6299f61b3dcc81e52d102c5e0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:404"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:405"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:406"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ce417266595ef8f4117f383c842ab1ce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ea8196c6299f61b3dcc81e52d102c5e0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8aa5df2c921688579a2e991a35763a0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ce417266595ef8f4117f383c842ab1ce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ea8196c6299f61b3dcc81e52d102c5e0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:404"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:405"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:406"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9de6ea8d5413b64513b52f608e64bb57"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8aa5df2c921688579a2e991a35763a0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:404"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:405"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:406"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">decl</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#meta_conv"><span class="id" title="lemma">meta_conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> -[<span class="id" title="var">rshiftk</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">_</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">_</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">e</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>. <span class="id" title="var">sigma</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#meta_conv"><span class="id" title="lemma">meta_conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#weakening_rename_typing"><span class="id" title="lemma">weakening_rename_typing</span></a> (<span class="id" title="var">Γ'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<span class="id" title="var">Γ''</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">wf</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up'"><span class="id" title="lemma">usubst_Up'</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_app" class="idref" href="#usubst_app"><span class="id" title="lemma">usubst_app</span></a> {<a id="dfa6dafb525b517b9f1b99a9299dbbbc" class="idref" href="#dfa6dafb525b517b9f1b99a9299dbbbc"><span class="id" title="binder">Γ</span></a> <a id="ff250500920343e8979a5542045c0541" class="idref" href="#ff250500920343e8979a5542045c0541"><span class="id" title="binder">Δ</span></a> <a id="ed9384fd88961e4f68bff37d747b7992" class="idref" href="#ed9384fd88961e4f68bff37d747b7992"><span class="id" title="binder">σ</span></a> <a id="8b9cd8a267dbe2c019a6787c4cb780f4" class="idref" href="#8b9cd8a267dbe2c019a6787c4cb780f4"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#dfa6dafb525b517b9f1b99a9299dbbbc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed9384fd88961e4f68bff37d747b7992"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ff250500920343e8979a5542045c0541"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#dfa6dafb525b517b9f1b99a9299dbbbc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8b9cd8a267dbe2c019a6787c4cb780f4"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8b9cd8a267dbe2c019a6787c4cb780f4"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed9384fd88961e4f68bff37d747b7992"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ff250500920343e8979a5542045c0541"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed9384fd88961e4f68bff37d747b7992"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8b9cd8a267dbe2c019a6787c4cb780f4"><span class="id" title="variable">Δ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ'</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up'"><span class="id" title="lemma">usubst_Up'</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up"><span class="id" title="lemma">usubst_Up</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_app" class="idref" href="#closed_subst_app"><span class="id" title="lemma">closed_subst_app</span></a> {<a id="94f2a4375c47f135e3ec5ade490692a3" class="idref" href="#94f2a4375c47f135e3ec5ade490692a3"><span class="id" title="binder">Γ</span></a> <a id="59cccb70889977edb5d6df2dd73c5649" class="idref" href="#59cccb70889977edb5d6df2dd73c5649"><span class="id" title="binder">Δ</span></a> <a id="96e549f55582bfa30351b273316cee71" class="idref" href="#96e549f55582bfa30351b273316cee71"><span class="id" title="binder">σ</span></a> <a id="9fbd9e3d0bcc33320dae49fce3a6b24f" class="idref" href="#9fbd9e3d0bcc33320dae49fce3a6b24f"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#94f2a4375c47f135e3ec5ade490692a3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#96e549f55582bfa30351b273316cee71"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#59cccb70889977edb5d6df2dd73c5649"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#59cccb70889977edb5d6df2dd73c5649"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#96e549f55582bfa30351b273316cee71"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9fbd9e3d0bcc33320dae49fce3a6b24f"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#94f2a4375c47f135e3ec5ade490692a3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9fbd9e3d0bcc33320dae49fce3a6b24f"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9fbd9e3d0bcc33320dae49fce3a6b24f"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#96e549f55582bfa30351b273316cee71"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#59cccb70889977edb5d6df2dd73c5649"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#96e549f55582bfa30351b273316cee71"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9fbd9e3d0bcc33320dae49fce3a6b24f"><span class="id" title="variable">Δ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ'</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΔ'</span>. <span class="id" title="var">toProp</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_Up'"><span class="id" title="lemma">closed_subst_Up'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">toProp</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">toProp</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hΔ'</span>. <span class="id" title="var">toProp</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_Up"><span class="id" title="lemma">closed_subst_Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">toProp</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="well_subst_app" class="idref" href="#well_subst_app"><span class="id" title="lemma">well_subst_app</span></a> {<a id="f330aa792ad4e8f5fdf1f36205d8b814" class="idref" href="#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="59bd6f7329f0247e9b974a4e58b2e46a" class="idref" href="#59bd6f7329f0247e9b974a4e58b2e46a"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a>} {<a id="b83bc512186e352967f68bcc26ff41bc" class="idref" href="#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="binder">Γ</span></a> <a id="02bf308807dfc4332a48cfaf60a29962" class="idref" href="#02bf308807dfc4332a48cfaf60a29962"><span class="id" title="binder">Δ</span></a> <a id="8c017a6f6eceeacc739d0909123df5ec" class="idref" href="#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="binder">σ</span></a> <a id="d6f35574c686ba633e874f6920edb55d" class="idref" href="#d6f35574c686ba633e874f6920edb55d"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#02bf308807dfc4332a48cfaf60a29962"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d6f35574c686ba633e874f6920edb55d"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#02bf308807dfc4332a48cfaf60a29962"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f330aa792ad4e8f5fdf1f36205d8b814"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#02bf308807dfc4332a48cfaf60a29962"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d6f35574c686ba633e874f6920edb55d"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d6f35574c686ba633e874f6920edb55d"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d6f35574c686ba633e874f6920edb55d"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ'</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ'</span>]; <span class="id" title="tactic">simpl</span> ⇒ <span class="id" title="var">hwf</span> <span class="id" title="var">hsub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_ext"><span class="id" title="lemma">well_subst_ext</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_ext"><span class="id" title="lemma">well_subst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_Up'"><span class="id" title="lemma">well_subst_Up'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">hwf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΔ'</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_ext"><span class="id" title="lemma">well_subst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_Up"><span class="id" title="lemma">well_subst_Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">hwf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΔ'</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_app_up" class="idref" href="#usubst_app_up"><span class="id" title="lemma">usubst_app_up</span></a> {<a id="c07a1e3ee75d1e39acdb4554f7fee8b5" class="idref" href="#c07a1e3ee75d1e39acdb4554f7fee8b5"><span class="id" title="binder">Γ</span></a> <a id="0ab200d8e7a4be9510d0cfd42e1e5636" class="idref" href="#0ab200d8e7a4be9510d0cfd42e1e5636"><span class="id" title="binder">Δ</span></a> <a id="3b00f42b2dc8f0989971027a6b62f2ea" class="idref" href="#3b00f42b2dc8f0989971027a6b62f2ea"><span class="id" title="binder">σ</span></a> <a id="073da5f057efa155f7fbd9f5551239ed" class="idref" href="#073da5f057efa155f7fbd9f5551239ed"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c07a1e3ee75d1e39acdb4554f7fee8b5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#3b00f42b2dc8f0989971027a6b62f2ea"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0ab200d8e7a4be9510d0cfd42e1e5636"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c07a1e3ee75d1e39acdb4554f7fee8b5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#073da5f057efa155f7fbd9f5551239ed"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#073da5f057efa155f7fbd9f5551239ed"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#3b00f42b2dc8f0989971027a6b62f2ea"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0ab200d8e7a4be9510d0cfd42e1e5636"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#3b00f42b2dc8f0989971027a6b62f2ea"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#073da5f057efa155f7fbd9f5551239ed"><span class="id" title="variable">Δ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_app"><span class="id" title="lemma">usubst_app</span></a>; <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_app_up" class="idref" href="#closed_subst_app_up"><span class="id" title="lemma">closed_subst_app_up</span></a> {<a id="6229e655bc823a1c894ffed2549e11b8" class="idref" href="#6229e655bc823a1c894ffed2549e11b8"><span class="id" title="binder">Γ</span></a> <a id="e0529ec4f88769dde798bc50c6ed43ad" class="idref" href="#e0529ec4f88769dde798bc50c6ed43ad"><span class="id" title="binder">Δ</span></a> <a id="ed75d0b17faf6bbeeed4d5d31c08ad45" class="idref" href="#ed75d0b17faf6bbeeed4d5d31c08ad45"><span class="id" title="binder">σ</span></a> <a id="f23cf61decb8ed4ba893eaf2a3aedf49" class="idref" href="#f23cf61decb8ed4ba893eaf2a3aedf49"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6229e655bc823a1c894ffed2549e11b8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed75d0b17faf6bbeeed4d5d31c08ad45"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e0529ec4f88769dde798bc50c6ed43ad"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e0529ec4f88769dde798bc50c6ed43ad"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed75d0b17faf6bbeeed4d5d31c08ad45"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f23cf61decb8ed4ba893eaf2a3aedf49"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6229e655bc823a1c894ffed2549e11b8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f23cf61decb8ed4ba893eaf2a3aedf49"><span class="id" title="variable">Δ'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f23cf61decb8ed4ba893eaf2a3aedf49"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed75d0b17faf6bbeeed4d5d31c08ad45"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e0529ec4f88769dde798bc50c6ed43ad"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ed75d0b17faf6bbeeed4d5d31c08ad45"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f23cf61decb8ed4ba893eaf2a3aedf49"><span class="id" title="variable">Δ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span> <span class="id" title="var">hΔ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_app"><span class="id" title="lemma">closed_subst_app</span></a>; <span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="well_subst_app_up" class="idref" href="#well_subst_app_up"><span class="id" title="lemma">well_subst_app_up</span></a> {<a id="15738b1a079d38312a191940a9910a2e" class="idref" href="#15738b1a079d38312a191940a9910a2e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="27d3ebc8b9bf180007451b9d5b9ced08" class="idref" href="#27d3ebc8b9bf180007451b9d5b9ced08"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#15738b1a079d38312a191940a9910a2e"><span class="id" title="variable">Σ</span></a>} {<a id="e69d8f8eaf7c6fbb1d30e7c3add60dcf" class="idref" href="#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="binder">Γ</span></a> <a id="7d1b3b0935ec8c32d95c0a3bff25359a" class="idref" href="#7d1b3b0935ec8c32d95c0a3bff25359a"><span class="id" title="binder">Δ</span></a> <a id="4477ada7ee924e01fe079e41a9fb181b" class="idref" href="#4477ada7ee924e01fe079e41a9fb181b"><span class="id" title="binder">σ</span></a> <a id="12e164b3b5da44171c2bef8899b5999d" class="idref" href="#12e164b3b5da44171c2bef8899b5999d"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#15738b1a079d38312a191940a9910a2e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7d1b3b0935ec8c32d95c0a3bff25359a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4477ada7ee924e01fe079e41a9fb181b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#12e164b3b5da44171c2bef8899b5999d"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#15738b1a079d38312a191940a9910a2e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7d1b3b0935ec8c32d95c0a3bff25359a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4477ada7ee924e01fe079e41a9fb181b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#15738b1a079d38312a191940a9910a2e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7d1b3b0935ec8c32d95c0a3bff25359a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4477ada7ee924e01fe079e41a9fb181b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#12e164b3b5da44171c2bef8899b5999d"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#12e164b3b5da44171c2bef8899b5999d"><span class="id" title="variable">Δ'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4477ada7ee924e01fe079e41a9fb181b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#12e164b3b5da44171c2bef8899b5999d"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_ext"><span class="id" title="lemma">well_subst_ext</span></a>.<br/>
&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_app"><span class="id" title="lemma">well_subst_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_local_app_inst" class="idref" href="#wf_local_app_inst"><span class="id" title="lemma">wf_local_app_inst</span></a> (<a id="bb91549715c9a4f212eaa33084f1135e" class="idref" href="#bb91549715c9a4f212eaa33084f1135e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) {<a id="44e2932db8cc6976f113370012631700" class="idref" href="#44e2932db8cc6976f113370012631700"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bb91549715c9a4f212eaa33084f1135e"><span class="id" title="variable">Σ</span></a>} <a id="5aeefd2201fe7abdaf9a67d14f85502c" class="idref" href="#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="binder">Γ</span></a> <a id="1d3039b813b7a7e23f8b2ba5911d1ff7" class="idref" href="#1d3039b813b7a7e23f8b2ba5911d1ff7"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#All_local_env"><span class="id" title="inductive">All_local_env</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> (<span class="id" title="keyword">fun</span> (<a id="7e046cf12163419ea98a88ea9b5fd37d" class="idref" href="#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="b156c1f16d3cb1208bdb1f5c8cac8c8e" class="idref" href="#b156c1f16d3cb1208bdb1f5c8cac8c8e"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:441" class="idref" href="#t:441"><span class="id" title="binder">t</span></a> <a id="T:442" class="idref" href="#T:442"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5bcf7b2216f89b4daa5823b124e04ae8" class="idref" href="#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="binder">Δ</span></a> <a id="50c8c9ce23a7b988d7b0a2685e159a91" class="idref" href="#50c8c9ce23a7b988d7b0a2685e159a91"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#50c8c9ce23a7b988d7b0a2685e159a91"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b156c1f16d3cb1208bdb1f5c8cac8c8e"><span class="id" title="variable">Γ'</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7e046cf12163419ea98a88ea9b5fd37d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5bcf7b2216f89b4daa5823b124e04ae8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:441"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#50c8c9ce23a7b988d7b0a2685e159a91"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#T:442"><span class="id" title="variable">T</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#50c8c9ce23a7b988d7b0a2685e159a91"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bb91549715c9a4f212eaa33084f1135e"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1d3039b813b7a7e23f8b2ba5911d1ff7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="8f4f30763aa5163b5716c55e7b57a344" class="idref" href="#8f4f30763aa5163b5716c55e7b57a344"><span class="id" title="binder">Δ'</span></a> <a id="0268997fc7927f6d98368d9b15303052" class="idref" href="#0268997fc7927f6d98368d9b15303052"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bb91549715c9a4f212eaa33084f1135e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8f4f30763aa5163b5716c55e7b57a344"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0268997fc7927f6d98368d9b15303052"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#ff445d7b2f6b0b41c595c87c5e61870b"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bb91549715c9a4f212eaa33084f1135e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8f4f30763aa5163b5716c55e7b57a344"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bb91549715c9a4f212eaa33084f1135e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8f4f30763aa5163b5716c55e7b57a344"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#0268997fc7927f6d98368d9b15303052"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1d3039b813b7a7e23f8b2ba5911d1ff7"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /=. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#infer_typing_sort_impl"><span class="id" title="lemma">infer_typing_sort_impl</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">t0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hs</span> (<span class="id" title="var">Δ'</span> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> σ <span class="id" title="var">Γ0</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> σ)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_app"><span class="id" title="lemma">well_subst_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_snoc"><span class="id" title="lemma">inst_context_snoc</span></a> /=. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#infer_typing_sort_impl"><span class="id" title="lemma">infer_typing_sort_impl</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">t0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hs</span> (<span class="id" title="var">Δ'</span> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> σ <span class="id" title="var">Γ0</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ0</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> σ)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_app"><span class="id" title="lemma">well_subst_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">t1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#well_subst_app"><span class="id" title="lemma">well_subst_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_up_vass" class="idref" href="#usubst_up_vass"><span class="id" title="lemma">usubst_up_vass</span></a> {<a id="8d013d47d3533b736428cc09553704a4" class="idref" href="#8d013d47d3533b736428cc09553704a4"><span class="id" title="binder">Γ</span></a> <a id="de4fc57698fc38487e92c3a734a958b9" class="idref" href="#de4fc57698fc38487e92c3a734a958b9"><span class="id" title="binder">Δ</span></a> <a id="48fdfb3d59e69e50a53bdf6592d40204" class="idref" href="#48fdfb3d59e69e50a53bdf6592d40204"><span class="id" title="binder">σ</span></a> <a id="na:450" class="idref" href="#na:450"><span class="id" title="binder">na</span></a> <a id="A:451" class="idref" href="#A:451"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#48fdfb3d59e69e50a53bdf6592d40204"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#de4fc57698fc38487e92c3a734a958b9"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:450"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:451"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#48fdfb3d59e69e50a53bdf6592d40204"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#de4fc57698fc38487e92c3a734a958b9"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:450"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:451"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#48fdfb3d59e69e50a53bdf6592d40204"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">HA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up"><span class="id" title="lemma">usubst_Up</span></a>; <span class="id" title="var">tea</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>; <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_up_vass" class="idref" href="#closed_subst_up_vass"><span class="id" title="lemma">closed_subst_up_vass</span></a> {<a id="5f9b6a0c88de0744893e8d8e98a662d1" class="idref" href="#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="binder">Γ</span></a> <a id="865dac48e6c4f0093fb27baba045cc65" class="idref" href="#865dac48e6c4f0093fb27baba045cc65"><span class="id" title="binder">Δ</span></a> <a id="a1bf614aaec1a5480babbae04cfefe38" class="idref" href="#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="binder">σ</span></a> <a id="na:455" class="idref" href="#na:455"><span class="id" title="binder">na</span></a> <a id="A:456" class="idref" href="#A:456"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#865dac48e6c4f0093fb27baba045cc65"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#865dac48e6c4f0093fb27baba045cc65"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:456"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:455"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:456"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#865dac48e6c4f0093fb27baba045cc65"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:455"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:456"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">HA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_Up"><span class="id" title="lemma">closed_subst_Up</span></a>; <span class="id" title="var">tea</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>; <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="usubst_up_vdef" class="idref" href="#usubst_up_vdef"><span class="id" title="lemma">usubst_up_vdef</span></a> {<a id="8127ceafcb0e5e39154a2dd6a35321ee" class="idref" href="#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="binder">Γ</span></a> <a id="d67d0903defc67e51fc7256bdf188313" class="idref" href="#d67d0903defc67e51fc7256bdf188313"><span class="id" title="binder">Δ</span></a> <a id="bd6e3a5ed3b6b34f0d7582acd5b3713b" class="idref" href="#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="binder">σ</span></a> <a id="na:460" class="idref" href="#na:460"><span class="id" title="binder">na</span></a> <a id="t:461" class="idref" href="#t:461"><span class="id" title="binder">t</span></a> <a id="A:462" class="idref" href="#A:462"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d67d0903defc67e51fc7256bdf188313"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:460"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:461"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:462"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d67d0903defc67e51fc7256bdf188313"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:460"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:461"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:462"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_Up'"><span class="id" title="lemma">usubst_Up'</span></a>; <span class="id" title="var">tea</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>; <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_subst_up_vdef" class="idref" href="#closed_subst_up_vdef"><span class="id" title="lemma">closed_subst_up_vdef</span></a> {<a id="b7bfa96db3dcef8f37ba3781919ec0a9" class="idref" href="#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="binder">Γ</span></a> <a id="c6aba08a2d3cd999155a1ab515a83676" class="idref" href="#c6aba08a2d3cd999155a1ab515a83676"><span class="id" title="binder">Δ</span></a> <a id="d2844446b4b482fc1843e4b1a68fd4b6" class="idref" href="#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="binder">σ</span></a> <a id="na:466" class="idref" href="#na:466"><span class="id" title="binder">na</span></a> <a id="t:467" class="idref" href="#t:467"><span class="id" title="binder">t</span></a> <a id="A:468" class="idref" href="#A:468"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c6aba08a2d3cd999155a1ab515a83676"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c6aba08a2d3cd999155a1ab515a83676"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:468"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c6aba08a2d3cd999155a1ab515a83676"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:467"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:466"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:467"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:468"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c6aba08a2d3cd999155a1ab515a83676"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#na:466"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#t:467"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:468"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d2844446b4b482fc1843e4b1a68fd4b6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_ext"><span class="id" title="lemma">closed_subst_ext</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_subst_Up'"><span class="id" title="lemma">closed_subst_Up'</span></a>; <span class="id" title="var">tea</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>; <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_is_open_term" class="idref" href="#inst_is_open_term"><span class="id" title="lemma">inst_is_open_term</span></a> <a id="da2b1c4efe836884a898e75383bc76e5" class="idref" href="#da2b1c4efe836884a898e75383bc76e5"><span class="id" title="binder">Γ</span></a> <a id="a8e88783eec0ab56500ed27dcf6ae801" class="idref" href="#a8e88783eec0ab56500ed27dcf6ae801"><span class="id" title="binder">Δ</span></a> <a id="80b6baf8c20a777364d8c2e4ed259883" class="idref" href="#80b6baf8c20a777364d8c2e4ed259883"><span class="id" title="binder">σ</span></a> <a id="u:472" class="idref" href="#u:472"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#closed_subst"><span class="id" title="definition">closed_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#da2b1c4efe836884a898e75383bc76e5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#80b6baf8c20a777364d8c2e4ed259883"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8e88783eec0ab56500ed27dcf6ae801"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#da2b1c4efe836884a898e75383bc76e5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#da2b1c4efe836884a898e75383bc76e5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:472"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8e88783eec0ab56500ed27dcf6ae801"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:472"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#80b6baf8c20a777364d8c2e4ed259883"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_inst"><span class="id" title="lemma">on_free_vars_inst</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some'"><span class="id" title="lemma">nth_error_Some'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_inst_case_context_nil" class="idref" href="#on_free_vars_ctx_inst_case_context_nil"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context_nil</span></a><br/>
&nbsp;&nbsp;(<a id="P:473" class="idref" href="#P:473"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;(<a id="pars:474" class="idref" href="#pars:474"><span class="id" title="binder">pars</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="puinst:475" class="idref" href="#puinst:475"><span class="id" title="binder">puinst</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>)<br/>
&nbsp;&nbsp;(<a id="pctx:476" class="idref" href="#pctx:476"><span class="id" title="binder">pctx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:473"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:474"><span class="id" title="variable">pars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:474"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pctx:476"><span class="id" title="variable">pctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:473"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pars:474"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#puinst:475"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#pctx:476"><span class="id" title="variable">pctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <span class="id" title="var">P</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <span class="id" title="var">pars</span> <span class="id" title="var">puinst</span> <span class="id" title="var">pctx</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICOnFreeVarsConv.html#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_inst" class="idref" href="#red1_inst"><span class="id" title="lemma">red1_inst</span></a> {<a id="7d035d716cf98a52dc7e4907482920eb" class="idref" href="#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="f592772b3c2a0f472d76a49b2e690390" class="idref" href="#f592772b3c2a0f472d76a49b2e690390"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="variable">Σ</span></a>} {<a id="3b40bd60d01e0dccb7eab39989febb62" class="idref" href="#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="binder">Γ</span></a> <a id="5f8e2d24af8f76e480f53c8e2e168b10" class="idref" href="#5f8e2d24af8f76e480f53c8e2e168b10"><span class="id" title="binder">Δ</span></a> <a id="u:481" class="idref" href="#u:481"><span class="id" title="binder">u</span></a> <a id="v:482" class="idref" href="#v:482"><span class="id" title="binder">v</span></a> <a id="33e54bdda1947ed7c775438139feb178" class="idref" href="#33e54bdda1947ed7c775438139feb178"><span class="id" title="binder">σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#33e54bdda1947ed7c775438139feb178"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5f8e2d24af8f76e480f53c8e2e168b10"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:481"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:481"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#v:482"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#7d035d716cf98a52dc7e4907482920eb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#5f8e2d24af8f76e480f53c8e2e168b10"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:481"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#33e54bdda1947ed7c775438139feb178"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#v:482"><span class="id" title="variable">v</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#33e54bdda1947ed7c775438139feb178"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>σ <span class="id" title="var">Hu</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1_ind_all"><span class="id" title="lemma">red1_ind_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>, σ, <span class="id" title="var">Δ</span>, <span class="id" title="var">h</span>σ |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">inv_on_free_vars</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hav</span>; <span class="id" title="var">rtoProp</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHh</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#subst10_inst"><span class="id" title="lemma">subst10_inst</span></a>. <span class="id" title="var">sigma</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#subst10_inst"><span class="id" title="lemma">subst10_inst</span></a>. <span class="id" title="var">sigma</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>σ. <span class="id" title="tactic">specialize</span> <span class="id" title="var">h</span>σ <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">hnth</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">with</span> (1:=<span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x'</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">hi</span> [<span class="id" title="var">hnth'</span> <span class="id" title="var">eqbod</span>]]]]|<span class="id" title="var">eqr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">hi</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">decl'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hdecl</span> ⇒ //. <span class="id" title="var">noconf</span> <span class="id" title="var">eqbod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H0</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<span class="id" title="var">t</span><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><span class="id" title="var">_</span><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>); [<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hnth'</span> /= <span class="id" title="var">hdecl</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#lift0_inst"><span class="id" title="lemma">lift0_inst</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">eqr</span>. <span class="id" title="var">sigma</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_iota_red"><span class="id" title="lemma">inst_iota_red</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_length"><span class="id" title="lemma">skipn_length</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">br</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_branch"><span class="id" title="abbreviation">inst_branch</span></a> σ <span class="id" title="var">br</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_forallb"><span class="id" title="lemma">nth_error_forallb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p4</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">p4</span> ⇒ [] <span class="id" title="var">clbctx</span> <span class="id" title="var">clbod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clbctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_unfold_fix"><span class="id" title="lemma">inst_unfold_fix</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#is_constructor_inst"><span class="id" title="lemma">is_constructor_inst</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_cofix_case"><span class="id" title="constructor">red_cofix_case</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_unfold_cofix"><span class="id" title="lemma">inst_unfold_cofix</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_cofix_proj"><span class="id" title="constructor">red_cofix_proj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_unfold_cofix"><span class="id" title="lemma">inst_unfold_cofix</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_closed0"><span class="id" title="lemma">inst_closed0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_constant_closed_body"><span class="id" title="lemma">declared_constant_closed_body</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_abs"><span class="id" title="lemma">red_abs</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_abs"><span class="id" title="lemma">red_abs</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHh</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_up_vass"><span class="id" title="lemma">usubst_up_vass</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">change</span> 1 <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">rewrite</span>  &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_letin"><span class="id" title="lemma">red_letin</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_letin"><span class="id" title="lemma">red_letin</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="var">pcuicfo</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_letin"><span class="id" title="lemma">red_letin</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHh</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_up_vdef"><span class="id" title="lemma">usubst_up_vdef</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_is_open_term"><span class="id" title="lemma">inst_is_open_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_predicate_set_pparams"><span class="id" title="lemma">inst_predicate_set_pparams</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_case_pars"><span class="id" title="lemma">red_case_pars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#OnOne2_All2"><span class="id" title="lemma">OnOne2_All2</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_predicate_set_preturn"><span class="id" title="lemma">inst_predicate_set_preturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_case_p"><span class="id" title="lemma">red_case_p</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHh</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">PCUICCases.inst_case_predicate_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inst_case_context_wf"><span class="id" title="lemma">inst_inst_case_context_wf</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_app_up"><span class="id" title="lemma">usubst_app_up</span></a>|<span class="id" title="var">now</span> <span class="id" title="var">len</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context_length"><span class="id" title="lemma">inst_case_predicate_context_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_case_c"><span class="id" title="lemma">red_case_c</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_case_brs"><span class="id" title="lemma">red_case_brs</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#OnOne2_All2"><span class="id" title="lemma">OnOne2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [[[? ?] ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i</span> ⇒ [] <span class="id" title="var">clctx</span> <span class="id" title="var">clb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">r0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_inst_case_context_wf"><span class="id" title="lemma">inst_inst_case_context_wf</span></a> //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">x</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_app_up"><span class="id" title="lemma">usubst_app_up</span></a>|<span class="id" title="var">now</span> <span class="id" title="var">len</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span>. <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context_length"><span class="id" title="lemma">inst_case_branch_context_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span>. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCRelations.html#on_Trel"><span class="id" title="definition">on_Trel</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_proj_c"><span class="id" title="lemma">red_proj_c</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_app"><span class="id" title="lemma">red_app</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_app_r"><span class="id" title="lemma">red_app_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_prod"><span class="id" title="lemma">red_prod</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_prod_r"><span class="id" title="lemma">red_prod_r</span></a>, <span class="id" title="var">IHh</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_up_vass"><span class="id" title="lemma">usubst_up_vass</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">change</span> 1 <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">M1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_evar"><span class="id" title="lemma">red_evar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#OnOne2_All2"><span class="id" title="lemma">OnOne2_All2</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_fix_one_ty"><span class="id" title="lemma">red_fix_one_ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_length"><span class="id" title="lemma">OnOne2_length</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">b</span> ⇒ [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_fix_one_body"><span class="id" title="lemma">red_fix_one_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_length"><span class="id" title="lemma">OnOne2_length</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">b</span> ⇒ [] <span class="id" title="var">onty</span> <span class="id" title="var">onb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_fix_context_up"><span class="id" title="lemma">inst_fix_context_up</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_app_up"><span class="id" title="lemma">usubst_app_up</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;×  <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onb</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onb</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onb</span>. <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_cofix_one_ty"><span class="id" title="lemma">red_cofix_one_ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_length"><span class="id" title="lemma">OnOne2_length</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">b</span> ⇒ [] <span class="id" title="var">clty</span> <span class="id" title="var">clb</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">b1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_cofix_one_body"><span class="id" title="lemma">red_cofix_one_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_length"><span class="id" title="lemma">OnOne2_length</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">b</span> ⇒ [] <span class="id" title="var">clty</span> <span class="id" title="var">clb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_ext"><span class="id" title="lemma">usubst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_fix_context_up"><span class="id" title="lemma">inst_fix_context_up</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#usubst_app_up"><span class="id" title="lemma">usubst_app_up</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;×  <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clb</span>. <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_term_upto_univ_inst" class="idref" href="#eq_term_upto_univ_inst"><span class="id" title="lemma">eq_term_upto_univ_inst</span></a> <a id="999ba247baa5dad2f6d1d58f9a90f0ca" class="idref" href="#999ba247baa5dad2f6d1d58f9a90f0ca"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="Re:485" class="idref" href="#Re:485"><span class="id" title="binder">Re</span></a> <a id="Rle:486" class="idref" href="#Rle:486"><span class="id" title="binder">Rle</span></a> <a id="napp:487" class="idref" href="#napp:487"><span class="id" title="binder">napp</span></a> <a id="u:488" class="idref" href="#u:488"><span class="id" title="binder">u</span></a> <a id="v:489" class="idref" href="#v:489"><span class="id" title="binder">v</span></a> <a id="1ccba9eaa57cdcedc82e2f6d82f5269d" class="idref" href="#1ccba9eaa57cdcedc82e2f6d82f5269d"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Re:485"><span class="id" title="variable">Re</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Rle:486"><span class="id" title="variable">Rle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#999ba247baa5dad2f6d1d58f9a90f0ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Re:485"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Rle:486"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#napp:487"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:488"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#v:489"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#999ba247baa5dad2f6d1d58f9a90f0ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Re:485"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Rle:486"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#napp:487"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#u:488"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1ccba9eaa57cdcedc82e2f6d82f5269d"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#v:489"><span class="id" title="variable">v</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#1ccba9eaa57cdcedc82e2f6d82f5269d"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Re</span> <span class="id" title="var">Rle</span> <span class="id" title="var">napp</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> σ <span class="id" title="var">hRe</span> <span class="id" title="var">hRle</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v</span>, <span class="id" title="var">napp</span>, <span class="id" title="var">Re</span>, <span class="id" title="var">Rle</span>, <span class="id" title="var">hRe</span>, <span class="id" title="var">hRle</span>, σ, <span class="id" title="var">h</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>, <span class="id" title="var">args'</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">ectx</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">ectx</span>). <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>, <span class="id" title="var">brs'</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a0</span> <span class="id" title="var">e0</span>], <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_conv" class="idref" href="#inst_conv"><span class="id" title="lemma">inst_conv</span></a> {<a id="38298ad6e758e5d6f9ffc316b164fa84" class="idref" href="#38298ad6e758e5d6f9ffc316b164fa84"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="38da5f58bb8406b97235e6f25590062e" class="idref" href="#38da5f58bb8406b97235e6f25590062e"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#38298ad6e758e5d6f9ffc316b164fa84"><span class="id" title="variable">Σ</span></a>} {<a id="a8001e2e87225e62cebe0eba7eeea11c" class="idref" href="#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="binder">Γ</span></a> <a id="e079aab38366db48e533e043fa54f49e" class="idref" href="#e079aab38366db48e533e043fa54f49e"><span class="id" title="binder">Δ</span></a> <a id="65b8c9ada9c881c5bdb68311e20e0475" class="idref" href="#65b8c9ada9c881c5bdb68311e20e0475"><span class="id" title="binder">σ</span></a> <a id="A:496" class="idref" href="#A:496"><span class="id" title="binder">A</span></a> <a id="B:497" class="idref" href="#B:497"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#65b8c9ada9c881c5bdb68311e20e0475"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e079aab38366db48e533e043fa54f49e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:496"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:497"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#38298ad6e758e5d6f9ffc316b164fa84"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:496"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:497"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#38298ad6e758e5d6f9ffc316b164fa84"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#e079aab38366db48e533e043fa54f49e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:496"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#65b8c9ada9c881c5bdb68311e20e0475"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:497"><span class="id" title="variable">B</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#65b8c9ada9c881c5bdb68311e20e0475"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>σ <span class="id" title="var">onA</span> <span class="id" title="var">onB</span> <span class="id" title="var">onΓ</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumul_refl"><span class="id" title="constructor">cumul_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#eq_term_upto_univ_inst"><span class="id" title="lemma">eq_term_upto_univ_inst</span></a>. <span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#red_conv_conv"><span class="id" title="lemma">red_conv_conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#red1_inst"><span class="id" title="lemma">red1_inst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#red1_on_free_vars"><span class="id" title="lemma">red1_on_free_vars</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#red_conv_conv_inv"><span class="id" title="lemma">red_conv_conv_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#red1_inst"><span class="id" title="lemma">red1_inst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHh</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#red1_on_free_vars"><span class="id" title="lemma">red1_on_free_vars</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_cumul" class="idref" href="#inst_cumul"><span class="id" title="lemma">inst_cumul</span></a> {<a id="84e3df7fcc5864ba6abc29c804f24eb3" class="idref" href="#84e3df7fcc5864ba6abc29c804f24eb3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="12ac0bc708f38b1e3df104d5d0bc07b4" class="idref" href="#12ac0bc708f38b1e3df104d5d0bc07b4"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#84e3df7fcc5864ba6abc29c804f24eb3"><span class="id" title="variable">Σ</span></a>} {<a id="98f71562a6b6e822f78917e3ba9ee793" class="idref" href="#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="binder">Γ</span></a> <a id="95d478351ff36305f53f4831cd000f8d" class="idref" href="#95d478351ff36305f53f4831cd000f8d"><span class="id" title="binder">Δ</span></a> <a id="d20f93e4cb8db958866a368b16c251d3" class="idref" href="#d20f93e4cb8db958866a368b16c251d3"><span class="id" title="binder">σ</span></a> <a id="A:503" class="idref" href="#A:503"><span class="id" title="binder">A</span></a> <a id="B:504" class="idref" href="#B:504"><span class="id" title="binder">B</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d20f93e4cb8db958866a368b16c251d3"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#95d478351ff36305f53f4831cd000f8d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:503"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:504"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#84e3df7fcc5864ba6abc29c804f24eb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#98f71562a6b6e822f78917e3ba9ee793"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:503"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:504"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#84e3df7fcc5864ba6abc29c804f24eb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#95d478351ff36305f53f4831cd000f8d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#A:503"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d20f93e4cb8db958866a368b16c251d3"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#B:504"><span class="id" title="variable">B</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d20f93e4cb8db958866a368b16c251d3"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>σ <span class="id" title="var">onA</span> <span class="id" title="var">onB</span> <span class="id" title="var">onΓ</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumul_refl"><span class="id" title="constructor">cumul_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#eq_term_upto_univ_inst"><span class="id" title="lemma">eq_term_upto_univ_inst</span></a>. <span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#red_cumul_cumul"><span class="id" title="lemma">red_cumul_cumul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#red1_inst"><span class="id" title="lemma">red1_inst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#red1_on_free_vars"><span class="id" title="lemma">red1_on_free_vars</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#red_cumul_cumul_inv"><span class="id" title="lemma">red_cumul_cumul_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#red1_inst"><span class="id" title="lemma">red1_inst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHh</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#red1_on_free_vars"><span class="id" title="lemma">red1_on_free_vars</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_on_free_vars_decl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span> ⇒ [] /= ? ?<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_conv_decls" class="idref" href="#inst_conv_decls"><span class="id" title="lemma">inst_conv_decls</span></a> {<a id="77eb6d6f50937397a52f5d7b5d3e77be" class="idref" href="#77eb6d6f50937397a52f5d7b5d3e77be"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="f5291af0a36abfa3dcf6c7d6e2c45a6c" class="idref" href="#f5291af0a36abfa3dcf6c7d6e2c45a6c"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#77eb6d6f50937397a52f5d7b5d3e77be"><span class="id" title="variable">Σ</span></a>} {<a id="2d45c3db9ecda5ef9de8f9408b192a61" class="idref" href="#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="binder">Γ</span></a> <a id="8140bd3c4adaff2a2a330670ce0f628f" class="idref" href="#8140bd3c4adaff2a2a330670ce0f628f"><span class="id" title="binder">Γ'</span></a> <a id="d297091d0e071a4ea31d11137b93be1c" class="idref" href="#d297091d0e071a4ea31d11137b93be1c"><span class="id" title="binder">Δ</span></a> <a id="02263f8528301dcbbc52b86a144527de" class="idref" href="#02263f8528301dcbbc52b86a144527de"><span class="id" title="binder">Δ'</span></a> <a id="31da8434361798533f78b1f69ae7740e" class="idref" href="#31da8434361798533f78b1f69ae7740e"><span class="id" title="binder">σ</span></a>} <a id="d:512" class="idref" href="#d:512"><span class="id" title="binder">d</span></a> <a id="d':513" class="idref" href="#d':513"><span class="id" title="binder">d'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#31da8434361798533f78b1f69ae7740e"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d297091d0e071a4ea31d11137b93be1c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8140bd3c4adaff2a2a330670ce0f628f"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#31da8434361798533f78b1f69ae7740e"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#02263f8528301dcbbc52b86a144527de"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_decl"><span class="id" title="abbreviation">is_open_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:512"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_decl"><span class="id" title="abbreviation">is_open_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':513"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#conv_decls"><span class="id" title="abbreviation">conv_decls</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumulAlgo_gen"><span class="id" title="inductive">cumulAlgo_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#77eb6d6f50937397a52f5d7b5d3e77be"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#8140bd3c4adaff2a2a330670ce0f628f"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:512"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':513"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#conv_decls"><span class="id" title="abbreviation">conv_decls</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumulAlgo_gen"><span class="id" title="inductive">cumulAlgo_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#77eb6d6f50937397a52f5d7b5d3e77be"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d297091d0e071a4ea31d11137b93be1c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#02263f8528301dcbbc52b86a144527de"><span class="id" title="variable">Δ'</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#31da8434361798533f78b1f69ae7740e"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:512"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#31da8434361798533f78b1f69ae7740e"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':513"><span class="id" title="variable">d'</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">usubst</span> <span class="id" title="var">usubst'</span> <span class="id" title="var">ond</span> <span class="id" title="var">ond'</span> <span class="id" title="var">onΓ</span> <span class="id" title="var">Hd</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">tas</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_conv"><span class="id" title="lemma">inst_conv</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">inv_on_free_vars_decl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_cumul_decls" class="idref" href="#inst_cumul_decls"><span class="id" title="lemma">inst_cumul_decls</span></a> {<a id="ebe9e4e5f28b81f09cca68f4c462f2a5" class="idref" href="#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="4104e4be3d4121816797999b36933676" class="idref" href="#4104e4be3d4121816797999b36933676"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="variable">Σ</span></a>} {<a id="887c73d0e5b86316726fc9e861f44a01" class="idref" href="#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="binder">Γ</span></a> <a id="d3678c60798266a23bbe2b5de64772e7" class="idref" href="#d3678c60798266a23bbe2b5de64772e7"><span class="id" title="binder">Γ'</span></a> <a id="b762921cb52b0211fbcef4cc7bb97a8e" class="idref" href="#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="binder">Δ</span></a> <a id="88e5a608fa244c0d55b42750c18cd310" class="idref" href="#88e5a608fa244c0d55b42750c18cd310"><span class="id" title="binder">Δ'</span></a> <a id="9ca2482234ee9bc565f41cdd52c4565d" class="idref" href="#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="binder">σ</span></a>} <a id="d:521" class="idref" href="#d:521"><span class="id" title="binder">d</span></a> <a id="d':522" class="idref" href="#d':522"><span class="id" title="binder">d'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#usubst"><span class="id" title="definition">usubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d3678c60798266a23bbe2b5de64772e7"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#88e5a608fa244c0d55b42750c18cd310"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_decl"><span class="id" title="abbreviation">is_open_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:521"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_decl"><span class="id" title="abbreviation">is_open_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':522"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumul_decls"><span class="id" title="abbreviation">cumul_decls</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumulAlgo_gen"><span class="id" title="inductive">cumulAlgo_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d3678c60798266a23bbe2b5de64772e7"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:521"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':522"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumul_decls"><span class="id" title="abbreviation">cumul_decls</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumulAlgo_gen"><span class="id" title="inductive">cumulAlgo_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#b762921cb52b0211fbcef4cc7bb97a8e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#88e5a608fa244c0d55b42750c18cd310"><span class="id" title="variable">Δ'</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:521"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':522"><span class="id" title="variable">d'</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">usubst</span> <span class="id" title="var">usubst'</span> <span class="id" title="var">ond</span> <span class="id" title="var">ond'</span> <span class="id" title="var">onΓ</span> <span class="id" title="var">Hd</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">tas</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_conv"><span class="id" title="lemma">inst_conv</span></a> || <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_cumul"><span class="id" title="lemma">inst_cumul</span></a>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">inv_on_free_vars_decl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_free_vars_decls" class="idref" href="#on_free_vars_decls"><span class="id" title="definition">on_free_vars_decls</span></a> <a id="P:523" class="idref" href="#P:523"><span class="id" title="binder">P</span></a> <a id="d:524" class="idref" href="#d:524"><span class="id" title="binder">d</span></a> <a id="d':525" class="idref" href="#d':525"><span class="id" title="binder">d'</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:523"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:524"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:523"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d':525"><span class="id" title="variable">d'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_app" class="idref" href="#on_ctx_free_vars_app"><span class="id" title="lemma">on_ctx_free_vars_app</span></a> <a id="P:526" class="idref" href="#P:526"><span class="id" title="binder">P</span></a> <a id="00115dfb3c84732294db05312d037303" class="idref" href="#00115dfb3c84732294db05312d037303"><span class="id" title="binder">Γ</span></a> <a id="99c3508ef6448733f8d8169314269b42" class="idref" href="#99c3508ef6448733f8d8169314269b42"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:526"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#00115dfb3c84732294db05312d037303"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#99c3508ef6448733f8d8169314269b42"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:526"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#99c3508ef6448733f8d8169314269b42"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#99c3508ef6448733f8d8169314269b42"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:526"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#00115dfb3c84732294db05312d037303"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_shift"><span class="id" title="lemma">alli_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl_proper"><span class="id" title="instance">on_free_vars_decl_proper</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_free_vars_ctxs" class="idref" href="#on_free_vars_ctxs"><span class="id" title="definition">on_free_vars_ctxs</span></a> <a id="P:529" class="idref" href="#P:529"><span class="id" title="binder">P</span></a> <a id="6d46624d22398133fc53396dd593e536" class="idref" href="#6d46624d22398133fc53396dd593e536"><span class="id" title="binder">Γ</span></a> <a id="6a096efa43b617fdf360ca93b7b72f26" class="idref" href="#6a096efa43b617fdf360ca93b7b72f26"><span class="id" title="binder">Δ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold"><span class="id" title="inductive">All2_fold</span></a> (<span class="id" title="keyword">fun</span> <a id="bdb403844e9182477c54f25fd517b057" class="idref" href="#bdb403844e9182477c54f25fd517b057"><span class="id" title="binder">Δ</span></a> <a id="4585bceb5eb8ff32a264f5ecdf863d15" class="idref" href="#4585bceb5eb8ff32a264f5ecdf863d15"><span class="id" title="binder">Δ'</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_decls"><span class="id" title="definition">on_free_vars_decls</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#bdb403844e9182477c54f25fd517b057"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:529"><span class="id" title="variable">P</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6d46624d22398133fc53396dd593e536"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6a096efa43b617fdf360ca93b7b72f26"><span class="id" title="variable">Δ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_prod" class="idref" href="#on_free_vars_ctx_prod"><span class="id" title="lemma">on_free_vars_ctx_prod</span></a> {<a id="P:534" class="idref" href="#P:534"><span class="id" title="binder">P</span></a> <a id="6d8a7500676509a278537998b80e8e40" class="idref" href="#6d8a7500676509a278537998b80e8e40"><span class="id" title="binder">Γ</span></a> <a id="f9537d4aaf527b4bed93c3583be33c33" class="idref" href="#f9537d4aaf527b4bed93c3583be33c33"><span class="id" title="binder">Δ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f9537d4aaf527b4bed93c3583be33c33"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:534"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:534"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f9537d4aaf527b4bed93c3583be33c33"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_ctxs"><span class="id" title="definition">on_free_vars_ctxs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:534"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f9537d4aaf527b4bed93c3583be33c33"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hlen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_rev_All_fold"><span class="id" title="lemma">Alli_rev_All_fold</span></a> ⇒ <span class="id" title="var">onΓ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_rev_All_fold"><span class="id" title="lemma">Alli_rev_All_fold</span></a> ⇒ <span class="id" title="var">onΔ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold_prod"><span class="id" title="lemma">All_fold_prod</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_decls"><span class="id" title="definition">on_free_vars_decls</span></a> <span class="id" title="var">H</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X1</span>) <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_prod_inv" class="idref" href="#on_free_vars_ctx_prod_inv"><span class="id" title="lemma">on_free_vars_ctx_prod_inv</span></a> {<a id="P:537" class="idref" href="#P:537"><span class="id" title="binder">P</span></a> <a id="773c4d79f04e2386d10c13303a600c4c" class="idref" href="#773c4d79f04e2386d10c13303a600c4c"><span class="id" title="binder">Γ</span></a> <a id="ca9c3c2fb1b20792d4d5bcd99d3b2565" class="idref" href="#ca9c3c2fb1b20792d4d5bcd99d3b2565"><span class="id" title="binder">Δ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#on_free_vars_ctxs"><span class="id" title="definition">on_free_vars_ctxs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:537"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#773c4d79f04e2386d10c13303a600c4c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ca9c3c2fb1b20792d4d5bcd99d3b2565"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:537"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#773c4d79f04e2386d10c13303a600c4c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:537"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#ca9c3c2fb1b20792d4d5bcd99d3b2565"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">p</span> ⇒ [] →. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>⇒ → /=; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_fold_on_free_vars_ctx" class="idref" href="#All_fold_on_free_vars_ctx"><span class="id" title="lemma">All_fold_on_free_vars_ctx</span></a> {<a id="P:540" class="idref" href="#P:540"><span class="id" title="binder">P</span></a> <a id="13135aae9e70dc18839ec77be629fe1a" class="idref" href="#13135aae9e70dc18839ec77be629fe1a"><span class="id" title="binder">Γ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold"><span class="id" title="inductive">All_fold</span></a> (<span class="id" title="keyword">fun</span> <a id="145c67b5281c015ff7677231d39e33e7" class="idref" href="#145c67b5281c015ff7677231d39e33e7"><span class="id" title="binder">Γ</span></a> <a id="d:543" class="idref" href="#d:543"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#145c67b5281c015ff7677231d39e33e7"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:540"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:543"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#13135aae9e70dc18839ec77be629fe1a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#P:540"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#13135aae9e70dc18839ec77be629fe1a"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> <span class="id" title="var">IHX</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_xpredT" class="idref" href="#on_ctx_free_vars_xpredT"><span class="id" title="lemma">on_ctx_free_vars_xpredT</span></a> <a id="c2a8d38b8cc1dbac44acff60563ea6f6" class="idref" href="#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP_xpredT" class="idref" href="#addnP_xpredT"><span class="id" title="lemma">addnP_xpredT</span></a> <a id="n:545" class="idref" href="#n:545"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#n:545"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="inst_telescope" class="idref" href="#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> <a id="r:546" class="idref" href="#r:546"><span class="id" title="binder">r</span></a> <a id="004f80c670c804a5fc6e5ed4e5572c0f" class="idref" href="#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="binder">Γ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:548" class="idref" href="#i:548"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#i:548"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#r:546"><span class="id" title="variable">r</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_subst_telescope" class="idref" href="#inst_subst_telescope"><span class="id" title="lemma">inst_subst_telescope</span></a> <a id="f:549" class="idref" href="#f:549"><span class="id" title="binder">f</span></a> <a id="s:550" class="idref" href="#s:550"><span class="id" title="binder">s</span></a> <a id="dbd6a2544e597d58c0b3a677cdfc19b6" class="idref" href="#dbd6a2544e597d58c0b3a677cdfc19b6"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:549"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:550"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#dbd6a2544e597d58c0b3a677cdfc19b6"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:549"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:550"><span class="id" title="variable">s</span></a>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#s:550"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:549"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#dbd6a2544e597d58c0b3a677cdfc19b6"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_compose"><span class="id" title="lemma">mapi_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">k'</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a> ⇒ <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_subst"><span class="id" title="lemma">inst_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="inst_telescope_ext" class="idref" href="#inst_telescope_ext"><span class="id" title="instance">inst_telescope_ext</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">n</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_telescope_upn0" class="idref" href="#inst_telescope_upn0"><span class="id" title="lemma">inst_telescope_upn0</span></a> <a id="f:552" class="idref" href="#f:552"><span class="id" title="binder">f</span></a> <a id="4d6182aa19d9f528dc3997303afd6707" class="idref" href="#4d6182aa19d9f528dc3997303afd6707"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a>0 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:552"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4d6182aa19d9f528dc3997303afd6707"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:552"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#4d6182aa19d9f528dc3997303afd6707"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_telescope_cons" class="idref" href="#inst_telescope_cons"><span class="id" title="lemma">inst_telescope_cons</span></a> <a id="f:554" class="idref" href="#f:554"><span class="id" title="binder">f</span></a> <a id="d:555" class="idref" href="#d:555"><span class="id" title="binder">d</span></a> <a id="65f630dfb5be7568893f538c9def7cad" class="idref" href="#65f630dfb5be7568893f538c9def7cad"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:554"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:555"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#65f630dfb5be7568893f538c9def7cad"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:554"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#d:555"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a>1 <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#f:554"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#65f630dfb5be7568893f538c9def7cad"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_cons"><span class="id" title="lemma">mapi_cons</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_decl"><span class="id" title="definition">inst_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">sigma</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_context_telescope" class="idref" href="#inst_context_telescope"><span class="id" title="lemma">inst_context_telescope</span></a> <a id="r:557" class="idref" href="#r:557"><span class="id" title="binder">r</span></a> <a id="9502a12eba0a165ce017e5ab88777dfd" class="idref" href="#9502a12eba0a165ce017e5ab88777dfd"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#inst_context"><span class="id" title="definition">inst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#r:557"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9502a12eba0a165ce017e5ab88777dfd"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#r:557"><span class="id" title="variable">r</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#9502a12eba0a165ce017e5ab88777dfd"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_context_alt"><span class="id" title="lemma">inst_context_alt</span></a> /<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#inst_telescope"><span class="id" title="definition">inst_telescope</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rev"><span class="id" title="lemma">mapi_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">k'</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a> ⇒ <span class="id" title="var">t</span>. <span class="id" title="var">sigma</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#Sigma"><span class="id" title="section">Sigma</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
