<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.Erasure.EAstUtils</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#"><span class="id" title="library">BasicAst</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#"><span class="id" title="library">Kernames</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EAst.html#"><span class="id" title="library">EAst</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">app_tip_nil</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="decompose_app_rec" class="idref" href="#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a id="t:1" class="idref" href="#t:1"><span class="id" title="binder">t</span></a> <a id="l:2" class="idref" href="#l:2"><span class="id" title="binder">l</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:1"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec:3"><span class="id" title="definition">decompose_app_rec</span></a> <span class="id" title="var">f</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:2"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">f</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:2"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="decompose_app" class="idref" href="#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:5"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="head" class="idref" href="#head"><span class="id" title="definition">head</span></a> <a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:6"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="spine" class="idref" href="#spine"><span class="id" title="definition">spine</span></a> <a id="t:7" class="idref" href="#t:7"><span class="id" title="binder">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:7"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_rec_mkApps" class="idref" href="#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a> <a id="f:8" class="idref" href="#f:8"><span class="id" title="binder">f</span></a> <a id="l:9" class="idref" href="#l:9"><span class="id" title="binder">l</span></a> <a id="l':10" class="idref" href="#l':10"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:8"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:9"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':10"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:8"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:9"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':10"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_mkApps" class="idref" href="#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> <a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a> <a id="l:12" class="idref" href="#l:12"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:11"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:11"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:12"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:11"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:12"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; (<span class="id" title="tactic">discriminate</span> || <span class="id" title="tactic">reflexivity</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_app" class="idref" href="#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <a id="t:13" class="idref" href="#t:13"><span class="id" title="binder">t</span></a> <a id="l:14" class="idref" href="#l:14"><span class="id" title="binder">l</span></a> <a id="l':15" class="idref" href="#l':15"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:13"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:14"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':15"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:13"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:14"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':15"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_rec_inv" class="idref" href="#decompose_app_rec_inv"><span class="id" title="lemma">decompose_app_rec_inv</span></a> {<a id="t:16" class="idref" href="#t:16"><span class="id" title="binder">t</span></a> <a id="l':17" class="idref" href="#l':17"><span class="id" title="binder">l'</span></a> <a id="f:18" class="idref" href="#f:18"><span class="id" title="binder">f</span></a> <a id="l:19" class="idref" href="#l:19"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:16"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':17"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:18"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:19"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:16"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':17"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:18"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:19"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">l</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= &lt;- &lt;-]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHt1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_inv" class="idref" href="#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> {<a id="t:20" class="idref" href="#t:20"><span class="id" title="binder">t</span></a> <a id="f:21" class="idref" href="#f:21"><span class="id" title="binder">f</span></a> <a id="l:22" class="idref" href="#l:22"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:20"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:21"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:22"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:20"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:21"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:22"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_inv"><span class="id" title="lemma">decompose_app_rec_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="head_mkApps" class="idref" href="#head_mkApps"><span class="id" title="lemma">head_mkApps</span></a> <a id="f:23" class="idref" href="#f:23"><span class="id" title="binder">f</span></a> <a id="a:24" class="idref" href="#a:24"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:23"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:24"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:23"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="var">IHf1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="head_tApp" class="idref" href="#head_tApp"><span class="id" title="lemma">head_tApp</span></a> <a id="f:25" class="idref" href="#f:25"><span class="id" title="binder">f</span></a> <a id="a:26" class="idref" href="#a:26"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:25"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:26"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:25"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_mkApps"><span class="id" title="lemma">head_mkApps</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nApp_decompose_app" class="idref" href="#nApp_decompose_app"><span class="id" title="lemma">nApp_decompose_app</span></a> <a id="t:27" class="idref" href="#t:27"><span class="id" title="binder">t</span></a> <a id="l:28" class="idref" href="#l:28"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:28"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:28"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_rec_notApp" class="idref" href="#decompose_app_rec_notApp"><span class="id" title="lemma">decompose_app_rec_notApp</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:29" class="idref" href="#t:29"><span class="id" title="binder">t</span></a> <a id="l:30" class="idref" href="#l:30"><span class="id" title="binder">l</span></a> <a id="u:31" class="idref" href="#u:31"><span class="id" title="binder">u</span></a> <a id="l':32" class="idref" href="#l':32"><span class="id" title="binder">l'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:29"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:30"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#u:31"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':32"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#u:31"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">u</span> <span class="id" title="var">l'</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">u</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span> ; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt1</span>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_notApp" class="idref" href="#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:33" class="idref" href="#t:33"><span class="id" title="binder">t</span></a> <a id="u:34" class="idref" href="#u:34"><span class="id" title="binder">u</span></a> <a id="l:35" class="idref" href="#l:35"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:33"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#u:34"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:35"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#u:34"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_notApp"><span class="id" title="lemma">decompose_app_rec_notApp</span></a>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="head_nApp" class="idref" href="#head_nApp"><span class="id" title="lemma">head_nApp</span></a> <a id="t:36" class="idref" href="#t:36"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:36"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">head_nApp</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spine_mkApps" class="idref" href="#spine_mkApps"><span class="id" title="lemma">spine_mkApps</span></a> <a id="f:37" class="idref" href="#f:37"><span class="id" title="binder">f</span></a> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:38"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:38"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_inv"><span class="id" title="lemma">decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#nApp_decompose_app"><span class="id" title="lemma">nApp_decompose_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_notApp"><span class="id" title="lemma">decompose_app_rec_notApp</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spine_tApp" class="idref" href="#spine_tApp"><span class="id" title="lemma">spine_tApp</span></a> <a id="f:39" class="idref" href="#f:39"><span class="id" title="binder">f</span></a> <a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:39"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:40"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:39"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine_mkApps"><span class="id" title="lemma">spine_mkApps</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spine_nApp" class="idref" href="#spine_nApp"><span class="id" title="lemma">spine_nApp</span></a> <a id="f:41" class="idref" href="#f:41"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:41"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:41"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_head_spine" class="idref" href="#mkApps_head_spine"><span class="id" title="lemma">mkApps_head_spine</span></a> <a id="t:42" class="idref" href="#t:42"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:42"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:42"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:42"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_tApp"><span class="id" title="lemma">head_tApp</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine_tApp"><span class="id" title="lemma">spine_tApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /=. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_head_spine_decompose" class="idref" href="#mkApps_head_spine_decompose"><span class="id" title="lemma">mkApps_head_spine_decompose</span></a> <a id="f:43" class="idref" href="#f:43"><span class="id" title="binder">f</span></a> <a id="l:44" class="idref" href="#l:44"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:43"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:44"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:43"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#spine"><span class="id" title="definition">spine</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:43"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:44"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_head_spine"><span class="id" title="lemma">mkApps_head_spine</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_eq_decompose_app_rec" class="idref" href="#mkApps_eq_decompose_app_rec"><span class="id" title="lemma">mkApps_eq_decompose_app_rec</span></a> {<a id="f:45" class="idref" href="#f:45"><span class="id" title="binder">f</span></a> <a id="args:46" class="idref" href="#args:46"><span class="id" title="binder">args</span></a> <a id="t:47" class="idref" href="#t:47"><span class="id" title="binder">t</span></a> <a id="l:48" class="idref" href="#l:48"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:45"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:46"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:47"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:45"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:47"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:48"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">args'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:45"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:47"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:48"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">args'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> × → **. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#nApp_decompose_app"><span class="id" title="lemma">nApp_decompose_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHargs</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHargs</span> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">f</span> <span class="id" title="var">args</span>) (<span class="id" title="var">t2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_eq_right" class="idref" href="#decompose_app_eq_right"><span class="id" title="lemma">decompose_app_eq_right</span></a> <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> <a id="l:50" class="idref" href="#l:50"><span class="id" title="binder">l</span></a> <a id="l':51" class="idref" href="#l':51"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':51"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':51"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> [=]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">IHt1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="head_nApp_eq" class="idref" href="#head_nApp_eq"><span class="id" title="lemma">head_nApp_eq</span></a> {<a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:52"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">napp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_eq_inj" class="idref" href="#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> {<a id="t:53" class="idref" href="#t:53"><span class="id" title="binder">t</span></a> <a id="t':54" class="idref" href="#t':54"><span class="id" title="binder">t'</span></a> <a id="l:55" class="idref" href="#l:55"><span class="id" title="binder">l</span></a> <a id="l':56" class="idref" href="#l':56"><span class="id" title="binder">l'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:55"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t':54"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':56"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t':54"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:53"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t':54"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:55"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':56"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Happ</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Ht'</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#nApp_decompose_app"><span class="id" title="lemma">nApp_decompose_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_head_inj" class="idref" href="#mkApps_head_inj"><span class="id" title="lemma">mkApps_head_inj</span></a> {<a id="f:57" class="idref" href="#f:57"><span class="id" title="binder">f</span></a> <a id="l:58" class="idref" href="#l:58"><span class="id" title="binder">l</span></a> <a id="f':59" class="idref" href="#f':59"><span class="id" title="binder">f'</span></a> <a id="l':60" class="idref" href="#l':60"><span class="id" title="binder">l'</span></a>} : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:57"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:58"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f':59"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':60"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:57"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f':59"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:58"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':60"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_eq_right" class="idref" href="#mkApps_eq_right"><span class="id" title="lemma">mkApps_eq_right</span></a> <a id="t:61" class="idref" href="#t:61"><span class="id" title="binder">t</span></a> <a id="l:62" class="idref" href="#l:62"><span class="id" title="binder">l</span></a> <a id="l':63" class="idref" href="#l':63"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:61"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:62"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:61"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':63"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:62"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':63"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_head_spine_decompose"><span class="id" title="lemma">mkApps_head_spine_decompose</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_head_spine_decompose"><span class="id" title="lemma">mkApps_head_spine_decompose</span></a> <span class="id" title="var">t</span> <span class="id" title="var">l'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_head_inj"><span class="id" title="lemma">mkApps_head_inj</span></a> ⇒ [] <span class="id" title="var">_</span> <span class="id" title="var">eqapp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_inv_head"><span class="id" title="lemma">app_inv_head</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqapp</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="mkApps_spec" class="idref" href="#mkApps_spec"><span class="id" title="inductive">mkApps_spec</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="mkApps_intro" class="idref" href="#mkApps_intro"><span class="id" title="constructor">mkApps_intro</span></a> <a id="f:66" class="idref" href="#f:66"><span class="id" title="binder">f</span></a> <a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a> <a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_spec:64"><span class="id" title="inductive">mkApps_spec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:67"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:66"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:67"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:67"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:67"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_rec_eq" class="idref" href="#decompose_app_rec_eq"><span class="id" title="lemma">decompose_app_rec_eq</span></a> <a id="f:69" class="idref" href="#f:69"><span class="id" title="binder">f</span></a> <a id="l:70" class="idref" href="#l:70"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:70"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:69"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:70"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_app_rec_inv'" class="idref" href="#decompose_app_rec_inv'"><span class="id" title="lemma">decompose_app_rec_inv'</span></a> <a id="f:71" class="idref" href="#f:71"><span class="id" title="binder">f</span></a> <a id="l:72" class="idref" href="#l:72"><span class="id" title="binder">l</span></a> <a id="hd:73" class="idref" href="#hd:73"><span class="id" title="binder">hd</span></a> <a id="args:74" class="idref" href="#args:74"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:71"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:72"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#hd:73"><span class="id" title="variable">hd</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:74"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="n:75" class="idref" href="#n:75"><span class="id" title="binder">n</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#hd:73"><span class="id" title="variable">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:72"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#n:75"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:74"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:71"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#hd:73"><span class="id" title="variable">hd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#n:75"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:74"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">args</span> <span class="id" title="var">hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">f1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hf1</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_eq"><span class="id" title="lemma">decompose_app_rec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#negbT"><span class="id" title="lemma">negbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hf1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">∃</span> 1. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#negbT"><span class="id" title="lemma">negbT</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHf1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHf1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> 1)) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">l</span>]<span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#skipn_skipn"><span class="id" title="lemma">skipn_skipn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#firstn_add"><span class="id" title="lemma">firstn_add</span></a> <span class="id" title="var">H3</span> -<span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">f2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_eq"><span class="id" title="lemma">decompose_app_rec_eq</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#negbT"><span class="id" title="lemma">negbT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">H</span> →. <span class="id" title="tactic">subst</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">∃</span> 0. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#negbT"><span class="id" title="lemma">negbT</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_elim_rec" class="idref" href="#mkApps_elim_rec"><span class="id" title="lemma">mkApps_elim_rec</span></a> <a id="t:76" class="idref" href="#t:76"><span class="id" title="binder">t</span></a> <a id="l:77" class="idref" href="#l:77"><span class="id" title="binder">l</span></a> <a id="l':78" class="idref" href="#l':78"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="app':79" class="idref" href="#app':79"><span class="id" title="binder">app'</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:76"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:77"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':78"><span class="id" title="variable">l'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_spec"><span class="id" title="inductive">mkApps_spec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#app':79"><span class="id" title="variable">app'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#app':79"><span class="id" title="variable">app'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:76"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:77"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':78"><span class="id" title="variable">l'</span></a>) (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:76"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:77"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l':78"><span class="id" title="variable">l'</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">app'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hd</span> <span class="id" title="var">args</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">app'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app_rec_inv'"><span class="id" title="lemma">decompose_app_rec_inv'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isapp</span> [<span class="id" title="var">Hl'</span> <span class="id" title="var">Hl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H'</span> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_intro"><span class="id" title="constructor">mkApps_intro</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">args</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_elim" class="idref" href="#mkApps_elim"><span class="id" title="lemma">mkApps_elim</span></a> <a id="t:80" class="idref" href="#t:80"><span class="id" title="binder">t</span></a> <a id="l:81" class="idref" href="#l:81"><span class="id" title="binder">l</span></a>  :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="app':82" class="idref" href="#app':82"><span class="id" title="binder">app'</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:80"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:81"><span class="id" title="variable">l</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_spec"><span class="id" title="inductive">mkApps_spec</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#app':82"><span class="id" title="variable">app'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#app':82"><span class="id" title="variable">app'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:80"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:81"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:80"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:81"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span> := @<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_elim_rec"><span class="id" title="lemma">mkApps_elim_rec</span></a> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_eq" class="idref" href="#mkApps_eq"><span class="id" title="lemma">mkApps_eq</span></a> <a id="f:83" class="idref" href="#f:83"><span class="id" title="binder">f</span></a> <a id="args:84" class="idref" href="#args:84"><span class="id" title="binder">args</span></a> <a id="a:85" class="idref" href="#a:85"><span class="id" title="binder">a</span></a> <a id="t:86" class="idref" href="#t:86"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:83"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:83"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:84"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:84"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:83"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#remove_last"><span class="id" title="definition">remove_last</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:84"><span class="id" title="variable">args</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:84"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:86"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">napp</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_case"><span class="id" title="lemma">rev_case</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> ⇒ //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#remove_last_app"><span class="id" title="lemma">remove_last_app</span></a>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_discr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> ?<span class="id" title="var">f</span> ?<span class="id" title="var">l</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? ?]; [|<span class="id" title="var">easy</span>|<span class="id" title="var">easy</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> ?<span class="id" title="var">f</span> ?<span class="id" title="var">l</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? ?]; [|<span class="id" title="var">easy</span>|<span class="id" title="var">easy</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> ?<span class="id" title="var">f</span> ?<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">t</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_eq_inj"><span class="id" title="lemma">mkApps_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? ?]; [|<span class="id" title="var">easy</span>|<span class="id" title="var">easy</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isRel" class="idref" href="#isRel"><span class="id" title="definition">isRel</span></a> <a id="t:87" class="idref" href="#t:87"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:87"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isEvar" class="idref" href="#isEvar"><span class="id" title="definition">isEvar</span></a> <a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:89"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isFix" class="idref" href="#isFix"><span class="id" title="definition">isFix</span></a> <a id="t:91" class="idref" href="#t:91"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:91"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isCoFix" class="idref" href="#isCoFix"><span class="id" title="definition">isCoFix</span></a> <a id="t:93" class="idref" href="#t:93"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:93"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isConstruct" class="idref" href="#isConstruct"><span class="id" title="definition">isConstruct</span></a> <a id="t:95" class="idref" href="#t:95"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:95"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isPrim" class="idref" href="#isPrim"><span class="id" title="definition">isPrim</span></a> <a id="t:97" class="idref" href="#t:97"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:97"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isBox" class="idref" href="#isBox"><span class="id" title="definition">isBox</span></a> <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:99"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_box" class="idref" href="#is_box"><span class="id" title="definition">is_box</span></a> <a id="c:101" class="idref" href="#c:101"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#c:101"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isFixApp" class="idref" href="#isFixApp"><span class="id" title="definition">isFixApp</span></a> <a id="t:102" class="idref" href="#t:102"><span class="id" title="binder">t</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:102"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="isConstructApp" class="idref" href="#isConstructApp"><span class="id" title="definition">isConstructApp</span></a> <a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:103"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="isPrimApp" class="idref" href="#isPrimApp"><span class="id" title="definition">isPrimApp</span></a> <a id="t:104" class="idref" href="#t:104"><span class="id" title="binder">t</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isPrim"><span class="id" title="definition">isPrim</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head"><span class="id" title="definition">head</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:104"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isFixApp_mkApps" class="idref" href="#isFixApp_mkApps"><span class="id" title="lemma">isFixApp_mkApps</span></a> <a id="f:105" class="idref" href="#f:105"><span class="id" title="binder">f</span></a> <a id="l:106" class="idref" href="#l:106"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFixApp"><span class="id" title="definition">isFixApp</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:105"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:106"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFixApp"><span class="id" title="definition">isFixApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:105"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFixApp"><span class="id" title="definition">isFixApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_mkApps"><span class="id" title="lemma">head_mkApps</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="isConstructApp_mkApps" class="idref" href="#isConstructApp_mkApps"><span class="id" title="lemma">isConstructApp_mkApps</span></a> <a id="f:107" class="idref" href="#f:107"><span class="id" title="binder">f</span></a> <a id="l:108" class="idref" href="#l:108"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isConstructApp"><span class="id" title="definition">isConstructApp</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:107"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:108"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isConstructApp"><span class="id" title="definition">isConstructApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:107"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isConstructApp"><span class="id" title="definition">isConstructApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_mkApps"><span class="id" title="lemma">head_mkApps</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="isPrimApp_mkApps" class="idref" href="#isPrimApp_mkApps"><span class="id" title="lemma">isPrimApp_mkApps</span></a> <a id="f:109" class="idref" href="#f:109"><span class="id" title="binder">f</span></a> <a id="l:110" class="idref" href="#l:110"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isPrimApp"><span class="id" title="definition">isPrimApp</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:109"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:110"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isPrimApp"><span class="id" title="definition">isPrimApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:109"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isPrimApp"><span class="id" title="definition">isPrimApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_mkApps"><span class="id" title="lemma">head_mkApps</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_box_mkApps" class="idref" href="#is_box_mkApps"><span class="id" title="lemma">is_box_mkApps</span></a> <a id="f:111" class="idref" href="#f:111"><span class="id" title="binder">f</span></a> <a id="a:112" class="idref" href="#a:112"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:111"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:112"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:111"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_mkApps"><span class="id" title="lemma">head_mkApps</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_box_tApp" class="idref" href="#is_box_tApp"><span class="id" title="lemma">is_box_tApp</span></a> <a id="f:113" class="idref" href="#f:113"><span class="id" title="binder">f</span></a> <a id="a:114" class="idref" href="#a:114"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#a:114"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:113"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#head_tApp"><span class="id" title="lemma">head_tApp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nisLambda_mkApps" class="idref" href="#nisLambda_mkApps"><span class="id" title="lemma">nisLambda_mkApps</span></a> <a id="f:115" class="idref" href="#f:115"><span class="id" title="binder">f</span></a> <a id="args:116" class="idref" href="#args:116"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:116"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_case"><span class="id" title="lemma">rev_case</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /= //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="nisFix_mkApps" class="idref" href="#nisFix_mkApps"><span class="id" title="lemma">nisFix_mkApps</span></a> <a id="f:117" class="idref" href="#f:117"><span class="id" title="binder">f</span></a> <a id="args:118" class="idref" href="#args:118"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:118"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_case"><span class="id" title="lemma">rev_case</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /= //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="nisBox_mkApps" class="idref" href="#nisBox_mkApps"><span class="id" title="lemma">nisBox_mkApps</span></a> <a id="f:119" class="idref" href="#f:119"><span class="id" title="binder">f</span></a> <a id="args:120" class="idref" href="#args:120"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:119"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:119"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:120"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_case"><span class="id" title="lemma">rev_case</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /= //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="nisPrim_mkApps" class="idref" href="#nisPrim_mkApps"><span class="id" title="lemma">nisPrim_mkApps</span></a> <a id="f:121" class="idref" href="#f:121"><span class="id" title="binder">f</span></a> <a id="args:122" class="idref" href="#args:122"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isPrim"><span class="id" title="definition">isPrim</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:121"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isPrim"><span class="id" title="definition">isPrim</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:121"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#args:122"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_case"><span class="id" title="lemma">rev_case</span></a> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> /= //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="string_of_def" class="idref" href="#string_of_def"><span class="id" title="definition">string_of_def</span></a> {<a id="A:123" class="idref" href="#A:123"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>} (<a id="f:124" class="idref" href="#f:124"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#A:123"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a>) (<a id="def:125" class="idref" href="#def:125"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#A:123"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;"(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#def:125"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:124"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#def:125"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#def:125"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="maybe_string_of_list" class="idref" href="#maybe_string_of_list"><span class="id" title="definition">maybe_string_of_list</span></a> {<a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a>} <a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> (<a id="l:128" class="idref" href="#l:128"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#A:126"><span class="id" title="variable">A</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:128"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ "" | <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#f:127"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#l:128"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="string_of_term" class="idref" href="#string_of_term"><span class="id" title="definition">string_of_term</span></a> (<a id="t:130" class="idref" href="#t:130"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaCoq.Utils.bytestring.html#string"><span class="id" title="abbreviation">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:130"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> ⇒ "∎"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">n</span> ⇒ "Rel(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">n</span> ⇒ "Var(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ "Evar(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">ev</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "[]" <span class="comment">(*&nbsp;TODO&nbsp;*)</span>  <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">t</span> ⇒ "Lambda(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> <span class="id" title="var">na</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> ⇒ "LetIn(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> <span class="id" title="var">na</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">b</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">l</span> ⇒ "App(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">l</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> ⇒ "Const(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#string_of_kername"><span class="id" title="definition">string_of_kername</span></a> <span class="id" title="var">c</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">args</span> ⇒ "Construct(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">i</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#maybe_string_of_list"><span class="id" title="definition">maybe_string_of_list</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">args</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">t</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"Case(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">ind</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">i</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> (<span class="id" title="keyword">fun</span> <a id="b:133" class="idref" href="#b:133"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#b:133"><span class="id" title="variable">b</span></a>)) <span class="id" title="var">brs</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"Proj(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Common.Kernames.html#proj_npars"><span class="id" title="projection">proj_npars</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Common.Kernames.html#proj_arg"><span class="id" title="projection">proj_arg</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">c</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">l</span> <span class="id" title="var">n</span> ⇒ "Fix(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCString.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_def"><span class="id" title="definition">string_of_def</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a>) <span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">l</span> <span class="id" title="var">n</span> ⇒ "CoFix(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCString.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_def"><span class="id" title="definition">string_of_def</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a>) <span class="id" title="var">l</span><a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "," <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.Utils.MCString.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">p</span> ⇒ "Prim(" <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICPrimitive.html#string_of_prim"><span class="id" title="definition">PCUICPrimitive.string_of_prim</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#string_of_term:131"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> ")"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Compute all the global environment dependencies of the term 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="term_global_deps" class="idref" href="#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a id="t:134" class="idref" href="#t:134"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#t:134"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConst"><span class="id" title="constructor">EAst.tConst</span></a> <span class="id" title="var">kn</span> ⇒ <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">kn</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">EAst.tConstruct</span></a> {| <a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> := <span class="id" title="var">kn</span> |} <span class="id" title="var">_</span> <span class="id" title="var">args</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:137" class="idref" href="#acc:137"><span class="id" title="binder">acc</span></a> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#x:138"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#acc:137"><span class="id" title="variable">acc</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">kn</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">EAst.tLambda</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">EAst.tApp</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">EAst.tLetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCase"><span class="id" title="constructor">EAst.tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">x</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ind</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:139" class="idref" href="#acc:139"><span class="id" title="binder">acc</span></a> <a id="x:140" class="idref" href="#x:140"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#x:140"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#acc:139"><span class="id" title="variable">acc</span></a>) <span class="id" title="var">brs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tFix"><span class="id" title="constructor">EAst.tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> | <a class="idref" href="MetaCoq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">EAst.tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:143" class="idref" href="#acc:143"><span class="id" title="binder">acc</span></a> <a id="x:144" class="idref" href="#x:144"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#dbody"><span class="id" title="projection">EAst.dbody</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#x:142"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#acc:141"><span class="id" title="variable">acc</span></a>) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tProj"><span class="id" title="constructor">EAst.tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps:135"><span class="id" title="definition">term_global_deps</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
