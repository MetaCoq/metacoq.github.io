<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaCoq.Common.EnvMap.html#"><span class="id" title="library">EnvMap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <a class="idref" href="MetaCoq.Template.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="MetaCoq.Template.TypingWf.html#"><span class="id" title="library">TypingWf</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#"><span class="id" title="library">WfAst</span></a> <a class="idref" href="MetaCoq.Template.TermEquality.html#"><span class="id" title="library">TermEquality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSubstitution.html#"><span class="id" title="library">PCUICSubstitution</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#"><span class="id" title="library">PCUICCasesContexts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#"><span class="id" title="library">PCUICProgram</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.TemplatePCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#"><span class="id" title="library">TemplateToPCUIC</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Equations.Prop</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">Ast.Env.fst_ctx</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">:</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">Ast.Env.global_env_ext</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.fst_ctx"><span class="id" title="definition">Ast.Env.global_env</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lengths" class="idref" href="#lengths"><span class="id" title="definition">lengths</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_subst_context"><span class="id" title="lemma">Ast.Env.context_assumptions_subst_context</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_app"><span class="id" title="lemma">Ast.Env.context_assumptions_app</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_subst_instance"><span class="id" title="lemma">Ast.Env.context_assumptions_subst_instance</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_lift_context"><span class="id" title="lemma">Ast.Env.context_assumptions_lift_context</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx_length"><span class="id" title="lemma">Ast.Env.expand_lets_ctx_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context_length"><span class="id" title="lemma">Ast.Env.subst_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_instance_length"><span class="id" title="lemma">Ast.Env.subst_instance_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k_ctx_length"><span class="id" title="lemma">Ast.Env.expand_lets_k_ctx_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Template.Ast.html#inds_length"><span class="id" title="lemma">Ast.inds_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Ast.html#Env.lift_context_length"><span class="id" title="lemma">Ast.Env.lift_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Ast.html#Env.extended_subst_length"><span class="id" title="lemma">Ast.Env.extended_subst_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#reln_length"><span class="id" title="lemma">reln_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Typing.html#cofix_subst_length"><span class="id" title="lemma">Typing.cofix_subst_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Typing.html#fix_subst_length"><span class="id" title="lemma">Typing.fix_subst_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Template.Ast.html#Env.smash_context_length"><span class="id" title="lemma">Ast.Env.smash_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context_length"><span class="id" title="lemma">Ast.Env.arities_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="plengths" class="idref" href="#plengths"><span class="id" title="definition">plengths</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_context"><span class="id" title="lemma">context_assumptions_subst_context</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_app"><span class="id" title="lemma">context_assumptions_app</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_lift_context"><span class="id" title="lemma">context_assumptions_lift_context</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx_length"><span class="id" title="lemma">expand_lets_ctx_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_length"><span class="id" title="lemma">subst_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx_length"><span class="id" title="lemma">expand_lets_k_ctx_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inds_length"><span class="id" title="lemma">inds_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_length"><span class="id" title="lemma">lift_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst_length"><span class="id" title="lemma">extended_subst_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#reln_length"><span class="id" title="lemma">reln_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_length"><span class="id" title="lemma">mapi_rec_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst_length"><span class="id" title="lemma">cofix_subst_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst_length"><span class="id" title="lemma">fix_subst_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context_length"><span class="id" title="lemma">smash_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#context_assumptions_smash_context"><span class="id" title="lemma">context_assumptions_smash_context</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context_length"><span class="id" title="lemma">arities_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ind_predicate_context_length" class="idref" href="#ind_predicate_context_length"><span class="id" title="lemma">ind_predicate_context_length</span></a> <a id="ind:1" class="idref" href="#ind:1"><span class="id" title="binder">ind</span></a> <a id="mdecl:2" class="idref" href="#mdecl:2"><span class="id" title="binder">mdecl</span></a> <a id="idecl:3" class="idref" href="#idecl:3"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:1"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:2"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:3"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:3"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> /=. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="pclengths" class="idref" href="#pclengths"><span class="id" title="definition">pclengths</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context_length"><span class="id" title="lemma">PCUICCases.cstr_branch_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context_length"><span class="id" title="lemma">PCUICCases.inst_case_branch_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context_length"><span class="id" title="lemma">PCUICCases.inst_case_predicate_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_predicate_context_length"><span class="id" title="lemma">ind_predicate_context_length</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">len</span> ::=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lengths"><span class="id" title="definition">lengths</span></a> /= // || <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#plengths"><span class="id" title="definition">plengths</span></a> /= // || <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pclengths"><span class="id" title="definition">pclengths</span></a> /= //);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "len" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">id</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lengths"><span class="id" title="definition">lengths</span></a> /= // <span class="id" title="tactic">in</span> <span class="id" title="var">id</span> || <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#plengths"><span class="id" title="definition">plengths</span></a> /= // <span class="id" title="tactic">in</span> <span class="id" title="var">id</span> ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pclengths"><span class="id" title="definition">pclengths</span></a> /= // <span class="id" title="tactic">in</span> <span class="id" title="var">id</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Source&nbsp;=Template,&nbsp;Target&nbsp;(unqualified)&nbsp;=&nbsp;Coq&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="S" class="idref" href="#S"><span class="id" title="module">S</span></a> :=<a class="idref" href="MetaCoq.Template.Ast.html#"><span class="id" title="module">Template.Ast</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="SEq" class="idref" href="#SEq"><span class="id" title="module">SEq</span></a> :=<a class="idref" href="MetaCoq.Template.TermEquality.html#"><span class="id" title="module">Template.TermEquality</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="ST" class="idref" href="#ST"><span class="id" title="module">ST</span></a> :=<a class="idref" href="MetaCoq.Template.Typing.html#"><span class="id" title="module">Template.Typing</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="SL" class="idref" href="#SL"><span class="id" title="module">SL</span></a> :=<a class="idref" href="MetaCoq.Template.LiftSubst.html#"><span class="id" title="module">Template.LiftSubst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_fresh_globals" class="idref" href="#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a> {<a id="cf:4" class="idref" href="#cf:4"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="48bbc240c70629f9166b6605559525f0" class="idref" href="#48bbc240c70629f9166b6605559525f0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#48bbc240c70629f9166b6605559525f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.fresh_globals</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#48bbc240c70629f9166b6605559525f0"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">onu</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="of_global_env_cons" class="idref" href="#of_global_env_cons"><span class="id" title="lemma">of_global_env_cons</span></a> {<a id="cf:6" class="idref" href="#cf:6"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="d:7" class="idref" href="#d:7"><span class="id" title="binder">d</span></a> <a id="g:8" class="idref" href="#g:8"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.fresh_globals"><span class="id" title="inductive">EnvMap.fresh_globals</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:8"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a>).(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.of_global_env"><span class="id" title="definition">EnvMap.of_global_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:8"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a>).(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.add"><span class="id" title="definition">EnvMap.add</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:7"><span class="id" title="variable">d</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.of_global_env"><span class="id" title="definition">EnvMap.of_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:8"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.of_global_env"><span class="id" title="definition">EnvMap.of_global_env</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameMapFact.uncurry"><span class="id" title="definition">KernameMapFact.uncurry</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup_minductive" class="idref" href="#trans_lookup_minductive"><span class="id" title="lemma">trans_lookup_minductive</span></a> {<a id="cf:9" class="idref" href="#cf:9"><span class="id" title="binder">cf</span></a>} {<a id="2ab75602e9b8af2ca6fd6dbdb1e68a19" class="idref" href="#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="mind:11" class="idref" href="#mind:11"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_minductive"><span class="id" title="definition">TransLookup.lookup_minductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:11"><span class="id" title="variable">mind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">PCUICAst.lookup_minductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:11"><span class="id" title="variable">mind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_minductive"><span class="id" title="definition">TransLookup.lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Common.EnvMap.html#EnvMap.lookup_spec"><span class="id" title="lemma">EnvMap.lookup_spec</span></a> <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>)) //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_fresh_globals"><span class="id" title="lemma">wf_fresh_globals</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Σ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup_inductive" class="idref" href="#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a> {<a id="cf:12" class="idref" href="#cf:12"><span class="id" title="binder">cf</span></a>} {<a id="475f6c17bae93ed6b0d4829862030679" class="idref" href="#475f6c17bae93ed6b0d4829862030679"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="mind:14" class="idref" href="#mind:14"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:14"><span class="id" title="variable">mind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">PCUICAst.lookup_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mind:14"><span class="id" title="variable">mind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_minductive"><span class="id" title="lemma">trans_lookup_minductive</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_morphism" class="idref" href="#mkApps_morphism"><span class="id" title="lemma">mkApps_morphism</span></a> (<a id="f:15" class="idref" href="#f:15"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="u:16" class="idref" href="#u:16"><span class="id" title="binder">u</span></a> <a id="v:17" class="idref" href="#v:17"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> <a id="y:19" class="idref" href="#y:19"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:19"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:18"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:19"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:16"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:17"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:16"><span class="id" title="variable">u</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:17"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_list</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> ?<a class="idref" href="MetaCoq.Utils.MCProd.html#compose_on_snd"><span class="id" title="lemma">compose_on_snd</span></a> ?<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_def"><span class="id" title="lemma">compose_map_def</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_app" class="idref" href="#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a> <a id="f:20" class="idref" href="#f:20"><span class="id" title="binder">f</span></a> <a id="l:21" class="idref" href="#l:21"><span class="id" title="binder">l</span></a> <a id="l':22" class="idref" href="#l':22"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:20"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:21"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':22"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:20"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:21"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':22"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">maps</span> := <span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">topdown</span> (<span class="id" title="var">old_hints</span> <span class="id" title="var">map</span>)).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">lengths</span> := <span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">topdown</span> (<span class="id" title="var">hints</span> <span class="id" title="var">len</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="destArity_mkApps" class="idref" href="#destArity_mkApps"><span class="id" title="lemma">destArity_mkApps</span></a> <a id="ctx:23" class="idref" href="#ctx:23"><span class="id" title="binder">ctx</span></a> <a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a> <a id="l:25" class="idref" href="#l:25"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:25"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:23"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:25"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">l</span>]. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_decls_app" class="idref" href="#trans_global_decls_app"><span class="id" title="lemma">trans_global_decls_app</span></a> {<a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} (<a id="32ba903b126dc4105b691b1b9b7ae1b0" class="idref" href="#32ba903b126dc4105b691b1b9b7ae1b0"><span class="id" title="binder">Σ'</span></a> <a id="e47fe16a42aeb1c75ba4e00d30298590" class="idref" href="#e47fe16a42aeb1c75ba4e00d30298590"><span class="id" title="binder">Σ''</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_declarations"><span class="id" title="definition">Ast.Env.global_declarations</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#32ba903b126dc4105b691b1b9b7ae1b0"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e47fe16a42aeb1c75ba4e00d30298590"><span class="id" title="variable">Σ''</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e47fe16a42aeb1c75ba4e00d30298590"><span class="id" title="variable">Σ''</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#32ba903b126dc4105b691b1b9b7ae1b0"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="incl_cs_refl" class="idref" href="#incl_cs_refl"><span class="id" title="lemma">incl_cs_refl</span></a> <a id="cs:29" class="idref" href="#cs:29"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:29"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">⊂</span></a><a class="idref" href="MetaCoq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">_cs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:29"><span class="id" title="variable">cs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lsets</span>|<span class="id" title="var">csets</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extends_trans_global_decls_acc" class="idref" href="#extends_trans_global_decls_acc"><span class="id" title="lemma">extends_trans_global_decls_acc</span></a> (<a id="add64c320d4044a36abffa68b5de3d64" class="idref" href="#add64c320d4044a36abffa68b5de3d64"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>) (<a id="7374d4818eab9c7e7a123322e5aab0bf" class="idref" href="#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_declarations"><span class="id" title="definition">Ast.Env.global_declarations</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#add64c320d4044a36abffa68b5de3d64"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#add64c320d4044a36abffa68b5de3d64"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> [<span class="id" title="var">Σ''</span> <span class="id" title="var">eq</span>]]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Σ''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_decl" class="idref" href="#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> {<a id="cf:32" class="idref" href="#cf:32"><span class="id" title="binder">cf</span></a>} (<a id="4a3db5069015eacb9ec70510dc094686" class="idref" href="#4a3db5069015eacb9ec70510dc094686"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="kn:34" class="idref" href="#kn:34"><span class="id" title="binder">kn</span></a> <a id="decl:35" class="idref" href="#decl:35"><span class="id" title="binder">decl</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#on_global_decl"><span class="id" title="definition">Typing.on_global_decl</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<span class="id" title="keyword">fun</span> (<a id="06f02a2e1ae1dbc558fdd78ca814765d" class="idref" href="#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4a3db5069015eacb9ec70510dc094686"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:34"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:35"><span class="id" title="variable">decl</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Issue&nbsp;in&nbsp;equations:&nbsp;signatures&nbsp;cannot&nbsp;be&nbsp;found&nbsp;up-to&nbsp;arbitrary&nbsp;conversions.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;[global] Hint Extern 4 (Signature (Typing.wf _) _ _) => exact (on_global_env_Signature _ _ _) : typeclass_instances. *)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup_env" class="idref" href="#trans_lookup_env"><span class="id" title="lemma">trans_lookup_env</span></a> {<a id="cf:37" class="idref" href="#cf:37"><span class="id" title="binder">cf</span></a>} {<a id="4419af43eee85446dd7b19942c9f830b" class="idref" href="#4419af43eee85446dd7b19942c9f830b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} <a id="cst:39" class="idref" href="#cst:39"><span class="id" title="binder">cst</span></a> {<a id="67c3e2b12787cef1ddc5fda5ba2b8c07" class="idref" href="#67c3e2b12787cef1ddc5fda5ba2b8c07"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="f7ddf502e84bf8c656bf4f40aab5a78d" class="idref" href="#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.strictly_extends_decls"><span class="id" title="class">Ast.Env.strictly_extends_decls</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <span class="id" title="var">d</span><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4419af43eee85446dd7b19942c9f830b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:39"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f7ddf502e84bf8c656bf4f40aab5a78d"><span class="id" title="variable">Σ'</span></a>) <span class="id" title="var">d</span>)<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span> <span class="id" title="var">retro</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a>. <span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global_env</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername"><span class="id" title="abbreviation">eq_kername</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">eqk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername"><span class="id" title="abbreviation">eq_kername</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">a</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb"><span class="id" title="method">eqb</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">a</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">eqk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqk</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> {| <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#universes"><span class="id" title="projection">S.Env.universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declarations"><span class="id" title="projection">S.Env.declarations</span></a> := <span class="id" title="var">Σ</span>; <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#retroknowledge"><span class="id" title="projection">S.Env.retroknowledge</span></a> := <span class="id" title="var">retro</span> |}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">TypingWf.typing_wf_sigma</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> {| <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#universes"><span class="id" title="projection">S.Env.universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declarations"><span class="id" title="projection">S.Env.declarations</span></a> := <span class="id" title="var">Σ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#retroknowledge"><span class="id" title="projection">S.Env.retroknowledge</span></a> := <span class="id" title="var">retro</span> |}) <span class="id" title="var">a</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΣ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">onu</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ond</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΣ</span>. <span class="id" title="var">cbn</span> [<span class="id" title="var">Ast.Env.declarations</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">IHΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_global"><span class="id" title="definition">Ast.Env.lookup_global</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">cst</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> [<span class="id" title="var">ext</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ext'</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Σ'</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">equ</span> [? <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">equ'</span> [? <span class="id" title="var">eq'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> /= /<a class="idref" href="MetaCoq.Utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eq'</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqk</span> /=. <span class="id" title="tactic">apply</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_weakening" class="idref" href="#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> {<a id="cf:42" class="idref" href="#cf:42"><span class="id" title="binder">cf</span></a>} <a id="ea478fd00cb4a06cc640b1b27bf65159" class="idref" href="#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="binder">Σ</span></a> {<a id="0b9492298a7db93fdab0f02cda7fd635" class="idref" href="#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ea478fd00cb4a06cc640b1b27bf65159"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b9492298a7db93fdab0f02cda7fd635"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:45"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wft</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wft</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">hnth</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_env"><span class="id" title="lemma">trans_lookup_env</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ci</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>. <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Σ''</span> [<span class="id" title="var">ext'</span> <span class="id" title="var">wfΣ''</span> <span class="id" title="var">_</span> <span class="id" title="var">ext''</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span> ⇒ /= //. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">hnth</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#extends_lookup"><span class="id" title="lemma">extends_lookup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">ext</span> <span class="id" title="var">hl</span>) /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">hnth</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decl_weakening" class="idref" href="#trans_decl_weakening"><span class="id" title="lemma">trans_decl_weakening</span></a> {<a id="cf:46" class="idref" href="#cf:46"><span class="id" title="binder">cf</span></a>} <a id="0f349382f796b4f2cbdf3887d61145a1" class="idref" href="#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="binder">Σ</span></a> {<a id="b2ef4c95a86a9794423206624260401e" class="idref" href="#b2ef4c95a86a9794423206624260401e"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2ef4c95a86a9794423206624260401e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2ef4c95a86a9794423206624260401e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0f349382f796b4f2cbdf3887d61145a1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2ef4c95a86a9794423206624260401e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:49"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wft</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> ⇒ //; <span class="id" title="tactic">apply</span> <span class="id" title="var">wft</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_length" class="idref" href="#trans_local_length"><span class="id" title="lemma">trans_local_length</span></a> {<a id="4f3c8cf463ede8c1c75dc6e27df02d2d" class="idref" href="#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="f82dd08e39371d88da60b669e12500e0" class="idref" href="#f82dd08e39371d88da60b669e12500e0"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_length"><span class="id" title="lemma">trans_local_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_weakening" class="idref" href="#trans_local_weakening"><span class="id" title="lemma">trans_local_weakening</span></a> {<a id="cf:52" class="idref" href="#cf:52"><span class="id" title="binder">cf</span></a>} <a id="20d7c0ecc86fe88fa924e57d0c585b54" class="idref" href="#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="binder">Σ</span></a> {<a id="ab34479d59c2a92a6beaa06081a88af4" class="idref" href="#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="t:55" class="idref" href="#t:55"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#20d7c0ecc86fe88fa924e57d0c585b54"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:55"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab34479d59c2a92a6beaa06081a88af4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:55"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. 2:<span class="id" title="tactic">apply</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> ⇒ //; <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_body_weakening" class="idref" href="#trans_ind_body_weakening"><span class="id" title="lemma">trans_ind_body_weakening</span></a> {<a id="cf:56" class="idref" href="#cf:56"><span class="id" title="binder">cf</span></a>} <a id="cb0630687a5a3dec7d46ec6926ccb84b" class="idref" href="#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="binder">Σ</span></a> {<a id="1bc2b87c8708e710f021f32fd2012294" class="idref" href="#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="b:59" class="idref" href="#b:59"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">TypingWf.wf_inductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cb0630687a5a3dec7d46ec6926ccb84b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1bc2b87c8708e710f021f32fd2012294"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:59"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl_weakening"><span class="id" title="lemma">trans_decl_weakening</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_weakening"><span class="id" title="lemma">trans_local_weakening</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_decl_weaken" class="idref" href="#trans_global_decl_weaken"><span class="id" title="lemma">trans_global_decl_weaken</span></a> {<a id="cf:60" class="idref" href="#cf:60"><span class="id" title="binder">cf</span></a>} (<a id="77616297ab8389c2db18b8aa996822b8" class="idref" href="#77616297ab8389c2db18b8aa996822b8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) {<a id="36d7427a5938835553877784b7b139c4" class="idref" href="#36d7427a5938835553877784b7b139c4"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>} <a id="kn:63" class="idref" href="#kn:63"><span class="id" title="binder">kn</span></a> <a id="d:64" class="idref" href="#d:64"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36d7427a5938835553877784b7b139c4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36d7427a5938835553877784b7b139c4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:63"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:64"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:64"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36d7427a5938835553877784b7b139c4"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:64"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">ext</span> <span class="id" title="var">wftΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cst_body"><span class="id" title="projection">Ast.Env.cst_body</span></a> <span class="id" title="var">c</span>) ⇒ /=. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_weakening"><span class="id" title="lemma">trans_weakening</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_weakening"><span class="id" title="lemma">trans_local_weakening</span></a>; <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#on_global_inductive_wf_params"><span class="id" title="lemma">TypingWf.on_global_inductive_wf_params</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfd</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#on_global_inductive_wf_bodies"><span class="id" title="lemma">TypingWf.on_global_inductive_wf_bodies</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfd</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_body_weakening"><span class="id" title="lemma">trans_ind_body_weakening</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#"><span class="id" title="module">TypingWf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weaken_wf_decl_pred" class="idref" href="#weaken_wf_decl_pred"><span class="id" title="lemma">weaken_wf_decl_pred</span></a> {<a id="cf:65" class="idref" href="#cf:65"><span class="id" title="binder">cf</span></a>} (<a id="2c4bc88cf29784b11cf0422588c29192" class="idref" href="#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="binder">Σ</span></a> <a id="f4df3c946f98e4520e2d91a23e123e72" class="idref" href="#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>) <a id="7414bf024cc8a6b3141a135f5f1ab24c" class="idref" href="#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="binder">Γ</span></a> <a id="t:69" class="idref" href="#t:69"><span class="id" title="binder">t</span></a> <a id="T:70" class="idref" href="#T:70"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.extends"><span class="id" title="class">Ast.Env.extends</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:69"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:70"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f4df3c946f98e4520e2d91a23e123e72"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7414bf024cc8a6b3141a135f5f1ab24c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:69"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:70"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ext</span> <span class="id" title="var">wf'</span> <span class="id" title="var">ong</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ong</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_extends"><span class="id" title="lemma">wf_extends</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup" class="idref" href="#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> {<a id="cf:71" class="idref" href="#cf:71"><span class="id" title="binder">cf</span></a>} <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder">Σ</span></a> <a id="cst:73" class="idref" href="#cst:73"><span class="id" title="binder">cst</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:73"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a>)) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:73"><span class="id" title="variable">cst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_env"><span class="id" title="lemma">trans_lookup_env</span></a> <span class="id" title="var">cst</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Σ'</span> [<span class="id" title="var">ext</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfdecl</span> <span class="id" title="var">ext'</span> <span class="id" title="var">hl</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_global_decl_weaken"><span class="id" title="lemma">trans_global_decl_weaken</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <span class="id" title="var">g</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">tea</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Translation" class="idref" href="#Translation"><span class="id" title="section">Translation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="0bb1b226b53b6455e93ad6a4d211d8ec" class="idref" href="#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="trans" class="idref" href="#trans"><span class="id" title="abbreviation">trans</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="trans_decl" class="idref" href="#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="trans_local" class="idref" href="#trans_local"><span class="id" title="abbreviation">trans_local</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">dest_lookup</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span>]|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_map2" class="idref" href="#map_map2"><span class="id" title="lemma">map_map2</span></a> {<a id="A:75" class="idref" href="#A:75"><span class="id" title="binder">A</span></a> <a id="B:76" class="idref" href="#B:76"><span class="id" title="binder">B</span></a> <a id="C:77" class="idref" href="#C:77"><span class="id" title="binder">C</span></a> <a id="D:78" class="idref" href="#D:78"><span class="id" title="binder">D</span></a>} (<a id="f:79" class="idref" href="#f:79"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:75"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:76"><span class="id" title="variable">B</span></a>) (<a id="g:80" class="idref" href="#g:80"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:77"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:78"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:75"><span class="id" title="variable">A</span></a>) <a id="l:81" class="idref" href="#l:81"><span class="id" title="binder">l</span></a> <a id="l':82" class="idref" href="#l':82"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:79"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:80"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:81"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':82"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:83" class="idref" href="#x:83"><span class="id" title="binder">x</span></a> <a id="y:84" class="idref" href="#y:84"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:79"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:80"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:84"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:81"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':82"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lift" class="idref" href="#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="k:86" class="idref" href="#k:86"><span class="id" title="binder">k</span></a> <a id="t:87" class="idref" href="#t:87"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#lift"><span class="id" title="definition">Template.Ast.lift</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:85"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:87"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:85"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:86"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:87"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.Induction.html#term_forall_list_ind"><span class="id" title="lemma">Template.Induction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a> <span class="id" title="var">IHt</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>; <span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dest_lookup</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">idecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX0</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /= <span class="id" title="var">p</span> // /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">maps</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mkApp" class="idref" href="#trans_mkApp"><span class="id" title="lemma">trans_mkApp</span></a> <a id="u:88" class="idref" href="#u:88"><span class="id" title="binder">u</span></a> <a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#mkApp"><span class="id" title="definition">Template.Ast.mkApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:88"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:89"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:88"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:89"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">args</span>)) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">args</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mkApps" class="idref" href="#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a id="u:90" class="idref" href="#u:90"><span class="id" title="binder">u</span></a> <a id="v:91" class="idref" href="#v:91"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#mkApps"><span class="id" title="definition">Template.Ast.mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:90"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:91"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:90"><span class="id" title="variable">u</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:91"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MetaCoq.Template.AstUtils.html#mkApps_mkApp"><span class="id" title="lemma">Template.AstUtils.mkApps_mkApp</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApp"><span class="id" title="lemma">trans_mkApp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst" class="idref" href="#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a id="t:92" class="idref" href="#t:92"><span class="id" title="binder">t</span></a> <a id="k:93" class="idref" href="#k:93"><span class="id" title="binder">k</span></a> <a id="u:94" class="idref" href="#u:94"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#subst"><span class="id" title="definition">Template.Ast.subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:92"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:93"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:94"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:92"><span class="id" title="variable">t</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:93"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:94"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">u</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.Induction.html#term_forall_list_ind"><span class="id" title="lemma">Template.Induction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">nth_leb_simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_list</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_mkApps"><span class="id" title="lemma">subst_mkApps</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_list</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dest_lookup</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">idecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX0</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /= <span class="id" title="var">p</span> // /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_bias_left_length"><span class="id" title="lemma">map2_bias_left_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">subst_predicate</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="Tterm" class="idref" href="#Tterm"><span class="id" title="abbreviation">Tterm</span></a> :=<a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Template.Ast.term</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Tcontext" class="idref" href="#Tcontext"><span class="id" title="abbreviation">Tcontext</span></a> :=<a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Template.Ast.Env.context</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_map2" class="idref" href="#All_map2"><span class="id" title="lemma">All_map2</span></a> {<a id="A:95" class="idref" href="#A:95"><span class="id" title="binder">A</span></a> <a id="B:96" class="idref" href="#B:96"><span class="id" title="binder">B</span></a> <a id="C:97" class="idref" href="#C:97"><span class="id" title="binder">C</span></a>} <a id="P:98" class="idref" href="#P:98"><span class="id" title="binder">P</span></a> (<a id="l:99" class="idref" href="#l:99"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:95"><span class="id" title="variable">A</span></a>) (<a id="l':100" class="idref" href="#l':100"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:96"><span class="id" title="variable">B</span></a>) (<a id="f:101" class="idref" href="#f:101"><span class="id" title="binder">f</span></a> <a id="g:102" class="idref" href="#g:102"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:95"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:96"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:97"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':100"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:103" class="idref" href="#x:103"><span class="id" title="binder">x</span></a> <a id="y:104" class="idref" href="#y:104"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:104"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:103"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:104"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:102"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:103"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:104"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:99"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':100"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:102"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:99"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':100"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> |- × ⇒ <span class="id" title="var">Hfg</span> /=; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX</span> //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_instance" class="idref" href="#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a> <a id="u:105" class="idref" href="#u:105"><span class="id" title="binder">u</span></a> <a id="t:106" class="idref" href="#t:106"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:105"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:106"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:105"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:106"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.Induction.html#term_forall_list_ind"><span class="id" title="lemma">Template.Induction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mkApps_morphism"><span class="id" title="lemma">mkApps_morphism</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;2-3:<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">BasicAst.tFixProp</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#tCaseBrsProp"><span class="id" title="definition">Ast.tCaseBrsProp</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">dest_lookup</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_map2"><span class="id" title="lemma">All_map2</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span> ⇒ <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_destArity" class="idref" href="#trans_destArity"><span class="id" title="lemma">trans_destArity</span></a> {<a id="cf:107" class="idref" href="#cf:107"><span class="id" title="binder">cf</span></a>} {<a id="d1a9544046b57f82465853ce5a081d47" class="idref" href="#d1a9544046b57f82465853ce5a081d47"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>} <a id="ctx:109" class="idref" href="#ctx:109"><span class="id" title="binder">ctx</span></a> <a id="t:110" class="idref" href="#t:110"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">Template.WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:110"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:109"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:110"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:109"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:110"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:109"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:110"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>; <span class="id" title="var">revert</span> <span class="id" title="var">ctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ctx</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHwf0</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.vass"><span class="id" title="definition">Ast.Env.vass</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ctx</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHwf1</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.vdef"><span class="id" title="definition">Ast.Env.vdef</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ctx</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#destArity_mkApps"><span class="id" title="lemma">destArity_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> []. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ci</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)) <span class="id" title="var">wfΣ</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">hl</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;Duplicate?&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_map_option_out_mapi_Some_spec" class="idref" href="#Alli_map_option_out_mapi_Some_spec"><span class="id" title="lemma">Alli_map_option_out_mapi_Some_spec</span></a> {<a id="A:111" class="idref" href="#A:111"><span class="id" title="binder">A</span></a> <a id="B:112" class="idref" href="#B:112"><span class="id" title="binder">B</span></a> <a id="B':113" class="idref" href="#B':113"><span class="id" title="binder">B'</span></a>} (<a id="f:114" class="idref" href="#f:114"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:111"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:112"><span class="id" title="variable">B</span></a>) (<a id="g':115" class="idref" href="#g':115"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:112"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':113"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:116" class="idref" href="#g:116"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:111"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':113"><span class="id" title="variable">B'</span></a>) <a id="P:117" class="idref" href="#P:117"><span class="id" title="binder">P</span></a> <a id="l:118" class="idref" href="#l:118"><span class="id" title="binder">l</span></a> <a id="t:119" class="idref" href="#t:119"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:117"><span class="id" title="variable">P</span></a> 0 <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:118"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:120" class="idref" href="#i:120"><span class="id" title="binder">i</span></a> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="t:122" class="idref" href="#t:122"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:117"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:120"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:120"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:116"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:120"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':115"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:122"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:118"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:116"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:118"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':115"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:119"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">n</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">n</span> <span class="id" title="var">Hl</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">t</span> [= &lt;-] //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">hd</span>) ⇒ [<span class="id" title="var">b</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E'</span> : <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ⇒ [<span class="id" title="var">b'</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">t</span> [= &lt;-]. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">E'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_map_option_out_mapi_Some_spec" class="idref" href="#All2_map_option_out_mapi_Some_spec"><span class="id" title="lemma">All2_map_option_out_mapi_Some_spec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:123" class="idref" href="#A:123"><span class="id" title="binder">A</span></a> <a id="B:124" class="idref" href="#B:124"><span class="id" title="binder">B</span></a> <a id="B':125" class="idref" href="#B':125"><span class="id" title="binder">B'</span></a> <a id="S:126" class="idref" href="#S:126"><span class="id" title="binder">S</span></a>} (<a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:123"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:124"><span class="id" title="variable">B</span></a>) (<a id="g':128" class="idref" href="#g':128"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:124"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':125"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:129" class="idref" href="#g:129"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:123"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':125"><span class="id" title="variable">B'</span></a>) <a id="P:130" class="idref" href="#P:130"><span class="id" title="binder">P</span></a> <a id="l:131" class="idref" href="#l:131"><span class="id" title="binder">l</span></a> (<a id="ls:132" class="idref" href="#ls:132"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#S:126"><span class="id" title="variable">S</span></a>) <a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:130"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ls:132"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:134" class="idref" href="#i:134"><span class="id" title="binder">i</span></a> <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> <a id="t:136" class="idref" href="#t:136"><span class="id" title="binder">t</span></a> <a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:130"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:137"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:127"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:134"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:136"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:129"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:134"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':128"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:136"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:127"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:131"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:133"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:129"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:131"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':128"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:133"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span> <span class="id" title="var">g'</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> <span class="id" title="var">l</span> <span class="id" title="var">ls</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">hall</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">hall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, <span class="id" title="var">n</span>, <span class="id" title="var">h</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e'</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h'</span>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [ <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ?<span class="id" title="var">t</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHhall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e''</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h''</span>. 2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h''</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_pair" class="idref" href="#on_pair"><span class="id" title="definition">on_pair</span></a> {<a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a> <a id="B:139" class="idref" href="#B:139"><span class="id" title="binder">B</span></a> <a id="C:140" class="idref" href="#C:140"><span class="id" title="binder">C</span></a> <a id="D:141" class="idref" href="#D:141"><span class="id" title="binder">D</span></a>} (<a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:138"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:139"><span class="id" title="variable">B</span></a>) (<a id="g:143" class="idref" href="#g:143"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:140"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:141"><span class="id" title="variable">D</span></a>) (<a id="x:144" class="idref" href="#x:144"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:138"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:140"><span class="id" title="variable">C</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:142"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:144"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:143"><span class="id" title="variable">g</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:144"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_inds" class="idref" href="#trans_inds"><span class="id" title="lemma">trans_inds</span></a> <a id="kn:145" class="idref" href="#kn:145"><span class="id" title="binder">kn</span></a> <a id="u:146" class="idref" href="#u:146"><span class="id" title="binder">u</span></a> <a id="bodies:147" class="idref" href="#bodies:147"><span class="id" title="binder">bodies</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#inds"><span class="id" title="definition">Ast.inds</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:145"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:146"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bodies:147"><span class="id" title="variable">bodies</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:145"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:146"><span class="id" title="variable">u</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bodies:147"><span class="id" title="variable">bodies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#inds"><span class="id" title="definition">Ast.inds</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bodies</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_it_mkProd_or_LetIn" class="idref" href="#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a> <a id="ctx:148" class="idref" href="#ctx:148"><span class="id" title="binder">ctx</span></a> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:148"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:149"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:148"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:149"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_it_mkLambda_or_LetIn" class="idref" href="#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a> <a id="ctx:150" class="idref" href="#ctx:150"><span class="id" title="binder">ctx</span></a> <a id="t:151" class="idref" href="#t:151"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkLambda_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:150"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:151"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:150"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:151"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">body</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_subst_instance" class="idref" href="#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> <a id="u:152" class="idref" href="#u:152"><span class="id" title="binder">u</span></a> (<a id="0b1d36bafaa941ab7a57d708cb325dca" class="idref" href="#0b1d36bafaa941ab7a57d708cb325dca"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:152"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b1d36bafaa941ab7a57d708cb325dca"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:152"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0b1d36bafaa941ab7a57d708cb325dca"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">A</span>] <span class="id" title="var">Γ</span> <span class="id" title="var">ih</span> ] <span class="id" title="tactic">in</span> <span class="id" title="var">u</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <span class="id" title="var">trans_decl</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <span class="id" title="var">trans_decl</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_prod_assum_mkApps_nonnil" class="idref" href="#decompose_prod_assum_mkApps_nonnil"><span class="id" title="lemma">decompose_prod_assum_mkApps_nonnil</span></a> <a id="ctx:154" class="idref" href="#ctx:154"><span class="id" title="binder">ctx</span></a> <a id="f:155" class="idref" href="#f:155"><span class="id" title="binder">f</span></a> <a id="args:156" class="idref" href="#args:156"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:156"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:154"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:155"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:156"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:154"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:155"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:156"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_nonempty"><span class="id" title="lemma">mkApps_nonempty</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="78f5ffc03755375ae4b594444f90fb83" class="idref" href="#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_params" class="idref" href="#trans_ind_params"><span class="id" title="lemma">trans_ind_params</span></a> <a id="mdecl:157" class="idref" href="#mdecl:157"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:157"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:157"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_bodies" class="idref" href="#trans_ind_bodies"><span class="id" title="lemma">trans_ind_bodies</span></a> <a id="mdecl:158" class="idref" href="#mdecl:158"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:158"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:158"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;From&nbsp;MetaCoq.PCUIC&nbsp;Require&nbsp;Import&nbsp;PCUICClosed&nbsp;PCUICInductiveInversion.<br/>
<br/>
Lemma&nbsp;instantiate_params_spec&nbsp;params&nbsp;paramsi&nbsp;concl&nbsp;ty&nbsp;:<br/>
&nbsp;&nbsp;instantiate_params&nbsp;params&nbsp;paramsi&nbsp;(it_mkProd_or_LetIn&nbsp;params&nbsp;concl)&nbsp;=&nbsp;Some&nbsp;ty&nbsp;-&gt;<br/>
&nbsp;&nbsp;ty&nbsp;=&nbsp;(subst&nbsp;(List.rev&nbsp;paramsi)&nbsp;0&nbsp;(expand_lets&nbsp;params&nbsp;concl)).<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;h.&nbsp;eapply&nbsp;instantiate_params_make_context_subst&nbsp;in&nbsp;h&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">ctx''</span></span> <span class="inlinecode">[<span class="id" title="var">ms</span></span> <span class="inlinecode">[<span class="id" title="var">s'</span></span> <span class="inlinecode">[<span class="id" title="var">da</span></span> <span class="inlinecode">[<span class="id" title="var">dp</span></span> <span class="inlinecode">-&gt;]]]]</span>.<br/>
&nbsp;&nbsp;eapply&nbsp;make_context_subst_spec&nbsp;in&nbsp;dp.<br/>
&nbsp;&nbsp;rewrite&nbsp;List.rev_involutive&nbsp;in&nbsp;dp.<br/>
&nbsp;&nbsp;pose&nbsp;proof&nbsp;(PCUICContexts.context_subst_length2&nbsp;dp).<br/>
&nbsp;&nbsp;rewrite&nbsp;decompose_prod_n_assum_it_mkProd&nbsp;app_nil_r&nbsp;in&nbsp;da.&nbsp;noconf&nbsp;da.<br/>
&nbsp;&nbsp;apply&nbsp;context_subst_subst_extended_subst&nbsp;in&nbsp;dp&nbsp;as&nbsp;-&gt;.<br/>
&nbsp;&nbsp;rewrite&nbsp;map_subst_expand_lets&nbsp;?List.rev_length&nbsp;//.<br/>
Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_bodies_length" class="idref" href="#trans_ind_bodies_length"><span class="id" title="lemma">trans_ind_bodies_length</span></a> <a id="mdecl:159" class="idref" href="#mdecl:159"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_params_length" class="idref" href="#trans_ind_params_length"><span class="id" title="lemma">trans_ind_params_length</span></a> <a id="mdecl:160" class="idref" href="#mdecl:160"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:160"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:160"><span class="id" title="variable">mdecl</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_npars" class="idref" href="#trans_ind_npars"><span class="id" title="lemma">trans_ind_npars</span></a> <a id="mdecl:161" class="idref" href="#mdecl:161"><span class="id" title="binder">mdecl</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">Ast.Env.ind_npars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:161"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#78f5ffc03755375ae4b594444f90fb83"><span class="id" title="abbreviation">trΣ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:161"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_reln" class="idref" href="#trans_reln"><span class="id" title="lemma">trans_reln</span></a> <a id="l:162" class="idref" href="#l:162"><span class="id" title="binder">l</span></a> <a id="p:163" class="idref" href="#p:163"><span class="id" title="binder">p</span></a> <a id="2ad36155a1dcd609408bc407f39872c1" class="idref" href="#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.reln"><span class="id" title="definition">Ast.Env.reln</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:162"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:163"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.reln"><span class="id" title="definition">reln</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:162"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:163"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">p</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_to_extended_list" class="idref" href="#trans_to_extended_list"><span class="id" title="lemma">trans_to_extended_list</span></a> <a id="a52908bb5f2e5bdad21b63fa91512fb7" class="idref" href="#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="binder">Γ</span></a> <a id="n:166" class="idref" href="#n:166"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.to_extended_list_k"><span class="id" title="definition">Ast.Env.to_extended_list_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:166"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local"><span class="id" title="abbreviation">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:166"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="context_assumptions_map" class="idref" href="#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a id="ctx:167" class="idref" href="#ctx:167"><span class="id" title="binder">ctx</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:167"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:167"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">ctx</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Template.TypingWf.typing_wf</span> : <span class="id" title="keyword">wf</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mkApps_trans_wf" class="idref" href="#mkApps_trans_wf"><span class="id" title="lemma">mkApps_trans_wf</span></a> <a id="U:168" class="idref" href="#U:168"><span class="id" title="binder">U</span></a> <a id="l:169" class="idref" href="#l:169"><span class="id" title="binder">l</span></a> :<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">Template.WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6bb6912b0bb96afe8de920dfc1ec9d0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#tApp"><span class="id" title="constructor">Template.Ast.tApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:168"><span class="id" title="variable">U</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:169"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="U':170" class="idref" href="#U':170"><span class="id" title="binder">U'</span></a> <a id="V':171" class="idref" href="#V':171"><span class="id" title="binder">V'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#tApp"><span class="id" title="constructor">Template.Ast.tApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:168"><span class="id" title="variable">U</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:169"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U':170"><span class="id" title="variable">U'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#V':171"><span class="id" title="variable">V'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">U</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">l</span>)), (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans"><span class="id" title="abbreviation">trans</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="var">revert</span> <span class="id" title="var">U</span> <span class="id" title="var">x</span> ; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mkApps_app"><span class="id" title="lemma">mkApps_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term_upto_univ_napp"><span class="id" title="inductive">SEq.eq_term_upto_univ_napp</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Translation"><span class="id" title="section">Translation</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Derive&nbsp;Signature&nbsp;for&nbsp;Typing.on_global_env.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Trans_Global" class="idref" href="#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:172" class="idref" href="#cf:172"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="c1c5c8c67a0dc9808d5f39ed656267e7" class="idref" href="#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="52b145392dfbad12f334141f4035e258" class="idref" href="#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="cc7e5607216c194d13ca9ce5c14fbf91" class="idref" href="#cc7e5607216c194d13ca9ce5c14fbf91"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="404fdfefffe2413150ead54fc6b87bbe" class="idref" href="#404fdfefffe2413150ead54fc6b87bbe"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_constant" class="idref" href="#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <a id="cst:176" class="idref" href="#cst:176"><span class="id" title="binder">cst</span></a> <a id="decl:177" class="idref" href="#decl:177"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_constant"><span class="id" title="definition">Ast.declared_constant</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:176"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:177"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:176"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:177"><span class="id" title="variable">decl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_constant_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_constant"><span class="id" title="definition">Ast.declared_constant</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_constant_gen"><span class="id" title="definition">Ast.declared_constant_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> ⇒ → /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_minductive" class="idref" href="#forall_decls_declared_minductive"><span class="id" title="lemma">forall_decls_declared_minductive</span></a> <a id="cst:178" class="idref" href="#cst:178"><span class="id" title="binder">cst</span></a> <a id="decl:179" class="idref" href="#decl:179"><span class="id" title="binder">decl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_minductive"><span class="id" title="definition">Ast.declared_minductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:178"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:179"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:178"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decl:179"><span class="id" title="variable">decl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_minductive"><span class="id" title="definition">Ast.declared_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_minductive_gen"><span class="id" title="definition">Ast.declared_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> ⇒ → /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_inductive" class="idref" href="#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <a id="ind:180" class="idref" href="#ind:180"><span class="id" title="binder">ind</span></a> <a id="mdecl:181" class="idref" href="#mdecl:181"><span class="id" title="binder">mdecl</span></a> <a id="idecl:182" class="idref" href="#idecl:182"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:180"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:181"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:182"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:180"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:181"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:182"><span class="id" title="variable">idecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">decl'</span> <span class="id" title="var">Hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_minductive"><span class="id" title="lemma">forall_decls_declared_minductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_constructor" class="idref" href="#forall_decls_declared_constructor"><span class="id" title="lemma">forall_decls_declared_constructor</span></a> <a id="cst:183" class="idref" href="#cst:183"><span class="id" title="binder">cst</span></a> <a id="mdecl:184" class="idref" href="#mdecl:184"><span class="id" title="binder">mdecl</span></a> <a id="idecl:185" class="idref" href="#idecl:185"><span class="id" title="binder">idecl</span></a> <a id="cdecl:186" class="idref" href="#cdecl:186"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:183"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:184"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:185"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:186"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:183"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:184"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:185"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:186"><span class="id" title="variable">cdecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">decl'</span> <span class="id" title="var">Hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="forall_decls_declared_projection" class="idref" href="#forall_decls_declared_projection"><span class="id" title="lemma">forall_decls_declared_projection</span></a> <a id="cst:187" class="idref" href="#cst:187"><span class="id" title="binder">cst</span></a> <a id="mdecl:188" class="idref" href="#mdecl:188"><span class="id" title="binder">mdecl</span></a> <a id="idecl:189" class="idref" href="#idecl:189"><span class="id" title="binder">idecl</span></a> <a id="cdecl:190" class="idref" href="#cdecl:190"><span class="id" title="binder">cdecl</span></a> <a id="pdecl:191" class="idref" href="#pdecl:191"><span class="id" title="binder">pdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_projection"><span class="id" title="definition">Ast.declared_projection</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:187"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:188"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:189"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:190"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pdecl:191"><span class="id" title="variable">pdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_projection"><span class="id" title="definition">declared_projection</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cst:187"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:188"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:189"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:190"><span class="id" title="variable">cdecl</span></a>)  (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pdecl:191"><span class="id" title="variable">pdecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">decl'</span> [<span class="id" title="var">Hnth</span> <span class="id" title="var">Hnpar</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constructor"><span class="id" title="lemma">forall_decls_declared_constructor</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decl'</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_env_impl" class="idref" href="#on_global_env_impl"><span class="id" title="lemma">on_global_env_impl</span></a> `{<a id="H:192" class="idref" href="#H:192"><span class="id" title="binder">checker_flags</span></a>} {<a id="4876e2c947a63ea12332b22a8c41dcd5" class="idref" href="#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} <a id="P:194" class="idref" href="#P:194"><span class="id" title="binder">P</span></a> <a id="Q:195" class="idref" href="#Q:195"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="0d82cc8b7f207b2b18c7ca2bdebdd1ca" class="idref" href="#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="233c8f5f4890e0afc448c71b7d21a4cd" class="idref" href="#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="binder">Γ</span></a> <a id="t:198" class="idref" href="#t:198"><span class="id" title="binder">t</span></a> <a id="T:199" class="idref" href="#T:199"><span class="id" title="binder">T</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:198"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:199"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:195"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:198"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:199"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:194"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env"><span class="id" title="definition">ST.on_global_env</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:195"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4876e2c947a63ea12332b22a8c41dcd5"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#on_global_env_impl"><span class="id" title="lemma">on_global_env_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_wf_wf" class="idref" href="#typing_wf_wf"><span class="id" title="lemma">typing_wf_wf</span></a> {<a id="cf:200" class="idref" href="#cf:200"><span class="id" title="binder">cf</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="04b30a0dfd81ed0f4796958cc8a58857" class="idref" href="#04b30a0dfd81ed0f4796958cc8a58857"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf"><span class="id" title="class">ST.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#04b30a0dfd81ed0f4796958cc8a58857"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Forall_decls_typing"><span class="id" title="definition">ST.Forall_decls_typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="eb108301922c3577e58b724777773441" class="idref" href="#eb108301922c3577e58b724777773441"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) (<a id="t:203" class="idref" href="#t:203"><span class="id" title="binder">t</span></a> <a id="T:204" class="idref" href="#T:204"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eb108301922c3577e58b724777773441"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:203"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eb108301922c3577e58b724777773441"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:204"><span class="id" title="variable">T</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#04b30a0dfd81ed0f4796958cc8a58857"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_env_impl"><span class="id" title="lemma">on_global_env_impl</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> ? <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lift_typing_impl"><span class="id" title="lemma">ST.lift_typing_impl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">HT</span>); <span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_inj" class="idref" href="#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> {<a id="cf:205" class="idref" href="#cf:205"><span class="id" title="binder">cf</span></a> <a id="72f91791bbb602d0bfaf8d99438cd4c7" class="idref" href="#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="binder">Σ</span></a> <a id="mdecl:207" class="idref" href="#mdecl:207"><span class="id" title="binder">mdecl</span></a> <a id="mdecl':208" class="idref" href="#mdecl':208"><span class="id" title="binder">mdecl'</span></a> <a id="ind:209" class="idref" href="#ind:209"><span class="id" title="binder">ind</span></a> <a id="idecl:210" class="idref" href="#idecl:210"><span class="id" title="binder">idecl</span></a> <a id="idecl':211" class="idref" href="#idecl':211"><span class="id" title="binder">idecl'</span></a>}<br/>
&nbsp;&nbsp;{<a id="fe80d56bf3c08d20159f9701457c6e8a" class="idref" href="#fe80d56bf3c08d20159f9701457c6e8a"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:209"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':208"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':211"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#declared_inductive"><span class="id" title="definition">Ast.declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72f91791bbb602d0bfaf8d99438cd4c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:209"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:207"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:210"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:207"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':208"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:210"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':211"><span class="id" title="variable">idecl'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] []. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#declared_minductive"><span class="id" title="definition">Ast.declared_minductive</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_to_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#declared_minductive_gen"><span class="id" title="definition">Ast.declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_inductive_None" class="idref" href="#lookup_inductive_None"><span class="id" title="lemma">lookup_inductive_None</span></a> {<a id="cf:213" class="idref" href="#cf:213"><span class="id" title="binder">cf</span></a>} <a id="e86bbde777236a61b5ad1abac5d71e29" class="idref" href="#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="binder">Σ</span></a> {<a id="8de84b1700b99c86f5e439ecbe593eda" class="idref" href="#8de84b1700b99c86f5e439ecbe593eda"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a>} <a id="ind:216" class="idref" href="#ind:216"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:216"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="mdecl:217" class="idref" href="#mdecl:217"><span class="id" title="binder">mdecl</span></a> <a id="idecl:218" class="idref" href="#idecl:218"><span class="id" title="binder">idecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:216"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:217"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:218"><span class="id" title="variable">idecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> [<span class="id" title="var">decli</span> <span class="id" title="var">hnth</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">decli</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Trans_Global" class="idref" href="#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:219" class="idref" href="#cf:219"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="997ee4d95757579da4f10261f924b415" class="idref" href="#997ee4d95757579da4f10261f924b415"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="52b145392dfbad12f334141f4035e258" class="idref" href="#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="a3b655429a725ac52dd256becb4bab46" class="idref" href="#a3b655429a725ac52dd256becb4bab46"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="e4167e18751bfae9026d6cf37d8afdb7" class="idref" href="#e4167e18751bfae9026d6cf37d8afdb7"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_R_global_instance" class="idref" href="#trans_R_global_instance"><span class="id" title="lemma">trans_R_global_instance</span></a> {<a id="Re:223" class="idref" href="#Re:223"><span class="id" title="binder">Re</span></a> <a id="Rle:224" class="idref" href="#Rle:224"><span class="id" title="binder">Rle</span></a> <a id="gref:225" class="idref" href="#gref:225"><span class="id" title="binder">gref</span></a> <a id="napp:226" class="idref" href="#napp:226"><span class="id" title="binder">napp</span></a> <a id="u:227" class="idref" href="#u:227"><span class="id" title="binder">u</span></a> <a id="u':228" class="idref" href="#u':228"><span class="id" title="binder">u'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R_global_instance"><span class="id" title="abbreviation">SEq.R_global_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Re:223"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Rle:224"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#gref:225"><span class="id" title="variable">gref</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:226"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:227"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':228"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance"><span class="id" title="abbreviation">R_global_instance</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Re:223"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Rle:224"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#gref:225"><span class="id" title="variable">gref</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:226"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:227"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':228"><span class="id" title="variable">u'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">SEq.R_global_instance</span>, <span class="id" title="var">SEq.global_variance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">gref</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_gen"><span class="id" title="definition">R_global_instance_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_opt_variance"><span class="id" title="definition">R_opt_variance</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive_gen"><span class="id" title="definition">Ast.lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive_gen"><span class="id" title="definition">Ast.lookup_minductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">look</span> ⇒ //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfty</span> : <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">o</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#declared_inductive_wf"><span class="id" title="lemma">declared_inductive_wf</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_minductive_from_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_minductive_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_destArity"><span class="id" title="lemma">trans_destArity</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">o</span>) <span class="id" title="var">wfty</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ctx</span> <span class="id" title="var">ps</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">eq'</span> ⇒ /= // → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_gen"><span class="id" title="definition">R_global_instance_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_opt_variance"><span class="id" title="definition">R_opt_variance</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_constructor"><span class="id" title="definition">Ast.lookup_constructor</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive"><span class="id" title="definition">Ast.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive"><span class="id" title="definition">Ast.lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_constructor_gen"><span class="id" title="definition">lookup_constructor_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_constructor_gen"><span class="id" title="definition">Ast.lookup_constructor_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive_gen"><span class="id" title="definition">Ast.lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive_gen"><span class="id" title="definition">Ast.lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> ⇒ //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ /= //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_binder_annot_eq_context_gen_set_binder_name" class="idref" href="#eq_binder_annot_eq_context_gen_set_binder_name"><span class="id" title="lemma">eq_binder_annot_eq_context_gen_set_binder_name</span></a> <a id="9ad2b50a24cb26b00905e5d872037c4c" class="idref" href="#9ad2b50a24cb26b00905e5d872037c4c"><span class="id" title="binder">Γ</span></a> <a id="7b62d0f99da35f45308ee33b5c2e2252" class="idref" href="#7b62d0f99da35f45308ee33b5c2e2252"><span class="id" title="binder">Γ'</span></a> <a id="0c4a65953b68146935d10fb317f3f297" class="idref" href="#0c4a65953b68146935d10fb317f3f297"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9ad2b50a24cb26b00905e5d872037c4c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b62d0f99da35f45308ee33b5c2e2252"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_gen"><span class="id" title="abbreviation">eq_context_gen</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9ad2b50a24cb26b00905e5d872037c4c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0c4a65953b68146935d10fb317f3f297"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7b62d0f99da35f45308ee33b5c2e2252"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0c4a65953b68146935d10fb317f3f297"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">Δ</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_map_map" class="idref" href="#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a> {<a id="A:232" class="idref" href="#A:232"><span class="id" title="binder">A</span></a> <a id="B:233" class="idref" href="#B:233"><span class="id" title="binder">B</span></a> <a id="C:234" class="idref" href="#C:234"><span class="id" title="binder">C</span></a> <a id="D:235" class="idref" href="#D:235"><span class="id" title="binder">D</span></a> <a id="E:236" class="idref" href="#E:236"><span class="id" title="binder">E</span></a>} (<a id="f:237" class="idref" href="#f:237"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:234"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:232"><span class="id" title="variable">A</span></a>) (<a id="g:238" class="idref" href="#g:238"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:235"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:233"><span class="id" title="variable">B</span></a>) (<a id="h:239" class="idref" href="#h:239"><span class="id" title="binder">h</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:232"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:233"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#E:236"><span class="id" title="variable">E</span></a>) <a id="l:240" class="idref" href="#l:240"><span class="id" title="binder">l</span></a> <a id="l':241" class="idref" href="#l':241"><span class="id" title="binder">l'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#h:239"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:237"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:240"><span class="id" title="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:238"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':241"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:242" class="idref" href="#x:242"><span class="id" title="binder">x</span></a> <a id="y:243" class="idref" href="#y:243"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#h:239"><span class="id" title="variable">h</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:237"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:242"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:238"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:243"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:240"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':241"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All2_map2" class="idref" href="#All2_map2"><span class="id" title="lemma">All2_map2</span></a> {<a id="A:244" class="idref" href="#A:244"><span class="id" title="binder">A</span></a> <a id="B:245" class="idref" href="#B:245"><span class="id" title="binder">B</span></a> <a id="C:246" class="idref" href="#C:246"><span class="id" title="binder">C</span></a>} (<a id="P:247" class="idref" href="#P:247"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:244"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:244"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="x:248" class="idref" href="#x:248"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:246"><span class="id" title="variable">C</span></a>) (<a id="f:249" class="idref" href="#f:249"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:246"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:245"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:244"><span class="id" title="variable">A</span></a>) (<a id="l:250" class="idref" href="#l:250"><span class="id" title="binder">l</span></a> <a id="l':251" class="idref" href="#l':251"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:245"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All3"><span class="id" title="inductive">All3</span></a> (<span class="id" title="keyword">fun</span> <a id="x:252" class="idref" href="#x:252"><span class="id" title="binder">x</span></a> <a id="y:253" class="idref" href="#y:253"><span class="id" title="binder">y</span></a> <a id="z:254" class="idref" href="#z:254"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:247"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:252"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:253"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:252"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:254"><span class="id" title="variable">z</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:248"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:250"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':251"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:247"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:248"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:250"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:248"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':251"><span class="id" title="variable">l'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All2_All2_All2_All3" class="idref" href="#All2_All2_All2_All3"><span class="id" title="lemma">All2_All2_All2_All3</span></a> {<a id="A:255" class="idref" href="#A:255"><span class="id" title="binder">A</span></a> <a id="B:256" class="idref" href="#B:256"><span class="id" title="binder">B</span></a> <a id="C:257" class="idref" href="#C:257"><span class="id" title="binder">C</span></a>} (<a id="P:258" class="idref" href="#P:258"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:255"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:256"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:257"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="Q:259" class="idref" href="#Q:259"><span class="id" title="binder">Q</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:255"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:256"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="Q':260" class="idref" href="#Q':260"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:255"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:257"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="R:261" class="idref" href="#R:261"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:256"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:257"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:262" class="idref" href="#x:262"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:255"><span class="id" title="variable">A</span></a>) (<a id="l:263" class="idref" href="#l:263"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:256"><span class="id" title="variable">B</span></a>) (<a id="l':264" class="idref" href="#l':264"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:257"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:259"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:262"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:263"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q':260"><span class="id" title="variable">Q'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:262"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':264"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:261"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:263"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':264"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:265" class="idref" href="#x:265"><span class="id" title="binder">x</span></a> <a id="y:266" class="idref" href="#y:266"><span class="id" title="binder">y</span></a> <a id="z:267" class="idref" href="#z:267"><span class="id" title="binder">z</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:259"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:265"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:266"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q':260"><span class="id" title="variable">Q'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:265"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:267"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:261"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:266"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:267"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:258"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:265"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:266"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:267"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All3"><span class="id" title="inductive">All3</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:258"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:262"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:263"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':264"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;updateTemplate&nbsp;Coq's&nbsp;eq_term&nbsp;to&nbsp;reflect&nbsp;PCUIC's&nbsp;cumulativity&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term_upto_univ" class="idref" href="#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> {<a id="Re:268" class="idref" href="#Re:268"><span class="id" title="binder">Re</span></a> <a id="Rle:269" class="idref" href="#Rle:269"><span class="id" title="binder">Rle</span></a> <a id="t:270" class="idref" href="#t:270"><span class="id" title="binder">t</span></a> <a id="u:271" class="idref" href="#u:271"><span class="id" title="binder">u</span></a> <a id="napp:272" class="idref" href="#napp:272"><span class="id" title="binder">napp</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#subrelation"><span class="id" title="class">RelationClasses.subrelation</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Re:268"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Rle:269"><span class="id" title="variable">Rle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:270"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:271"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term_upto_univ_napp"><span class="id" title="inductive">SEq.eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Re:268"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Rle:269"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:272"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:270"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:271"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Re:268"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Rle:269"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#napp:272"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:270"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:271"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub</span> <span class="id" title="var">wt</span> <span class="id" title="var">wu</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.Induction.html#term_forall_list_rect"><span class="id" title="lemma">Induction.term_forall_list_rect</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sub</span>, <span class="id" title="var">Rle</span>, <span class="id" title="var">napp</span>, <span class="id" title="var">wt</span>, <span class="id" title="var">u</span>, <span class="id" title="var">wu</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">invs</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ih</span> : <span class="id" title="keyword">∀</span> <a id="Rle:276" class="idref" href="#Rle:276"><span class="id" title="binder">Rle</span></a> (<a id="u:277" class="idref" href="#u:277"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) (<a id="napp:278" class="idref" href="#napp:278"><span class="id" title="binder">napp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp_mkApps"><span class="id" title="lemma">eq_term_upto_univ_napp_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span>, <span class="id" title="var">wu</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_R_global_instance"><span class="id" title="lemma">trans_R_global_instance</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_R_global_instance"><span class="id" title="lemma">trans_R_global_instance</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl'</span> [<span class="id" title="var">idecl'</span> [<span class="id" title="var">decli</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">eqpars</span> <span class="id" title="var">eqret</span> <span class="id" title="var">eqc</span> <span class="id" title="var">eqbrs</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl''</span> [<span class="id" title="var">idecl''</span> [<span class="id" title="var">decli'</span> <span class="id" title="var">hci'</span> <span class="id" title="var">hpctx'</span> <span class="id" title="var">lenpars'</span> <span class="id" title="var">eqpars'</span> <span class="id" title="var">eqret'</span> <span class="id" title="var">eqc'</span> <span class="id" title="var">eqbrs'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">decli</span> <span class="id" title="var">decli'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">hl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lookup_inductive_None"><span class="id" title="lemma">lookup_inductive_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#lookup_inductive_declared"><span class="id" title="lemma">lookup_inductive_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">decli''</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_inductive_inj"><span class="id" title="lemma">PCUICGlobalEnv.declared_inductive_inj</span></a> <span class="id" title="var">decli''</span> <span class="id" title="var">hl</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ih</span> : <span class="id" title="keyword">∀</span> <a id="Rle:281" class="idref" href="#Rle:281"><span class="id" title="binder">Rle</span></a> <a id="u:282" class="idref" href="#u:282"><span class="id" title="binder">u</span></a>, <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_predicate"><span class="id" title="definition">eq_predicate</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typeclass_instances</span> <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx'</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_binder_annot_eq_context_gen_set_binder_name"><span class="id" title="lemma">eq_binder_annot_eq_context_gen_set_binder_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_map2"><span class="id" title="lemma">All2_map2</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqbrs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_All2_All2_All3"><span class="id" title="lemma">All2_All2_All2_All3</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span> <span class="id" title="var">br'</span> [[<span class="id" title="var">eq</span> <span class="id" title="var">wfb</span>] <span class="id" title="var">IH</span>] [<span class="id" title="var">eq'</span> <span class="id" title="var">wfb'</span>] [<span class="id" title="var">eqbs</span> <span class="id" title="var">eqbods</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq'</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_binder_annot_eq_context_gen_set_binder_name"><span class="id" title="lemma">eq_binder_annot_eq_context_gen_set_binder_name</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tc</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:284" class="idref" href="#def:284"><span class="id" title="binder">def</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:283"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:283"><span class="id" title="variable">def</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:286" class="idref" href="#def:286"><span class="id" title="binder">def</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:285"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:285"><span class="id" title="variable">def</span></a>)) <span class="id" title="var">mfix'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="var">w2</span> <span class="id" title="var">h2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>. 1: <span class="id" title="tactic">exact</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ? ? ?] [? ? ? ?] [[[? ?] [[<span class="id" title="var">ih1</span> <span class="id" title="var">ih2</span>] [? ?]]] [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:288" class="idref" href="#def:288"><span class="id" title="binder">def</span></a> ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:287"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:287"><span class="id" title="variable">def</span></a>)) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:290" class="idref" href="#def:290"><span class="id" title="binder">def</span></a> ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:289"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:289"><span class="id" title="variable">def</span></a>)) <span class="id" title="var">mfix'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="var">w2</span> <span class="id" title="var">h2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>. 1: <span class="id" title="tactic">exact</span> <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ? ? ?] [? ? ? ?] [[[? ?] [[<span class="id" title="var">ih1</span> <span class="id" title="var">ih2</span>] [? ?]]] [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">ih2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_leq_term" class="idref" href="#trans_leq_term"><span class="id" title="lemma">trans_leq_term</span></a> <a id="79aefd5a34b932570cd9137432ae908c" class="idref" href="#79aefd5a34b932570cd9137432ae908c"><span class="id" title="binder">ϕ</span></a> <a id="T:292" class="idref" href="#T:292"><span class="id" title="binder">T</span></a> <a id="U:293" class="idref" href="#U:293"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:292"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:293"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#leq_term"><span class="id" title="abbreviation">SEq.leq_term</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#79aefd5a34b932570cd9137432ae908c"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:292"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:293"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">leq_term</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#79aefd5a34b932570cd9137432ae908c"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:292"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:293"><span class="id" title="variable">U</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HT</span> <span class="id" title="var">HU</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> ; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term" class="idref" href="#trans_eq_term"><span class="id" title="lemma">trans_eq_term</span></a> <a id="b3e4d886c797d21c0cecb25b12f86830" class="idref" href="#b3e4d886c797d21c0cecb25b12f86830"><span class="id" title="binder">φ</span></a> <a id="t:295" class="idref" href="#t:295"><span class="id" title="binder">t</span></a> <a id="u:296" class="idref" href="#u:296"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:295"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:296"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term"><span class="id" title="abbreviation">SEq.eq_term</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b3e4d886c797d21c0cecb25b12f86830"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:295"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:296"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b3e4d886c797d21c0cecb25b12f86830"><span class="id" title="variable">φ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:295"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:296"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HT</span> <span class="id" title="var">HU</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> ; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term_list" class="idref" href="#trans_eq_term_list"><span class="id" title="lemma">trans_eq_term_list</span></a> {<a id="b47aa087cc40e55173eaa9f6ce04961b" class="idref" href="#b47aa087cc40e55173eaa9f6ce04961b"><span class="id" title="binder">φ</span></a> <a id="l:298" class="idref" href="#l:298"><span class="id" title="binder">l</span></a> <a id="l':299" class="idref" href="#l':299"><span class="id" title="binder">l'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:298"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':299"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_term"><span class="id" title="abbreviation">SEq.eq_term</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b47aa087cc40e55173eaa9f6ce04961b"><span class="id" title="variable">φ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:298"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':299"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b47aa087cc40e55173eaa9f6ce04961b"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:298"><span class="id" title="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':299"><span class="id" title="variable">l'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">w'</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="var">w</span> <span class="id" title="var">h</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="var">w'</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a> <span class="id" title="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term"><span class="id" title="lemma">trans_eq_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Trans_Global" class="idref" href="#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:300" class="idref" href="#cf:300"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="047c3f3b37dfa3ffe68475d35878673a" class="idref" href="#047c3f3b37dfa3ffe68475d35878673a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="52b145392dfbad12f334141f4035e258" class="idref" href="#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_nth" class="idref" href="#trans_nth"><span class="id" title="lemma">trans_nth</span></a> <a id="n:302" class="idref" href="#n:302"><span class="id" title="binder">n</span></a> <a id="l:303" class="idref" href="#l:303"><span class="id" title="binder">l</span></a> <a id="x:304" class="idref" href="#x:304"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:302"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:303"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:304"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:302"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:303"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:304"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_extended_subst" class="idref" href="#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a> <a id="ccb8e947a5af53546e23b6abf2744353" class="idref" href="#ccb8e947a5af53546e23b6abf2744353"><span class="id" title="binder">Γ</span></a> <a id="k:306" class="idref" href="#k:306"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.extended_subst"><span class="id" title="definition">Ast.Env.extended_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ccb8e947a5af53546e23b6abf2744353"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:306"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ccb8e947a5af53546e23b6abf2744353"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:306"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /= //; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets_k" class="idref" href="#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a> <a id="54f9cb9364246ee392102a9a14ce987a" class="idref" href="#54f9cb9364246ee392102a9a14ce987a"><span class="id" title="binder">Γ</span></a> <a id="k:308" class="idref" href="#k:308"><span class="id" title="binder">k</span></a> <a id="t:309" class="idref" href="#t:309"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k"><span class="id" title="definition">Ast.Env.expand_lets_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#54f9cb9364246ee392102a9a14ce987a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:308"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:309"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#54f9cb9364246ee392102a9a14ce987a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:308"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:309"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k"><span class="id" title="definition">Ast.Env.expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets" class="idref" href="#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a id="9a65bf4ad7d36f3ffe676c94fa1431d2" class="idref" href="#9a65bf4ad7d36f3ffe676c94fa1431d2"><span class="id" title="binder">Γ</span></a> <a id="t:311" class="idref" href="#t:311"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9a65bf4ad7d36f3ffe676c94fa1431d2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:311"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9a65bf4ad7d36f3ffe676c94fa1431d2"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:311"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_subst_context" class="idref" href="#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a id="s:312" class="idref" href="#s:312"><span class="id" title="binder">s</span></a> <a id="k:313" class="idref" href="#k:313"><span class="id" title="binder">k</span></a> <a id="0415ed5da8a3b9833a57d33c95d1f001" class="idref" href="#0415ed5da8a3b9833a57d33c95d1f001"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context"><span class="id" title="definition">Ast.Env.subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:312"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:313"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0415ed5da8a3b9833a57d33c95d1f001"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:312"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:313"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0415ed5da8a3b9833a57d33c95d1f001"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context_snoc"><span class="id" title="lemma">Ast.Env.subst_context_snoc</span></a> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_lift_context" class="idref" href="#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> <a id="n:315" class="idref" href="#n:315"><span class="id" title="binder">n</span></a> <a id="k:316" class="idref" href="#k:316"><span class="id" title="binder">k</span></a> <a id="b2a4b07ea8860670c7bc3f5c1f1e84b7" class="idref" href="#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.lift_context"><span class="id" title="definition">Ast.Env.lift_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:315"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:316"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:315"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:316"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Template.TypingWf.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_snoc"><span class="id" title="lemma">PCUICLiftSubst.lift_context_snoc</span></a> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>; <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets_ctx" class="idref" href="#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <a id="410316a375a88c43022c5d65981d0378" class="idref" href="#410316a375a88c43022c5d65981d0378"><span class="id" title="binder">Γ</span></a> <a id="73d8faf8890118f03878965524688c61" class="idref" href="#73d8faf8890118f03878965524688c61"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#73d8faf8890118f03878965524688c61"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#73d8faf8890118f03878965524688c61"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k_ctx"><span class="id" title="definition">Ast.Env.expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_smash_context" class="idref" href="#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <a id="c0d490cf47be0c191d0ebda99525ce3d" class="idref" href="#c0d490cf47be0c191d0ebda99525ce3d"><span class="id" title="binder">Γ</span></a> <a id="6c5da1e7ef5eae14fde47bfb6ee35c8b" class="idref" href="#6c5da1e7ef5eae14fde47bfb6ee35c8b"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.smash_context"><span class="id" title="definition">Ast.Env.smash_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c0d490cf47be0c191d0ebda99525ce3d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c5da1e7ef5eae14fde47bfb6ee35c8b"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c0d490cf47be0c191d0ebda99525ce3d"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c5da1e7ef5eae14fde47bfb6ee35c8b"><span class="id" title="variable">Δ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΔ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΔ</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_decl_subst_instance_set_binder_name" class="idref" href="#map_decl_subst_instance_set_binder_name"><span class="id" title="lemma">map_decl_subst_instance_set_binder_name</span></a> <a id="i:322" class="idref" href="#i:322"><span class="id" title="binder">i</span></a> <a id="x:323" class="idref" href="#x:323"><span class="id" title="binder">x</span></a> <a id="y:324" class="idref" href="#y:324"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:322"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:324"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:323"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:322"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:324"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_trans" class="idref" href="#map2_trans"><span class="id" title="lemma">map2_trans</span></a> <a id="l:325" class="idref" href="#l:325"><span class="id" title="binder">l</span></a> <a id="l':326" class="idref" href="#l':326"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x:327" class="idref" href="#x:327"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:328" class="idref" href="#y:328"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#context_decl"><span class="id" title="record">BasicAst.context_decl</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">Ast.Env.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:327"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:328"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:325"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':326"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:329" class="idref" href="#x:329"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:330" class="idref" href="#y:330"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#context_decl"><span class="id" title="record">BasicAst.context_decl</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:329"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:330"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:325"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':326"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map2_ext"><span class="id" title="lemma">map2_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_map_comm" class="idref" href="#map_map_comm"><span class="id" title="lemma">map_map_comm</span></a> {<a id="A:331" class="idref" href="#A:331"><span class="id" title="binder">A</span></a> <a id="B:332" class="idref" href="#B:332"><span class="id" title="binder">B</span></a> <a id="B':333" class="idref" href="#B':333"><span class="id" title="binder">B'</span></a> <a id="C:334" class="idref" href="#C:334"><span class="id" title="binder">C</span></a>} (<a id="f:335" class="idref" href="#f:335"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:332"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:334"><span class="id" title="variable">C</span></a>) (<a id="g:336" class="idref" href="#g:336"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:331"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:332"><span class="id" title="variable">B</span></a>) (<a id="f':337" class="idref" href="#f':337"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':333"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:334"><span class="id" title="variable">C</span></a>) (<a id="g':338" class="idref" href="#g':338"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:331"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B':333"><span class="id" title="variable">B'</span></a>) (<a id="l:339" class="idref" href="#l:339"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:331"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:340" class="idref" href="#x:340"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:335"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:336"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:340"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f':337"><span class="id" title="variable">f'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':338"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:340"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:335"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:336"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:339"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f':337"><span class="id" title="variable">f'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':338"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:339"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context" class="idref" href="#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a> <a id="ind:341" class="idref" href="#ind:341"><span class="id" title="binder">ind</span></a> <a id="mdecl:342" class="idref" href="#mdecl:342"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:343" class="idref" href="#cdecl:343"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':344" class="idref" href="#mdecl':344"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:342"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':345" class="idref" href="#cdecl':345"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:343"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:341"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:342"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:343"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:341"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':344"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':345"><span class="id" title="variable">cdecl'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_iota_red" class="idref" href="#trans_iota_red"><span class="id" title="lemma">trans_iota_red</span></a> <a id="ind:346" class="idref" href="#ind:346"><span class="id" title="binder">ind</span></a> <a id="mdecl:347" class="idref" href="#mdecl:347"><span class="id" title="binder">mdecl</span></a> <a id="idecl:348" class="idref" href="#idecl:348"><span class="id" title="binder">idecl</span></a> <a id="cdecl:349" class="idref" href="#cdecl:349"><span class="id" title="binder">cdecl</span></a> <a id="pars:350" class="idref" href="#pars:350"><span class="id" title="binder">pars</span></a> <a id="p:351" class="idref" href="#p:351"><span class="id" title="binder">p</span></a> <a id="args:352" class="idref" href="#args:352"><span class="id" title="binder">args</span></a> <a id="br:353" class="idref" href="#br:353"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:354" class="idref" href="#bctx:354"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:346"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:347"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:349"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:351"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:353"><span class="id" title="variable">br</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':355" class="idref" href="#p':355"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:351"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':356" class="idref" href="#mdecl':356"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:347"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':357" class="idref" href="#idecl':357"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:348"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':358" class="idref" href="#cdecl':358"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:349"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':359" class="idref" href="#p':359"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:346"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':356"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':357"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':355"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':355"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':355"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':355"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:353"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:349"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#iota_red"><span class="id" title="definition">ST.iota_red</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:350"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:352"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bctx:354"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:353"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:350"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':359"><span class="id" title="variable">p'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:352"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <a id="br':360" class="idref" href="#br':360"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_branch"><span class="id" title="definition">Ast.map_branch</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:353"><span class="id" title="variable">br</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:346"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':356"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':358"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':360"><span class="id" title="variable">br'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':360"><span class="id" title="variable">br'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#iota_red"><span class="id" title="definition">ST.iota_red</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">bctx</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x:365" class="idref" href="#x:365"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:366" class="idref" href="#y:366"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a> <span class="id" title="var">p</span>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:362"><span class="id" title="variable">y</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="x:367" class="idref" href="#x:367"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:368" class="idref" href="#y:368"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:363"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a> <span class="id" title="var">p</span>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:364"><span class="id" title="variable">y</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICRenameConv.html#map2_set_binder_name_fold"><span class="id" title="lemma">PCUICRenameConv.map2_set_binder_name_fold</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_instance_context"><span class="id" title="instance">Ast.Env.subst_instance_context</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map_comm"><span class="id" title="lemma">map_map_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a> <span class="id" title="var">p</span>))) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">x</span>) ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_isLambda" class="idref" href="#trans_isLambda"><span class="id" title="lemma">trans_isLambda</span></a> <a id="t:369" class="idref" href="#t:369"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:369"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:369"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#isLambda"><span class="id" title="definition">Ast.isLambda</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:369"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; [<span class="id" title="var">contradiction</span>|]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <span class="id" title="var">u</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <span class="id" title="var">t0</span>); <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_unfold_fix" class="idref" href="#trans_unfold_fix"><span class="id" title="lemma">trans_unfold_fix</span></a> <a id="mfix:370" class="idref" href="#mfix:370"><span class="id" title="binder">mfix</span></a> <a id="idx:371" class="idref" href="#idx:371"><span class="id" title="binder">idx</span></a> <a id="narg:372" class="idref" href="#narg:372"><span class="id" title="binder">narg</span></a> <a id="fn:373" class="idref" href="#fn:373"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:374" class="idref" href="#def:374"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:374"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:374"><span class="id" title="variable">def</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:370"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_fix"><span class="id" title="definition">ST.unfold_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:370"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:371"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:372"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:373"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:370"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:371"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:372"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:373"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_fix"><span class="id" title="definition">ST.unfold_fix</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">wffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdef</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_subst"><span class="id" title="definition">ST.fix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wffix</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHwffix</span> <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_unfold_cofix" class="idref" href="#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <a id="mfix:375" class="idref" href="#mfix:375"><span class="id" title="binder">mfix</span></a> <a id="idx:376" class="idref" href="#idx:376"><span class="id" title="binder">idx</span></a> <a id="narg:377" class="idref" href="#narg:377"><span class="id" title="binder">narg</span></a> <a id="fn:378" class="idref" href="#fn:378"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:379" class="idref" href="#def:379"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:379"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:379"><span class="id" title="variable">def</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:375"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_cofix"><span class="id" title="definition">ST.unfold_cofix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:375"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:376"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:377"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:378"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:375"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idx:376"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:377"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fn:378"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#unfold_cofix"><span class="id" title="definition">ST.unfold_cofix</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">wffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cofix_subst"><span class="id" title="definition">ST.cofix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wffix</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHwffix</span> <span class="id" title="var">mfix</span>). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isApp" class="idref" href="#isApp"><span class="id" title="definition">isApp</span></a> <a id="t:380" class="idref" href="#t:380"><span class="id" title="binder">t</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:380"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_is_constructor" class="idref" href="#trans_is_constructor"><span class="id" title="lemma">trans_is_constructor</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="args:382" class="idref" href="#args:382"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) (<a id="narg:383" class="idref" href="#narg:383"><span class="id" title="binder">narg</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#is_constructor"><span class="id" title="definition">ST.is_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:383"><span class="id" title="variable">narg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:382"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#narg:383"><span class="id" title="variable">narg</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:382"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">args</span> <span class="id" title="var">narg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#is_constructor"><span class="id" title="definition">ST.is_constructor</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> || <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> || <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec_mkApps"><span class="id" title="lemma">decompose_app_rec_mkApps</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="refine_red1_r" class="idref" href="#refine_red1_r"><span class="id" title="lemma">refine_red1_r</span></a> <a id="cdc0495c0105bcd8fdfc3a2334199267" class="idref" href="#cdc0495c0105bcd8fdfc3a2334199267"><span class="id" title="binder">Σg</span></a> <a id="a7f8e463d6d4ec7a589def4ceb638856" class="idref" href="#a7f8e463d6d4ec7a589def4ceb638856"><span class="id" title="binder">Γ</span></a> <a id="t:386" class="idref" href="#t:386"><span class="id" title="binder">t</span></a> <a id="u:387" class="idref" href="#u:387"><span class="id" title="binder">u</span></a> <a id="u':388" class="idref" href="#u':388"><span class="id" title="binder">u'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:387"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':388"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdc0495c0105bcd8fdfc3a2334199267"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a7f8e463d6d4ec7a589def4ceb638856"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:386"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:387"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdc0495c0105bcd8fdfc3a2334199267"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a7f8e463d6d4ec7a589def4ceb638856"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:386"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u':388"><span class="id" title="variable">u'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="f1a9983fccb8f06779b2fc55ae6f41b0" class="idref" href="#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a> <a id="b1f5afbe52cb5cf093f179b734747548" class="idref" href="#b1f5afbe52cb5cf093f179b734747548"><span class="id" title="binder">Σg</span></a> <a id="afe455686b2e85f8e8164be9ed14cd9c" class="idref" href="#afe455686b2e85f8e8164be9ed14cd9c"><span class="id" title="binder">Γ</span></a> <a id="1f581563604e987100b18472e5a0a721" class="idref" href="#1f581563604e987100b18472e5a0a721"><span class="id" title="binder">Γ'</span></a> <a id="t:392" class="idref" href="#t:392"><span class="id" title="binder">t</span></a> <a id="u:393" class="idref" href="#u:393"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#afe455686b2e85f8e8164be9ed14cd9c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1f581563604e987100b18472e5a0a721"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b1f5afbe52cb5cf093f179b734747548"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#afe455686b2e85f8e8164be9ed14cd9c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:392"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:393"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b1f5afbe52cb5cf093f179b734747548"><span class="id" title="variable">Σg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1f581563604e987100b18472e5a0a721"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:392"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:393"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wf_inv</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">rdest</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nth_error_map2" class="idref" href="#nth_error_map2"><span class="id" title="lemma">nth_error_map2</span></a> {<a id="A:394" class="idref" href="#A:394"><span class="id" title="binder">A</span></a> <a id="B:395" class="idref" href="#B:395"><span class="id" title="binder">B</span></a> <a id="C:396" class="idref" href="#C:396"><span class="id" title="binder">C</span></a>} (<a id="f:397" class="idref" href="#f:397"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:394"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:395"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:396"><span class="id" title="variable">C</span></a>) <a id="n:398" class="idref" href="#n:398"><span class="id" title="binder">n</span></a> <a id="l:399" class="idref" href="#l:399"><span class="id" title="binder">l</span></a> <a id="l':400" class="idref" href="#l':400"><span class="id" title="binder">l'</span></a> <a id="a:401" class="idref" href="#a:401"><span class="id" title="binder">a</span></a> <a id="b:402" class="idref" href="#b:402"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:399"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:398"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:401"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':400"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:398"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:402"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:397"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:399"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':400"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:398"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:397"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a:401"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:402"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>, <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cstr_branch_context_assumptions" class="idref" href="#cstr_branch_context_assumptions"><span class="id" title="lemma">cstr_branch_context_assumptions</span></a> <a id="ci:403" class="idref" href="#ci:403"><span class="id" title="binder">ci</span></a> <a id="mdecl:404" class="idref" href="#mdecl:404"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:405" class="idref" href="#cdecl:405"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:403"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:404"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:405"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:405"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_fold"><span class="id" title="lemma">context_assumptions_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ast_cstr_branch_context_assumptions" class="idref" href="#Ast_cstr_branch_context_assumptions"><span class="id" title="lemma">Ast_cstr_branch_context_assumptions</span></a> <a id="ci:406" class="idref" href="#ci:406"><span class="id" title="binder">ci</span></a> <a id="mdecl:407" class="idref" href="#mdecl:407"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:408" class="idref" href="#cdecl:408"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:406"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:407"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:408"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:408"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_fold"><span class="id" title="lemma">Ast.Env.context_assumptions_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_context_assumptions" class="idref" href="#map2_set_binder_name_context_assumptions"><span class="id" title="lemma">map2_set_binder_name_context_assumptions</span></a> (<a id="l:409" class="idref" href="#l:409"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="l':410" class="idref" href="#l':410"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:409"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':410"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">Ast.Env.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:409"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':410"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':410"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ast_inst_case_context_length" class="idref" href="#Ast_inst_case_context_length"><span class="id" title="lemma">Ast_inst_case_context_length</span></a> <a id="pars:411" class="idref" href="#pars:411"><span class="id" title="binder">pars</span></a> <a id="puinst:412" class="idref" href="#puinst:412"><span class="id" title="binder">puinst</span></a> <a id="ctx:413" class="idref" href="#ctx:413"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:411"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:412"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:413"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:413"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Ast_inst_case_context_length"><span class="id" title="lemma">Ast_inst_case_context_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ast_inst_case_context_assumptions" class="idref" href="#Ast_inst_case_context_assumptions"><span class="id" title="lemma">Ast_inst_case_context_assumptions</span></a> <a id="pars:414" class="idref" href="#pars:414"><span class="id" title="binder">pars</span></a> <a id="puinst:415" class="idref" href="#puinst:415"><span class="id" title="binder">puinst</span></a> <a id="ctx:416" class="idref" href="#ctx:416"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:414"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:415"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:416"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:416"><span class="id" title="variable">ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_fold"><span class="id" title="lemma">Ast.Env.context_assumptions_fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_map"><span class="id" title="lemma">Ast.Env.context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="case_branch_context_assumptions" class="idref" href="#case_branch_context_assumptions"><span class="id" title="lemma">case_branch_context_assumptions</span></a> <a id="ci:417" class="idref" href="#ci:417"><span class="id" title="binder">ci</span></a> <a id="mdecl:418" class="idref" href="#mdecl:418"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:419" class="idref" href="#cdecl:419"><span class="id" title="binder">cdecl</span></a> <a id="p:420" class="idref" href="#p:420"><span class="id" title="binder">p</span></a> <a id="br:421" class="idref" href="#br:421"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:421"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:419"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:417"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:418"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:419"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:420"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:421"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:419"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_set_binder_name_context_assumptions"><span class="id" title="lemma">map2_set_binder_name_context_assumptions</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_lookup" class="idref" href="#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> {<a id="b9474faecee85d0cb4b58c6d79b3067c" class="idref" href="#b9474faecee85d0cb4b58c6d79b3067c"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>} {<a id="ind:423" class="idref" href="#ind:423"><span class="id" title="binder">ind</span></a> <a id="mdecl:424" class="idref" href="#mdecl:424"><span class="id" title="binder">mdecl</span></a> <a id="idecl:425" class="idref" href="#idecl:425"><span class="id" title="binder">idecl</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:423"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:424"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:425"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:423"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:424"><span class="id" title="variable">mdecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:425"><span class="id" title="variable">idecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Require&nbsp;Import&nbsp;PCUICInductiveInversion.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map2_cst" class="idref" href="#map2_cst"><span class="id" title="lemma">map2_cst</span></a> {<a id="A:426" class="idref" href="#A:426"><span class="id" title="binder">A</span></a> <a id="B:427" class="idref" href="#B:427"><span class="id" title="binder">B</span></a>} (<a id="l:428" class="idref" href="#l:428"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:426"><span class="id" title="variable">A</span></a>) (<a id="l':429" class="idref" href="#l':429"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:427"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:428"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':429"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:430" class="idref" href="#x:430"><span class="id" title="binder">x</span></a> <a id="y:431" class="idref" href="#y:431"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:430"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:428"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':429"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:428"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_inst_case_context" class="idref" href="#trans_inst_case_context"><span class="id" title="lemma">trans_inst_case_context</span></a> <a id="pars:432" class="idref" href="#pars:432"><span class="id" title="binder">pars</span></a> <a id="puinst:433" class="idref" href="#puinst:433"><span class="id" title="binder">puinst</span></a> <a id="ctx:434" class="idref" href="#ctx:434"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:432"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:433"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:434"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pars:432"><span class="id" title="variable">pars</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#puinst:433"><span class="id" title="variable">puinst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:434"><span class="id" title="variable">ctx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">Ast.inst_case_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_local_app" class="idref" href="#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a id="ae219b54622866c5b3d60fca15b4cc3c" class="idref" href="#ae219b54622866c5b3d60fca15b4cc3c"><span class="id" title="binder">Γ</span></a> <a id="dbcb9ef8fffa032b2d4b943b849d16be" class="idref" href="#dbcb9ef8fffa032b2d4b943b849d16be"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae219b54622866c5b3d60fca15b4cc3c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dbcb9ef8fffa032b2d4b943b849d16be"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ae219b54622866c5b3d60fca15b4cc3c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#dbcb9ef8fffa032b2d4b943b849d16be"><span class="id" title="variable">Δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_case_predicate_context" class="idref" href="#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> (<a id="ci:437" class="idref" href="#ci:437"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:438" class="idref" href="#mdecl:438"><span class="id" title="binder">mdecl</span></a> <a id="idecl:439" class="idref" href="#idecl:439"><span class="id" title="binder">idecl</span></a> <a id="p:440" class="idref" href="#p:440"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:441" class="idref" href="#bctx:441"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:437"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:438"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:439"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:440"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':442" class="idref" href="#p':442"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:440"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':443" class="idref" href="#mdecl':443"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:438"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':444" class="idref" href="#idecl':444"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:439"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':445" class="idref" href="#p':445"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:437"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':443"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':444"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':442"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':442"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':442"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':442"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:440"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:439"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:437"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:438"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:439"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:440"><span class="id" title="variable">p</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:437"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':443"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':444"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':445"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bctx</span> <span class="id" title="var">p'</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span> <span class="id" title="var">p''</span> <span class="id" title="var">eqp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context_gen"><span class="id" title="definition">Ast.case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#pre_case_predicate_context_gen"><span class="id" title="definition">Ast.pre_case_predicate_context_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inst_case_context"><span class="id" title="lemma">trans_inst_case_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> /= /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_ind_predicate_context" class="idref" href="#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a> (<a id="5a5ce17fc249048e08148d136ea86e37" class="idref" href="#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) <a id="ind:447" class="idref" href="#ind:447"><span class="id" title="binder">ind</span></a> <a id="mdecl:448" class="idref" href="#mdecl:448"><span class="id" title="binder">mdecl</span></a> <a id="idecl:449" class="idref" href="#idecl:449"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':450" class="idref" href="#mdecl':450"><span class="id" title="binder">mdecl'</span></a>:= <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:448"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':451" class="idref" href="#idecl':451"><span class="id" title="binder">idecl'</span></a>:= <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:449"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:452" class="idref" href="#x:452"><span class="id" title="binder">x</span></a> <a id="y:453" class="idref" href="#y:453"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:452"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:453"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:447"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:448"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:449"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:454" class="idref" href="#x:454"><span class="id" title="binder">x</span></a> <a id="y:455" class="idref" href="#y:455"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:454"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:455"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:447"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':450"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':451"><span class="id" title="variable">idecl'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">mdecl'</span> /<span class="id" title="var">idecl'</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context_alpha" class="idref" href="#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a> (<a id="ed0ab27a87ddbdcc1f4191fb00e8aedb" class="idref" href="#ed0ab27a87ddbdcc1f4191fb00e8aedb"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) <a id="ind:457" class="idref" href="#ind:457"><span class="id" title="binder">ind</span></a> <a id="mdecl:458" class="idref" href="#mdecl:458"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:459" class="idref" href="#cdecl:459"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':460" class="idref" href="#mdecl':460"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:458"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':461" class="idref" href="#cdecl':461"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:459"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:462" class="idref" href="#x:462"><span class="id" title="binder">x</span></a> <a id="y:463" class="idref" href="#y:463"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:462"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:463"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ed0ab27a87ddbdcc1f4191fb00e8aedb"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:457"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:458"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:459"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:464" class="idref" href="#x:464"><span class="id" title="binder">x</span></a> <a id="y:465" class="idref" href="#y:465"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:464"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:465"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ed0ab27a87ddbdcc1f4191fb00e8aedb"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:457"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':460"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':461"><span class="id" title="variable">cdecl'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inst_case_predicate_context_eq" class="idref" href="#inst_case_predicate_context_eq"><span class="id" title="lemma">inst_case_predicate_context_eq</span></a> (<a id="ci:466" class="idref" href="#ci:466"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:467" class="idref" href="#mdecl:467"><span class="id" title="binder">mdecl</span></a> <a id="idecl:468" class="idref" href="#idecl:468"><span class="id" title="binder">idecl</span></a> <a id="p:469" class="idref" href="#p:469"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:470" class="idref" href="#bctx:470"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:466"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:467"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:468"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:469"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':471" class="idref" href="#p':471"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:469"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':472" class="idref" href="#mdecl':472"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:467"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':473" class="idref" href="#idecl':473"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:468"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':474" class="idref" href="#p':474"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:466"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':472"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':473"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':471"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':471"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':471"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':471"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:469"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:466"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:467"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:468"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:466"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:467"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:468"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:469"><span class="id" title="variable">p</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':474"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#inst_case_predicate_context_eq"><span class="id" title="lemma">inst_case_predicate_context_eq</span></a> <span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span> <span class="id" title="var">ci</span> <span class="id" title="var">p'0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">p'0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_case_branch_context" class="idref" href="#trans_case_branch_context"><span class="id" title="lemma">trans_case_branch_context</span></a> (<a id="ci:475" class="idref" href="#ci:475"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:476" class="idref" href="#mdecl:476"><span class="id" title="binder">mdecl</span></a> <a id="idecl:477" class="idref" href="#idecl:477"><span class="id" title="binder">idecl</span></a> <a id="cdecl:478" class="idref" href="#cdecl:478"><span class="id" title="binder">cdecl</span></a> <a id="p:479" class="idref" href="#p:479"><span class="id" title="binder">p</span></a> <a id="br:480" class="idref" href="#br:480"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:481" class="idref" href="#bctx:481"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:475"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:476"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:477"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:479"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':482" class="idref" href="#p':482"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:479"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':483" class="idref" href="#mdecl':483"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:476"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':484" class="idref" href="#idecl':484"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:477"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':485" class="idref" href="#cdecl':485"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:478"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':486" class="idref" href="#p':486"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:475"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':483"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':484"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':482"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':482"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':482"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':482"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':487" class="idref" href="#br':487"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:475"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':483"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':485"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:480"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:480"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:480"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:475"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:476"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:478"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:475"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:476"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:478"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:479"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:480"><span class="id" title="variable">br</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:475"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':483"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':486"><span class="id" title="variable">p'</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':487"><span class="id" title="variable">br'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':485"><span class="id" title="variable">cdecl'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_branch_context_gen"><span class="id" title="definition">pre_case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> /= <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inst_case_context"><span class="id" title="lemma">trans_inst_case_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inst_case_branch_context_eq" class="idref" href="#inst_case_branch_context_eq"><span class="id" title="lemma">inst_case_branch_context_eq</span></a> (<a id="ci:488" class="idref" href="#ci:488"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:489" class="idref" href="#mdecl:489"><span class="id" title="binder">mdecl</span></a> <a id="idecl:490" class="idref" href="#idecl:490"><span class="id" title="binder">idecl</span></a> <a id="cdecl:491" class="idref" href="#cdecl:491"><span class="id" title="binder">cdecl</span></a> <a id="p:492" class="idref" href="#p:492"><span class="id" title="binder">p</span></a> <a id="br:493" class="idref" href="#br:493"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:494" class="idref" href="#bctx:494"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:488"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:489"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:490"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:492"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':495" class="idref" href="#p':495"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:492"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':496" class="idref" href="#mdecl':496"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:489"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':497" class="idref" href="#idecl':497"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:490"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':498" class="idref" href="#cdecl':498"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:491"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':499" class="idref" href="#p':499"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:488"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':496"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':497"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':495"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':495"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':495"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':495"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':500" class="idref" href="#br':500"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:488"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':496"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':498"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:493"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:493"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:493"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:488"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:489"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:491"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:488"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:489"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:491"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:492"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:493"><span class="id" title="variable">br</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':499"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':500"><span class="id" title="variable">br'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">inst_case_branch_context_eq</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">cdecl'</span> <span class="id" title="var">p'0</span> <span class="id" title="var">br'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_branch_context"><span class="id" title="lemma">trans_case_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OnOne2_map2" class="idref" href="#OnOne2_map2"><span class="id" title="lemma">OnOne2_map2</span></a> {<a id="A:501" class="idref" href="#A:501"><span class="id" title="binder">A</span></a> <a id="B:502" class="idref" href="#B:502"><span class="id" title="binder">B</span></a> <a id="C:503" class="idref" href="#C:503"><span class="id" title="binder">C</span></a>} (<a id="P:504" class="idref" href="#P:504"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:501"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:501"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:505" class="idref" href="#f:505"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:502"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:503"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:501"><span class="id" title="variable">A</span></a>) <a id="l:506" class="idref" href="#l:506"><span class="id" title="binder">l</span></a> <a id="l':507" class="idref" href="#l':507"><span class="id" title="binder">l'</span></a> <a id="l'':508" class="idref" href="#l'':508"><span class="id" title="binder">l''</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:509" class="idref" href="#x:509"><span class="id" title="binder">x</span></a> <a id="y:510" class="idref" href="#y:510"><span class="id" title="binder">y</span></a> <a id="z:511" class="idref" href="#z:511"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:504"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:505"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:509"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:510"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:505"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:509"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:511"><span class="id" title="variable">z</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:506"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':507"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':508"><span class="id" title="variable">l''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2"><span class="id" title="inductive">OnOne2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:504"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:505"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:506"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':507"><span class="id" title="variable">l'</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:505"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:506"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':508"><span class="id" title="variable">l''</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OnOne2All_map2" class="idref" href="#OnOne2All_map2"><span class="id" title="lemma">OnOne2All_map2</span></a> {<a id="A:512" class="idref" href="#A:512"><span class="id" title="binder">A</span></a> <a id="B:513" class="idref" href="#B:513"><span class="id" title="binder">B</span></a> <a id="D:514" class="idref" href="#D:514"><span class="id" title="binder">D</span></a>} (<a id="P:515" class="idref" href="#P:515"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:514"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:513"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:513"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:516" class="idref" href="#f:516"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:513"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:512"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#D:514"><span class="id" title="variable">D</span></a>) (<a id="l:517" class="idref" href="#l:517"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:512"><span class="id" title="variable">A</span></a>) (<a id="l':518" class="idref" href="#l':518"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:513"><span class="id" title="variable">B</span></a>) (<a id="l'':519" class="idref" href="#l'':519"><span class="id" title="binder">l''</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:513"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:517"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':518"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:515"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:516"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':518"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:517"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':518"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':519"><span class="id" title="variable">l''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:520" class="idref" href="#x:520"><span class="id" title="binder">x</span></a> <a id="y:521" class="idref" href="#y:521"><span class="id" title="binder">y</span></a> <a id="z:522" class="idref" href="#z:522"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:515"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:516"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:521"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:520"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:521"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#z:522"><span class="id" title="variable">z</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:517"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':518"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l'':519"><span class="id" title="variable">l''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">l''</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">hlen</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl'</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="All2_nth_hyp" class="idref" href="#All2_nth_hyp"><span class="id" title="lemma">All2_nth_hyp</span></a> {<a id="A:523" class="idref" href="#A:523"><span class="id" title="binder">A</span></a> <a id="B:524" class="idref" href="#B:524"><span class="id" title="binder">B</span></a>} (<a id="R:525" class="idref" href="#R:525"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:523"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:524"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="l:526" class="idref" href="#l:526"><span class="id" title="binder">l</span></a> <a id="l':527" class="idref" href="#l':527"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:525"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:526"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':527"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:528" class="idref" href="#x:528"><span class="id" title="binder">x</span></a> <a id="y:529" class="idref" href="#y:529"><span class="id" title="binder">y</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="i:530" class="idref" href="#i:530"><span class="id" title="binder">i</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:526"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:530"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:528"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#R:525"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:528"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:529"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:526"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':527"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 0. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a> <span class="id" title="var">IHa</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? [<span class="id" title="var">i</span> <span class="id" title="var">hnth</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="65b6ce327dc821bd496b752222749f30" class="idref" href="#65b6ce327dc821bd496b752222749f30"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="262a2728b3f192f923a31ff3743c970e" class="idref" href="#262a2728b3f192f923a31ff3743c970e"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_wf_decl_pred" class="idref" href="#wf_wf_decl_pred"><span class="id" title="lemma">wf_wf_decl_pred</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#on_global_env"><span class="id" title="definition">Typing.on_global_env</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<span class="id" title="keyword">fun</span> <a id="3e2f818dd7642d8d5caf94575cf35ea3" class="idref" href="#3e2f818dd7642d8d5caf94575cf35ea3"><span class="id" title="binder">Σ</span></a> ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3e2f818dd7642d8d5caf94575cf35ea3"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">wf_wf_decl_pred</span> : <span class="id" title="keyword">wf</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="trans_red1" class="idref" href="#trans_red1"><span class="id" title="lemma">trans_red1</span></a> <a id="b76b45826229263d6eb1ba90734a978a" class="idref" href="#b76b45826229263d6eb1ba90734a978a"><span class="id" title="binder">Γ</span></a> <a id="T:535" class="idref" href="#T:535"><span class="id" title="binder">T</span></a> <a id="U:536" class="idref" href="#U:536"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b76b45826229263d6eb1ba90734a978a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:535"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#red1"><span class="id" title="inductive">ST.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b76b45826229263d6eb1ba90734a978a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:535"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:536"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b76b45826229263d6eb1ba90734a978a"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:535"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#52b145392dfbad12f334141f4035e258"><span class="id" title="abbreviation">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:536"><span class="id" title="variable">U</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#red1_ind_all"><span class="id" title="lemma">ST.red1_ind_all</span></a>; <span class="id" title="var">wf_inv</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">wf_inv</span> <span class="id" title="var">w</span>. <span class="id" title="var">inv</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1_mkApps_f"><span class="id" title="lemma">red1_mkApps_f</span></a>. <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">discriminate</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">isdecl</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">H0</span>)). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_nth_error"><span class="id" title="lemma">All2_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfbrs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>. 2:<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenbr</span> := (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">a</span>); <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lenbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_iota_red"><span class="id" title="lemma">trans_iota_red</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#nth_error_map2"><span class="id" title="lemma">nth_error_map2</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#map_branch"><span class="id" title="definition">Ast.map_branch</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_set_binder_name_context_assumptions"><span class="id" title="lemma">PCUICCases.map2_set_binder_name_context_assumptions</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> /<span class="id" title="var">bctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#case_branch_context_assumptions"><span class="id" title="lemma">case_branch_context_assumptions</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_fix"><span class="id" title="constructor">red_fix</span></a>. <span class="id" title="var">wf_inv</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_unfold_fix"><span class="id" title="lemma">trans_unfold_fix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_is_constructor"><span class="id" title="lemma">trans_is_constructor</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_mkApps_napp"><span class="id" title="lemma">WfAst.wf_mkApps_napp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfc</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#unfold_cofix_wf"><span class="id" title="lemma">unfold_cofix_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">w</span>). <span class="id" title="var">wf_inv</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_cofix_case"><span class="id" title="constructor">red_cofix_case</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_mkApps_napp"><span class="id" title="lemma">WfAst.wf_mkApps_napp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#unfold_cofix_wf"><span class="id" title="lemma">unfold_cofix_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span>). <span class="id" title="var">wf_inv</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_cofix_proj"><span class="id" title="constructor">red_cofix_proj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7cc76be42ca55806989f3575d3f1d4fa"><span class="id" title="variable">wfΣ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d6ae190eb0b8d8742aa8593c095cc94a"><span class="id" title="variable">wfΣ'</span></a> <span class="id" title="var">c</span> <span class="id" title="var">decl</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">wfpar</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">wfpar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl'</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">isdecl</span> <span class="id" title="var">isdecl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#inst_case_predicate_context_eq"><span class="id" title="lemma">inst_case_predicate_context_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hpctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#declared_inductive_wf_case_predicate_context"><span class="id" title="lemma">declared_inductive_wf_case_predicate_context</span></a> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl'</span> <span class="id" title="var">hci</span> <span class="id" title="var">hpctx</span> <span class="id" title="var">lenpar</span> <span class="id" title="var">wfpar</span> <span class="id" title="var">wfret</span> <span class="id" title="var">wfc</span> <span class="id" title="var">wfbrs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">isdecl</span> <span class="id" title="var">isdecl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#OnOne2_map2"><span class="id" title="lemma">OnOne2_map2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_nth_hyp"><span class="id" title="lemma">All2_nth_hyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branches_contexts"><span class="id" title="definition">Ast.case_branches_contexts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#OnOne2All_map2"><span class="id" title="lemma">OnOne2All_map2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfbrs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All_map_all"><span class="id" title="lemma">OnOne2All_map_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All_All2_mix_left"><span class="id" title="lemma">OnOne2All_All2_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cstr</span> [<span class="id" title="var">hnth</span> [<span class="id" title="var">b</span> <span class="id" title="var">wfbod</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#inst_case_branch_context_eq"><span class="id" title="lemma">inst_case_branch_context_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">b1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">Ast.case_branch_context</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Template.Ast.html#declared_constructor"><span class="id" title="definition">Ast.declared_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4473f27ac00902d98520fb57df7e978d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#declared_constructor_wf_case_branch_context"><span class="id" title="lemma">declared_constructor_wf_case_branch_context</span></a> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_red1"><span class="id" title="lemma">wf_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1_mkApps_f"><span class="id" title="lemma">red1_mkApps_f</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">w</span> <span class="id" title="var">n</span>. <span class="id" title="var">revert</span> <span class="id" title="var">M1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">r0</span> <span class="id" title="var">wfΓ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1_mkApps_f"><span class="id" title="lemma">red1_mkApps_f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#app_red_r"><span class="id" title="constructor">app_red_r</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">r0</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHX</span> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHX</span> (<a class="idref" href="MetaCoq.Template.Ast.html#tApp"><span class="id" title="constructor">Template.Ast.tApp</span></a> <span class="id" title="var">M1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">hd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>. <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">Hwf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#refine_red1_r"><span class="id" title="lemma">refine_red1_r</span></a>; [|<span class="id" title="tactic">constructor</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#fix_red_body"><span class="id" title="constructor">fix_red_body</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> → <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">b</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#All_mapi"><span class="id" title="lemma">All_mapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hwf</span>; <span class="id" title="tactic">generalize</span> 0 <span class="id" title="tactic">at</span> 2; <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_lift"><span class="id" title="lemma">WfAst.wf_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a>); [|<span class="id" title="tactic">apply</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="tactic">intros</span> [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.LiftSubst.html#lift0_p"><span class="id" title="lemma">LiftSubst.lift0_p</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#cofix_red_body"><span class="id" title="constructor">cofix_red_body</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dtype"><span class="id" title="lemma">map_dtype</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MetaCoq.Common.BasicAst.html#map_dbody"><span class="id" title="lemma">map_dbody</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> → <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">b</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#All_mapi"><span class="id" title="lemma">All_mapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hwf</span>; <span class="id" title="tactic">generalize</span> 0 <span class="id" title="tactic">at</span> 2; <span class="id" title="tactic">induction</span> <span class="id" title="var">mfix0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_lift"><span class="id" title="lemma">WfAst.wf_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">b</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a>); [|<span class="id" title="tactic">apply</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="tactic">intros</span> [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.LiftSubst.html#lift0_p"><span class="id" title="lemma">LiftSubst.lift0_p</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Trans_Global"><span class="id" title="section">Trans_Global</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_levels_trans" class="idref" href="#global_levels_trans"><span class="id" title="lemma">global_levels_trans</span></a> <a id="1292c76f70b666604bb3c8dda4fa9133" class="idref" href="#1292c76f70b666604bb3c8dda4fa9133"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1292c76f70b666604bb3c8dda4fa9133"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#global_levels"><span class="id" title="definition">Ast.global_levels</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1292c76f70b666604bb3c8dda4fa9133"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.universes"><span class="id" title="projection">Ast.Env.universes</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">declarations0</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_constraints_trans" class="idref" href="#global_constraints_trans"><span class="id" title="lemma">global_constraints_trans</span></a> <a id="57a52350b520ce3a7a8c3ea16662a0ef" class="idref" href="#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#global_constraints"><span class="id" title="definition">Ast.global_constraints</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">declarations0</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_ext_levels_trans" class="idref" href="#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a> <a id="d38c8b5330524bdcfe9e28dacba9f691" class="idref" href="#d38c8b5330524bdcfe9e28dacba9f691"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d38c8b5330524bdcfe9e28dacba9f691"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#global_ext_levels"><span class="id" title="definition">Ast.global_ext_levels</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d38c8b5330524bdcfe9e28dacba9f691"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#global_ext_levels"><span class="id" title="definition">Ast.global_ext_levels</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_levels_trans"><span class="id" title="lemma">global_levels_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_ext_constraints_trans" class="idref" href="#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a> <a id="47ac5bc1e7acb10c2d139e6e4aa30b23" class="idref" href="#47ac5bc1e7acb10c2d139e6e4aa30b23"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47ac5bc1e7acb10c2d139e6e4aa30b23"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#global_ext_constraints"><span class="id" title="definition">Ast.global_ext_constraints</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#47ac5bc1e7acb10c2d139e6e4aa30b23"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#global_ext_constraints"><span class="id" title="definition">Ast.global_ext_constraints</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_constraints_trans"><span class="id" title="lemma">global_constraints_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumul_gen" class="idref" href="#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> {<a id="cf:541" class="idref" href="#cf:541"><span class="id" title="binder">cf</span></a>} (<a id="5919d5c9ad9a2906ebccbeccb4852840" class="idref" href="#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="pb:543" class="idref" href="#pb:543"><span class="id" title="binder">pb</span></a> <a id="c2a8d38b8cc1dbac44acff60563ea6f6" class="idref" href="#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="binder">Γ</span></a> <a id="T:545" class="idref" href="#T:545"><span class="id" title="binder">T</span></a> <a id="U:546" class="idref" href="#U:546"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b7a634d000d7d8864a1eb3df1932a409" class="idref" href="#b7a634d000d7d8864a1eb3df1932a409"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b7a634d000d7d8864a1eb3df1932a409"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:545"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:546"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:543"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:545"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:546"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b7a634d000d7d8864a1eb3df1932a409"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b7a634d000d7d8864a1eb3df1932a409"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:545"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">&lt;=[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:543"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#33bb734dc2f1c35e2c18cb80e80b3dc2"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b7a634d000d7d8864a1eb3df1932a409"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#U:546"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 4.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_eq_term"><span class="id" title="lemma">trans_eq_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_leq_term"><span class="id" title="lemma">trans_leq_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumul_red_l"><span class="id" title="constructor">cumul_red_l</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_red1"><span class="id" title="lemma">trans_red1</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_red1"><span class="id" title="lemma">wf_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumul_red_r"><span class="id" title="constructor">cumul_red_r</span></a>; <span class="id" title="var">tea</span>. 2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_red1"><span class="id" title="lemma">trans_red1</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX2</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_red1"><span class="id" title="lemma">wf_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf_sigma"><span class="id" title="lemma">typing_wf_sigma</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Tlift_typing" class="idref" href="#Tlift_typing"><span class="id" title="definition">Tlift_typing</span></a> (<a id="P:548" class="idref" href="#P:548"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="6ac46cfe2e257733fd4495f7327e7fb3" class="idref" href="#6ac46cfe2e257733fd4495f7327e7fb3"><span class="id" title="binder">Σ</span></a> <a id="b8583e13b542bf56be3e4ddaff97f8a5" class="idref" href="#b8583e13b542bf56be3e4ddaff97f8a5"><span class="id" title="binder">Γ</span></a> <a id="t:551" class="idref" href="#t:551"><span class="id" title="binder">t</span></a> <a id="T:552" class="idref" href="#T:552"><span class="id" title="binder">T</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:552"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">T</span> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:548"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6ac46cfe2e257733fd4495f7327e7fb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b8583e13b542bf56be3e4ddaff97f8a5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:551"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:552"><span class="id" title="variable">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a> <a id="s:554" class="idref" href="#s:554"><span class="id" title="binder">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:548"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6ac46cfe2e257733fd4495f7327e7fb3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b8583e13b542bf56be3e4ddaff97f8a5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:551"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#tSort"><span class="id" title="constructor">Template.Ast.tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:554"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TTy_wf_local" class="idref" href="#TTy_wf_local"><span class="id" title="definition">TTy_wf_local</span></a> {<a id="cf:555" class="idref" href="#cf:555"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="1b28805641ce85512a5af863cf52ffb2" class="idref" href="#1b28805641ce85512a5af863cf52ffb2"><span class="id" title="binder">Σ</span></a> <a id="2305562ae6fdc2f47b19a4e5d98eecf3" class="idref" href="#2305562ae6fdc2f47b19a4e5d98eecf3"><span class="id" title="binder">Γ</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lift_typing"><span class="id" title="definition">ST.lift_typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b28805641ce85512a5af863cf52ffb2"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2305562ae6fdc2f47b19a4e5d98eecf3"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_local" class="idref" href="#trans_wf_local"><span class="id" title="lemma">trans_wf_local</span></a> {<a id="cf:558" class="idref" href="#cf:558"><span class="id" title="binder">cf</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="5fe24a18d7bab4e8d08fbc876154abf6" class="idref" href="#5fe24a18d7bab4e8d08fbc876154abf6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) (<a id="5d84a5b6a8b42249f2b3d2a101bbc5c9" class="idref" href="#5d84a5b6a8b42249f2b3d2a101bbc5c9"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) (<a id="05f126760e8a7386353ffacb9ff889d3" class="idref" href="#05f126760e8a7386353ffacb9ff889d3"><span class="id" title="binder">wfΓ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#TTy_wf_local"><span class="id" title="definition">TTy_wf_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fe24a18d7bab4e8d08fbc876154abf6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5d84a5b6a8b42249f2b3d2a101bbc5c9"><span class="id" title="variable">Γ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="P:567" class="idref" href="#P:567"><span class="id" title="binder">P</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="69d7cb2846176b7fb62d92054c50af74" class="idref" href="#69d7cb2846176b7fb62d92054c50af74"><span class="id" title="binder">Σ0</span></a> <a id="8fbe7fe971827a3eaa5ddb6c1d8a954e" class="idref" href="#8fbe7fe971827a3eaa5ddb6c1d8a954e"><span class="id" title="binder">Γ0</span></a> <span class="id" title="var">_</span> (<a id="t:564" class="idref" href="#t:564"><span class="id" title="binder">t</span></a> <a id="T:565" class="idref" href="#T:565"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="68199a1c39e333291082f177953739db" class="idref" href="#68199a1c39e333291082f177953739db"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#69d7cb2846176b7fb62d92054c50af74"><span class="id" title="variable">Σ0</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#68199a1c39e333291082f177953739db"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#69d7cb2846176b7fb62d92054c50af74"><span class="id" title="variable">Σ0</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#68199a1c39e333291082f177953739db"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8fbe7fe971827a3eaa5ddb6c1d8a954e"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#68199a1c39e333291082f177953739db"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:564"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#68199a1c39e333291082f177953739db"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:565"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="80ecd36bc3cd6d3d372ae96517270476" class="idref" href="#80ecd36bc3cd6d3d372ae96517270476"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fe24a18d7bab4e8d08fbc876154abf6"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#80ecd36bc3cd6d3d372ae96517270476"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_local_env_over"><span class="id" title="definition">ST.All_local_env_over</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:567"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fe24a18d7bab4e8d08fbc876154abf6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5d84a5b6a8b42249f2b3d2a101bbc5c9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#05f126760e8a7386353ffacb9ff889d3"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5fe24a18d7bab4e8d08fbc876154abf6"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#80ecd36bc3cd6d3d372ae96517270476"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5d84a5b6a8b42249f2b3d2a101bbc5c9"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_local_env" class="idref" href="#trans_wf_local_env"><span class="id" title="lemma">trans_wf_local_env</span></a> {<a id="cf:569" class="idref" href="#cf:569"><span class="id" title="binder">cf</span></a>} <a id="579beec8891f566c71bddf03a34f86d3" class="idref" href="#579beec8891f566c71bddf03a34f86d3"><span class="id" title="binder">Σ</span></a> <a id="731b455f2bcddc1514ccdefb8f1f801b" class="idref" href="#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#lift_typing"><span class="id" title="definition">ST.lift_typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="5b3ddd6e68998c86e9af24dc7bb291fb" class="idref" href="#5b3ddd6e68998c86e9af24dc7bb291fb"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="484fbf58b9d747eb57e88e3926c3533b" class="idref" href="#484fbf58b9d747eb57e88e3926c3533b"><span class="id" title="binder">Γ</span></a> (<a id="b:574" class="idref" href="#b:574"><span class="id" title="binder">b</span></a> <a id="ty:575" class="idref" href="#ty:575"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d2498d7a9a28591c7b619c8577a23dca" class="idref" href="#d2498d7a9a28591c7b619c8577a23dca"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5b3ddd6e68998c86e9af24dc7bb291fb"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5b3ddd6e68998c86e9af24dc7bb291fb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#484fbf58b9d747eb57e88e3926c3533b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:574"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ty:575"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5b3ddd6e68998c86e9af24dc7bb291fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2498d7a9a28591c7b619c8577a23dca"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#484fbf58b9d747eb57e88e3926c3533b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2498d7a9a28591c7b619c8577a23dca"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b:574"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d2498d7a9a28591c7b619c8577a23dca"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ty:575"><span class="id" title="variable">ty</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#579beec8891f566c71bddf03a34f86d3"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#579beec8891f566c71bddf03a34f86d3"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#579beec8891f566c71bddf03a34f86d3"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">t2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">trans_wf_local</span> : <span class="id" title="var">trans</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="fix_guard_trans" class="idref" href="#fix_guard_trans"><span class="id" title="axiom">fix_guard_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a8954b208b88509dc795f0d9b8701f0f" class="idref" href="#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="binder">Σ</span></a> <a id="36bed86aa260c0152d57ebd40fe0a5a4" class="idref" href="#36bed86aa260c0152d57ebd40fe0a5a4"><span class="id" title="binder">Γ</span></a> <a id="mfix:579" class="idref" href="#mfix:579"><span class="id" title="binder">mfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_guard"><span class="id" title="method">ST.fix_guard</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36bed86aa260c0152d57ebd40fe0a5a4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:579"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="96503601eb2e0e5dcfd08e747db1fc2d" class="idref" href="#96503601eb2e0e5dcfd08e747db1fc2d"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#fix_guard"><span class="id" title="definition">fix_guard</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#96503601eb2e0e5dcfd08e747db1fc2d"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#96503601eb2e0e5dcfd08e747db1fc2d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#36bed86aa260c0152d57ebd40fe0a5a4"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#96503601eb2e0e5dcfd08e747db1fc2d"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#96503601eb2e0e5dcfd08e747db1fc2d"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:579"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="cofix_guard_trans" class="idref" href="#cofix_guard_trans"><span class="id" title="axiom">cofix_guard_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b814e4f5efac49aff37fd1edb3c77f9f" class="idref" href="#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="binder">Σ</span></a> <a id="ab97ff23690d9061caccbd066f5a3c11" class="idref" href="#ab97ff23690d9061caccbd066f5a3c11"><span class="id" title="binder">Γ</span></a> <a id="mfix:584" class="idref" href="#mfix:584"><span class="id" title="binder">mfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cofix_guard"><span class="id" title="method">ST.cofix_guard</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab97ff23690d9061caccbd066f5a3c11"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:584"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="72c2dee12cd70e042362b1c3d7317ada" class="idref" href="#72c2dee12cd70e042362b1c3d7317ada"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#cofix_guard"><span class="id" title="definition">cofix_guard</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72c2dee12cd70e042362b1c3d7317ada"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72c2dee12cd70e042362b1c3d7317ada"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab97ff23690d9061caccbd066f5a3c11"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72c2dee12cd70e042362b1c3d7317ada"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#72c2dee12cd70e042362b1c3d7317ada"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:584"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="Swf_fix" class="idref" href="#Swf_fix"><span class="id" title="abbreviation">Swf_fix</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">def</span> := (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <span class="id" title="var">def</span>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">def</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decompose_app" class="idref" href="#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> {<a id="beb7f4f461a0b43436ca013d89056722" class="idref" href="#beb7f4f461a0b43436ca013d89056722"><span class="id" title="binder">Σ</span></a> <a id="t:588" class="idref" href="#t:588"><span class="id" title="binder">t</span></a> <a id="ind:589" class="idref" href="#ind:589"><span class="id" title="binder">ind</span></a> <a id="u:590" class="idref" href="#u:590"><span class="id" title="binder">u</span></a> <a id="l:591" class="idref" href="#l:591"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:588"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="9c8975b0499467f72f79a32b34b498cf" class="idref" href="#9c8975b0499467f72f79a32b34b498cf"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:588"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Template.Ast.html#tInd"><span class="id" title="constructor">Ast.tInd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:589"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:590"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:591"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="l':593" class="idref" href="#l':593"><span class="id" title="binder">l'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9c8975b0499467f72f79a32b34b498cf"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:588"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:589"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:590"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':593"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wft</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#decompose_app_inv"><span class="id" title="lemma">TypingWf.decompose_app_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wft</span> <span class="id" title="var">da</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> [<span class="id" title="var">napp</span> [<span class="id" title="var">eqsk</span> -&gt;]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>. <span class="id" title="tactic">intros</span> [= → -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">decompose_app_mkApps</span></a> //. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decompose_prod_assum_it_mkProd_or_LetIn" class="idref" href="#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">decompose_prod_assum_it_mkProd_or_LetIn</span></a> <a id="ctx:594" class="idref" href="#ctx:594"><span class="id" title="binder">ctx</span></a> <a id="t:595" class="idref" href="#t:595"><span class="id" title="binder">t</span></a> <a id="ctx':596" class="idref" href="#ctx':596"><span class="id" title="binder">ctx'</span></a> <a id="t':597" class="idref" href="#t':597"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:594"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:595"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx':596"><span class="id" title="variable">ctx'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t':597"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:594"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:595"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx':596"><span class="id" title="variable">ctx'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t':597"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctx</span>, <span class="id" title="var">ctx'</span>, <span class="id" title="var">t'</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= → &lt;-]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decompose_prod_assum" class="idref" href="#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> {<a id="67de764bffed55974836243df065a8d3" class="idref" href="#67de764bffed55974836243df065a8d3"><span class="id" title="binder">Σ</span></a> <a id="8cfb699511c8c51130e3fa8999dc00e8" class="idref" href="#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="binder">Σ'</span></a>} <a id="ctx:600" class="idref" href="#ctx:600"><span class="id" title="binder">ctx</span></a> <a id="t:601" class="idref" href="#t:601"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#67de764bffed55974836243df065a8d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:601"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="ctx':602" class="idref" href="#ctx':602"><span class="id" title="binder">ctx'</span></a>, <a id="t':603" class="idref" href="#t':603"><span class="id" title="binder">t'</span></a>) := <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:600"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:601"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx:600"><span class="id" title="variable">ctx</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:601"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ctx':602"><span class="id" title="variable">ctx'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8cfb699511c8c51130e3fa8999dc00e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t':603"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wft</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">wft</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctx</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= &lt;- &lt;-]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHwft0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHwft1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_nonempty"><span class="id" title="lemma">mkApps_nonempty</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#TransLookup.lookup_inductive"><span class="id" title="definition">TransLookup.lookup_inductive</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span>]| ]; <span class="id" title="var">cbn</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_it_mkProd_or_LetIn" class="idref" href="#wf_it_mkProd_or_LetIn"><span class="id" title="lemma">wf_it_mkProd_or_LetIn</span></a> <a id="ab1cf764bd18f97c0645fa879d549c30" class="idref" href="#ab1cf764bd18f97c0645fa879d549c30"><span class="id" title="binder">Σ</span></a> <a id="7afade82b3bdb844c589a7b16382fd32" class="idref" href="#7afade82b3bdb844c589a7b16382fd32"><span class="id" title="binder">Γ</span></a> <a id="t:606" class="idref" href="#t:606"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab1cf764bd18f97c0645fa879d549c30"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7afade82b3bdb844c589a7b16382fd32"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:606"><span class="id" title="variable">t</span></a>) <a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab1cf764bd18f97c0645fa879d549c30"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7afade82b3bdb844c589a7b16382fd32"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ab1cf764bd18f97c0645fa879d549c30"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:606"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.mkProd_or_LetIn"><span class="id" title="definition">Ast.Env.mkProd_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span> ⇒ /=. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w1</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span>|];<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfty</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_one_fix" class="idref" href="#trans_check_one_fix"><span class="id" title="lemma">trans_check_one_fix</span></a> <a id="2e3abf08778dfed6e536c5791e4a8305" class="idref" href="#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="binder">Σ</span></a> <a id="mfix:608" class="idref" href="#mfix:608"><span class="id" title="binder">mfix</span></a> <a id="ind:609" class="idref" href="#ind:609"><span class="id" title="binder">ind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="5ed484a056925d9554a4f9fa1e6bd39a" class="idref" href="#5ed484a056925d9554a4f9fa1e6bd39a"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Swf_fix"><span class="id" title="abbreviation">Swf_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:608"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:608"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:609"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5ed484a056925d9554a4f9fa1e6bd39a"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5ed484a056925d9554a4f9fa1e6bd39a"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:608"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:609"><span class="id" title="variable">ind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">mfix</span> ⇒ [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">arg</span> <span class="id" title="var">rarg</span>] /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wfarg</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">wfty</span>) ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">p</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">dp</span> ⇒ /= // →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">List.map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [| <span class="id" title="var">l'</span> <span class="id" title="var">eq</span>] := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">decompose_prod_assum_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_it_mkProd_or_LetIn"><span class="id" title="lemma">wf_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfctx</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">hnth</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hnth</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> ⇒ /=. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_map_option_out_map_Some_spec" class="idref" href="#All_map_option_out_map_Some_spec"><span class="id" title="lemma">All_map_option_out_map_Some_spec</span></a> {<a id="A:611" class="idref" href="#A:611"><span class="id" title="binder">A</span></a> <a id="B:612" class="idref" href="#B:612"><span class="id" title="binder">B</span></a>} {<a id="f:613" class="idref" href="#f:613"><span class="id" title="binder">f</span></a> <a id="g:614" class="idref" href="#g:614"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:611"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:612"><span class="id" title="variable">B</span></a>} {<a id="P:615" class="idref" href="#P:615"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:611"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="l:616" class="idref" href="#l:616"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:617" class="idref" href="#x:617"><span class="id" title="binder">x</span></a> <a id="t:618" class="idref" href="#t:618"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:615"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:617"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:613"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:617"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:618"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:614"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:617"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:618"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:615"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:616"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:619" class="idref" href="#t:619"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:613"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:616"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:619"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:614"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:616"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:619"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Hfg</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span>⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) ⇒ [<span class="id" title="var">b</span>|] //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E'</span> : <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ⇒ [<span class="id" title="var">b'</span>|] //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">t</span> [= &lt;-]. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">E'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_option_out_check_one_fix" class="idref" href="#map_option_out_check_one_fix"><span class="id" title="lemma">map_option_out_check_one_fix</span></a> {<a id="6aa8a92b884dca2fee5f96c14df818fd" class="idref" href="#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="binder">Σ</span></a> <a id="mfix:621" class="idref" href="#mfix:621"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="2fd632baf97fa7c4c9707dcd602f9ef9" class="idref" href="#2fd632baf97fa7c4c9707dcd602f9ef9"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:623" class="idref" href="#def:623"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:623"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6aa8a92b884dca2fee5f96c14df818fd"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:623"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:621"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:624" class="idref" href="#l:624"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:625" class="idref" href="#x:625"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:625"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:621"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:624"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:626" class="idref" href="#x:626"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2fd632baf97fa7c4c9707dcd602f9ef9"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2fd632baf97fa7c4c9707dcd602f9ef9"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:626"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:621"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:624"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_map_option_out_map_Some_spec"><span class="id" title="lemma">All_map_option_out_map_Some_spec</span></a> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_one_fix"><span class="id" title="lemma">trans_check_one_fix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_one_cofix" class="idref" href="#trans_check_one_cofix"><span class="id" title="lemma">trans_check_one_cofix</span></a> <a id="7e2f00d9b830ec01a1a8a1e8e08b2213" class="idref" href="#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="binder">Σ</span></a> <a id="mfix:628" class="idref" href="#mfix:628"><span class="id" title="binder">mfix</span></a> <a id="ind:629" class="idref" href="#ind:629"><span class="id" title="binder">ind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="018abad8c35c0c88a0518118d95db315" class="idref" href="#018abad8c35c0c88a0518118d95db315"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Swf_fix"><span class="id" title="abbreviation">Swf_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:628"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:628"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:629"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#018abad8c35c0c88a0518118d95db315"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#018abad8c35c0c88a0518118d95db315"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:628"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:629"><span class="id" title="variable">ind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">mfix</span> ⇒ [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">arg</span> <span class="id" title="var">rarg</span>] /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wfarg</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">wfty</span>) ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">p</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">dp</span> ⇒ /= // →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [| <span class="id" title="var">l'</span> -&gt;] := (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) <span class="id" title="var">_</span> <span class="id" title="var">da</span>) ⇒ //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#decompose_prod_assum_it_mkProd_or_LetIn"><span class="id" title="lemma">decompose_prod_assum_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">dp</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_it_mkProd_or_LetIn"><span class="id" title="lemma">wf_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfp</span>]. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_option_out_check_one_cofix" class="idref" href="#map_option_out_check_one_cofix"><span class="id" title="lemma">map_option_out_check_one_cofix</span></a> {<a id="64c1cd74a1667d51fb71e060b9db6f31" class="idref" href="#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="binder">Σ</span></a> <a id="mfix:632" class="idref" href="#mfix:632"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="13c7af8af228d22b7b09c22a1d224516" class="idref" href="#13c7af8af228d22b7b09c22a1d224516"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:634" class="idref" href="#def:634"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:634"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#64c1cd74a1667d51fb71e060b9db6f31"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:634"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:632"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:635" class="idref" href="#l:635"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:636" class="idref" href="#x:636"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:636"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:632"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:635"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:637" class="idref" href="#x:637"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#13c7af8af228d22b7b09c22a1d224516"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#13c7af8af228d22b7b09c22a1d224516"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:637"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:632"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:635"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_map_option_out_map_Some_spec"><span class="id" title="lemma">All_map_option_out_map_Some_spec</span></a> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_one_cofix"><span class="id" title="lemma">trans_check_one_cofix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_rec_kind" class="idref" href="#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a> {<a id="cf:638" class="idref" href="#cf:638"><span class="id" title="binder">cf</span></a>} {<a id="c29f9df98f134fd5d6aa43163587edcf" class="idref" href="#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="binder">Σ</span></a>} {<a id="e809986b91e4e804f3e8c49aa2b32def" class="idref" href="#e809986b91e4e804f3e8c49aa2b32def"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a>} {<a id="a0ca5f514787f81c791e530828bd3c49" class="idref" href="#a0ca5f514787f81c791e530828bd3c49"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a>)} {<a id="k:642" class="idref" href="#k:642"><span class="id" title="binder">k</span></a> <a id="f:643" class="idref" href="#f:643"><span class="id" title="binder">f</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_recursivity_kind"><span class="id" title="definition">ST.check_recursivity_kind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:642"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:643"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c29f9df98f134fd5d6aa43163587edcf"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:642"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:643"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_recursivity_kind"><span class="id" title="definition">ST.check_recursivity_kind</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_recursivity_kind"><span class="id" title="definition">check_recursivity_kind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_fixpoint" class="idref" href="#trans_wf_fixpoint"><span class="id" title="lemma">trans_wf_fixpoint</span></a> {<a id="cf:644" class="idref" href="#cf:644"><span class="id" title="binder">cf</span></a>} {<a id="ac375a1e2af34a19c87e0ed37c57a845" class="idref" href="#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="binder">Σ</span></a>} {<a id="e276d6c2a267decc8940378280cf9f10" class="idref" href="#e276d6c2a267decc8940378280cf9f10"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a>} {<a id="mfix:647" class="idref" href="#mfix:647"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f2a2bcc00f2795f8a7241551ce22ff3a" class="idref" href="#f2a2bcc00f2795f8a7241551ce22ff3a"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f2a2bcc00f2795f8a7241551ce22ff3a"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:649" class="idref" href="#def:649"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:649"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:649"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:647"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_fixpoint"><span class="id" title="definition">ST.wf_fixpoint</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:647"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ac375a1e2af34a19c87e0ed37c57a845"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f2a2bcc00f2795f8a7241551ce22ff3a"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f2a2bcc00f2795f8a7241551ce22ff3a"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:647"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_fixpoint"><span class="id" title="definition">ST.wf_fixpoint</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint"><span class="id" title="definition">wf_fixpoint</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_fixpoint_gen"><span class="id" title="definition">wf_fixpoint_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>[] <span class="id" title="var">hf</span> <span class="id" title="var">ho</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">ho</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">x</span>) ⇒ //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ho</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">ma</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_option_out_check_one_fix"><span class="id" title="lemma">map_option_out_check_one_fix</span></a> <span class="id" title="keyword">wf</span> <span class="id" title="var">_</span> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_cofixpoint" class="idref" href="#trans_wf_cofixpoint"><span class="id" title="lemma">trans_wf_cofixpoint</span></a> {<a id="cf:650" class="idref" href="#cf:650"><span class="id" title="binder">cf</span></a>} {<a id="46fecb2ec57cf64997ceb0f7e8ef40e0" class="idref" href="#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="binder">Σ</span></a>} {<a id="0e35099c3c2c5f7bdd203f619fda6509" class="idref" href="#0e35099c3c2c5f7bdd203f619fda6509"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a>} {<a id="mfix:653" class="idref" href="#mfix:653"><span class="id" title="binder">mfix</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d849ae09ecec597e1b14a8d634b3475a" class="idref" href="#d849ae09ecec597e1b14a8d634b3475a"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d849ae09ecec597e1b14a8d634b3475a"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="def:655" class="idref" href="#def:655"><span class="id" title="binder">def</span></a> ⇒ (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:655"><span class="id" title="variable">def</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#def:655"><span class="id" title="variable">def</span></a>))) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:653"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_cofixpoint"><span class="id" title="definition">ST.wf_cofixpoint</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:653"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46fecb2ec57cf64997ceb0f7e8ef40e0"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d849ae09ecec597e1b14a8d634b3475a"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d849ae09ecec597e1b14a8d634b3475a"><span class="id" title="variable">Σ'</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mfix:653"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_cofixpoint"><span class="id" title="definition">ST.wf_cofixpoint</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint"><span class="id" title="definition">wf_cofixpoint</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_cofixpoint_gen"><span class="id" title="definition">wf_cofixpoint_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">ma</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_option_out_check_one_cofix"><span class="id" title="lemma">map_option_out_check_one_cofix</span></a> <span class="id" title="keyword">wf</span> <span class="id" title="var">_</span> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_decl_universes" class="idref" href="#trans_global_decl_universes"><span class="id" title="lemma">trans_global_decl_universes</span></a> <a id="9abfe4f5a6d3e6cadcdf01a8fbbad144" class="idref" href="#9abfe4f5a6d3e6cadcdf01a8fbbad144"><span class="id" title="binder">Σ</span></a> <a id="d:657" class="idref" href="#d:657"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:657"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#9abfe4f5a6d3e6cadcdf01a8fbbad144"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:657"><span class="id" title="variable">d</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_consistent_instance_ext" class="idref" href="#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> {<a id="cf:658" class="idref" href="#cf:658"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="84e2bef3c125c4f4ae5623734bf4d559" class="idref" href="#84e2bef3c125c4f4ae5623734bf4d559"><span class="id" title="binder">Σ</span></a> <a id="d:660" class="idref" href="#d:660"><span class="id" title="binder">d</span></a> <a id="u:661" class="idref" href="#u:661"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="4a09b5a6b78546c46cc7ffaf73c81011" class="idref" href="#4a09b5a6b78546c46cc7ffaf73c81011"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#84e2bef3c125c4f4ae5623734bf4d559"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#84e2bef3c125c4f4ae5623734bf4d559"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#universes_decl_of_decl"><span class="id" title="definition">Ast.universes_decl_of_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:660"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:661"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4a09b5a6b78546c46cc7ffaf73c81011"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4a09b5a6b78546c46cc7ffaf73c81011"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:660"><span class="id" title="variable">d</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:661"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_global_decl_universes"><span class="id" title="lemma">trans_global_decl_universes</span></a> <span class="id" title="var">Σ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_annots_expand_lets_ctx" class="idref" href="#eq_annots_expand_lets_ctx"><span class="id" title="lemma">eq_annots_expand_lets_ctx</span></a> (<a id="3a2417370f765cb713f6602db62c31c5" class="idref" href="#3a2417370f765cb713f6602db62c31c5"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="af420909ac2e31eafca8b73a433ec09b" class="idref" href="#af420909ac2e31eafca8b73a433ec09b"><span class="id" title="binder">Δ</span></a> <a id="934a40dbfd0282eacf2ac428ad48b930" class="idref" href="#934a40dbfd0282eacf2ac428ad48b930"><span class="id" title="binder">Δ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3a2417370f765cb713f6602db62c31c5"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#af420909ac2e31eafca8b73a433ec09b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#934a40dbfd0282eacf2ac428ad48b930"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3a2417370f765cb713f6602db62c31c5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#934a40dbfd0282eacf2ac428ad48b930"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots_subst_context"><span class="id" title="lemma">eq_annots_subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots_lift_context"><span class="id" title="lemma">eq_annots_lift_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_annots_ind_predicate_context" class="idref" href="#eq_annots_ind_predicate_context"><span class="id" title="lemma">eq_annots_ind_predicate_context</span></a> <a id="ind:666" class="idref" href="#ind:666"><span class="id" title="binder">ind</span></a> <a id="mdecl:667" class="idref" href="#mdecl:667"><span class="id" title="binder">mdecl</span></a> <a id="idecl:668" class="idref" href="#idecl:668"><span class="id" title="binder">idecl</span></a> (<a id="pctx:669" class="idref" href="#pctx:669"><span class="id" title="binder">pctx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:669"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:666"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:667"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:668"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:669"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#idecl_binder"><span class="id" title="definition">idecl_binder</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:668"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:668"><span class="id" title="variable">idecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">eq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_expand_lets_ctx"><span class="id" title="lemma">eq_annots_expand_lets_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_annots_cstr_branch_context" class="idref" href="#eq_annots_cstr_branch_context"><span class="id" title="lemma">eq_annots_cstr_branch_context</span></a> <a id="ind:670" class="idref" href="#ind:670"><span class="id" title="binder">ind</span></a> <a id="mdecl:671" class="idref" href="#mdecl:671"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:672" class="idref" href="#cdecl:672"><span class="id" title="binder">cdecl</span></a> (<a id="pctx:673" class="idref" href="#pctx:673"><span class="id" title="binder">pctx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:673"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:670"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:671"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:672"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots"><span class="id" title="abbreviation">eq_annots</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pctx:673"><span class="id" title="variable">pctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:672"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_annots_subst_context"><span class="id" title="lemma">eq_annots_subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_expand_lets_ctx"><span class="id" title="lemma">eq_annots_expand_lets_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICContexts.html#"><span class="id" title="library">PCUICContexts</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#"><span class="id" title="library">PCUICInductives</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#"><span class="id" title="library">PCUICInductiveInversion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isType_mkApps_Ind_inv_spine" class="idref" href="#isType_mkApps_Ind_inv_spine"><span class="id" title="lemma">isType_mkApps_Ind_inv_spine</span></a> {<a id="cf:674" class="idref" href="#cf:674"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="c250c316ea0e364638da17fedd49c53e" class="idref" href="#c250c316ea0e364638da17fedd49c53e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="95d90ade59be5578145c7b7c0e9e6ad5" class="idref" href="#95d90ade59be5578145c7b7c0e9e6ad5"><span class="id" title="binder">Γ</span></a> <a id="ind:677" class="idref" href="#ind:677"><span class="id" title="binder">ind</span></a> <a id="u:678" class="idref" href="#u:678"><span class="id" title="binder">u</span></a> <a id="args:679" class="idref" href="#args:679"><span class="id" title="binder">args</span></a>} {<a id="ae1ac5e4c53cfc98fed343d23733de61" class="idref" href="#ae1ac5e4c53cfc98fed343d23733de61"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a>} {<a id="mdecl:681" class="idref" href="#mdecl:681"><span class="id" title="binder">mdecl</span></a> <a id="idecl:682" class="idref" href="#idecl:682"><span class="id" title="binder">idecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:677"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:681"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:682"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95d90ade59be5578145c7b7c0e9e6ad5"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:677"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:678"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:679"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s:683" class="idref" href="#s:683"><span class="id" title="binder">s</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#spine_subst"><span class="id" title="record">PCUICSpine.spine_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95d90ade59be5578145c7b7c0e9e6ad5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#args:679"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:683"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:681"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:682"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:678"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:681"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:678"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">isdecl</span> <span class="id" title="var">isty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="var">isty</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#invert_type_mkApps_ind"><span class="id" title="lemma">invert_type_mkApps_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sp</span> <span class="id" title="var">cu</span>]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_arity_eq"><span class="id" title="projection">ind_arity_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#oib"><span class="id" title="definition">PCUICInductives.oib</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#arity_typing_spine"><span class="id" title="lemma">PCUICSpine.arity_typing_spine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hle</span> <span class="id" title="var">hs</span> [<span class="id" title="var">insts</span> <span class="id" title="var">sp</span>]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">insts</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app_ctx"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_app_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="simpl_type_Case" class="idref" href="#simpl_type_Case"><span class="id" title="lemma">simpl_type_Case</span></a> {<a id="H:684" class="idref" href="#H:684"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="da38a91d8a5eb5ed779b3b74c424b75a" class="idref" href="#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="611e2a4713222bd9a6ad5e15d10200e0" class="idref" href="#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="binder">Γ</span></a>} {<a id="ci:687" class="idref" href="#ci:687"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>} {<a id="p:688" class="idref" href="#p:688"><span class="id" title="binder">p</span></a> <a id="c:689" class="idref" href="#c:689"><span class="id" title="binder">c</span></a> <a id="brs:690" class="idref" href="#brs:690"><span class="id" title="binder">brs</span></a> <a id="ps:691" class="idref" href="#ps:691"><span class="id" title="binder">ps</span></a> <a id="mdecl:692" class="idref" href="#mdecl:692"><span class="id" title="binder">mdecl</span></a> <a id="idecl:693" class="idref" href="#idecl:693"><span class="id" title="binder">idecl</span></a> <a id="indices:694" class="idref" href="#indices:694"><span class="id" title="binder">indices</span></a>} {<a id="fc16cb372e814a8f7f80619da8ed83f3" class="idref" href="#fc16cb372e814a8f7f80619da8ed83f3"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="predctx:696" class="idref" href="#predctx:696"><span class="id" title="binder">predctx</span></a> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#predctx:696"><span class="id" title="variable">predctx</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#predctx:696"><span class="id" title="variable">predctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ps:691"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#is_allowed_elimination"><span class="id" title="definition">is_allowed_elimination</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ps:691"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c:689"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#indices:694"><span class="id" title="variable">indices</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isCoFinite"><span class="id" title="definition">isCoFinite</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:697" class="idref" href="#ptm:697"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#predctx:696"><span class="id" title="variable">predctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brs:690"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="i:698" class="idref" href="#i:698"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="cdecl:699" class="idref" href="#cdecl:699"><span class="id" title="binder">cdecl</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a>) (<a id="br:700" class="idref" href="#br:700"><span class="id" title="binder">br</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:700"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:699"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> <a id="brctxty:701" class="idref" href="#brctxty:701"><span class="id" title="binder">brctxty</span></a> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:692"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:700"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm:697"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:698"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:699"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:701"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:700"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:701"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:701"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:701"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ps:691"><span class="id" title="variable">ps</span></a><a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>) 0<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:693"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brs:690"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#da38a91d8a5eb5ed779b3b74c424b75a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#611e2a4713222bd9a6ad5e15d10200e0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:687"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:688"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c:689"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brs:690"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm:697"><span class="id" title="variable">ptm</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#indices:694"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c:689"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hty</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#isType_mkApps_Ind_inv_spine"><span class="id" title="lemma">isType_mkApps_Ind_inv_spine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inst</span> [<span class="id" title="var">sp</span> <span class="id" title="var">cu</span>]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Case"><span class="id" title="constructor">type_Case</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#spine_subst_ctx_inst"><span class="id" title="lemma">PCUICSpine.spine_subst_ctx_inst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumulSpec" class="idref" href="#trans_cumulSpec"><span class="id" title="lemma">trans_cumulSpec</span></a> {<a id="cf:702" class="idref" href="#cf:702"><span class="id" title="binder">cf</span></a>} {<a id="6464385177d468cafa03d19ee7ac94a0" class="idref" href="#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} {<a id="bf102d5649068dc3ce240aeaf992bb28" class="idref" href="#bf102d5649068dc3ce240aeaf992bb28"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a>} {<a id="pb:705" class="idref" href="#pb:705"><span class="id" title="binder">pb</span></a> <a id="7a987154be5fe14797854860d2a7c48b" class="idref" href="#7a987154be5fe14797854860d2a7c48b"><span class="id" title="binder">Γ</span></a> <a id="T:707" class="idref" href="#T:707"><span class="id" title="binder">T</span></a> <a id="T':708" class="idref" href="#T':708"><span class="id" title="binder">T'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="6226a8a34bae3264923aeebc1e943b5d" class="idref" href="#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a987154be5fe14797854860d2a7c48b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:707"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':708"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a987154be5fe14797854860d2a7c48b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:705"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:707"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':708"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a987154be5fe14797854860d2a7c48b"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a987154be5fe14797854860d2a7c48b"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:707"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a987154be5fe14797854860d2a7c48b"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':708"><span class="id" title="variable">T'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#7a987154be5fe14797854860d2a7c48b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:707"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">≤</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:705"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6226a8a34bae3264923aeebc1e943b5d"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':708"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">wfT</span> <span class="id" title="var">wfT'</span> <span class="id" title="var">cum</span> <span class="id" title="var">clΓ</span> <span class="id" title="var">clT</span> <span class="id" title="var">clT'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<span class="id" title="var">pb</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">isType_is_open_term</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wf_trans_env" class="idref" href="#wf_trans_env"><span class="id" title="instance">wf_trans_env</span></a> {<a id="cf:710" class="idref" href="#cf:710"><span class="id" title="binder">cf</span></a>} {<a id="e6790599e86a37eda889b8c73e8036ee" class="idref" href="#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map"><span class="id" title="definition">global_env_ext_map</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_map"><span class="id" title="definition">global_env_ext_map_global_env_map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e6790599e86a37eda889b8c73e8036ee"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">wf_trans_env</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumulSpec_typed" class="idref" href="#trans_cumulSpec_typed"><span class="id" title="lemma">trans_cumulSpec_typed</span></a> {<a id="cf:712" class="idref" href="#cf:712"><span class="id" title="binder">cf</span></a>} {<a id="ffd2426b149d848e0c088bbfa6eb4ad5" class="idref" href="#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} {<a id="36cfc3ebbdc4db34695e4ab9ec28183c" class="idref" href="#36cfc3ebbdc4db34695e4ab9ec28183c"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="variable">Σ</span></a>} {<a id="pb:715" class="idref" href="#pb:715"><span class="id" title="binder">pb</span></a> <a id="6b9d2e29a6b4f7616763a099fd6d8c16" class="idref" href="#6b9d2e29a6b4f7616763a099fd6d8c16"><span class="id" title="binder">Γ</span></a> <a id="T:717" class="idref" href="#T:717"><span class="id" title="binder">T</span></a> <a id="T':718" class="idref" href="#T':718"><span class="id" title="binder">T'</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="95672597a2678a9763c2fa4383fae863" class="idref" href="#95672597a2678a9763c2fa4383fae863"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6b9d2e29a6b4f7616763a099fd6d8c16"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:717"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':718"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_gen"><span class="id" title="inductive">ST.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ffd2426b149d848e0c088bbfa6eb4ad5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6b9d2e29a6b4f7616763a099fd6d8c16"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:715"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:717"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':718"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6b9d2e29a6b4f7616763a099fd6d8c16"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:717"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6b9d2e29a6b4f7616763a099fd6d8c16"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':718"><span class="id" title="variable">T'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6b9d2e29a6b4f7616763a099fd6d8c16"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:717"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">≤</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#pb:715"><span class="id" title="variable">pb</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#1d3dfa739ee50d540ac2196d4ac26646"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#95672597a2678a9763c2fa4383fae863"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T':718"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">wfT</span> <span class="id" title="var">wfT'</span> <span class="id" title="var">cum</span> <span class="id" title="var">ist</span> <span class="id" title="var">ist'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<span class="id" title="var">pb</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSubstitution.html#isType_wf_local"><span class="id" title="lemma">isType_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ist</span>; <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_case_branch_type" class="idref" href="#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> <a id="5310f29024021524f8a8b0f60b98d64a" class="idref" href="#5310f29024021524f8a8b0f60b98d64a"><span class="id" title="binder">Σ</span></a> (<a id="ci:721" class="idref" href="#ci:721"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:722" class="idref" href="#mdecl:722"><span class="id" title="binder">mdecl</span></a> <a id="idecl:723" class="idref" href="#idecl:723"><span class="id" title="binder">idecl</span></a> <a id="cdecl:724" class="idref" href="#cdecl:724"><span class="id" title="binder">cdecl</span></a> <a id="i:725" class="idref" href="#i:725"><span class="id" title="binder">i</span></a> <a id="p:726" class="idref" href="#p:726"><span class="id" title="binder">p</span></a> <a id="br:727" class="idref" href="#br:727"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="46499ef41edd0b52320a25470ed296ec" class="idref" href="#46499ef41edd0b52320a25470ed296ec"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5310f29024021524f8a8b0f60b98d64a"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bctx:729" class="idref" href="#bctx:729"><span class="id" title="binder">bctx</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:722"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:723"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:726"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':730" class="idref" href="#p':730"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#map_predicate"><span class="id" title="definition">Ast.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:726"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':731" class="idref" href="#mdecl':731"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:722"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':732" class="idref" href="#idecl':732"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:723"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':733" class="idref" href="#cdecl':733"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:724"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':734" class="idref" href="#p':734"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':731"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':732"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':730"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pparams"><span class="id" title="projection">Ast.pparams</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':730"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#puinst"><span class="id" title="projection">Ast.puinst</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':730"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':730"><span class="id" title="variable">p'</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':735" class="idref" href="#br':735"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':731"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':733"><span class="id" title="variable">cdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:727"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:727"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bbody"><span class="id" title="projection">Ast.bbody</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:736" class="idref" href="#ptm:736"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkLambda_or_LetIn"><span class="id" title="definition">Ast.Env.it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bctx:729"><span class="id" title="variable">bctx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:726"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm':737" class="idref" href="#ptm':737"><span class="id" title="binder">ptm'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':731"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':732"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':734"><span class="id" title="variable">p'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':734"><span class="id" title="variable">p'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:726"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:722"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:723"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf_nactx"><span class="id" title="abbreviation">WfAst.wf_nactx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:727"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:722"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:724"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brctxty:738" class="idref" href="#brctxty:738"><span class="id" title="binder">brctxty</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:722"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p:726"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm:736"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:725"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:724"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br:727"><span class="id" title="variable">br</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brctxty':739" class="idref" href="#brctxty':739"><span class="id" title="binder">brctxty'</span></a> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ci:721"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':731"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':732"><span class="id" title="variable">idecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#p':734"><span class="id" title="variable">p'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#br':735"><span class="id" title="variable">br'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ptm':737"><span class="id" title="variable">ptm'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:725"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':733"><span class="id" title="variable">cdecl'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty':739"><span class="id" title="variable">brctxty'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:738"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty':739"><span class="id" title="variable">brctxty'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#46499ef41edd0b52320a25470ed296ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#brctxty:738"><span class="id" title="variable">brctxty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctxty'</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_branch_context"><span class="id" title="lemma">trans_case_branch_context</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span>) //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctxty'</span> /<span class="id" title="var">brctxty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type_gen"><span class="id" title="definition">case_branch_type_gen</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type_gen"><span class="id" title="definition">Ast.case_branch_type_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">iota</span> <span class="id" title="keyword">delta</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">cdecl'</span>; <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm'</span> /<span class="id" title="var">ptm</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a> // /<span class="id" title="var">p'0</span> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">bctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)](<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">p</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_judgment"><span class="id" title="definition">lift_judgment</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_universe" class="idref" href="#trans_wf_universe"><span class="id" title="lemma">trans_wf_universe</span></a> <a id="f80422d592db83ec49d473650033120e" class="idref" href="#f80422d592db83ec49d473650033120e"><span class="id" title="binder">Σ</span></a> <a id="u:741" class="idref" href="#u:741"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_universe"><span class="id" title="definition">S.wf_universe</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f80422d592db83ec49d473650033120e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:741"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f80422d592db83ec49d473650033120e"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:741"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_universe"><span class="id" title="definition">S.wf_universe</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_env_retroknowledge" class="idref" href="#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> <a id="53ea1e73ec7ae29a04711075ff6d214c" class="idref" href="#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#retroknowledge"><span class="id" title="projection">S.Env.retroknowledge</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#53ea1e73ec7ae29a04711075ff6d214c"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">decls</span> <span class="id" title="var">retro</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">trans_wf_universe</span> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Local Hint Transparent</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Local Hint Transparent</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Variables</span> <span class="id" title="keyword">Transparent</span> : <span class="id" title="var">trans</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">trans</span> := <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
<span class="comment">(*&nbsp;bug&nbsp;in&nbsp;Coq,&nbsp;typeclasses&nbsp;eauto&nbsp;tries&nbsp;exact&nbsp;with&nbsp;a&nbsp;quantified&nbsp;hypothesis&nbsp;starting&nbsp;with&nbsp;a&nbsp;let-in&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_let</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">progress</span> (<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">zeta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Local Hint Extern</span> 4 ⇒ <span class="id" title="var">simpl_let</span> : <span class="id" title="var">trans</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="template_to_pcuic" class="idref" href="#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a> {<a id="cf:743" class="idref" href="#cf:743"><span class="id" title="binder">cf</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_prop"><span class="id" title="definition">ST.env_prop</span></a> (<span class="id" title="keyword">fun</span> <a id="238d3fd9e27f412842defcee973a00d6" class="idref" href="#238d3fd9e27f412842defcee973a00d6"><span class="id" title="binder">Σ</span></a> <a id="c60444a5e228f963f90ba35122d3cf2b" class="idref" href="#c60444a5e228f963f90ba35122d3cf2b"><span class="id" title="binder">Γ</span></a> <a id="t:749" class="idref" href="#t:749"><span class="id" title="binder">t</span></a> <a id="T:750" class="idref" href="#T:750"><span class="id" title="binder">T</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="287d20fd044d96f4ce01bc717f8e9366" class="idref" href="#287d20fd044d96f4ce01bc717f8e9366"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#238d3fd9e27f412842defcee973a00d6"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#287d20fd044d96f4ce01bc717f8e9366"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#287d20fd044d96f4ce01bc717f8e9366"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#287d20fd044d96f4ce01bc717f8e9366"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#c60444a5e228f963f90ba35122d3cf2b"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#287d20fd044d96f4ce01bc717f8e9366"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:749"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#287d20fd044d96f4ce01bc717f8e9366"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:750"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="2cd1c953268b78a7304960b2229558ac" class="idref" href="#2cd1c953268b78a7304960b2229558ac"><span class="id" title="binder">Σ</span></a> <a id="bd6c7c658f0e80662c60fd2180ef9b1f" class="idref" href="#bd6c7c658f0e80662c60fd2180ef9b1f"><span class="id" title="binder">Γ</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="92598ee63f729cd9cf1aa228c321498b" class="idref" href="#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2cd1c953268b78a7304960b2229558ac"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bd6c7c658f0e80662c60fd2180ef9b1f"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_ind_env"><span class="id" title="lemma">ST.typing_ind_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">trans</span> ].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_local"><span class="id" title="lemma">trans_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Rel"><span class="id" title="constructor">type_Rel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Casts&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_App"><span class="id" title="constructor">type_App</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Lambda"><span class="id" title="constructor">type_Lambda</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Rel"><span class="id" title="constructor">type_Rel</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Prod"><span class="id" title="constructor">type_Prod</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">s</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#weakening"><span class="id" title="lemma">weakening</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_subst"><span class="id" title="lemma">simpl_subst</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">trans</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">trans</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">X3</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;The&nbsp;interesting&nbsp;application&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICGeneration.html#type_mkApps"><span class="id" title="lemma">type_mkApps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">PCUICValidity.validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">typrod</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfAB</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">A</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">B</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaCoq.Template.Ast.html#tProd"><span class="id" title="constructor">Ast.tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumulSpec_typed"><span class="id" title="lemma">trans_cumulSpec_typed</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_all_wf_decl"><span class="id" title="lemma">TypingWf.typing_all_wf_decl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">wfhd</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX1</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX1</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. 2:<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">wfAB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">X2</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">p0</span> <span class="id" title="var">X2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">PCUICInversion.inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s1</span> [<span class="id" title="var">s2</span> [<span class="id" title="var">HA</span> [<span class="id" title="var">HB</span> <span class="id" title="var">Hs</span>]]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICArities.html#isType_subst"><span class="id" title="lemma">PCUICArities.isType_subst</span></a> (<span class="id" title="var">Δ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">A</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSubstitution.html#subslet_ass_tip"><span class="id" title="lemma">subslet_ass_tip</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s2</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cst_type"><span class="id" title="projection">Ast.Env.cst_type</span></a> <span class="id" title="var">decl</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">decl</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ConstantDecl"><span class="id" title="constructor">Ast.Env.ConstantDecl</span></a> <span class="id" title="var">decl</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">idecl</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">idecl</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">idecl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Ind"><span class="id" title="constructor">type_Ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.InductiveDecl"><span class="id" title="constructor">Ast.Env.InductiveDecl</span></a> <span class="id" title="var">mdecl</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constructor"><span class="id" title="lemma">forall_decls_declared_constructor</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#type_of_constructor"><span class="id" title="definition">ST.type_of_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> <span class="id" title="var">Σ</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.InductiveDecl"><span class="id" title="constructor">Ast.Env.InductiveDecl</span></a> <span class="id" title="var">mdecl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">Ast.case_predicate_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenpctx</span> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#pcontext"><span class="id" title="projection">Ast.pcontext</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <span class="id" title="var">idecl</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>; <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">Σ</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X6</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X4</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p'</span> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#simpl_type_Case"><span class="id" title="lemma">simpl_type_Case</span></a> (<span class="id" title="var">p</span>:=<span class="id" title="var">p'</span>) (<span class="id" title="var">ps</span>:=<span class="id" title="var">ps</span>)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">H4</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>; <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> /= <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_ind_predicate_context"><span class="id" title="lemma">eq_annots_ind_predicate_context</span></a> <span class="id" title="var">ci</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_Forall2"><span class="id" title="lemma">All2_Forall2</span></a> ⇒ //. <span class="id" title="tactic">exact</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">X7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">X7</span>. <span class="id" title="var">cbn</span> [<span class="id" title="var">preturn</span> <span class="id" title="var">trans_predicate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X3</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_Forall2"><span class="id" title="lemma">All2_Forall2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map2_right"><span class="id" title="lemma">All2_map2_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#All2i_All2"><span class="id" title="lemma">All2i_All2</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brctxty</span> := <a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] [] <span class="id" title="var">eqann</span> [] <span class="id" title="var">Hbod</span> <span class="id" title="var">IHbod</span> [] <span class="id" title="var">Hty</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch_gen"><span class="id" title="definition">wf_branch_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">bcontext</span> <span class="id" title="var">trans_branch</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenctx</span> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <span class="id" title="var">br</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">cdecl</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#map2_cst"><span class="id" title="lemma">map2_cst</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#eq_annots_cstr_branch_context"><span class="id" title="lemma">eq_annots_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_Forall2"><span class="id" title="lemma">All2_Forall2</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_map2_right"><span class="id" title="lemma">All2i_map2_right</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_map"><span class="id" title="lemma">All2i_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_impl"><span class="id" title="lemma">All2i_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">brctxty</span> := <a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] [] <span class="id" title="var">eqann</span> [] <span class="id" title="var">Hbod</span> <span class="id" title="var">IHbod</span> [] <span class="id" title="var">Hty</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lenctx</span> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> <span class="id" title="var">br</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">cdecl</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqann</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> [<span class="id" title="var">bcontext</span> <span class="id" title="var">trans_branch</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#eq_binder_annots_eq"><span class="id" title="lemma">eq_binder_annots_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_branch_context_alpha"><span class="id" title="lemma">trans_cstr_branch_context_alpha</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">brctxty'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">br</span> <span class="id" title="var">X1</span> <span class="id" title="var">eqann</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">eqctx</span> <span class="id" title="var">eqbty</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">brctxty'</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>]<span class="id" title="var">eqbty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">brctxty'</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>]<span class="id" title="var">eqctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eqctx</span> <span class="id" title="var">eqbty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHbod</span> <span class="id" title="var">X8</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHty</span> <span class="id" title="var">X8</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHbod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHty</span> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">pdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">arity</span> <span class="id" title="var">relevance</span> <span class="id" title="var">ty'</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfproj</span> := <a class="idref" href="MetaCoq.Template.TypingWf.html#declared_projection_wf"><span class="id" title="lemma">TypingWf.declared_projection_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_projection"><span class="id" title="lemma">forall_decls_declared_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfc</span> <span class="id" title="var">wfind</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_mkApps_inv"><span class="id" title="lemma">WfAst.wf_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfind</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Proj"><span class="id" title="constructor">type_Proj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.Build_projection_body"><span class="id" title="constructor">Build_projection_body</span></a> <span class="id" title="var">arity</span> <span class="id" title="var">relevance</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">ty'</span>))). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mdecl</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>)) <span class="id" title="var">mfix</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="var">mfix</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_guard_trans"><span class="id" title="axiom">fix_guard_trans</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hts</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> 3 <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X3</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_fixpoint"><span class="id" title="lemma">trans_wf_fixpoint</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">IH</span>]], <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs'</span> <span class="id" title="var">IH'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#refine_type"><span class="id" title="lemma">refine_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">Σ'</span>)) <span class="id" title="var">mfix</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Σ'</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a> <span class="id" title="var">mfix</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fix_context"><span class="id" title="definition">ST.fix_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cofix_guard_trans"><span class="id" title="axiom">cofix_guard_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hts</span>]]. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> 3 <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">X3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_cofixpoint"><span class="id" title="lemma">trans_wf_cofixpoint</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">IH</span>]], <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs'</span> <span class="id" title="var">IH'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">TypingWf.typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">X0</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> []]; <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [?|] ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_retroknowledge"><span class="id" title="lemma">trans_env_retroknowledge</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_constant"><span class="id" title="lemma">forall_decls_declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">X0</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> []]; <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [?|] ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_Cumul"><span class="id" title="constructor">type_Cumul</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumulSpec_typed"><span class="id" title="lemma">trans_cumulSpec_typed</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_all_wf_decl"><span class="id" title="lemma">typing_all_wf_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΓ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X1</span> <span class="id" title="var">X5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X3</span> <span class="id" title="var">X5</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_map" class="idref" href="#Alli_map"><span class="id" title="lemma">Alli_map</span></a> {<a id="A:752" class="idref" href="#A:752"><span class="id" title="binder">A</span></a> <a id="B:753" class="idref" href="#B:753"><span class="id" title="binder">B</span></a>} (<a id="P:754" class="idref" href="#P:754"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:753"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="n:755" class="idref" href="#n:755"><span class="id" title="binder">n</span></a> (<a id="f:756" class="idref" href="#f:756"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:752"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:753"><span class="id" title="variable">B</span></a>) <a id="l:757" class="idref" href="#l:757"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<span class="id" title="keyword">fun</span> <a id="n:758" class="idref" href="#n:758"><span class="id" title="binder">n</span></a> <a id="x:759" class="idref" href="#x:759"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:754"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:758"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:756"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:759"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:755"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:757"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:754"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:755"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:756"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:757"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_arities_context" class="idref" href="#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a> <a id="4931ebc1c39ca73044a48456becc54b6" class="idref" href="#4931ebc1c39ca73044a48456becc54b6"><span class="id" title="binder">Σ</span></a> <a id="m:761" class="idref" href="#m:761"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="4fdc87aa1f6f4422811d72ae94d816a2" class="idref" href="#4fdc87aa1f6f4422811d72ae94d816a2"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4931ebc1c39ca73044a48456becc54b6"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4fdc87aa1f6f4422811d72ae94d816a2"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:761"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#4fdc87aa1f6f4422811d72ae94d816a2"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:761"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">PCUICEnvironment.arities_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_telescope" class="idref" href="#trans_subst_telescope"><span class="id" title="lemma">trans_subst_telescope</span></a> <a id="5a0a5cb840be9a54f10311dca13031da" class="idref" href="#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="binder">Σ</span></a> <a id="s:764" class="idref" href="#s:764"><span class="id" title="binder">s</span></a> <a id="k:765" class="idref" href="#k:765"><span class="id" title="binder">k</span></a> <a id="1fc62ff9155817e342ca3b24d4c060ae" class="idref" href="#1fc62ff9155817e342ca3b24d4c060ae"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="2903840841719c1da3304baf4b5c6ab1" class="idref" href="#2903840841719c1da3304baf4b5c6ab1"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#5a0a5cb840be9a54f10311dca13031da"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2903840841719c1da3304baf4b5c6ab1"><span class="id" title="variable">Σ'</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_telescope"><span class="id" title="definition">Ast.Env.subst_telescope</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:764"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:765"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1fc62ff9155817e342ca3b24d4c060ae"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2903840841719c1da3304baf4b5c6ab1"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:764"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:765"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2903840841719c1da3304baf4b5c6ab1"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1fc62ff9155817e342ca3b24d4c060ae"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_telescope"><span class="id" title="definition">Ast.Env.subst_telescope</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">n</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] /=;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInstDef.html#"><span class="id" title="library">PCUICInstDef</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#"><span class="id" title="library">PCUICInstConv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;closed_ctx_map2_set_binder_name&nbsp;(n&nbsp;:&nbsp;nat)&nbsp;(bctx&nbsp;:&nbsp;list&nbsp;aname)&nbsp;(ctx&nbsp;:&nbsp;list&nbsp;context_decl)&nbsp;:<br/>
&nbsp;&nbsp;closedn_ctx&nbsp;n&nbsp;ctx&nbsp;-&gt;&nbsp;closedn_ctx&nbsp;n&nbsp;(map2_bias_left&nbsp;set_binder_name&nbsp;dummy_decl&nbsp;bctx&nbsp;ctx).<br/>
Proof.<br/>
&nbsp;&nbsp;induction&nbsp;bctx&nbsp;in&nbsp;n,&nbsp;ctx&nbsp;|-&nbsp;*;&nbsp;cbn;&nbsp;auto.<br/>
&nbsp;&nbsp;destruct&nbsp;ctx;&nbsp;auto.<br/>
&nbsp;&nbsp;intros&nbsp;H.<br/>
&nbsp;&nbsp;destruct&nbsp;ctx.&nbsp;cbn.<br/>
&nbsp;&nbsp;rewrite&nbsp;IHbctx&nbsp;//.<br/>
&nbsp;&nbsp;rewrite&nbsp;!closedn_ctx_snoc&nbsp;IHbctx.<br/>
&nbsp;&nbsp;rewrite&nbsp;closedn_ctx_snoc&nbsp;in&nbsp;H.&nbsp;now&nbsp;move/andP:&nbsp;H=&gt;<span class="inlinecode"></span>.<br/>
&nbsp;&nbsp;cbn.&nbsp;rewrite&nbsp;map2_bias_left_length.<br/>
&nbsp;&nbsp;rewrite&nbsp;closedn_ctx_snoc&nbsp;in&nbsp;H.&nbsp;move/andP:&nbsp;H=&gt;<span class="inlinecode"></span>.<br/>
<br/>
&nbsp;&nbsp;cbn.<br/>
&nbsp;&nbsp;specialize&nbsp;(IHbctx&nbsp;_&nbsp;_&nbsp;H).<br/>
&nbsp;&nbsp;cbn&nbsp;in&nbsp;IHbctx.<br/>
&nbsp;&nbsp;move/andP&nbsp;=&gt;&nbsp;<span class="inlinecode"></span>&nbsp;clc&nbsp;clctx.<br/>
&nbsp;&nbsp;rewrite&nbsp;IHbctx&nbsp;//&nbsp;/=.<br/>
&nbsp;&nbsp;eapply&nbsp;closed_decl<br/>
&nbsp;&nbsp;rewrite&nbsp;closedn_ctx_&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_ind_predicate_context" class="idref" href="#closed_ind_predicate_context"><span class="id" title="lemma">closed_ind_predicate_context</span></a> {<a id="cf:768" class="idref" href="#cf:768"><span class="id" title="binder">cf</span></a>} {<a id="6bf91d213df0bb0ac259b13d0e6fa801" class="idref" href="#6bf91d213df0bb0ac259b13d0e6fa801"><span class="id" title="binder">Σ</span></a> <a id="ind:770" class="idref" href="#ind:770"><span class="id" title="binder">ind</span></a> <a id="mdecl:771" class="idref" href="#mdecl:771"><span class="id" title="binder">mdecl</span></a> <a id="idecl:772" class="idref" href="#idecl:772"><span class="id" title="binder">idecl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6bf91d213df0bb0ac259b13d0e6fa801"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6bf91d213df0bb0ac259b13d0e6fa801"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:770"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:771"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:772"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:771"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind:770"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:771"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:772"><span class="id" title="variable">idecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closed_ind_predicate_context"><span class="id" title="lemma">PCUICClosed.closed_ind_predicate_context</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#declared_minductive_closed"><span class="id" title="lemma">PCUICClosedTyp.declared_minductive_closed</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">decli</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_All_map2" class="idref" href="#All2_All_map2"><span class="id" title="lemma">All2_All_map2</span></a> {<a id="A:773" class="idref" href="#A:773"><span class="id" title="binder">A</span></a> <a id="B:774" class="idref" href="#B:774"><span class="id" title="binder">B</span></a> <a id="C:775" class="idref" href="#C:775"><span class="id" title="binder">C</span></a>} {<a id="P:776" class="idref" href="#P:776"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:773"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} (<a id="f:777" class="idref" href="#f:777"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#B:774"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#C:775"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:773"><span class="id" title="variable">A</span></a>) <a id="l:778" class="idref" href="#l:778"><span class="id" title="binder">l</span></a> <a id="l':779" class="idref" href="#l':779"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:780" class="idref" href="#x:780"><span class="id" title="binder">x</span></a> <a id="y:781" class="idref" href="#y:781"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:776"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:777"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:780"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#y:781"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:778"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':779"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:776"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#f:777"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:778"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l':779"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_closedn" class="idref" href="#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> {<a id="cf:782" class="idref" href="#cf:782"><span class="id" title="binder">cf</span></a>} {<a id="16efb86584393794651ca57a51490641" class="idref" href="#16efb86584393794651ca57a51490641"><span class="id" title="binder">Σ</span></a> <a id="k:784" class="idref" href="#k:784"><span class="id" title="binder">k</span></a> <a id="t:785" class="idref" href="#t:785"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16efb86584393794651ca57a51490641"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16efb86584393794651ca57a51490641"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16efb86584393794651ca57a51490641"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:785"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#closedn"><span class="id" title="definition">Ast.closedn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:784"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:785"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#k:784"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16efb86584393794651ca57a51490641"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:785"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Template.WfAst.html#term_wf_forall_list_ind"><span class="id" title="lemma">WfAst.term_wf_forall_list_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;1-6:<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">PCUICClosed.closedn_mkApps</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#forall_decls_declared_inductive"><span class="id" title="lemma">forall_decls_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lookup_inductive"><span class="id" title="lemma">trans_lookup_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#declared_inductive_lookup"><span class="id" title="lemma">declared_inductive_lookup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_predicate_k"><span class="id" title="definition">test_predicate_k</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#test_predicate"><span class="id" title="definition">Ast.test_predicate</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>). <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_ctx_args"><span class="id" title="lemma">PCUICInstConv.closed_ctx_args</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#closed_ind_predicate_context"><span class="id" title="lemma">closed_ind_predicate_context</span></a> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context_length"><span class="id" title="lemma">PCUICCases.ind_predicate_context_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_All_map2"><span class="id" title="lemma">All2_All_map2</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_nth_hyp"><span class="id" title="lemma">All2_nth_hyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c</span> [<span class="id" title="var">hnth</span> [[<span class="id" title="var">eqb</span> <span class="id" title="var">IHb</span>] <span class="id" title="var">hbr</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hlen</span> := <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">eqb</span>). <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_branch_k"><span class="id" title="definition">test_branch_k</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#test_branch"><span class="id" title="definition">Ast.test_branch</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>. <span class="id" title="var">cbn</span> -[<span class="id" title="var">cstr_branch_context</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#map2_map2_bias_left"><span class="id" title="lemma">map2_map2_bias_left</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICInstConv.html#closed_ctx_args"><span class="id" title="lemma">PCUICInstConv.closed_ctx_args</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#closed_cstr_branch_context"><span class="id" title="lemma">PCUICClosedTyp.closed_cstr_branch_context</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.empty_ext"><span class="id" title="definition">Ast.Env.empty_ext</span></a> <span class="id" title="var">Σ</span>)) (<span class="id" title="var">i</span>:=<span class="id" title="var">c</span>)); <span class="id" title="var">cbn</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a>; <span class="id" title="var">len</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumul_ctx_rel" class="idref" href="#trans_cumul_ctx_rel"><span class="id" title="lemma">trans_cumul_ctx_rel</span></a> {<a id="cf:786" class="idref" href="#cf:786"><span class="id" title="binder">cf</span></a>} {<a id="319c6a2dc29e97b04d99f3f3462abe0b" class="idref" href="#319c6a2dc29e97b04d99f3f3462abe0b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} <a id="d05623c2680b204a5e981ccc801a2e61" class="idref" href="#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="binder">Γ</span></a> <a id="936c3da2407f7c1512429d309a5f3fb7" class="idref" href="#936c3da2407f7c1512429d309a5f3fb7"><span class="id" title="binder">Δ</span></a> <a id="24a913b91214b4b6babe033591a8fbc0" class="idref" href="#24a913b91214b4b6babe033591a8fbc0"><span class="id" title="binder">Δ'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="be41e0aa24d26ee5419c4e04c827ea91" class="idref" href="#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#319c6a2dc29e97b04d99f3f3462abe0b"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#319c6a2dc29e97b04d99f3f3462abe0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cumul_ctx_rel"><span class="id" title="definition">ST.TemplateConversion.cumul_ctx_rel</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#319c6a2dc29e97b04d99f3f3462abe0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#936c3da2407f7c1512429d309a5f3fb7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#24a913b91214b4b6babe033591a8fbc0"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#936c3da2407f7c1512429d309a5f3fb7"><span class="id" title="variable">Δ</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#24a913b91214b4b6babe033591a8fbc0"><span class="id" title="variable">Δ'</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#319c6a2dc29e97b04d99f3f3462abe0b"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#936c3da2407f7c1512429d309a5f3fb7"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#319c6a2dc29e97b04d99f3f3462abe0b"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#24a913b91214b4b6babe033591a8fbc0"><span class="id" title="variable">Δ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumul_ctx_rel"><span class="id" title="definition">cumul_ctx_rel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#936c3da2407f7c1512429d309a5f3fb7"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#be41e0aa24d26ee5419c4e04c827ea91"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#24a913b91214b4b6babe033591a8fbc0"><span class="id" title="variable">Δ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_on_free_vars</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span> ⇒ [] <span class="id" title="var">cl0</span> <span class="id" title="var">cl1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H0</span> ⇒ [] <span class="id" title="var">cl0'</span> <span class="id" title="var">cl1'</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cl1</span>. <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cl1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X0</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">destruct</span> <span class="id" title="var">w0</span> <span class="id" title="keyword">as</span> [].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqt</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl0</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cl1</span>, <span class="id" title="var">cl1'</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqb</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaCoq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl0</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1</span> ⇒ [] /= <span class="id" title="var">clb</span> <span class="id" title="var">cbt</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1'</span> ⇒ [] /= <span class="id" title="var">clb'</span> <span class="id" title="var">cbt'</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eqt</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl0</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1</span> ⇒ [] /= <span class="id" title="var">clb</span> <span class="id" title="var">cbt</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl1'</span> ⇒ [] /= <span class="id" title="var">clb'</span> <span class="id" title="var">cbt'</span>.<br/>
&nbsp;&nbsp;1-2:<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> //; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_length"><span class="id" title="lemma">All2_fold_length</span></a> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_expand_lets" class="idref" href="#wf_expand_lets"><span class="id" title="lemma">wf_expand_lets</span></a> <a id="6a0585ec084f0c0f35f81f112c5f6bca" class="idref" href="#6a0585ec084f0c0f35f81f112c5f6bca"><span class="id" title="binder">Σ</span></a> <a id="2266e015f917d9319b94b48dfbba1eb8" class="idref" href="#2266e015f917d9319b94b48dfbba1eb8"><span class="id" title="binder">Γ</span></a> <a id="t:794" class="idref" href="#t:794"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6a0585ec084f0c0f35f81f112c5f6bca"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2266e015f917d9319b94b48dfbba1eb8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6a0585ec084f0c0f35f81f112c5f6bca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:794"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6a0585ec084f0c0f35f81f112c5f6bca"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2266e015f917d9319b94b48dfbba1eb8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:794"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k"><span class="id" title="definition">Ast.Env.expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>, <a class="idref" href="MetaCoq.Template.WfAst.html#wf_lift"><span class="id" title="lemma">WfAst.wf_lift</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_extended_subst"><span class="id" title="lemma">wf_extended_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_expand_lets_ctx" class="idref" href="#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> <a id="e111e5f88f59f32cf55ae9448a64ee07" class="idref" href="#e111e5f88f59f32cf55ae9448a64ee07"><span class="id" title="binder">Σ</span></a> <a id="0521e8065f11ab70f972844f8f0e49e4" class="idref" href="#0521e8065f11ab70f972844f8f0e49e4"><span class="id" title="binder">Γ</span></a> <a id="6cecf591d7b4ace07325f213955950ba" class="idref" href="#6cecf591d7b4ace07325f213955950ba"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e111e5f88f59f32cf55ae9448a64ee07"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0521e8065f11ab70f972844f8f0e49e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e111e5f88f59f32cf55ae9448a64ee07"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6cecf591d7b4ace07325f213955950ba"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#e111e5f88f59f32cf55ae9448a64ee07"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0521e8065f11ab70f972844f8f0e49e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6cecf591d7b4ace07325f213955950ba"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k_ctx"><span class="id" title="definition">Ast.Env.expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_context"><span class="id" title="lemma">wf_subst_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_lift_context"><span class="id" title="lemma">wf_lift_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_extended_subst"><span class="id" title="lemma">wf_extended_subst</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_ind_arities" class="idref" href="#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a> <a id="129230aac4b80b4a5327a5e5d5ab2566" class="idref" href="#129230aac4b80b4a5327a5e5d5ab2566"><span class="id" title="binder">Σ</span></a> <a id="mdecl:799" class="idref" href="#mdecl:799"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">wf_inductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#129230aac4b80b4a5327a5e5d5ab2566"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:799"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#129230aac4b80b4a5327a5e5d5ab2566"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Typing.html#ind_arities"><span class="id" title="definition">Typing.ind_arities</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:799"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Typing.html#ind_arities"><span class="id" title="definition">Typing.ind_arities</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_rev"><span class="id" title="lemma">All_rev</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_refl_inv" class="idref" href="#All2_refl_inv"><span class="id" title="lemma">All2_refl_inv</span></a> {<a id="A:800" class="idref" href="#A:800"><span class="id" title="binder">A</span></a>} {<a id="P:801" class="idref" href="#P:801"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:800"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:800"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} <a id="l:802" class="idref" href="#l:802"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:801"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:802"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:802"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:803" class="idref" href="#x:803"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:801"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:803"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:803"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:802"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_All2_refl" class="idref" href="#All_All2_refl"><span class="id" title="lemma">All_All2_refl</span></a> {<a id="A:804" class="idref" href="#A:804"><span class="id" title="binder">A</span></a>} {<a id="P:805" class="idref" href="#P:805"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:804"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:804"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} <a id="l:806" class="idref" href="#l:806"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:807" class="idref" href="#x:807"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:805"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:807"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:807"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:806"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:805"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:806"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:806"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_arities" class="idref" href="#trans_ind_arities"><span class="id" title="lemma">trans_ind_arities</span></a> {<a id="cf:808" class="idref" href="#cf:808"><span class="id" title="binder">cf</span></a>} <a id="8021f3920ac719bf59c508136b8d15ab" class="idref" href="#8021f3920ac719bf59c508136b8d15ab"><span class="id" title="binder">Σ</span></a> <a id="mdecl:810" class="idref" href="#mdecl:810"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="10bc35a8f9cdb0f49d414dd071e980f2" class="idref" href="#10bc35a8f9cdb0f49d414dd071e980f2"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#8021f3920ac719bf59c508136b8d15ab"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':812" class="idref" href="#mdecl':812"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#10bc35a8f9cdb0f49d414dd071e980f2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:810"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_arities"><span class="id" title="definition">ind_arities</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':812"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#10bc35a8f9cdb0f49d414dd071e980f2"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:810"><span class="id" title="variable">mdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_arities"><span class="id" title="definition">ind_arities</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_respects_variance" class="idref" href="#trans_cstr_respects_variance"><span class="id" title="lemma">trans_cstr_respects_variance</span></a> {<a id="cf:813" class="idref" href="#cf:813"><span class="id" title="binder">cf</span></a>} <a id="a81c2eb739d9e9319a0456d0577f45f6" class="idref" href="#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="binder">Σ</span></a> <a id="mdecl:815" class="idref" href="#mdecl:815"><span class="id" title="binder">mdecl</span></a> <a id="v:816" class="idref" href="#v:816"><span class="id" title="binder">v</span></a> <a id="cdecl:817" class="idref" href="#cdecl:817"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bc9621387de7755736213e60f3a2bd30" class="idref" href="#bc9621387de7755736213e60f3a2bd30"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':819" class="idref" href="#mdecl':819"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc9621387de7755736213e60f3a2bd30"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdecl':820" class="idref" href="#cdecl':820"><span class="id" title="binder">cdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc9621387de7755736213e60f3a2bd30"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc9621387de7755736213e60f3a2bd30"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">wf_inductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">Ast.Env.cstr_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.smash_context"><span class="id" title="definition">Ast.Env.smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">Ast.Env.expand_lets_ctx</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.smash_context"><span class="id" title="definition">Ast.Env.smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a>)))))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:821" class="idref" href="#x:821"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc9621387de7755736213e60f3a2bd30"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets"><span class="id" title="definition">Ast.Env.expand_lets</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:821"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">Ast.Env.cstr_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cstr_respects_variance"><span class="id" title="definition">ST.cstr_respects_variance</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a81c2eb739d9e9319a0456d0577f45f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:815"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:816"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl:817"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#cstr_respects_variance"><span class="id" title="definition">cstr_respects_variance</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#bc9621387de7755736213e60f3a2bd30"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':819"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:816"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cdecl':820"><span class="id" title="variable">cdecl'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">cdecl'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfb</span> <span class="id" title="var">wfp</span> <span class="id" title="var">wfa</span> <span class="id" title="var">wfi</span> <span class="id" title="var">clctx</span> <span class="id" title="var">clidx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cstr_respects_variance"><span class="id" title="definition">ST.cstr_respects_variance</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#cstr_respects_variance"><span class="id" title="definition">cstr_respects_variance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl'</span>) <span class="id" title="var">v</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#variance_universes"><span class="id" title="definition">ST.variance_universes</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">udecl</span> <span class="id" title="var">inst</span>] <span class="id" title="var">inst'</span>]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_ctx_rel"><span class="id" title="lemma">trans_cumul_ctx_rel</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">Σ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> /= !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app_ctx"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_app_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance_context</span></a> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> /= !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">PCUICClosed.closedn_ctx_app</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">PCUICClosed.closedn_ctx_app</span></a> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a>. }<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">clear</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_inv"><span class="id" title="lemma">All2_map_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All2_refl_inv"><span class="id" title="lemma">All2_refl_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#All_All2_refl"><span class="id" title="lemma">All_All2_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_gen"><span class="id" title="lemma">trans_cumul_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>:<span class="id" title="var">b0</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulAlgo_cumulSpec"><span class="id" title="lemma">PCUICConversion.cumulAlgo_cumulSpec</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaCoq.Common.BasicAst.html#Conv"><span class="id" title="constructor">Conv</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">PCUICWellScopedCumulativity.into_ws_cumul_pb</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: <span class="id" title="var">clctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_arities"><span class="id" title="lemma">trans_ind_arities</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context_assoc"><span class="id" title="lemma">Ast.Env.app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>. <span class="id" title="var">len</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a>. <span class="id" title="var">len</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance</span></a> //. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //; [|<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_ind_arities"><span class="id" title="lemma">wf_ind_arities</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_subst_instance"><span class="id" title="lemma">WfAst.wf_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets"><span class="id" title="lemma">wf_expand_lets</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_subst_instance"><span class="id" title="lemma">WfAst.wf_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets"><span class="id" title="lemma">wf_expand_lets</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a> ⇒ //. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_respects_variance" class="idref" href="#trans_ind_respects_variance"><span class="id" title="lemma">trans_ind_respects_variance</span></a> {<a id="cf:822" class="idref" href="#cf:822"><span class="id" title="binder">cf</span></a>} <a id="651586f7b51c3a4924dbe34950c89368" class="idref" href="#651586f7b51c3a4924dbe34950c89368"><span class="id" title="binder">Σ</span></a> <a id="mdecl:824" class="idref" href="#mdecl:824"><span class="id" title="binder">mdecl</span></a> <a id="v:825" class="idref" href="#v:825"><span class="id" title="binder">v</span></a> <a id="idecl:826" class="idref" href="#idecl:826"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fce30bce098309e910df1a157af1270b" class="idref" href="#fce30bce098309e910df1a157af1270b"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#651586f7b51c3a4924dbe34950c89368"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mdecl':828" class="idref" href="#mdecl':828"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:824"><span class="id" title="variable">mdecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="idecl':829" class="idref" href="#idecl':829"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:826"><span class="id" title="variable">idecl</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#651586f7b51c3a4924dbe34950c89368"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TypingWf.html#wf_inductive_body"><span class="id" title="record">wf_inductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#651586f7b51c3a4924dbe34950c89368"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:826"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl"><span class="id" title="definition">WfAst.wf_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#651586f7b51c3a4924dbe34950c89368"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:824"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#651586f7b51c3a4924dbe34950c89368"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:824"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:826"><span class="id" title="variable">idecl</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_respects_variance"><span class="id" title="definition">ST.ind_respects_variance</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#651586f7b51c3a4924dbe34950c89368"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:824"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:825"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:826"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_respects_variance"><span class="id" title="definition">ind_respects_variance</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':828"><span class="id" title="variable">mdecl'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#v:825"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':829"><span class="id" title="variable">idecl'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">mdecl'</span> <span class="id" title="var">idecl'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfb</span> <span class="id" title="var">wfp</span> <span class="id" title="var">clctx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_respects_variance"><span class="id" title="definition">ST.ind_respects_variance</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_respects_variance"><span class="id" title="definition">ind_respects_variance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl'</span>) <span class="id" title="var">v</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#variance_universes"><span class="id" title="definition">ST.variance_universes</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#variance_universes"><span class="id" title="definition">variance_universes</span></a> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">udecl</span> <span class="id" title="var">inst</span>] <span class="id" title="var">inst'</span>]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cumul_ctx_rel"><span class="id" title="lemma">trans_cumul_ctx_rel</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span> ⇒ //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app_ctx"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_app_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">closedn_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_smash_context"><span class="id" title="lemma">closedn_smash_context</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_subst_instance"><span class="id" title="lemma">trans_local_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_length"><span class="id" title="lemma">subst_instance_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance_context"><span class="id" title="lemma">PCUICClosed.closedn_subst_instance_context</span></a> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_smash_context"><span class="id" title="lemma">PCUICClosed.closedn_smash_context</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app_inv"><span class="id" title="lemma">All_app_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf_expand_lets_ctx"><span class="id" title="lemma">wf_expand_lets_ctx</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_subst_instance_context"><span class="id" title="lemma">wf_subst_instance_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#wf_smash_context"><span class="id" title="lemma">wf_smash_context</span></a> ⇒ //. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_type_local_ctx" class="idref" href="#trans_type_local_ctx"><span class="id" title="lemma">trans_type_local_ctx</span></a> {<a id="cf:830" class="idref" href="#cf:830"><span class="id" title="binder">cf</span></a>} {<a id="2692369d5d2215adba5127fd836d0162" class="idref" href="#2692369d5d2215adba5127fd836d0162"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} <a id="32425b166fef779d0b2b1949aab66a23" class="idref" href="#32425b166fef779d0b2b1949aab66a23"><span class="id" title="binder">Γ</span></a> <a id="cs:833" class="idref" href="#cs:833"><span class="id" title="binder">cs</span></a> <a id="s:834" class="idref" href="#s:834"><span class="id" title="binder">s</span></a> (<a id="de42c7496a97b23e52dd47875a56395c" class="idref" href="#de42c7496a97b23e52dd47875a56395c"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2692369d5d2215adba5127fd836d0162"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="d4b93b939c4b44deb636937f2ff656da" class="idref" href="#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>)<br/>
&nbsp;&nbsp;(<a id="3bdd9b02d1ce1a560268fc4b92590047" class="idref" href="#3bdd9b02d1ce1a560268fc4b92590047"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) (<a id="t:838" class="idref" href="#t:838"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) (<a id="T:839" class="idref" href="#T:839"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#typ_or_sort_"><span class="id" title="inductive">typ_or_sort_</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#lift_typing"><span class="id" title="definition">Typing.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3bdd9b02d1ce1a560268fc4b92590047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:838"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:839"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3bdd9b02d1ce1a560268fc4b92590047"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:838"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.BasicAst.html#typ_or_sort_map"><span class="id" title="definition">typ_or_sort_map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d4b93b939c4b44deb636937f2ff656da"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:839"><span class="id" title="variable">T</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2692369d5d2215adba5127fd836d0162"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#de42c7496a97b23e52dd47875a56395c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#type_local_ctx"><span class="id" title="definition">ST.type_local_ctx</span></a> (<a class="idref" href="MetaCoq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="definition">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2692369d5d2215adba5127fd836d0162"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#32425b166fef779d0b2b1949aab66a23"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:833"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:834"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#type_local_ctx"><span class="id" title="definition">type_local_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="definition">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2692369d5d2215adba5127fd836d0162"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#de42c7496a97b23e52dd47875a56395c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#32425b166fef779d0b2b1949aab66a23"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#de42c7496a97b23e52dd47875a56395c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cs:833"><span class="id" title="variable">cs</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#s:834"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IH</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_wf_universe"><span class="id" title="lemma">trans_wf_universe</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ //;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHcs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_ind_sorts" class="idref" href="#trans_check_ind_sorts"><span class="id" title="lemma">trans_check_ind_sorts</span></a> {<a id="cf:840" class="idref" href="#cf:840"><span class="id" title="binder">cf</span></a>} <a id="16e5250fc7fb04ba9948ba61af34313e" class="idref" href="#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="binder">Σ</span></a> <a id="udecl:842" class="idref" href="#udecl:842"><span class="id" title="binder">udecl</span></a> <a id="kn:843" class="idref" href="#kn:843"><span class="id" title="binder">kn</span></a> <a id="mdecl:844" class="idref" href="#mdecl:844"><span class="id" title="binder">mdecl</span></a> <a id="n:845" class="idref" href="#n:845"><span class="id" title="binder">n</span></a> <a id="idecl:846" class="idref" href="#idecl:846"><span class="id" title="binder">idecl</span></a><br/>
&nbsp;&nbsp;(<a id="aa7d026b890a96cf821191625ee7c086" class="idref" href="#aa7d026b890a96cf821191625ee7c086"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a id="mdecl':848" class="idref" href="#mdecl':848"><span class="id" title="binder">mdecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#aa7d026b890a96cf821191625ee7c086"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:844"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;(<a id="idecl':849" class="idref" href="#idecl':849"><span class="id" title="binder">idecl'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#aa7d026b890a96cf821191625ee7c086"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:846"><span class="id" title="variable">idecl</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#aa7d026b890a96cf821191625ee7c086"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="ba2ecef790e54803996c1de7d127b327" class="idref" href="#ba2ecef790e54803996c1de7d127b327"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b642e7376a3b5c720c5c8447a26a048a" class="idref" href="#b642e7376a3b5c720c5c8447a26a048a"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">Ast.Env.context</span></a>) (<a id="t:852" class="idref" href="#t:852"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>) (<a id="T:853" class="idref" href="#T:853"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#typ_or_sort_"><span class="id" title="inductive">typ_or_sort_</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#lift_typing"><span class="id" title="definition">Typing.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b642e7376a3b5c720c5c8447a26a048a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:852"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:853"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#b642e7376a3b5c720c5c8447a26a048a"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:852"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.BasicAst.html#typ_or_sort_map"><span class="id" title="definition">typ_or_sort_map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba2ecef790e54803996c1de7d127b327"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:853"><span class="id" title="variable">T</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="oni:854" class="idref" href="#oni:854"><span class="id" title="binder">oni</span></a>: <a class="idref" href="MetaCoq.Template.Typing.html#on_ind_body"><span class="id" title="record">Typing.on_ind_body</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<a class="idref" href="MetaCoq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="definition">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#udecl:842"><span class="id" title="variable">udecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:843"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:844"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:845"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:846"><span class="id" title="variable">idecl</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_ind_sorts"><span class="id" title="definition">ST.check_ind_sorts</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="definition">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:844"><span class="id" title="variable">mdecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:844"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_kelim"><span class="id" title="projection">Ast.Env.ind_kelim</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:846"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:846"><span class="id" title="variable">idecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_cunivs"><span class="id" title="projection">ST.ind_cunivs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#oni:854"><span class="id" title="variable">oni</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_sort"><span class="id" title="projection">Ast.Env.ind_sort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:846"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="definition">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:844"><span class="id" title="variable">mdecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map"><span class="id" title="definition">global_env_ext_map</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl':848"><span class="id" title="variable">mdecl'</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':849"><span class="id" title="variable">idecl'</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':849"><span class="id" title="variable">idecl'</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_cunivs"><span class="id" title="projection">ST.ind_cunivs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#oni:854"><span class="id" title="variable">oni</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl':849"><span class="id" title="variable">idecl'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">IH</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#check_ind_sorts"><span class="id" title="definition">ST.check_ind_sorts</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#check_ind_sorts"><span class="id" title="definition">check_ind_sorts</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_prop"><span class="id" title="definition">Universe.is_prop</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_sprop"><span class="id" title="definition">Universe.is_sprop</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.config.html#indices_matter"><span class="id" title="method">indices_matter</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_type_local_ctx"><span class="id" title="lemma">trans_type_local_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_decl_wf" class="idref" href="#on_global_decl_wf"><span class="id" title="lemma">on_global_decl_wf</span></a> {<a id="cf:855" class="idref" href="#cf:855"><span class="id" title="binder">cf</span></a>} {<a id="6c6f656e83a5f47ee4ddce274d9e3194" class="idref" href="#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} {<a id="kn:857" class="idref" href="#kn:857"><span class="id" title="binder">kn</span></a> <a id="d:858" class="idref" href="#d:858"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#on_global_decl"><span class="id" title="definition">Typing.on_global_decl</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<a class="idref" href="MetaCoq.Template.Typing.html#TemplateEnvTyping.lift_typing"><span class="id" title="definition">Typing.TemplateEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:857"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:858"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#on_global_decl"><span class="id" title="definition">Typing.on_global_decl</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#cumul_gen"><span class="id" title="inductive">Typing.cumul_gen</span></a> (<span class="id" title="keyword">fun</span> <a id="50627c1560f5fd574f7d43d3a1fd2075" class="idref" href="#50627c1560f5fd574f7d43d3a1fd2075"><span class="id" title="binder">Σ</span></a> ⇒ <a class="idref" href="MetaCoq.Template.WfAst.html#wf_decl_pred"><span class="id" title="definition">WfAst.wf_decl_pred</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#50627c1560f5fd574f7d43d3a1fd2075"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#6c6f656e83a5f47ee4ddce274d9e3194"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:857"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d:858"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#on_global_decl_impl"><span class="id" title="lemma">TypingWf.on_global_decl_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Alli_All_mix" class="idref" href="#Alli_All_mix"><span class="id" title="lemma">Alli_All_mix</span></a> {<a id="A:860" class="idref" href="#A:860"><span class="id" title="binder">A</span></a>} {<a id="P:861" class="idref" href="#P:861"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#A:860"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="Q:862" class="idref" href="#Q:862"><span class="id" title="binder">Q</span></a>} {<a id="n:863" class="idref" href="#n:863"><span class="id" title="binder">n</span></a> <a id="l:864" class="idref" href="#l:864"><span class="id" title="binder">l</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:861"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:863"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:864"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:862"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:864"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<span class="id" title="keyword">fun</span> <a id="n:865" class="idref" href="#n:865"><span class="id" title="binder">n</span></a> <a id="x:866" class="idref" href="#x:866"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#P:861"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:865"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:866"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Q:862"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#x:866"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:863"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#l:864"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_projs" class="idref" href="#trans_projs"><span class="id" title="lemma">trans_projs</span></a> <a id="d8a4eaf28429986db3382d22c42c38f0" class="idref" href="#d8a4eaf28429986db3382d22c42c38f0"><span class="id" title="binder">Σ</span></a> <a id="kn:868" class="idref" href="#kn:868"><span class="id" title="binder">kn</span></a> <a id="n:869" class="idref" href="#n:869"><span class="id" title="binder">n</span></a> <a id="i:870" class="idref" href="#i:870"><span class="id" title="binder">i</span></a> <a id="mdecl:871" class="idref" href="#mdecl:871"><span class="id" title="binder">mdecl</span></a>  :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d8a4eaf28429986db3382d22c42c38f0"><span class="id" title="variable">Σ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.projs"><span class="id" title="definition">Ast.Env.projs</span></a> {| <a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:868"><span class="id" title="variable">kn</span></a>; <a class="idref" href="MetaCoq.Common.Kernames.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:869"><span class="id" title="variable">n</span></a> |} (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">Ast.Env.ind_npars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:871"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:870"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.projs"><span class="id" title="definition">projs</span></a> {| <a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#kn:868"><span class="id" title="variable">kn</span></a>; <a class="idref" href="MetaCoq.Common.Kernames.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#n:869"><span class="id" title="variable">n</span></a> |} (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">Ast.Env.ind_npars</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#mdecl:871"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#i:870"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_arities_context" class="idref" href="#closed_arities_context"><span class="id" title="lemma">closed_arities_context</span></a> {<a id="cf:872" class="idref" href="#cf:872"><span class="id" title="binder">cf</span></a>} <a id="1b466a370c51708a575fe7e87599f189" class="idref" href="#1b466a370c51708a575fe7e87599f189"><span class="id" title="binder">Σ</span></a> <a id="m:874" class="idref" href="#m:874"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b466a370c51708a575fe7e87599f189"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="idecl:875" class="idref" href="#idecl:875"><span class="id" title="binder">idecl</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="definition">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b466a370c51708a575fe7e87599f189"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:874"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map"><span class="id" title="definition">global_env_ext_map</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b466a370c51708a575fe7e87599f189"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#idecl:875"><span class="id" title="variable">idecl</span></a>))) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:874"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#1b466a370c51708a575fe7e87599f189"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#m:874"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_map_spec"><span class="id" title="lemma">rev_map_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> /=. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">hs</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_upwards"><span class="id" title="lemma">closedn_ctx_upwards</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_env_env_universes" class="idref" href="#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a> {<a id="ba0d61fd2561b72eacbbabf86c417aac" class="idref" href="#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.universes"><span class="id" title="projection">Ast.Env.universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>] .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global_decls</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_env_env_retroknowledge" class="idref" href="#trans_env_env_retroknowledge"><span class="id" title="lemma">trans_env_env_retroknowledge</span></a> {<a id="ff43b3acd1a756cb41b1302387d74f7b" class="idref" href="#ff43b3acd1a756cb41b1302387d74f7b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env"><span class="id" title="record">Ast.Env.global_env</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ff43b3acd1a756cb41b1302387d74f7b"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.retroknowledge"><span class="id" title="projection">Ast.Env.retroknowledge</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ff43b3acd1a756cb41b1302387d74f7b"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>] .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global_decls</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_eq" class="idref" href="#env_eq"><span class="id" title="lemma">env_eq</span></a> (<a id="g:878" class="idref" href="#g:878"><span class="id" title="binder">g</span></a> <a id="g':879" class="idref" href="#g':879"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:878"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':879"><span class="id" title="variable">g'</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:878"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':879"><span class="id" title="variable">g'</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:878"><span class="id" title="variable">g</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':879"><span class="id" title="variable">g'</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g:878"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#g':879"><span class="id" title="variable">g'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span>, <span class="id" title="var">g'</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_consistent_instance_ext_gen" class="idref" href="#trans_consistent_instance_ext_gen"><span class="id" title="lemma">trans_consistent_instance_ext_gen</span></a> {<a id="cf:880" class="idref" href="#cf:880"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="a09afd78ed629be6283847d44e770265" class="idref" href="#a09afd78ed629be6283847d44e770265"><span class="id" title="binder">Σ</span></a> <a id="udecl:882" class="idref" href="#udecl:882"><span class="id" title="binder">udecl</span></a> <a id="u:883" class="idref" href="#u:883"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="2de1ba9c6995820db5291cd0ed8e24f6" class="idref" href="#2de1ba9c6995820db5291cd0ed8e24f6"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a09afd78ed629be6283847d44e770265"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#a09afd78ed629be6283847d44e770265"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#udecl:882"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:883"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#2de1ba9c6995820db5291cd0ed8e24f6"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#udecl:882"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#u:883"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">Ast.consistent_instance_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_levels_trans"><span class="id" title="lemma">global_ext_levels_trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#global_ext_constraints_trans"><span class="id" title="lemma">global_ext_constraints_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_on_global_env" class="idref" href="#trans_on_global_env"><span class="id" title="lemma">trans_on_global_env</span></a> `{<a id="H:885" class="idref" href="#H:885"><span class="id" title="binder">checker_flags</span></a>} <a id="02bdba1b44eab1499ef5147597b8ad38" class="idref" href="#02bdba1b44eab1499ef5147597b8ad38"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="3eacba69c62f4ce820f1a48aef69f327" class="idref" href="#3eacba69c62f4ce820f1a48aef69f327"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>) <a id="33aafbc25158d53df10ce18b31e5354a" class="idref" href="#33aafbc25158d53df10ce18b31e5354a"><span class="id" title="binder">Γ</span></a> <a id="t:889" class="idref" href="#t:889"><span class="id" title="binder">t</span></a> <a id="T:890" class="idref" href="#T:890"><span class="id" title="binder">T</span></a>, <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3eacba69c62f4ce820f1a48aef69f327"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#lift_typing"><span class="id" title="definition">Typing.lift_typing</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#typing"><span class="id" title="inductive">Typing.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3eacba69c62f4ce820f1a48aef69f327"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#33aafbc25158d53df10ce18b31e5354a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:889"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:890"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cd7a9c5ee75a32db66ed80bd1504f4e8" class="idref" href="#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3eacba69c62f4ce820f1a48aef69f327"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#3eacba69c62f4ce820f1a48aef69f327"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#33aafbc25158d53df10ce18b31e5354a"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:889"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.Common.BasicAst.html#typ_or_sort_map"><span class="id" title="definition">typ_or_sort_map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#cd7a9c5ee75a32db66ed80bd1504f4e8"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:890"><span class="id" title="variable">T</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#02bdba1b44eab1499ef5147597b8ad38"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#02bdba1b44eab1499ef5147597b8ad38"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span> <span class="id" title="var">retro</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global_env</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a> /= /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ond</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">kn_fresh</span> |- ×. <span class="id" title="tactic">clear</span> -<span class="id" title="var">kn_fresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">kn_fresh</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">udecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">on_udecl_udecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_global_decl_universes"><span class="id" title="lemma">trans_global_decl_universes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">on_udecl_udecl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σg</span> := {| <a class="idref" href="MetaCoq.Template.Ast.html#Env.universes"><span class="id" title="projection">Ast.Env.universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaCoq.Template.Ast.html#Env.declarations"><span class="id" title="projection">Ast.Env.declarations</span></a> := <span class="id" title="var">Σ</span>; <a class="idref" href="MetaCoq.Template.Ast.html#Env.retroknowledge"><span class="id" title="projection">Ast.Env.retroknowledge</span></a> := <span class="id" title="var">retro</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X0</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">onu</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ond</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Typing.wf</span></a> <span class="id" title="var">Σg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">univs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#empty_trans_env"><span class="id" title="definition">empty_trans_env</span></a> <span class="id" title="var">univs</span> <span class="id" title="var">retro</span>) <span class="id" title="var">Σ</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_eq"><span class="id" title="lemma">env_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_retroknowledge"><span class="id" title="lemma">trans_env_env_retroknowledge</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣg</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">wfdecl</span> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_global_decl_wf"><span class="id" title="lemma">on_global_decl_wf</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">X0</span> <span class="id" title="var">on_global_decl_d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eqd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cst_body0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">on_udecl_udecl</span> |- ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cst_universes0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">t</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> <span class="id" title="var">cst_type0</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">on_global_decl_d</span> |- ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cst_universes0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">cst_type0</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">on_global_decl_d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onI</span> <span class="id" title="var">onP</span> <span class="id" title="var">onNP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_ext"><span class="id" title="definition">global_env_ext_map_global_env_ext</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_decls"><span class="id" title="definition">trans_global_decls</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#empty_trans_env"><span class="id" title="definition">empty_trans_env</span></a> <span class="id" title="var">univs</span> <span class="id" title="var">retro</span>) <span class="id" title="var">Σ</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_map"><span class="id" title="definition">global_env_ext_map_global_env_map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">have</span> <span class="id" title="var">wfpars</span> := <a class="idref" href="MetaCoq.Template.TypingWf.html#on_global_inductive_wf_params"><span class="id" title="lemma">on_global_inductive_wf_params</span></a> <span class="id" title="var">wfdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#on_global_inductive_wf_bodies"><span class="id" title="lemma">on_global_inductive_wf_bodies</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">clars</span>: <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arities"><span class="id" title="definition">ST.ind_arities</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#closed_arities_context"><span class="id" title="lemma">closed_arities_context</span></a> ⇒ //. <span class="id" title="tactic">clear</span> -<span class="id" title="var">onu</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">X0</span> <span class="id" title="var">IHond</span> <span class="id" title="var">X</span> <span class="id" title="var">onI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_All"><span class="id" title="lemma">Alli_All</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> <span class="id" title="var">x</span> /<a class="idref" href="MetaCoq.Template.Typing.html#onArity"><span class="id" title="projection">Typing.onArity</span></a> ⇒ <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a> <span class="id" title="var">X0</span> <span class="id" title="var">o</span>) ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Alli_All_mix"><span class="id" title="lemma">Alli_All_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Alli_map"><span class="id" title="lemma">Alli_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_impl"><span class="id" title="lemma">Alli_impl</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">onI</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">idecl</span> [<span class="id" title="var">oni</span> <span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">onarity</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="definition">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">idecl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onArity"><span class="id" title="projection">ST.onArity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">oni</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">idecl</span>) <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_cunivs"><span class="id" title="projection">ind_cunivs</span></a> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_cunivs"><span class="id" title="projection">ST.ind_cunivs</span></a>) |}; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global_env</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arity_eq"><span class="id" title="projection">ST.ind_arity_eq</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ![<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onConstructors"><span class="id" title="projection">ST.onConstructors</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">X11</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_left"><span class="id" title="lemma">All2_map_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">b</span> <span class="id" title="var">into</span> <span class="id" title="var">onc</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">y</span> <span class="id" title="var">into</span> <span class="id" title="var">cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">a0</span> <span class="id" title="var">into</span> <span class="id" title="var">wfctype</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">a</span> <span class="id" title="var">into</span> <span class="id" title="var">wfcargs</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">b1</span> <span class="id" title="var">into</span> <span class="id" title="var">wfcindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">onty</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_type"><span class="id" title="definition">on_type</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvTyping.lift_typing"><span class="id" title="definition">PCUICEnvTyping.lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">Ast.Env.cstr_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">on_ctype</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">Ast.Env.cstr_type</span></a> <span class="id" title="var">x</span>) <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H'</span> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ceq</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">m</span>) <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">Ast.Env.cstr_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cstr_eq</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">cstr_eq</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#cstr_concl_head"><span class="id" title="definition">cstr_concl_head</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cstr_args_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">onu</span> <span class="id" title="var">IHond</span> <span class="id" title="var">X</span> <span class="id" title="var">on_cargs</span>. <span class="id" title="var">revert</span> <span class="id" title="var">on_cargs</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">foo</span> := (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">udecl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">cs</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">foo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span>)) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">foo</span> <span class="id" title="var">ty</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> <span class="id" title="var">b</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> <span class="id" title="var">ty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> <span class="id" title="var">ty</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#Sort"><span class="id" title="constructor">Sort</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> <span class="id" title="var">b</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> <span class="id" title="var">ty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> <span class="id" title="var">ty</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#tSort"><span class="id" title="constructor">Ast.tSort</span></a> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> -<span class="id" title="var">X0</span> <span class="id" title="var">onu</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">IHond</span> <span class="id" title="var">X</span> <span class="id" title="var">on_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">on_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> {2}/<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.lift_context"><span class="id" title="definition">Ast.Env.lift_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">x</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> 0 (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">Ast.Env.ind_indices</span></a> <span class="id" title="var">idecl</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_arities_context"><span class="id" title="lemma">trans_arities_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">foo</span> := (<span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">foo</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.arities_context"><span class="id" title="definition">Ast.Env.arities_context</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">Ast.Env.ind_params</span></a> <span class="id" title="var">m</span>)) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">Ast.Env.cstr_args</span></a> <span class="id" title="var">x</span>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">foo</span> <span class="id" title="var">i</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#Typ"><span class="id" title="constructor">Typ</span></a> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_telescope"><span class="id" title="lemma">trans_subst_telescope</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0) <span class="id" title="tactic">in</span> <span class="id" title="var">IHon_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst_telescope"><span class="id" title="lemma">trans_subst_telescope</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0) <span class="id" title="tactic">in</span> <span class="id" title="var">IHon_cindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global_env</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">onI</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">wfctype</span> <span class="id" title="var">X0</span> <span class="id" title="var">onu</span> <span class="id" title="var">IHond</span> <span class="id" title="var">on_ctype_positive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <span class="id" title="var">Σ'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">on_ctype_positive</span> <span class="id" title="var">wfctype</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_decl"><span class="id" title="abbreviation">Ast.Env.context_decl</span></a>). <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">headrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">PCUICEnvironment.ind_bodies</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">m</span>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">Ast.Env.ind_bodies</span></a> <span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_decl"><span class="id" title="definition">trans_decl</span></a> <span class="id" title="var">Σ'</span>) <span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">as</span> →. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Template.WfAst.html#wf_mkApps_inv"><span class="id" title="lemma">WfAst.wf_mkApps_inv</span></a> ⇒ <span class="id" title="var">wfindices</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pos_concl"><span class="id" title="constructor">pos_concl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> ⇒ /= [[<span class="id" title="var">wfb</span> <span class="id" title="var">wfty</span>] <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHon_ctype_positive</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> ⇒ /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">onI</span> <span class="id" title="var">X0</span> <span class="id" title="var">wfΣg</span> <span class="id" title="var">onu</span> <span class="id" title="var">IHond</span> <span class="id" title="var">p</span> <span class="id" title="var">wfty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">m0</span> <span class="id" title="keyword">as</span> [? [? ?]]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Template.WfAst.html#wf_mkApps_inv"><span class="id" title="lemma">WfAst.wf_mkApps_inv</span></a>: <span class="id" title="var">wfty</span> ⇒ <span class="id" title="var">wfl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 2; <span class="id" title="var">tea</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H2</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">wfty</span> : <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> <span class="id" title="var">Σg</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">Ast.Env.ind_type</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_rev"><span class="id" title="lemma">nth_error_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_alli"><span class="id" title="lemma">nth_error_alli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onI</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#onArity"><span class="id" title="projection">Typing.onArity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onI</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#typing_wf"><span class="id" title="lemma">typing_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#ind_realargs"><span class="id" title="definition">ind_realargs</span></a> /= /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_realargs"><span class="id" title="definition">ST.ind_realargs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_destArity"><span class="id" title="lemma">trans_destArity</span></a> <span class="id" title="var">Σg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfty</span> <span class="id" title="var">wfΣg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">args</span> <span class="id" title="var">s</span>]|] ⇒ /= → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHp</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a>: <span class="id" title="var">wfty</span> ⇒ /= [[<span class="id" title="var">wfb</span> <span class="id" title="var">wfty</span>] <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_subst"><span class="id" title="lemma">WfAst.wf_subst</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a>: <span class="id" title="var">wfty</span> ⇒ /= [<span class="id" title="var">wfty</span> <span class="id" title="var">wft</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">len</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_closedn"><span class="id" title="lemma">trans_closedn</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHon_ctype_positive</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">indv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">on_ctype_variance</span> <span class="id" title="var">_</span> <span class="id" title="var">indv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_cstr_respects_variance"><span class="id" title="lemma">trans_cstr_respects_variance</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onty</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">onty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ceq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_it_mkProd_or_LetIn"><span class="id" title="lemma">closedn_it_mkProd_or_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">hs</span> ⇒ [] <span class="id" title="var">cl</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context_assoc"><span class="id" title="lemma">Ast.Env.app_context_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICContexts.html#smash_context_app_expand"><span class="id" title="lemma">smash_context_app_expand</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_ctx_app"><span class="id" title="lemma">closedn_ctx_app</span></a> /=; <span class="id" title="var">len</span> ⇒ <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_smash_context"><span class="id" title="lemma">closedn_smash_context</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ceq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#cstr_concl"><span class="id" title="definition">cstr_concl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">onty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#type_it_mkProd_or_LetIn_inv"><span class="id" title="lemma">PCUICSpine.type_it_mkProd_or_LetIn_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Δs</span> [<span class="id" title="var">us</span> []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICContexts.html#typing_expand_lets"><span class="id" title="lemma">typing_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_mkApps"><span class="id" title="lemma">PCUICSigmaCalculus.expand_lets_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_mkApps"><span class="id" title="lemma">closedn_mkApps</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb_app"><span class="id" title="lemma">forallb_app</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.config.html#lets_in_constructor_types"><span class="id" title="method">lets_in_constructor_types</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">on_lets_in_type</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">on_lets_in_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">cstr_args0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">a</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">have</span> <span class="id" title="var">onp</span> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onProjections"><span class="id" title="projection">ST.onProjections</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_projs"><span class="id" title="projection">Ast.Env.ind_projs</span></a> <span class="id" title="var">idecl</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_ctors"><span class="id" title="projection">Ast.Env.ind_ctors</span></a> <span class="id" title="var">idecl</span>) <span class="id" title="keyword">as</span> [|? []] <span class="id" title="var">eqn</span>:<span class="id" title="var">hctors</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">onp</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">on_projs_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#Alli_map"><span class="id" title="lemma">Alli_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_impl"><span class="id" title="lemma">Alli_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> [<span class="id" title="var">pname</span> <span class="id" title="var">pdecl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#on_projection"><span class="id" title="definition">ST.on_projection</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_projection"><span class="id" title="definition">on_projection</span></a>. <span class="id" title="var">cbn</span> -[<span class="id" title="var">inds</span> <span class="id" title="var">Σg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> -(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">Ast.Env.app_context</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ // /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] /= <span class="id" title="var">hb</span> → →. <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>. <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_projs"><span class="id" title="lemma">trans_projs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">have</span> <span class="id" title="var">inds</span> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_sorts"><span class="id" title="projection">ST.ind_sorts</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_check_ind_sorts"><span class="id" title="lemma">trans_check_ind_sorts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inds</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">have</span> <span class="id" title="var">inds</span> := <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#onIndices"><span class="id" title="projection">ST.onIndices</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_variance"><span class="id" title="projection">Ast.Env.ind_variance</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_ind_respects_variance"><span class="id" title="lemma">trans_ind_respects_variance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">onarity</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">Σg</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">oni</span>.(<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#ind_arity_eq"><span class="id" title="projection">ST.ind_arity_eq</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">s</span> /<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">subject_closed</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_it_mkProd_or_LetIn"><span class="id" title="lemma">closedn_it_mkProd_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">onP</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Template.Typing.html#env_prop_wf_local"><span class="id" title="lemma">Typing.env_prop_wf_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">onP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> -[<span class="id" title="var">trans_global</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">onVariance</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">onVariance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_variance"><span class="id" title="definition">on_variance</span></a>, <a class="idref" href="MetaCoq.Template.Typing.html#on_variance"><span class="id" title="definition">Typing.on_variance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">Ast.Env.ind_universes</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_variance"><span class="id" title="projection">Ast.Env.ind_variance</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">univs'</span> [<span class="id" title="var">i</span> [<span class="id" title="var">i'</span> []]]] <span class="id" title="var">vu</span> <span class="id" title="var">cu</span> <span class="id" title="var">cu'</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">univs'</span>, <span class="id" title="var">i</span>, <span class="id" title="var">i'</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <span class="id" title="var">Σg</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_ext_map_global_env_ext"><span class="id" title="definition">global_env_ext_map_global_env_ext</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_consistent_instance_ext_gen"><span class="id" title="lemma">trans_consistent_instance_ext_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="template_to_pcuic_env" class="idref" href="#template_to_pcuic_env"><span class="id" title="lemma">template_to_pcuic_env</span></a> {<a id="cf:892" class="idref" href="#cf:892"><span class="id" title="binder">cf</span></a>} <a id="d45a9f110ee14e31924482787d467fce" class="idref" href="#d45a9f110ee14e31924482787d467fce"><span class="id" title="binder">Σ</span></a> :<a class="idref" href="MetaCoq.Template.Typing.html#wf"><span class="id" title="class">Template.Typing.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d45a9f110ee14e31924482787d467fce"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#d45a9f110ee14e31924482787d467fce"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_on_global_env"><span class="id" title="lemma">trans_on_global_env</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_prop_typing"><span class="id" title="lemma">ST.env_prop_typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_wf_local"><span class="id" title="lemma">ST.typing_wf_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_wf_local"><span class="id" title="lemma">ST.typing_wf_local</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">X2</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Template.Ast.html#tSort"><span class="id" title="constructor">Ast.tSort</span></a> <span class="id" title="var">s</span>)); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="template_to_pcuic_env_ext" class="idref" href="#template_to_pcuic_env_ext"><span class="id" title="lemma">template_to_pcuic_env_ext</span></a> {<a id="cf:894" class="idref" href="#cf:894"><span class="id" title="binder">cf</span></a>} <a id="68fe5dad08a67f1b6f13ed513fa18640" class="idref" href="#68fe5dad08a67f1b6f13ed513fa18640"><span class="id" title="binder">Σ</span></a> :<a class="idref" href="MetaCoq.Template.Typing.html#wf_ext"><span class="id" title="definition">Template.Typing.wf_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#68fe5dad08a67f1b6f13ed513fa18640"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#68fe5dad08a67f1b6f13ed513fa18640"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">u</span> <span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic_env"><span class="id" title="lemma">template_to_pcuic_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#trans_env_env_universes"><span class="id" title="lemma">trans_env_env_universes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">udecl</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="template_to_pcuic_typing" class="idref" href="#template_to_pcuic_typing"><span class="id" title="lemma">template_to_pcuic_typing</span></a> {<a id="cf:896" class="idref" href="#cf:896"><span class="id" title="binder">cf</span></a>} {<a id="0ecee77066fee3c317ce91ce34b8a116" class="idref" href="#0ecee77066fee3c317ce91ce34b8a116"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">Ast.Env.global_env_ext</span></a>} <a id="48f23202bf54bda55f42df5729b7575d" class="idref" href="#48f23202bf54bda55f42df5729b7575d"><span class="id" title="binder">Γ</span></a> <a id="t:899" class="idref" href="#t:899"><span class="id" title="binder">t</span></a> <a id="T:900" class="idref" href="#T:900"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#wf"><span class="id" title="class">ST.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0ecee77066fee3c317ce91ce34b8a116"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0ecee77066fee3c317ce91ce34b8a116"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#48f23202bf54bda55f42df5729b7575d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:899"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:900"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="693d059efa48e0bc062ce6646c2d67fa" class="idref" href="#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#0ecee77066fee3c317ce91ce34b8a116"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#48f23202bf54bda55f42df5729b7575d"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#t:899"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUIC.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#T:900"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#env_prop_typing"><span class="id" title="lemma">ST.env_prop_typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic"><span class="id" title="lemma">template_to_pcuic</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#typing_wf_local"><span class="id" title="lemma">ST.typing_wf_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.TemplateToPCUICCorrectness.html#template_to_pcuic_env"><span class="id" title="lemma">template_to_pcuic_env</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
