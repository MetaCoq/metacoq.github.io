<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.PCUIC.PCUICSigmaCalculus</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#"><span class="id" title="library">PCUICCases</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations.Prop.DepElim</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="var">With</span> <span class="id" title="var">UIP</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
</div>

<div class="doc">
<a id="lab67"></a><h1 class="section">Theory of σ-calculus operations</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">sigma_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">sigma_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">sigma_scope</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sigma</span> := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "sigma" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">id</span>) := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span> <span class="id" title="tactic">in</span> <span class="id" title="var">id</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="30ca5c6e540a9e0f10490cd54315c0c4" class="idref" href="#30ca5c6e540a9e0f10490cd54315c0c4"><span class="id" title="notation">&quot;</span></a>∘i" := (<span class="id" title="keyword">fun</span> (<a id="f:1" class="idref" href="#f:1"><span class="id" title="binder">f</span></a> <a id="g:2" class="idref" href="#g:2"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <span class="id" title="keyword">fun</span> <a id="i:3" class="idref" href="#i:3"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:1"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:3"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:2"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:3"><span class="id" title="variable">i</span></a>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="renamingT" class="idref" href="#renamingT"><span class="id" title="definition">renamingT</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="substitutionT" class="idref" href="#substitutionT"><span class="id" title="definition">substitutionT</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>.<br/>

<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">sigma_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">substitutionT</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_compare_specs</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> ?<span class="id" title="var">y</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> ?<span class="id" title="var">y</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Sigma&nbsp;calculus&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
Shift a renaming <span class="inlinecode"><span class="id" title="var">f</span></span> by <span class="inlinecode"><span class="id" title="var">k</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="shiftn" class="idref" href="#shiftn"><span class="id" title="definition">shiftn</span></a> <a id="k:4" class="idref" href="#k:4"><span class="id" title="binder">k</span></a> <a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb"><span class="id" title="definition">Nat.ltb</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:4"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:5"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:4"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="map_predicate_shift" class="idref" href="#map_predicate_shift"><span class="id" title="section">map_predicate_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="T:7" class="idref" href="#T:7"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="fn:8" class="idref" href="#fn:8"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="shift:9" class="idref" href="#shift:9"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="finst:10" class="idref" href="#finst:10"><span class="id" title="binder">finst</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.T"><span class="id" title="variable">T</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="map_predicate_shift" class="idref" href="#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> (<a id="p:12" class="idref" href="#p:12"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.fn"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.f"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:12"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.finst"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:12"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:12"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.fn"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.shift"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:12"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.f"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:12"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_shift_pparams" class="idref" href="#map_shift_pparams"><span class="id" title="lemma">map_shift_pparams</span></a> (<a id="p:13" class="idref" href="#p:13"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.fn"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.f"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:13"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:13"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_shift_preturn" class="idref" href="#map_shift_preturn"><span class="id" title="lemma">map_shift_preturn</span></a> (<a id="p:14" class="idref" href="#p:14"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.fn"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.shift"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:14"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.f"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:14"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:14"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_shift_pcontext" class="idref" href="#map_shift_pcontext"><span class="id" title="lemma">map_shift_pcontext</span></a> (<a id="p:15" class="idref" href="#p:15"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:15"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:15"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_shift_puinst" class="idref" href="#map_shift_puinst"><span class="id" title="lemma">map_shift_puinst</span></a> (<a id="p:16" class="idref" href="#p:16"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift.finst"><span class="id" title="variable">finst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:16"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:16"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="section">map_predicate_shift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="map_branch_shift" class="idref" href="#map_branch_shift"><span class="id" title="section">map_branch_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="T:17" class="idref" href="#T:17"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="fn:18" class="idref" href="#fn:18"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="shift:19" class="idref" href="#shift:19"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="f:20" class="idref" href="#f:20"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.T"><span class="id" title="variable">T</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="map_branch_shift" class="idref" href="#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> (<a id="b:21" class="idref" href="#b:21"><span class="id" title="binder">b</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:21"><span class="id" title="variable">b</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.fn"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.shift"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:21"><span class="id" title="variable">b</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.f"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:21"><span class="id" title="variable">b</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_shift_bbody" class="idref" href="#map_shift_bbody"><span class="id" title="lemma">map_shift_bbody</span></a> (<a id="b:22" class="idref" href="#b:22"><span class="id" title="binder">b</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.fn"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.shift"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:22"><span class="id" title="variable">b</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift.f"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:22"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:22"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_shift_bcontext" class="idref" href="#map_shift_bcontext"><span class="id" title="lemma">map_shift_bcontext</span></a> (<a id="b:23" class="idref" href="#b:23"><span class="id" title="binder">b</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:23"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:23"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="section">map_branch_shift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="map_branches_shift" class="idref" href="#map_branches_shift"><span class="id" title="abbreviation">map_branches_shift</span></a> <span class="id" title="var">ren</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <span class="id" title="var">ren</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="rename" class="idref" href="#rename"><span class="id" title="definition">rename</span></a> (<a id="f:24" class="idref" href="#f:24"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#renamingT"><span class="id" title="definition">renamingT</span></a>) <a id="t:25" class="idref" href="#t:25"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:25"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>) <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>) <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>) <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">b</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:25"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>) <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':28" class="idref" href="#p':28"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">p</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':29" class="idref" href="#brs':29"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branches_shift"><span class="id" title="abbreviation">map_branches_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p':28"><span class="id" title="variable">p'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">c</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#brs':29"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':30" class="idref" href="#mfix':30"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>))) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix':30"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':31" class="idref" href="#mfix':31"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename:26"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:24"><span class="id" title="variable">f</span></a>))) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix':31"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="rename_predicate" class="idref" href="#rename_predicate"><span class="id" title="abbreviation">rename_predicate</span></a> := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="rename_branches" class="idref" href="#rename_branches"><span class="id" title="abbreviation">rename_branches</span></a> <span class="id" title="var">f</span> := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branches_shift"><span class="id" title="abbreviation">map_branches_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Definition</span> <a id="rename_context" class="idref" href="#rename_context"><span class="id" title="definition">rename_context</span></a> <a id="f:32" class="idref" href="#f:32"><span class="id" title="binder">f</span></a> (<a id="3661fdf62dabbfc4878efd8bfc8bcb25" class="idref" href="#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="i:34" class="idref" href="#i:34"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:34"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:32"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="rename_decl" class="idref" href="#rename_decl"><span class="id" title="definition">rename_decl</span></a> <a id="f:35" class="idref" href="#f:35"><span class="id" title="binder">f</span></a> <a id="d:36" class="idref" href="#d:36"><span class="id" title="binder">d</span></a> := <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:35"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d:36"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="rename_telescope" class="idref" href="#rename_telescope"><span class="id" title="definition">rename_telescope</span></a> <a id="r:37" class="idref" href="#r:37"><span class="id" title="binder">r</span></a> <a id="58b9c22bd4c189dcaf393523ec57d769" class="idref" href="#58b9c22bd4c189dcaf393523ec57d769"><span class="id" title="binder">Γ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> <a id="i:39" class="idref" href="#i:39"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:39"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:37"><span class="id" title="variable">r</span></a>))) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#58b9c22bd4c189dcaf393523ec57d769"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_ext" class="idref" href="#shiftn_ext"><span class="id" title="lemma">shiftn_ext</span></a> <a id="n:40" class="idref" href="#n:40"><span class="id" title="binder">n</span></a> <a id="f:41" class="idref" href="#f:41"><span class="id" title="binder">f</span></a> <a id="f':42" class="idref" href="#f':42"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:41"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':42"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:43"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:41"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:44"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':42"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:44"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb"><span class="id" title="definition">Nat.ltb</span></a>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="shiftn_proper" class="idref" href="#shiftn_proper"><span class="id" title="instance">shiftn_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> → <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> ?. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_ext"><span class="id" title="lemma">shiftn_ext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_id" class="idref" href="#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a> <a id="i:45" class="idref" href="#i:45"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:45"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>. <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_shift_eq_spec" class="idref" href="#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a> {<a id="T:46" class="idref" href="#T:46"><span class="id" title="binder">T</span></a> <a id="T':47" class="idref" href="#T':47"><span class="id" title="binder">T'</span></a>} <a id="fn:48" class="idref" href="#fn:48"><span class="id" title="binder">fn</span></a> <a id="fn':49" class="idref" href="#fn':49"><span class="id" title="binder">fn'</span></a> <a id="shift:50" class="idref" href="#shift:50"><span class="id" title="binder">shift</span></a> <a id="shift':51" class="idref" href="#shift':51"><span class="id" title="binder">shift'</span></a><br/>
&nbsp;&nbsp;<a id="finst:52" class="idref" href="#finst:52"><span class="id" title="binder">finst</span></a> <a id="finst':53" class="idref" href="#finst':53"><span class="id" title="binder">finst'</span></a> (<a id="f:54" class="idref" href="#f:54"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:46"><span class="id" title="variable">T</span></a>) (<a id="f':55" class="idref" href="#f':55"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':47"><span class="id" title="variable">T'</span></a>) (<a id="p:56" class="idref" href="#p:56"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:52"><span class="id" title="variable">finst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':53"><span class="id" title="variable">finst'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:48"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:54"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':49"><span class="id" title="variable">fn'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':55"><span class="id" title="variable">f'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:48"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:50"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:54"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':49"><span class="id" title="variable">fn'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':51"><span class="id" title="variable">shift'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':55"><span class="id" title="variable">f'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:48"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:50"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:52"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':49"><span class="id" title="variable">fn'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':51"><span class="id" title="variable">shift'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':53"><span class="id" title="variable">finst'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':55"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:56"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">map_predicate_shift_eq_spec</span> : <span class="id" title="var">all</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_branch_shift_eq_spec" class="idref" href="#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a> {<a id="T:57" class="idref" href="#T:57"><span class="id" title="binder">T</span></a> <a id="T':58" class="idref" href="#T':58"><span class="id" title="binder">T'</span></a>} (<a id="fn:59" class="idref" href="#fn:59"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:57"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;(<a id="fn':60" class="idref" href="#fn':60"><span class="id" title="binder">fn'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':58"><span class="id" title="variable">T'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;<a id="shift:61" class="idref" href="#shift:61"><span class="id" title="binder">shift</span></a> <a id="shift':62" class="idref" href="#shift':62"><span class="id" title="binder">shift'</span></a> (<a id="f:63" class="idref" href="#f:63"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:57"><span class="id" title="variable">T</span></a>) (<a id="g:64" class="idref" href="#g:64"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':58"><span class="id" title="variable">T'</span></a>) (<a id="x:65" class="idref" href="#x:65"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:59"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:61"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:65"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:63"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:65"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':60"><span class="id" title="variable">fn'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':62"><span class="id" title="variable">shift'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:65"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:64"><span class="id" title="variable">g</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:65"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:59"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:61"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:63"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:65"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':60"><span class="id" title="variable">fn'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':62"><span class="id" title="variable">shift'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:64"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:65"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">map_branch_shift_eq_spec</span> : <span class="id" title="var">all</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_shift_id_spec" class="idref" href="#map_predicate_shift_id_spec"><span class="id" title="lemma">map_predicate_shift_id_spec</span></a> {<a id="T:66" class="idref" href="#T:66"><span class="id" title="binder">T</span></a>} {<a id="fn:67" class="idref" href="#fn:67"><span class="id" title="binder">fn</span></a> <a id="shift:68" class="idref" href="#shift:68"><span class="id" title="binder">shift</span></a>} {<a id="finst:69" class="idref" href="#finst:69"><span class="id" title="binder">finst</span></a>} {<a id="f:70" class="idref" href="#f:70"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:66"><span class="id" title="variable">T</span></a>} (<a id="p:71" class="idref" href="#p:71"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:69"><span class="id" title="variable">finst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:67"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:70"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:67"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:68"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:70"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:67"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:68"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:69"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:71"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">map_predicate_shift_id_spec</span> : <span class="id" title="var">all</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_branch_shift_id_spec" class="idref" href="#map_branch_shift_id_spec"><span class="id" title="lemma">map_branch_shift_id_spec</span></a> {<a id="T:72" class="idref" href="#T:72"><span class="id" title="binder">T</span></a>} {<a id="fn:73" class="idref" href="#fn:73"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:72"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>} {<a id="shift:74" class="idref" href="#shift:74"><span class="id" title="binder">shift</span></a>} {<a id="f:75" class="idref" href="#f:75"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:72"><span class="id" title="variable">T</span></a>} (<a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:73"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:74"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:76"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:75"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:76"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:73"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:74"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:75"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:76"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">map_branch_shift_id_spec</span> : <span class="id" title="var">all</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_ext" class="idref" href="#rename_ext"><span class="id" title="lemma">rename_ext</span></a> <a id="f:77" class="idref" href="#f:77"><span class="id" title="binder">f</span></a> <a id="f':78" class="idref" href="#f':78"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':78"><span class="id" title="variable">f'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:77"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':78"><span class="id" title="variable">f'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>. <span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_ext"><span class="id" title="lemma">shiftn_ext</span></a>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_ext"><span class="id" title="lemma">shiftn_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_ext"><span class="id" title="lemma">shiftn_ext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="rename_branch" class="idref" href="#rename_branch"><span class="id" title="abbreviation">rename_branch</span></a> := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="rename_proper" class="idref" href="#rename_proper"><span class="id" title="instance">rename_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> →. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ext"><span class="id" title="lemma">rename_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="rename_proper_pointwise" class="idref" href="#rename_proper_pointwise"><span class="id" title="instance">rename_proper_pointwise</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">t</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ext"><span class="id" title="lemma">rename_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_shift_proper" class="idref" href="#map_predicate_shift_proper"><span class="id" title="lemma">map_predicate_shift_proper</span></a> {<a id="T:79" class="idref" href="#T:79"><span class="id" title="binder">T</span></a>} (<a id="fn:80" class="idref" href="#fn:80"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:79"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="shift:81" class="idref" href="#shift:81"><span class="id" title="binder">shift</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:80"><span class="id" title="variable">fn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:81"><span class="id" title="variable">shift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:80"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:81"><span class="id" title="variable">shift</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfn</span> <span class="id" title="var">Hshift</span> <span class="id" title="var">finst</span> <span class="id" title="var">finst'</span> <span class="id" title="var">Hfinst</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinst</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="rename_predicate_proper" class="idref" href="#rename_predicate_proper"><span class="id" title="instance">rename_predicate_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_predicate"><span class="id" title="abbreviation">rename_predicate</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_proper"><span class="id" title="lemma">map_predicate_shift_proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_branch_shift_proper" class="idref" href="#map_branch_shift_proper"><span class="id" title="lemma">map_branch_shift_proper</span></a> {<a id="T:82" class="idref" href="#T:82"><span class="id" title="binder">T</span></a>} (<a id="fn:83" class="idref" href="#fn:83"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:82"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="shift:84" class="idref" href="#shift:84"><span class="id" title="binder">shift</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:83"><span class="id" title="variable">fn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:84"><span class="id" title="variable">shift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:83"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:84"><span class="id" title="variable">shift</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfn</span> <span class="id" title="var">Hshift</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="rename_branch_proper" class="idref" href="#rename_branch_proper"><span class="id" title="instance">rename_branch_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branch"><span class="id" title="abbreviation">rename_branch</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_proper"><span class="id" title="lemma">map_branch_shift_proper</span></a>; <span class="id" title="var">tc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn0" class="idref" href="#shiftn0"><span class="id" title="lemma">shiftn0</span></a> <a id="r:85" class="idref" href="#r:85"><span class="id" title="binder">r</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:85"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:85"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">x</span> 0); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnS" class="idref" href="#shiftnS"><span class="id" title="lemma">shiftnS</span></a> <a id="n:86" class="idref" href="#n:86"><span class="id" title="binder">n</span></a> <a id="r:87" class="idref" href="#r:87"><span class="id" title="binder">r</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:86"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:87"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 1 (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:86"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:87"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">n</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)); <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_add" class="idref" href="#shiftn_add"><span class="id" title="lemma">shiftn_add</span></a> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> <a id="m:89" class="idref" href="#m:89"><span class="id" title="binder">m</span></a> <a id="f:90" class="idref" href="#f:90"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:88"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:89"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:90"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:89"><span class="id" title="variable">m</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:90"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">m</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">m</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">m</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn0"><span class="id" title="lemma">shiftn0</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rshiftk" class="idref" href="#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a id="n:91" class="idref" href="#n:91"><span class="id" title="binder">n</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add"><span class="id" title="definition">Nat.add</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:91"><span class="id" title="variable">n</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="rshiftk_proper" class="idref" href="#rshiftk_proper"><span class="id" title="instance">rshiftk_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_rshiftk" class="idref" href="#shiftn_rshiftk"><span class="id" title="lemma">shiftn_rshiftk</span></a> <a id="n:92" class="idref" href="#n:92"><span class="id" title="binder">n</span></a> <a id="f:93" class="idref" href="#f:93"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:92"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:93"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:92"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:92"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:93"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> /=. <span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_rshiftk"><span class="id" title="lemma">shiftn_rshiftk</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_1_S" class="idref" href="#shiftn_1_S"><span class="id" title="lemma">shiftn_1_S</span></a> <a id="f:94" class="idref" href="#f:94"><span class="id" title="binder">f</span></a> <a id="x:95" class="idref" href="#x:95"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:94"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:95"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> 1 (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:94"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:95"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_1_S"><span class="id" title="lemma">shiftn_1_S</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_renaming" class="idref" href="#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a id="n:96" class="idref" href="#n:96"><span class="id" title="binder">n</span></a> <a id="k:97" class="idref" href="#k:97"><span class="id" title="binder">k</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:98" class="idref" href="#i:98"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:97"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:98"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="comment">(*&nbsp;Lifted&nbsp;*)</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:96"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:98"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:98"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_renaming_spec" class="idref" href="#lift_renaming_spec"><span class="id" title="lemma">lift_renaming_spec</span></a> <a id="n:99" class="idref" href="#n:99"><span class="id" title="binder">n</span></a> <a id="k:100" class="idref" href="#k:100"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:99"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:100"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:100"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:99"><span class="id" title="variable">n</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_renaming_0_rshift" class="idref" href="#lift_renaming_0_rshift"><span class="id" title="lemma">lift_renaming_0_rshift</span></a> <a id="k:101" class="idref" href="#k:101"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:101"><span class="id" title="variable">k</span></a> 0 <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:101"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_lift_renaming" class="idref" href="#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a> <a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> <a id="k:104" class="idref" href="#k:104"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:103"><span class="id" title="variable">m</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:104"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:102"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:104"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_spec"><span class="id" title="lemma">lift_renaming_spec</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_add"><span class="id" title="lemma">shiftn_add</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_rename" class="idref" href="#lift_rename"><span class="id" title="lemma">lift_rename</span></a> <a id="n:105" class="idref" href="#n:105"><span class="id" title="binder">n</span></a> <a id="k:106" class="idref" href="#k:106"><span class="id" title="binder">k</span></a> <a id="t:107" class="idref" href="#t:107"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:105"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:106"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:107"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:105"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:106"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:107"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H</span> ?<span class="id" title="var">H0</span> ?<span class="id" title="var">H1</span>; <span class="id" title="tactic">reflexivity</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>, <span class="id" title="var">rename_predicate</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#shiftf"><span class="id" title="definition">shiftf</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#shiftf"><span class="id" title="definition">shiftf</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift0_rename" class="idref" href="#lift0_rename"><span class="id" title="lemma">lift0_rename</span></a> <a id="k:108" class="idref" href="#k:108"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:108"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:108"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_0_rshift"><span class="id" title="lemma">lift_renaming_0_rshift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift0_rename"><span class="id" title="lemma">lift0_rename</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="up" class="idref" href="#up"><span class="id" title="definition">up</span></a> <a id="k:109" class="idref" href="#k:109"><span class="id" title="binder">k</span></a> (<a id="s:110" class="idref" href="#s:110"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:111" class="idref" href="#i:111"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:109"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:111"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add"><span class="id" title="definition">Nat.add</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:109"><span class="id" title="variable">k</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:110"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:111"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:109"><span class="id" title="variable">k</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:111"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_compose" class="idref" href="#shiftn_compose"><span class="id" title="lemma">shiftn_compose</span></a> <a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a> <a id="f:113" class="idref" href="#f:113"><span class="id" title="binder">f</span></a> <a id="f':114" class="idref" href="#f':114"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:112"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:112"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':114"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:112"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':114"><span class="id" title="variable">f'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">n</span>) ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">Nat.ltb_lt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">f'</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>)) <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">f'</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f'</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;map_branches_shiftn&nbsp;(fn&nbsp;:&nbsp;(renamingT)&nbsp;-&gt;&nbsp;term&nbsp;-&gt;&nbsp;term)&nbsp;f&nbsp;f'&nbsp;l&nbsp;:<br/>
&nbsp;&nbsp;map_branches_shift&nbsp;fn&nbsp;f&nbsp;(map_branches_shift&nbsp;fn&nbsp;f'&nbsp;l)&nbsp;=<br/>
&nbsp;&nbsp;List.map&nbsp;(fun&nbsp;i&nbsp;=&gt;&nbsp;map_branch&nbsp;(fn&nbsp;(shiftn&nbsp;|bcontext i| f) ∘ (fn (shiftn |bcontext&nbsp;i|&nbsp;f')))&nbsp;i)&nbsp;l.<br/>
Proof.<br/>
&nbsp;&nbsp;rewrite&nbsp;map_map_compose.&nbsp;apply&nbsp;map_ext&nbsp;=&gt;&nbsp;i.<br/>
&nbsp;&nbsp;rewrite&nbsp;map_branch_shift_map_branch_shift.<br/>
&nbsp;&nbsp;simpl.&nbsp;now&nbsp;apply&nbsp;map_branch_eq_spec.<br/>
Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapi_context_compose" class="idref" href="#mapi_context_compose"><span class="id" title="lemma">mapi_context_compose</span></a> <a id="f:115" class="idref" href="#f:115"><span class="id" title="binder">f</span></a> <a id="f':116" class="idref" href="#f':116"><span class="id" title="binder">f'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':116"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#30ca5c6e540a9e0f10490cd54315c0c4"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#30ca5c6e540a9e0f10490cd54315c0c4"><span class="id" title="notation">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':116"><span class="id" title="variable">f'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context_fold"><span class="id" title="lemma">mapi_context_fold</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_compose"><span class="id" title="lemma">fold_context_k_compose</span></a> - !<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context_fold"><span class="id" title="lemma">mapi_context_fold</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mapi_context_compose"><span class="id" title="lemma">mapi_context_compose</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_compose" class="idref" href="#rename_compose"><span class="id" title="lemma">rename_compose</span></a> <a id="f:117" class="idref" href="#f:117"><span class="id" title="binder">f</span></a> <a id="f':118" class="idref" href="#f':118"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':118"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':118"><span class="id" title="variable">f'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">f'</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">∀</span> <a id="f:121" class="idref" href="#f:121"><span class="id" title="binder">f</span></a> <a id="f':122" class="idref" href="#f':122"><span class="id" title="binder">f'</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:119"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':120"><span class="id" title="variable">f'</span></a> ?<span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_compose"><span class="id" title="lemma">shiftn_compose</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>; <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ext"><span class="id" title="lemma">rename_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_compose"><span class="id" title="lemma">shiftn_compose</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ext"><span class="id" title="lemma">rename_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_compose"><span class="id" title="lemma">shiftn_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_shift_map_predicate_shift" class="idref" href="#map_predicate_shift_map_predicate_shift"><span class="id" title="lemma">map_predicate_shift_map_predicate_shift</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="T:123" class="idref" href="#T:123"><span class="id" title="binder">T</span></a>} {<a id="fn:124" class="idref" href="#fn:124"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="shift:125" class="idref" href="#shift:125"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="finst:126" class="idref" href="#finst:126"><span class="id" title="binder">finst</span></a> <a id="finst':127" class="idref" href="#finst':127"><span class="id" title="binder">finst'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="f:128" class="idref" href="#f:128"><span class="id" title="binder">f</span></a> <a id="f':129" class="idref" href="#f':129"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="p:130" class="idref" href="#p:130"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="compose:131" class="idref" href="#compose:131"><span class="id" title="binder">compose</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:123"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="shiftn0:133" class="idref" href="#shiftn0:133"><span class="id" title="binder">shiftn0</span></a> : <span class="id" title="keyword">∀</span> <a id="f:132" class="idref" href="#f:132"><span class="id" title="binder">f</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:132"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:132"><span class="id" title="variable">f</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:134" class="idref" href="#i:134"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:134"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:128"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:134"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':129"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:134"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:131"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:128"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':129"><span class="id" title="variable">f'</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:126"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:128"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':127"><span class="id" title="variable">finst'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':129"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:130"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:124"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:125"><span class="id" title="variable">shift</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:126"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':127"><span class="id" title="variable">finst'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:131"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:128"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':129"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:130"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">shift0</span> <span class="id" title="var">Hfn</span> <span class="id" title="var">Hff'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hff'</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hff'</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hff'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">shift0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hff'</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hff'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_shift_map_predicate" class="idref" href="#map_predicate_shift_map_predicate"><span class="id" title="lemma">map_predicate_shift_map_predicate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="T:135" class="idref" href="#T:135"><span class="id" title="binder">T</span></a>} {<a id="fn:136" class="idref" href="#fn:136"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:135"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="shift:137" class="idref" href="#shift:137"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:135"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:135"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="finst:138" class="idref" href="#finst:138"><span class="id" title="binder">finst</span></a> <a id="finst':139" class="idref" href="#finst':139"><span class="id" title="binder">finst'</span></a> <a id="f':140" class="idref" href="#f':140"><span class="id" title="binder">f'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="f:141" class="idref" href="#f:141"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:135"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="p:142" class="idref" href="#p:142"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="compose:143" class="idref" href="#compose:143"><span class="id" title="binder">compose</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:135"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:135"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:143"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> (<span class="id" title="keyword">fun</span> (<a id="k:144" class="idref" href="#k:144"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:137"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:144"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:145"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> (<span class="id" title="keyword">fun</span> <a id="k:146" class="idref" href="#k:146"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:137"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:146"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:143"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a>))) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:137"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:137"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:143"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:137"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:138"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':139"><span class="id" title="variable">finst'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:136"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:137"><span class="id" title="variable">shift</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:138"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':139"><span class="id" title="variable">finst'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:143"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:141"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':140"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:142"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfn</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span> <span class="id" title="var">Hf''</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf''</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_shift_map_predicate_gen" class="idref" href="#map_predicate_shift_map_predicate_gen"><span class="id" title="lemma">map_predicate_shift_map_predicate_gen</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="T:147" class="idref" href="#T:147"><span class="id" title="binder">T</span></a>} {<a id="fn:148" class="idref" href="#fn:148"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:147"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="T':149" class="idref" href="#T':149"><span class="id" title="binder">T'</span></a>} {<a id="fn':150" class="idref" href="#fn':150"><span class="id" title="binder">fn'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':149"><span class="id" title="variable">T'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="shift:151" class="idref" href="#shift:151"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:147"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:147"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="shift':152" class="idref" href="#shift':152"><span class="id" title="binder">shift'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':149"><span class="id" title="variable">T'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':149"><span class="id" title="variable">T'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="finst:153" class="idref" href="#finst:153"><span class="id" title="binder">finst</span></a> <a id="finst':154" class="idref" href="#finst':154"><span class="id" title="binder">finst'</span></a> <a id="f':155" class="idref" href="#f':155"><span class="id" title="binder">f'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="f:156" class="idref" href="#f:156"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:147"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="p:157" class="idref" href="#p:157"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="compose:158" class="idref" href="#compose:158"><span class="id" title="binder">compose</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:147"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T':149"><span class="id" title="variable">T'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:148"><span class="id" title="variable">fn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:148"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':150"><span class="id" title="variable">fn'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:158"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> (<span class="id" title="keyword">fun</span> (<a id="k:159" class="idref" href="#k:159"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:160" class="idref" href="#x:160"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:148"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:151"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:159"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:160"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#mapi_context"><span class="id" title="definition">mapi_context</span></a> (<span class="id" title="keyword">fun</span> <a id="k:161" class="idref" href="#k:161"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':150"><span class="id" title="variable">fn'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':152"><span class="id" title="variable">shift'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:161"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:158"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a>))) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:148"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:151"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':150"><span class="id" title="variable">fn'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':152"><span class="id" title="variable">shift'</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:158"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:148"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:151"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:153"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':154"><span class="id" title="variable">finst'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn':150"><span class="id" title="variable">fn'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift':152"><span class="id" title="variable">shift'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:153"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':154"><span class="id" title="variable">finst'</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:158"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':155"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:157"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfn</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span> <span class="id" title="var">Hf''</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf''</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_predicate_map_predicate_shift" class="idref" href="#map_predicate_map_predicate_shift"><span class="id" title="lemma">map_predicate_map_predicate_shift</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="T:162" class="idref" href="#T:162"><span class="id" title="binder">T</span></a>} {<a id="fn:163" class="idref" href="#fn:163"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:162"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="shift:164" class="idref" href="#shift:164"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:162"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:162"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="finst:165" class="idref" href="#finst:165"><span class="id" title="binder">finst</span></a> <a id="finst':166" class="idref" href="#finst':166"><span class="id" title="binder">finst'</span></a> <a id="f':167" class="idref" href="#f':167"><span class="id" title="binder">f'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="f:168" class="idref" href="#f:168"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:162"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="p:169" class="idref" href="#p:169"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="compose:170" class="idref" href="#compose:170"><span class="id" title="binder">compose</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:162"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:162"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:163"><span class="id" title="variable">fn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="f:171" class="idref" href="#f:171"><span class="id" title="binder">f</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:163"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:171"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:163"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:170"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:171"><span class="id" title="variable">f</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:172" class="idref" href="#k:172"><span class="id" title="binder">k</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:170"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:164"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:172"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:168"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:164"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:172"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:170"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:168"><span class="id" title="variable">f</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':166"><span class="id" title="variable">finst'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:163"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:164"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:165"><span class="id" title="variable">finst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:168"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:169"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:163"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:164"><span class="id" title="variable">shift</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst':166"><span class="id" title="variable">finst'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#finst:165"><span class="id" title="variable">finst</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:170"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':167"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:168"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:169"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfn</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hcom</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hcom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_predicate_rename_predicate" class="idref" href="#rename_predicate_rename_predicate"><span class="id" title="lemma">rename_predicate_rename_predicate</span></a> (<a id="f:173" class="idref" href="#f:173"><span class="id" title="binder">f</span></a> <a id="f':174" class="idref" href="#f':174"><span class="id" title="binder">f'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#renamingT"><span class="id" title="definition">renamingT</span></a>) (<a id="p:175" class="idref" href="#p:175"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_predicate"><span class="id" title="abbreviation">rename_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:173"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_predicate"><span class="id" title="abbreviation">rename_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':174"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:175"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_predicate"><span class="id" title="abbreviation">rename_predicate</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:173"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':174"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p:175"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_map_predicate_shift"><span class="id" title="lemma">map_predicate_shift_map_predicate_shift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">Basics.compose</span></a>) //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn0"><span class="id" title="lemma">shiftn0</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_compose"><span class="id" title="lemma">shiftn_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_predicate_rename_predicate"><span class="id" title="lemma">rename_predicate_rename_predicate</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_branch_shift_map_branch_shift" class="idref" href="#map_branch_shift_map_branch_shift"><span class="id" title="lemma">map_branch_shift_map_branch_shift</span></a> {<a id="T:176" class="idref" href="#T:176"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;{<a id="fn:177" class="idref" href="#fn:177"><span class="id" title="binder">fn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;{<a id="shift:178" class="idref" href="#shift:178"><span class="id" title="binder">shift</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;{<a id="f:179" class="idref" href="#f:179"><span class="id" title="binder">f</span></a> <a id="f':180" class="idref" href="#f':180"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a>} {<a id="b:181" class="idref" href="#b:181"><span class="id" title="binder">b</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>}<br/>
&nbsp;&nbsp;(<a id="compose:182" class="idref" href="#compose:182"><span class="id" title="binder">compose</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#T:176"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:183" class="idref" href="#i:183"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:177"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:178"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:183"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:179"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:177"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:178"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:183"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':180"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:177"><span class="id" title="variable">fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:178"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:183"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:182"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:179"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':180"><span class="id" title="variable">f'</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:177"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:178"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:179"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:177"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:178"><span class="id" title="variable">shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':180"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:181"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fn:177"><span class="id" title="variable">fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift:178"><span class="id" title="variable">shift</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose:182"><span class="id" title="variable">compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:179"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':180"><span class="id" title="variable">f'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:181"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hfn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_branch_rename_branch" class="idref" href="#rename_branch_rename_branch"><span class="id" title="lemma">rename_branch_rename_branch</span></a> <a id="f:184" class="idref" href="#f:184"><span class="id" title="binder">f</span></a> <a id="f':185" class="idref" href="#f':185"><span class="id" title="binder">f'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branch"><span class="id" title="abbreviation">rename_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branch"><span class="id" title="abbreviation">rename_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':185"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branch"><span class="id" title="abbreviation">rename_branch</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':185"><span class="id" title="variable">f'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_map_branch_shift"><span class="id" title="lemma">map_branch_shift_map_branch_shift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">Basics.compose</span></a>) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_compose"><span class="id" title="lemma">shiftn_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branch_rename_branch"><span class="id" title="lemma">rename_branch_rename_branch</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_branches_rename_branches" class="idref" href="#rename_branches_rename_branches"><span class="id" title="lemma">rename_branches_rename_branches</span></a> <a id="f:186" class="idref" href="#f:186"><span class="id" title="binder">f</span></a> <a id="f':187" class="idref" href="#f':187"><span class="id" title="binder">f'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branches"><span class="id" title="abbreviation">rename_branches</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:186"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branches"><span class="id" title="abbreviation">rename_branches</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':187"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branches"><span class="id" title="abbreviation">rename_branches</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:186"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f':187"><span class="id" title="variable">f'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">br</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_branches_rename_branches"><span class="id" title="lemma">rename_branches_rename_branches</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_shiftn" class="idref" href="#rename_shiftn"><span class="id" title="lemma">rename_shiftn</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="f:188" class="idref" href="#f:188"><span class="id" title="binder">f</span></a> <a id="k:189" class="idref" href="#k:189"><span class="id" title="binder">k</span></a> <a id="t:190" class="idref" href="#t:190"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:189"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:188"><span class="id" title="variable">f</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:189"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:190"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:189"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:188"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:190"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift0_rename"><span class="id" title="lemma">lift0_rename</span></a> !(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_up" class="idref" href="#up_up"><span class="id" title="lemma">up_up</span></a> <a id="k:191" class="idref" href="#k:191"><span class="id" title="binder">k</span></a> <a id="k':192" class="idref" href="#k':192"><span class="id" title="binder">k'</span></a> <a id="s:193" class="idref" href="#s:193"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:191"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k':192"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:193"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:191"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k':192"><span class="id" title="variable">k'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:193"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span>) ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k'</span>) <span class="id" title="var">x</span>) ⇒ <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k'</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>)) ⇒ <span class="id" title="var">H''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_add_distr"><span class="id" title="lemma">Nat.sub_add_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_compose"><span class="id" title="lemma">rename_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ext"><span class="id" title="lemma">rename_ext</span></a> ⇒ <span class="id" title="var">t</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">edestruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k'</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k'</span>) <span class="id" title="var">x</span>) ⇒ <span class="id" title="var">H'</span>; <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="inst" class="idref" href="#inst"><span class="id" title="definition">inst</span></a> <a id="s:194" class="idref" href="#s:194"><span class="id" title="binder">s</span></a> <a id="u:195" class="idref" href="#u:195"><span class="id" title="binder">u</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#u:195"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#u:195"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">ty</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">b</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">ty</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':198" class="idref" href="#p':198"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">p</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':199" class="idref" href="#brs':199"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#p':198"><span class="id" title="variable">p'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">c</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#brs':199"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':200" class="idref" href="#mfix':200"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>))) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix':200"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':201" class="idref" href="#mfix':201"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst:196"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">mfix</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:194"><span class="id" title="variable">s</span></a>))) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix':201"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="inst_predicate" class="idref" href="#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a> := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="inst_branch" class="idref" href="#inst_branch"><span class="id" title="abbreviation">inst_branch</span></a> := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="inst_branches" class="idref" href="#inst_branches"><span class="id" title="abbreviation">inst_branches</span></a> <span class="id" title="var">f</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_branch"><span class="id" title="abbreviation">inst_branch</span></a> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ren_fn" class="idref" href="#ren_fn"><span class="id" title="definition">ren_fn</span></a> (<a id="l:202" class="idref" href="#l:202"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:203" class="idref" href="#i:203"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:202"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:203"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:203"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:202"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span> ⇒ <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_fn" class="idref" href="#subst_fn"><span class="id" title="definition">subst_fn</span></a> (<a id="l:204" class="idref" href="#l:204"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:205" class="idref" href="#i:205"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:204"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:205"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:205"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:204"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span> ⇒ <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_ext" class="idref" href="#up_ext"><span class="id" title="lemma">up_ext</span></a> <a id="k:206" class="idref" href="#k:206"><span class="id" title="binder">k</span></a> <a id="s:207" class="idref" href="#s:207"><span class="id" title="binder">s</span></a> <a id="s':208" class="idref" href="#s':208"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':208"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:206"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:206"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':208"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">t</span>) ⇒ <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="up_proper" class="idref" href="#up_proper"><span class="id" title="instance">up_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">y</span> &lt;- <span class="id" title="var">f</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext"><span class="id" title="lemma">up_ext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_ext" class="idref" href="#inst_ext"><span class="id" title="lemma">inst_ext</span></a> <a id="s:209" class="idref" href="#s:209"><span class="id" title="binder">s</span></a> <a id="s':210" class="idref" href="#s':210"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:209"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':210"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:209"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':210"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">t</span>. <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext"><span class="id" title="lemma">up_ext</span></a>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext"><span class="id" title="lemma">up_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext"><span class="id" title="lemma">up_ext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="proper_inst" class="idref" href="#proper_inst"><span class="id" title="instance">proper_inst</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> →. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="proper_inst'" class="idref" href="#proper_inst'"><span class="id" title="instance">proper_inst'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">t</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="up_proper'" class="idref" href="#up_proper'"><span class="id" title="instance">up_proper'</span></a> <a id="k:211" class="idref" href="#k:211"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:211"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">reduce_goal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_ext"><span class="id" title="lemma">up_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="inst_predicate_proper" class="idref" href="#inst_predicate_proper"><span class="id" title="instance">inst_predicate_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_predicate"><span class="id" title="abbreviation">inst_predicate</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_proper"><span class="id" title="lemma">map_predicate_shift_proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="inst_branch_proper" class="idref" href="#inst_branch_proper"><span class="id" title="instance">inst_branch_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_branch"><span class="id" title="abbreviation">inst_branch</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_proper"><span class="id" title="lemma">map_branch_shift_proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">tc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ren" class="idref" href="#ren"><span class="id" title="definition">ren</span></a> (<a id="f:212" class="idref" href="#f:212"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#renamingT"><span class="id" title="definition">renamingT</span></a>) : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:213" class="idref" href="#i:213"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:212"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:213"><span class="id" title="variable">i</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="ren_ext" class="idref" href="#ren_ext"><span class="id" title="instance">ren_ext</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>)%<span class="id" title="var">signature</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">reduce_goal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_shiftn" class="idref" href="#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a> <a id="n:214" class="idref" href="#n:214"><span class="id" title="binder">n</span></a> <a id="f:215" class="idref" href="#f:215"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:214"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:215"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:214"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:215"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) ⇒ <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>) ⇒ <span class="id" title="var">H'</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_inst" class="idref" href="#rename_inst"><span class="id" title="lemma">rename_inst</span></a> <a id="f:216" class="idref" href="#f:216"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:216"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:216"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">revert</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_eq_spec"><span class="id" title="lemma">map_predicate_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift_eq_spec"><span class="id" title="lemma">map_branch_shift_eq_spec</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
</div>

<div class="doc">
Show the σ-calculus equations.

<div class="paragraph"> </div>

    Additional combinators: <span class="inlinecode"><span class="id" title="var">idsn</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> for n-identity, <span class="inlinecode"><span class="id" title="var">consn</span></span> for consing a parallel substitution.
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="16384ce131f47c8f429428a74ad5dc38" class="idref" href="#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">&quot;</span></a>t '.[' σ ]" := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> σ <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 6, <span class="id" title="var">format</span> "t .[ σ ]") : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_cons" class="idref" href="#subst_cons"><span class="id" title="definition">subst_cons</span></a> (<a id="t:217" class="idref" href="#t:217"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="f:218" class="idref" href="#f:218"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:219" class="idref" href="#i:219"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:219"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:217"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:218"><span class="id" title="variable">f</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="817df323adfd0755c3de9ec712e1a568" class="idref" href="#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">&quot;</span></a> t ⋅ s " := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a> <span class="id" title="var">t</span> <span class="id" title="var">s</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="subst_cons_proper" class="idref" href="#subst_cons_proper"><span class="id" title="instance">subst_cons_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> → <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="shift" class="idref" href="#shift"><span class="id" title="definition">shift</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="1fd3a2c396e34e34a86464bd59ba64ce" class="idref" href="#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">&quot;</span></a>↑" := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift"><span class="id" title="definition">shift</span></a> : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_compose" class="idref" href="#subst_compose"><span class="id" title="definition">subst_compose</span></a> (<a id="dc746e730c04267e471f5f355e64269b" class="idref" href="#dc746e730c04267e471f5f355e64269b"><span class="id" title="binder">σ</span></a> <a id="076c350863bcc416b59cebaadf67163d" class="idref" href="#076c350863bcc416b59cebaadf67163d"><span class="id" title="binder">τ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:223" class="idref" href="#i:223"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#dc746e730c04267e471f5f355e64269b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:223"><span class="id" title="variable">i</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#076c350863bcc416b59cebaadf67163d"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="cdf5d3dd42c21ebe3fd7367b65e1b81d" class="idref" href="#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">&quot;</span></a>∘s" := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="subst_compose_proper" class="idref" href="#subst_compose_proper"><span class="id" title="instance">subst_compose_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">Hgg'</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hgg'</span> <span class="id" title="var">Hff'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Up" class="idref" href="#Up"><span class="id" title="definition">Up</span></a> <a id="a0e84727f53ba31894b9a61e9ad1aac8" class="idref" href="#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a0e84727f53ba31894b9a61e9ad1aac8"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="53381d4046a55425b79d983532cca692" class="idref" href="#53381d4046a55425b79d983532cca692"><span class="id" title="notation">&quot;</span></a>⇑ s" := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a> <span class="id" title="var">s</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="Up_ext" class="idref" href="#Up_ext"><span class="id" title="instance">Up_ext</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>. <span class="id" title="var">reduce_goal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_Up" class="idref" href="#up_Up"><span class="id" title="lemma">up_Up</span></a> <a id="664ca58032ba07cb82f569b38bf05ebf" class="idref" href="#664ca58032ba07cb82f569b38bf05ebf"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#664ca58032ba07cb82f569b38bf05ebf"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#664ca58032ba07cb82f569b38bf05ebf"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> 1 <span class="id" title="var">i</span>) ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift"><span class="id" title="definition">shift</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; [|<span class="id" title="var">lia</span>]. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Simplify away <span class="inlinecode"><span class="id" title="var">up</span></span> <span class="inlinecode">1</span> 
</div>
<div class="code">
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Up"><span class="id" title="lemma">up_Up</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ids" class="idref" href="#ids"><span class="id" title="definition">ids</span></a> (<a id="x:226" class="idref" href="#x:226"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:226"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ren_id" class="idref" href="#ren_id"><span class="id" title="definition">ren_id</span></a> (<a id="x:227" class="idref" href="#x:227"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:227"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_id_ids" class="idref" href="#ren_id_ids"><span class="id" title="lemma">ren_id_ids</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_ren_id" class="idref" href="#shiftn_ren_id"><span class="id" title="lemma">shiftn_ren_id</span></a> <a id="n:228" class="idref" href="#n:228"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:228"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_ren_id" class="idref" href="#rename_ren_id"><span class="id" title="lemma">rename_ren_id</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_id"><span class="id" title="definition">ren_id</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift_id_spec"><span class="id" title="lemma">map_predicate_shift_id_spec</span></a>; <span class="id" title="var">solve_all</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_id"><span class="id" title="lemma">shiftn_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_ids" class="idref" href="#subst_ids"><span class="id" title="lemma">subst_ids</span></a> <a id="t:229" class="idref" href="#t:229"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:229"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:229"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_id_ids"><span class="id" title="lemma">ren_id_ids</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_ren_id"><span class="id" title="lemma">rename_ren_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids"><span class="id" title="lemma">subst_ids</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compose_ids_r" class="idref" href="#compose_ids_r"><span class="id" title="lemma">compose_ids_r</span></a> <a id="2e12aedcbcb60fd78c86a47252bf41fd" class="idref" href="#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids"><span class="id" title="lemma">subst_ids</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compose_ids_l" class="idref" href="#compose_ids_l"><span class="id" title="lemma">compose_ids_l</span></a> <a id="723824d26a1aa3d1e06b3e37e32564fd" class="idref" href="#723824d26a1aa3d1e06b3e37e32564fd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#723824d26a1aa3d1e06b3e37e32564fd"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#723824d26a1aa3d1e06b3e37e32564fd"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ids_r"><span class="id" title="lemma">compose_ids_r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ids_l"><span class="id" title="lemma">compose_ids_l</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="shiftk" class="idref" href="#shiftk"><span class="id" title="definition">shiftk</span></a> (<a id="k:232" class="idref" href="#k:232"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:233" class="idref" href="#x:233"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:232"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:233"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="a4a32b8308f1780dad4635c3c275ed92" class="idref" href="#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">&quot;</span></a>↑^ k" := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a> <span class="id" title="var">k</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30, <span class="id" title="var">k</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 2, <span class="id" title="var">format</span> "↑^ k") : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftk_0" class="idref" href="#shiftk_0"><span class="id" title="lemma">shiftk_0</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a> 0 <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_consn" class="idref" href="#subst_consn"><span class="id" title="definition">subst_consn</span></a> {<a id="A:234" class="idref" href="#A:234"><span class="id" title="binder">A</span></a>} (<a id="l:235" class="idref" href="#l:235"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:234"><span class="id" title="variable">A</span></a>) (<a id="90b9aeb981b500e2f821860209104486" class="idref" href="#90b9aeb981b500e2f821860209104486"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:234"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:237" class="idref" href="#i:237"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:235"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:237"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#90b9aeb981b500e2f821860209104486"><span class="id" title="variable">σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:237"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:235"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span> ⇒ <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="999cdb9531c4ecd731abe269ac7560c5" class="idref" href="#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">&quot;</span></a> t ⋅n s " := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <span class="id" title="var">t</span> <span class="id" title="var">s</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_nil" class="idref" href="#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a> {<a id="A:238" class="idref" href="#A:238"><span class="id" title="binder">A</span></a>} (<a id="84ff4b647051c5d7b29e0fc546477323" class="idref" href="#84ff4b647051c5d7b29e0fc546477323"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:238"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#84ff4b647051c5d7b29e0fc546477323"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#84ff4b647051c5d7b29e0fc546477323"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_subst_cons" class="idref" href="#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a> <a id="t:240" class="idref" href="#t:240"><span class="id" title="binder">t</span></a> <a id="l:241" class="idref" href="#l:241"><span class="id" title="binder">l</span></a> <a id="6ff0220ff5ddbabff48ddbf7d50273d9" class="idref" href="#6ff0220ff5ddbabff48ddbf7d50273d9"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:240"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:241"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6ff0220ff5ddbabff48ddbf7d50273d9"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:240"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:241"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6ff0220ff5ddbabff48ddbf7d50273d9"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_tip" class="idref" href="#subst_consn_tip"><span class="id" title="lemma">subst_consn_tip</span></a> <a id="t:243" class="idref" href="#t:243"><span class="id" title="binder">t</span></a> <a id="44e93d342e5cd856dc870bcac4742857" class="idref" href="#44e93d342e5cd856dc870bcac4742857"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:243"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#44e93d342e5cd856dc870bcac4742857"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:243"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#44e93d342e5cd856dc870bcac4742857"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_tip"><span class="id" title="lemma">subst_consn_tip</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="subst_consn_proper" class="idref" href="#subst_consn_proper"><span class="id" title="instance">subst_consn_proper</span></a> {<a id="A:245" class="idref" href="#A:245"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (@<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:245"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">l</span> → <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="subst_consn_proper_ext" class="idref" href="#subst_consn_proper_ext"><span class="id" title="instance">subst_consn_proper_ext</span></a> {<a id="A:246" class="idref" href="#A:246"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:246"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">l</span> → <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hff'</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="idsn" class="idref" href="#idsn"><span class="id" title="definition">idsn</span></a> <a id="n:247" class="idref" href="#n:247"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:247"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn:248"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:247"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:247"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_cons_gen" class="idref" href="#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a> {<a id="A:250" class="idref" href="#A:250"><span class="id" title="binder">A</span></a>} (<a id="t:251" class="idref" href="#t:251"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:250"><span class="id" title="variable">A</span></a>) (<a id="f:252" class="idref" href="#f:252"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:250"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:253" class="idref" href="#i:253"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:253"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:251"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:252"><span class="id" title="variable">f</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="subst_cons_gen_proper" class="idref" href="#subst_cons_gen_proper"><span class="id" title="instance">subst_cons_gen_proper</span></a> {<a id="A:255" class="idref" href="#A:255"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (@<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:255"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> &lt;- <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_subst_cons_gen" class="idref" href="#subst_consn_subst_cons_gen"><span class="id" title="lemma">subst_consn_subst_cons_gen</span></a> {<a id="A:256" class="idref" href="#A:256"><span class="id" title="binder">A</span></a>} (<a id="t:257" class="idref" href="#t:257"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:256"><span class="id" title="variable">A</span></a>) <a id="l:258" class="idref" href="#l:258"><span class="id" title="binder">l</span></a> <a id="9532e93a215c9074d232bc5f17a4f4f5" class="idref" href="#9532e93a215c9074d232bc5f17a4f4f5"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:257"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:258"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9532e93a215c9074d232bc5f17a4f4f5"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:257"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:258"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9532e93a215c9074d232bc5f17a4f4f5"><span class="id" title="variable">σ</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_app" class="idref" href="#subst_consn_app"><span class="id" title="lemma">subst_consn_app</span></a> {<a id="A:260" class="idref" href="#A:260"><span class="id" title="binder">A</span></a>} {<a id="l:261" class="idref" href="#l:261"><span class="id" title="binder">l</span></a> <a id="l':262" class="idref" href="#l':262"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:260"><span class="id" title="variable">A</span></a>} {<a id="8be57689b8f556bcb0bf14fed46223d5" class="idref" href="#8be57689b8f556bcb0bf14fed46223d5"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:261"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l':262"><span class="id" title="variable">l'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8be57689b8f556bcb0bf14fed46223d5"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:261"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l':262"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8be57689b8f556bcb0bf14fed46223d5"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons_gen"><span class="id" title="lemma">subst_consn_subst_cons_gen</span></a> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_ge" class="idref" href="#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> {<a id="A:264" class="idref" href="#A:264"><span class="id" title="binder">A</span></a>} {<a id="l:265" class="idref" href="#l:265"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:264"><span class="id" title="variable">A</span></a>} {<a id="i:266" class="idref" href="#i:266"><span class="id" title="binder">i</span></a> <a id="088d492dce57601aaeb6a7f7de916fea" class="idref" href="#088d492dce57601aaeb6a7f7de916fea"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:265"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:266"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:265"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#088d492dce57601aaeb6a7f7de916fea"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#088d492dce57601aaeb6a7f7de916fea"><span class="id" title="variable">σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:266"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:265"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>, σ |- *; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons_gen"><span class="id" title="lemma">subst_consn_subst_cons_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_lt_spec" class="idref" href="#subst_consn_lt_spec"><span class="id" title="lemma">subst_consn_lt_spec</span></a> {<a id="A:268" class="idref" href="#A:268"><span class="id" title="binder">A</span></a>} {<a id="l:269" class="idref" href="#l:269"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:268"><span class="id" title="variable">A</span></a>} {<a id="i:270" class="idref" href="#i:270"><span class="id" title="binder">i</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:270"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:269"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="x:271" class="idref" href="#x:271"><span class="id" title="binder">x</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:269"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:270"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:271"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> (<span class="id" title="keyword">∀</span> <a id="3177bb2137fb232fca23b0e8a69e9285" class="idref" href="#3177bb2137fb232fca23b0e8a69e9285"><span class="id" title="binder">σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:269"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#3177bb2137fb232fca23b0e8a69e9285"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:271"><span class="id" title="variable">x</span></a>)%<span class="id" title="keyword">type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span> |- *; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">i</span>). <span class="id" title="var">forward</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hnth</span> <span class="id" title="var">Hsubst_cons</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_lt" class="idref" href="#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> {<a id="l:273" class="idref" href="#l:273"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>} {<a id="i:274" class="idref" href="#i:274"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="4f03a8ae0f30a91dff1e5cc72943429f" class="idref" href="#4f03a8ae0f30a91dff1e5cc72943429f"><span class="id" title="binder">σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:274"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:273"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:273"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#4f03a8ae0f30a91dff1e5cc72943429f"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:273"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:274"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt_spec"><span class="id" title="lemma">subst_consn_lt_spec</span></a> ⇒ [<span class="id" title="var">x</span> [<span class="id" title="var">hnth</span>] <span class="id" title="var">hl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hnth</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_consn_lt" class="idref" href="#ren_consn_lt"><span class="id" title="lemma">ren_consn_lt</span></a> {<a id="l:276" class="idref" href="#l:276"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="i:277" class="idref" href="#i:277"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="2a6d9ada6b379fc20c48f0cfa0f925f6" class="idref" href="#2a6d9ada6b379fc20c48f0cfa0f925f6"><span class="id" title="binder">σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:277"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:276"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:276"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2a6d9ada6b379fc20c48f0cfa0f925f6"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_fn"><span class="id" title="definition">ren_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:276"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:277"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt_spec"><span class="id" title="lemma">subst_consn_lt_spec</span></a> ⇒ [<span class="id" title="var">x</span> [<span class="id" title="var">hnth</span>] <span class="id" title="var">hl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_fn"><span class="id" title="definition">ren_fn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hnth</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="ren_ids" class="idref" href="#ren_ids"><span class="id" title="definition">ren_ids</span></a> (<a id="n:279" class="idref" href="#n:279"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:279"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids:280"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:279"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:279"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_ids_length" class="idref" href="#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a> <a id="n:282" class="idref" href="#n:282"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:282"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:282"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="idsn_length" class="idref" href="#idsn_length"><span class="id" title="lemma">idsn_length</span></a> <a id="n:283" class="idref" href="#n:283"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:283"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:283"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a> : <span class="id" title="var">len</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="idsn_lt" class="idref" href="#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a> {<a id="n:284" class="idref" href="#n:284"><span class="id" title="binder">n</span></a> <a id="i:285" class="idref" href="#i:285"><span class="id" title="binder">i</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:285"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:284"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:284"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:285"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:285"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">Compare_dec.le_lt_dec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>; <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a> //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_ren_ids_lt" class="idref" href="#nth_ren_ids_lt"><span class="id" title="lemma">nth_ren_ids_lt</span></a> {<a id="n:286" class="idref" href="#n:286"><span class="id" title="binder">n</span></a> <a id="i:287" class="idref" href="#i:287"><span class="id" title="binder">i</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:287"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:286"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:286"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:287"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:287"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_dec"><span class="id" title="definition">Compare_dec.le_lt_dec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>; <span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a> //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_ids_lt" class="idref" href="#ren_ids_lt"><span class="id" title="lemma">ren_ids_lt</span></a> {<a id="n:288" class="idref" href="#n:288"><span class="id" title="binder">n</span></a> <a id="i:289" class="idref" href="#i:289"><span class="id" title="binder">i</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:289"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:288"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_fn"><span class="id" title="definition">ren_fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:288"><span class="id" title="variable">n</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:289"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:289"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_fn"><span class="id" title="definition">ren_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_ren_ids_lt"><span class="id" title="lemma">nth_ren_ids_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_idsn_consn_lt" class="idref" href="#ren_idsn_consn_lt"><span class="id" title="lemma">ren_idsn_consn_lt</span></a> {<a id="i:290" class="idref" href="#i:290"><span class="id" title="binder">i</span></a> <a id="n:291" class="idref" href="#n:291"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="42b0bc8e64cab4e668fd5538f5b79064" class="idref" href="#42b0bc8e64cab4e668fd5538f5b79064"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:290"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:291"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:291"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#42b0bc8e64cab4e668fd5538f5b79064"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:290"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:290"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_consn_lt"><span class="id" title="lemma">ren_consn_lt</span></a>; <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_fn"><span class="id" title="definition">ren_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_ren_ids_lt"><span class="id" title="lemma">nth_ren_ids_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_ids_lt" class="idref" href="#subst_ids_lt"><span class="id" title="lemma">subst_ids_lt</span></a> <a id="i:293" class="idref" href="#i:293"><span class="id" title="binder">i</span></a> <a id="m:294" class="idref" href="#m:294"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:293"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:294"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:294"><span class="id" title="variable">m</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:293"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:293"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">lt</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_idsn_consn_lt" class="idref" href="#subst_idsn_consn_lt"><span class="id" title="lemma">subst_idsn_consn_lt</span></a> {<a id="i:295" class="idref" href="#i:295"><span class="id" title="binder">i</span></a> <a id="n:296" class="idref" href="#n:296"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="c6de0bec499f6e1aa80eb92bbd5a7c18" class="idref" href="#c6de0bec499f6e1aa80eb92bbd5a7c18"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:295"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:296"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:296"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c6de0bec499f6e1aa80eb92bbd5a7c18"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:295"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids_lt"><span class="id" title="lemma">subst_ids_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_idsn_Some" class="idref" href="#nth_error_idsn_Some"><span class="id" title="lemma">nth_error_idsn_Some</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:298" class="idref" href="#n:298"><span class="id" title="binder">n</span></a> <a id="k:299" class="idref" href="#k:299"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:299"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:298"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:298"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:299"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:299"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span>, <span class="id" title="var">h</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_app1"><span class="id" title="lemma">nth_error_app1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_app2"><span class="id" title="lemma">nth_error_app2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>. <span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_idsn_None" class="idref" href="#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:300" class="idref" href="#n:300"><span class="id" title="binder">n</span></a> <a id="k:301" class="idref" href="#k:301"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:301"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:300"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:300"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:301"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_cons_0" class="idref" href="#subst_cons_0"><span class="id" title="lemma">subst_cons_0</span></a> <a id="t:302" class="idref" href="#t:302"><span class="id" title="binder">t</span></a> <a id="7e936ec36f7af4330ac4504efb9fea4a" class="idref" href="#7e936ec36f7af4330ac4504efb9fea4a"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> 0<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:302"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#7e936ec36f7af4330ac4504efb9fea4a"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:302"><span class="id" title="variable">t</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_cons_shift" class="idref" href="#subst_cons_shift"><span class="id" title="lemma">subst_cons_shift</span></a> <a id="t:304" class="idref" href="#t:304"><span class="id" title="binder">t</span></a> <a id="dfdc303f41cbb8c8a66cf3c5b08ab952" class="idref" href="#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:304"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="variable">σ</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_0"><span class="id" title="lemma">subst_cons_0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_shift"><span class="id" title="lemma">subst_cons_shift</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftk_shift" class="idref" href="#shiftk_shift"><span class="id" title="lemma">shiftk_shift</span></a> <a id="n:306" class="idref" href="#n:306"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:306"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:306"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftk_shift_l" class="idref" href="#shiftk_shift_l"><span class="id" title="lemma">shiftk_shift_l</span></a> <a id="n:307" class="idref" href="#n:307"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:307"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:307"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_subst_consn" class="idref" href="#subst_subst_consn"><span class="id" title="lemma">subst_subst_consn</span></a> <a id="s:308" class="idref" href="#s:308"><span class="id" title="binder">s</span></a> <a id="6a2233fa4749e1a3b9ad88f67f48aa56" class="idref" href="#6a2233fa4749e1a3b9ad88f67f48aa56"><span class="id" title="binder">σ</span></a> <a id="1193e4d4c5925a0eeedbc03b80835e46" class="idref" href="#1193e4d4c5925a0eeedbc03b80835e46"><span class="id" title="binder">τ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:308"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6a2233fa4749e1a3b9ad88f67f48aa56"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1193e4d4c5925a0eeedbc03b80835e46"><span class="id" title="variable">τ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:308"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1193e4d4c5925a0eeedbc03b80835e46"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6a2233fa4749e1a3b9ad88f67f48aa56"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1193e4d4c5925a0eeedbc03b80835e46"><span class="id" title="variable">τ</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_subst_consn"><span class="id" title="lemma">subst_subst_consn</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Upn" class="idref" href="#Upn"><span class="id" title="definition">Upn</span></a> <a id="n:311" class="idref" href="#n:311"><span class="id" title="binder">n</span></a> <a id="a5bb794295ba9cbdd47547254a839de7" class="idref" href="#a5bb794295ba9cbdd47547254a839de7"><span class="id" title="binder">σ</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:311"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a5bb794295ba9cbdd47547254a839de7"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:311"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="64b62961f3506563337ecca5e1172b0a" class="idref" href="#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">&quot;</span></a>⇑^ n σ" := (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a> <span class="id" title="var">n</span> σ) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30, <span class="id" title="var">n</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 2, <span class="id" title="var">format</span> "⇑^ n  σ") : <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="Upn_ext" class="idref" href="#Upn_ext"><span class="id" title="instance">Upn_ext</span></a> <a id="n:313" class="idref" href="#n:313"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:313"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>. <span class="id" title="var">reduce_goal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_0" class="idref" href="#Upn_0"><span class="id" title="lemma">Upn_0</span></a> <a id="477dddc61e1e3a13fad1d0ce625ebbf2" class="idref" href="#477dddc61e1e3a13fad1d0ce625ebbf2"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a>0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#477dddc61e1e3a13fad1d0ce625ebbf2"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#477dddc61e1e3a13fad1d0ce625ebbf2"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_0"><span class="id" title="lemma">shiftk_0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ids_r"><span class="id" title="lemma">compose_ids_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_1_Up" class="idref" href="#Upn_1_Up"><span class="id" title="lemma">Upn_1_Up</span></a> <a id="bf65f21aba128c5c409fd80e0f0bc0fe" class="idref" href="#bf65f21aba128c5c409fd80e0f0bc0fe"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a>1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bf65f21aba128c5c409fd80e0f0bc0fe"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bf65f21aba128c5c409fd80e0f0bc0fe"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_1_Up"><span class="id" title="lemma">Upn_1_Up</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_eq" class="idref" href="#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a> <a id="n:316" class="idref" href="#n:316"><span class="id" title="binder">n</span></a> <a id="483295c23bc73fb5801aead869edfdf8" class="idref" href="#483295c23bc73fb5801aead869edfdf8"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:316"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#483295c23bc73fb5801aead869edfdf8"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:316"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#483295c23bc73fb5801aead869edfdf8"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:316"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_proper" class="idref" href="#Upn_proper"><span class="id" title="lemma">Upn_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? ? → <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The σ-calculus equations for Coq 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_app" class="idref" href="#inst_app"><span class="id" title="lemma">inst_app</span></a> {<a id="s:318" class="idref" href="#s:318"><span class="id" title="binder">s</span></a> <a id="t:319" class="idref" href="#t:319"><span class="id" title="binder">t</span></a> <a id="44ef491087c7e8307d210680fc76245a" class="idref" href="#44ef491087c7e8307d210680fc76245a"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:318"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:319"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#44ef491087c7e8307d210680fc76245a"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:318"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#44ef491087c7e8307d210680fc76245a"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:319"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#44ef491087c7e8307d210680fc76245a"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_lam" class="idref" href="#inst_lam"><span class="id" title="lemma">inst_lam</span></a> {<a id="na:321" class="idref" href="#na:321"><span class="id" title="binder">na</span></a> <a id="t:322" class="idref" href="#t:322"><span class="id" title="binder">t</span></a> <a id="b:323" class="idref" href="#b:323"><span class="id" title="binder">b</span></a> <a id="616c7b57141551f84563c4a249c29d02" class="idref" href="#616c7b57141551f84563c4a249c29d02"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:321"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:323"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#616c7b57141551f84563c4a249c29d02"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:321"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:322"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#616c7b57141551f84563c4a249c29d02"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:323"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#616c7b57141551f84563c4a249c29d02"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Up"><span class="id" title="lemma">up_Up</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_prod" class="idref" href="#inst_prod"><span class="id" title="lemma">inst_prod</span></a> {<a id="na:325" class="idref" href="#na:325"><span class="id" title="binder">na</span></a> <a id="t:326" class="idref" href="#t:326"><span class="id" title="binder">t</span></a> <a id="b:327" class="idref" href="#b:327"><span class="id" title="binder">b</span></a> <a id="8ece7e92fa000d21dca86da01c39c6c5" class="idref" href="#8ece7e92fa000d21dca86da01c39c6c5"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:325"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:326"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:327"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8ece7e92fa000d21dca86da01c39c6c5"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:325"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:326"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8ece7e92fa000d21dca86da01c39c6c5"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:327"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8ece7e92fa000d21dca86da01c39c6c5"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Up"><span class="id" title="lemma">up_Up</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_letin" class="idref" href="#inst_letin"><span class="id" title="lemma">inst_letin</span></a> {<a id="na:329" class="idref" href="#na:329"><span class="id" title="binder">na</span></a> <a id="t:330" class="idref" href="#t:330"><span class="id" title="binder">t</span></a> <a id="b:331" class="idref" href="#b:331"><span class="id" title="binder">b</span></a> <a id="b':332" class="idref" href="#b':332"><span class="id" title="binder">b'</span></a> <a id="195eb7d9f248de7954d841786f06de8b" class="idref" href="#195eb7d9f248de7954d841786f06de8b"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:329"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:330"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:331"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b':332"><span class="id" title="variable">b'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#195eb7d9f248de7954d841786f06de8b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:329"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:330"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#195eb7d9f248de7954d841786f06de8b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:331"><span class="id" title="variable">b</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#195eb7d9f248de7954d841786f06de8b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b':332"><span class="id" title="variable">b'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#195eb7d9f248de7954d841786f06de8b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Up"><span class="id" title="lemma">up_Up</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_Upn" class="idref" href="#up_Upn"><span class="id" title="lemma">up_Upn</span></a> {<a id="n:334" class="idref" href="#n:334"><span class="id" title="binder">n</span></a> <a id="fe8e75f1a91e1fd954cdea3011ae730a" class="idref" href="#fe8e75f1a91e1fd954cdea3011ae730a"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:334"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fe8e75f1a91e1fd954cdea3011ae730a"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:334"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fe8e75f1a91e1fd954cdea3011ae730a"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>) ⇒ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hle</span>: <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <span class="id" title="var">n</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> <span class="id" title="var">Hle</span>) /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_ren" class="idref" href="#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a id="k:336" class="idref" href="#k:336"><span class="id" title="binder">k</span></a> <a id="f:337" class="idref" href="#f:337"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:336"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:337"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:336"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:337"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_fix" class="idref" href="#inst_fix"><span class="id" title="lemma">inst_fix</span></a> {<a id="mfix:338" class="idref" href="#mfix:338"><span class="id" title="binder">mfix</span></a> <a id="idx:339" class="idref" href="#idx:339"><span class="id" title="binder">idx</span></a> <a id="5562ac78b2bf5a7f362a2c2cf26f3ddc" class="idref" href="#5562ac78b2bf5a7f362a2c2cf26f3ddc"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix:338"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idx:339"><span class="id" title="variable">idx</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5562ac78b2bf5a7f362a2c2cf26f3ddc"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5562ac78b2bf5a7f362a2c2cf26f3ddc"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix:338"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5562ac78b2bf5a7f362a2c2cf26f3ddc"><span class="id" title="variable">σ</span></a>))) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix:338"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idx:339"><span class="id" title="variable">idx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def_eq_spec"><span class="id" title="lemma">map_def_eq_spec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_cofix" class="idref" href="#inst_cofix"><span class="id" title="lemma">inst_cofix</span></a> {<a id="mfix:341" class="idref" href="#mfix:341"><span class="id" title="binder">mfix</span></a> <a id="idx:342" class="idref" href="#idx:342"><span class="id" title="binder">idx</span></a> <a id="13df236aa8e9c5e9627910c0b2fcb613" class="idref" href="#13df236aa8e9c5e9627910c0b2fcb613"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix:341"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idx:342"><span class="id" title="variable">idx</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#13df236aa8e9c5e9627910c0b2fcb613"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#13df236aa8e9c5e9627910c0b2fcb613"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix:341"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#13df236aa8e9c5e9627910c0b2fcb613"><span class="id" title="variable">σ</span></a>))) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#mfix:341"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idx:342"><span class="id" title="variable">idx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def_eq_spec"><span class="id" title="lemma">map_def_eq_spec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_mkApps" class="idref" href="#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:344" class="idref" href="#t:344"><span class="id" title="binder">t</span></a> <a id="l:345" class="idref" href="#l:345"><span class="id" title="binder">l</span></a> <a id="9053e3e0a25a58098668ca966431f8e2" class="idref" href="#9053e3e0a25a58098668ca966431f8e2"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:344"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:345"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9053e3e0a25a58098668ca966431f8e2"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:344"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9053e3e0a25a58098668ca966431f8e2"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9053e3e0a25a58098668ca966431f8e2"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:345"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, σ |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_app"><span class="id" title="lemma">inst_app</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_lam"><span class="id" title="lemma">inst_lam</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_prod"><span class="id" title="lemma">inst_prod</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_letin"><span class="id" title="lemma">inst_letin</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_fix"><span class="id" title="lemma">inst_fix</span></a> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_cofix"><span class="id" title="lemma">inst_cofix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_mkApps"><span class="id" title="lemma">inst_mkApps</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_shift" class="idref" href="#ren_shift"><span class="id" title="lemma">ren_shift</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compose_ren" class="idref" href="#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a id="f:347" class="idref" href="#f:347"><span class="id" title="binder">f</span></a> <a id="g:348" class="idref" href="#g:348"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:348"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:348"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:347"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_cons_ren" class="idref" href="#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <a id="i:349" class="idref" href="#i:349"><span class="id" title="binder">i</span></a> <a id="f:350" class="idref" href="#f:350"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:349"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:350"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:349"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:350"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="4b9883794a2e9843718e6f0f20137aef" class="idref" href="#4b9883794a2e9843718e6f0f20137aef"><span class="id" title="notation">&quot;</span></a>=2" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">signature</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">signature_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_subst_cons'" class="idref" href="#subst_consn_subst_cons'"><span class="id" title="lemma">subst_consn_subst_cons'</span></a> {<a id="A:351" class="idref" href="#A:351"><span class="id" title="binder">A</span></a>} (<a id="t:352" class="idref" href="#t:352"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:351"><span class="id" title="variable">A</span></a>) <a id="l:353" class="idref" href="#l:353"><span class="id" title="binder">l</span></a> : (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:352"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:353"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#4b9883794a2e9843718e6f0f20137aef"><span class="id" title="notation">=2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#4b9883794a2e9843718e6f0f20137aef"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:352"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:353"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#4b9883794a2e9843718e6f0f20137aef"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">signature</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> &lt;-. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons_gen"><span class="id" title="lemma">subst_consn_subst_cons_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_compose" class="idref" href="#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a> <a id="l:354" class="idref" href="#l:354"><span class="id" title="binder">l</span></a> <a id="d3fcb34f2c84c49388f7cc686864f58b" class="idref" href="#d3fcb34f2c84c49388f7cc686864f58b"><span class="id" title="binder">σ'</span></a> <a id="8ecb521bf4bbceb33e23f6b04adbbe5b" class="idref" href="#8ecb521bf4bbceb33e23f6b04adbbe5b"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:354"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d3fcb34f2c84c49388f7cc686864f58b"><span class="id" title="variable">σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8ecb521bf4bbceb33e23f6b04adbbe5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8ecb521bf4bbceb33e23f6b04adbbe5b"><span class="id" title="variable">σ</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:354"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d3fcb34f2c84c49388f7cc686864f58b"><span class="id" title="variable">σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8ecb521bf4bbceb33e23f6b04adbbe5b"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_ids_ren" class="idref" href="#subst_consn_ids_ren"><span class="id" title="lemma">subst_consn_ids_ren</span></a> <a id="n:357" class="idref" href="#n:357"><span class="id" title="binder">n</span></a> <a id="f:358" class="idref" href="#f:358"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:357"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:358"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:357"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:358"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr</span>:<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <span class="id" title="var">n</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hi</span>:<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <span class="id" title="var">n</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> <span class="id" title="var">Hi</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids_lt"><span class="id" title="lemma">subst_ids_lt</span></a> // (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_idsn_consn_lt"><span class="id" title="lemma">ren_idsn_consn_lt</span></a> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_shiftk" class="idref" href="#ren_shiftk"><span class="id" title="lemma">ren_shiftk</span></a> <a id="n:359" class="idref" href="#n:359"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add"><span class="id" title="definition">Nat.add</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:359"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:359"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftk"><span class="id" title="lemma">ren_shiftk</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_rshiftk" class="idref" href="#ren_rshiftk"><span class="id" title="lemma">ren_rshiftk</span></a> <a id="k:360" class="idref" href="#k:360"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:360"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:360"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_rshiftk"><span class="id" title="lemma">ren_rshiftk</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_inst_idsn" class="idref" href="#map_inst_idsn"><span class="id" title="lemma">map_inst_idsn</span></a> <a id="a7fe48660c2bd2ae9256741e2993444c" class="idref" href="#a7fe48660c2bd2ae9256741e2993444c"><span class="id" title="binder">σ</span></a> <a id="n:362" class="idref" href="#n:362"><span class="id" title="binder">n</span></a> <a id="m:363" class="idref" href="#m:363"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:363"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:362"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:362"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a7fe48660c2bd2ae9256741e2993444c"><span class="id" title="variable">σ</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:363"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:363"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="var">IHm</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_lt"><span class="id" title="lemma">idsn_lt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Specific lemma for the fix/cofix cases where we are subst_cons'ing a list of ids in front
    of the substitution. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ren_subst_consn_comm" class="idref" href="#ren_subst_consn_comm"><span class="id" title="lemma">ren_subst_consn_comm</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f:364" class="idref" href="#f:364"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#renamingT"><span class="id" title="definition">renamingT</span></a>) (<a id="555bbfc837ea96db31029ba2cadf070a" class="idref" href="#555bbfc837ea96db31029ba2cadf070a"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) (<a id="n:366" class="idref" href="#n:366"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:366"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:366"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:364"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:366"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#555bbfc837ea96db31029ba2cadf070a"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:366"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:366"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:364"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#555bbfc837ea96db31029ba2cadf070a"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:366"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> σ <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ids_ren"><span class="id" title="lemma">subst_consn_ids_ren</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_proper"><span class="id" title="instance">subst_consn_proper</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_inst_idsn"><span class="id" title="lemma">map_inst_idsn</span></a> //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Simplify away iterated up's 
</div>
<div class="code">
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_ren_l" class="idref" href="#Upn_ren_l"><span class="id" title="lemma">Upn_ren_l</span></a> <a id="k:367" class="idref" href="#k:367"><span class="id" title="binder">k</span></a> <a id="f:368" class="idref" href="#f:368"><span class="id" title="binder">f</span></a> <a id="b2daf4a9bd76fcd5d598d0978a558122" class="idref" href="#b2daf4a9bd76fcd5d598d0978a558122"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:367"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:368"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:367"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b2daf4a9bd76fcd5d598d0978a558122"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:367"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:368"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b2daf4a9bd76fcd5d598d0978a558122"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftk"><span class="id" title="lemma">ren_shiftk</span></a> <span class="id" title="var">k</span>) !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ids_ren"><span class="id" title="lemma">subst_consn_ids_ren</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_subst_consn_comm"><span class="id" title="lemma">ren_subst_consn_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_inst_assoc" class="idref" href="#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a> <a id="t:370" class="idref" href="#t:370"><span class="id" title="binder">t</span></a> <a id="f:371" class="idref" href="#f:371"><span class="id" title="binder">f</span></a> <a id="b3b8163059b43c50f5db4205044b9583" class="idref" href="#b3b8163059b43c50f5db4205044b9583"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:370"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:371"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">].[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b3b8163059b43c50f5db4205044b9583"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:370"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b3b8163059b43c50f5db4205044b9583"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">e</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_l"><span class="id" title="lemma">Upn_ren_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">b</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_l"><span class="id" title="lemma">Upn_ren_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">b</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_l"><span class="id" title="lemma">Upn_ren_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">b</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_l"><span class="id" title="lemma">Upn_ren_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_idsn_spec" class="idref" href="#map_idsn_spec"><span class="id" title="lemma">map_idsn_spec</span></a> (<a id="f:373" class="idref" href="#f:373"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="n:374" class="idref" href="#n:374"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:373"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:374"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.recursion"><span class="id" title="definition">Nat.recursion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <a id="x:375" class="idref" href="#x:375"><span class="id" title="binder">x</span></a> <a id="l:376" class="idref" href="#l:376"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:376"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:373"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:375"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:374"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="idsn_spec" class="idref" href="#idsn_spec"><span class="id" title="lemma">idsn_spec</span></a> (<a id="n:377" class="idref" href="#n:377"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:377"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.recursion"><span class="id" title="definition">Nat.recursion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <a id="x:378" class="idref" href="#x:378"><span class="id" title="binder">x</span></a> <a id="l:379" class="idref" href="#l:379"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:379"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:378"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:377"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_recursion_ext" class="idref" href="#nat_recursion_ext"><span class="id" title="lemma">nat_recursion_ext</span></a> {<a id="A:380" class="idref" href="#A:380"><span class="id" title="binder">A</span></a>} (<a id="x:381" class="idref" href="#x:381"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:380"><span class="id" title="variable">A</span></a>) <a id="f:382" class="idref" href="#f:382"><span class="id" title="binder">f</span></a> <a id="g:383" class="idref" href="#g:383"><span class="id" title="binder">g</span></a> <a id="n:384" class="idref" href="#n:384"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:385" class="idref" href="#x:385"><span class="id" title="binder">x</span></a> <a id="l':386" class="idref" href="#l':386"><span class="id" title="binder">l'</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:385"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:384"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:382"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:385"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l':386"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:383"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:385"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l':386"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.recursion"><span class="id" title="definition">Nat.recursion</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:381"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:382"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:384"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.recursion"><span class="id" title="definition">Nat.recursion</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:381"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#g:383"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:384"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.le_refl"><span class="id" title="lemma">Nat.le_refl</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">at</span> 1 3 4; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_idsn_idsn" class="idref" href="#rename_idsn_idsn"><span class="id" title="lemma">rename_idsn_idsn</span></a> <a id="m:387" class="idref" href="#m:387"><span class="id" title="binder">m</span></a> <a id="f:388" class="idref" href="#f:388"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename"><span class="id" title="definition">rename</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:387"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:388"><span class="id" title="variable">f</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:387"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:387"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_idsn_spec"><span class="id" title="lemma">map_idsn_spec</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_spec"><span class="id" title="lemma">idsn_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nat_recursion_ext"><span class="id" title="lemma">nat_recursion_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">l'</span> <span class="id" title="var">hx</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_consn_lt"><span class="id" title="lemma">ren_consn_lt</span></a>; <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_fn"><span class="id" title="definition">ren_fn</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_ren_ids_lt"><span class="id" title="lemma">nth_ren_ids_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_rename_assoc_n" class="idref" href="#inst_rename_assoc_n"><span class="id" title="lemma">inst_rename_assoc_n</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f:389" class="idref" href="#f:389"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#renamingT"><span class="id" title="definition">renamingT</span></a>) (<a id="8aba1f47a2103445b63369350c87bb8c" class="idref" href="#8aba1f47a2103445b63369350c87bb8c"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) (<a id="n:391" class="idref" href="#n:391"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:391"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8aba1f47a2103445b63369350c87bb8c"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:391"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:391"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Nat.html#add"><span class="id" title="definition">Init.Nat.add</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:391"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:389"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:391"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8aba1f47a2103445b63369350c87bb8c"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:389"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:391"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> σ <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftk"><span class="id" title="lemma">ren_shiftk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">i</span>]<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">i</span>]<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> ?<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i'</span>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr</span>:<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <span class="id" title="var">m</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hi</span>:<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <span class="id" title="var">m</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> <span class="id" title="var">Hi</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids_lt"><span class="id" title="lemma">subst_ids_lt</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a>); <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_idsn_idsn"><span class="id" title="lemma">rename_idsn_idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids_lt"><span class="id" title="lemma">subst_ids_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_ren_r" class="idref" href="#Upn_ren_r"><span class="id" title="lemma">Upn_ren_r</span></a> <a id="k:392" class="idref" href="#k:392"><span class="id" title="binder">k</span></a> <a id="f:393" class="idref" href="#f:393"><span class="id" title="binder">f</span></a> <a id="dc15c1cac3910f6ae9e365fec052b5b7" class="idref" href="#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:392"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:392"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:393"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:392"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:393"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftk"><span class="id" title="lemma">ren_shiftk</span></a> <span class="id" title="var">k</span>) !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ids_ren"><span class="id" title="lemma">subst_consn_ids_ren</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_rename_assoc_n"><span class="id" title="lemma">inst_rename_assoc_n</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_rename_assoc" class="idref" href="#inst_rename_assoc"><span class="id" title="lemma">inst_rename_assoc</span></a> <a id="t:395" class="idref" href="#t:395"><span class="id" title="binder">t</span></a> <a id="f:396" class="idref" href="#f:396"><span class="id" title="binder">f</span></a> <a id="c8ab706dfa12e61c86f2bf146a2ee074" class="idref" href="#c8ab706dfa12e61c86f2bf146a2ee074"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:395"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c8ab706dfa12e61c86f2bf146a2ee074"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">].[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:396"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:395"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c8ab706dfa12e61c86f2bf146a2ee074"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:396"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_ren"><span class="id" title="lemma">subst_cons_ren</span></a> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ren"><span class="id" title="lemma">compose_ren</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">e</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_r"><span class="id" title="lemma">Upn_ren_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">b</span>; <span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_r"><span class="id" title="lemma">Upn_ren_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">b</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_r"><span class="id" title="lemma">Upn_ren_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <span class="id" title="var">b</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren"><span class="id" title="lemma">Upn_ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ren_r"><span class="id" title="lemma">Upn_ren_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_subst_compose1" class="idref" href="#rename_subst_compose1"><span class="id" title="lemma">rename_subst_compose1</span></a> <a id="r:398" class="idref" href="#r:398"><span class="id" title="binder">r</span></a> <a id="s:399" class="idref" href="#s:399"><span class="id" title="binder">s</span></a> <a id="s':400" class="idref" href="#s':400"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:398"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:399"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':400"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:398"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:399"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':400"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_subst_compose2" class="idref" href="#rename_subst_compose2"><span class="id" title="lemma">rename_subst_compose2</span></a> <a id="r:401" class="idref" href="#r:401"><span class="id" title="binder">r</span></a> <a id="s:402" class="idref" href="#s:402"><span class="id" title="binder">s</span></a> <a id="s':403" class="idref" href="#s':403"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:402"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:401"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':403"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:402"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:401"><span class="id" title="variable">r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':403"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_subst_compose3" class="idref" href="#rename_subst_compose3"><span class="id" title="lemma">rename_subst_compose3</span></a> <a id="r:404" class="idref" href="#r:404"><span class="id" title="binder">r</span></a> <a id="s:405" class="idref" href="#s:405"><span class="id" title="binder">s</span></a> <a id="s':406" class="idref" href="#s':406"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:405"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':406"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:404"><span class="id" title="variable">r</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:405"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':406"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#r:404"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_rename_assoc"><span class="id" title="lemma">inst_rename_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Up_Up_assoc" class="idref" href="#Up_Up_assoc"><span class="id" title="lemma">Up_Up_assoc</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:407" class="idref" href="#s:407"><span class="id" title="binder">s</span></a> <a id="s':408" class="idref" href="#s':408"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:407"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':408"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:407"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':408"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shift"><span class="id" title="lemma">ren_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_subst_consn"><span class="id" title="lemma">subst_subst_consn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_proper"><span class="id" title="instance">subst_cons_proper</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_subst_compose2"><span class="id" title="lemma">rename_subst_compose2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_subst_compose3"><span class="id" title="lemma">rename_subst_compose3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_proper"><span class="id" title="instance">subst_compose_proper</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_Up_assoc"><span class="id" title="lemma">Up_Up_assoc</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_up_assoc" class="idref" href="#up_up_assoc"><span class="id" title="lemma">up_up_assoc</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="s:409" class="idref" href="#s:409"><span class="id" title="binder">s</span></a> <a id="s':410" class="idref" href="#s':410"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) (<a id="n:411" class="idref" href="#n:411"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:411"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:409"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:411"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':410"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:411"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:409"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':410"><span class="id" title="variable">s'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add"><span class="id" title="definition">Nat.add</span></a> <span class="id" title="var">n</span>) (<span class="id" title="var">s</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst_assoc"><span class="id" title="lemma">rename_inst_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add"><span class="id" title="definition">Nat.add</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_rename_assoc"><span class="id" title="lemma">inst_rename_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_inst"><span class="id" title="lemma">rename_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i'</span>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>); <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_assoc" class="idref" href="#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a> <a id="t:412" class="idref" href="#t:412"><span class="id" title="binder">t</span></a> <a id="s:413" class="idref" href="#s:413"><span class="id" title="binder">s</span></a> <a id="s':414" class="idref" href="#s':414"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:412"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:413"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">].[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':414"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:412"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:413"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':414"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_Up_assoc"><span class="id" title="lemma">Up_Up_assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_Up_assoc"><span class="id" title="lemma">Up_Up_assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_Up_assoc"><span class="id" title="lemma">Up_Up_assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up_assoc"><span class="id" title="lemma">up_up_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up_assoc"><span class="id" title="lemma">up_up_assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up_assoc"><span class="id" title="lemma">up_up_assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up_assoc"><span class="id" title="lemma">up_up_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_compose_assoc" class="idref" href="#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a> <a id="s:415" class="idref" href="#s:415"><span class="id" title="binder">s</span></a> <a id="s':416" class="idref" href="#s':416"><span class="id" title="binder">s'</span></a> <a id="s'':417" class="idref" href="#s'':417"><span class="id" title="binder">s''</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:415"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':416"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s'':417"><span class="id" title="variable">s''</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:415"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':416"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s'':417"><span class="id" title="variable">s''</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> <span class="id" title="tactic">at</span> 1 3 4.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_cons_0_shift" class="idref" href="#subst_cons_0_shift"><span class="id" title="lemma">subst_cons_0_shift</span></a> : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_0_shift"><span class="id" title="lemma">subst_cons_0_shift</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_cons_0s_shifts" class="idref" href="#subst_cons_0s_shifts"><span class="id" title="lemma">subst_cons_0s_shifts</span></a> <a id="296d9afc436d189f4af1904ae95a5c28" class="idref" href="#296d9afc436d189f4af1904ae95a5c28"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#296d9afc436d189f4af1904ae95a5c28"><span class="id" title="variable">σ</span></a> 0<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#296d9afc436d189f4af1904ae95a5c28"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#296d9afc436d189f4af1904ae95a5c28"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_0s_shifts"><span class="id" title="lemma">subst_cons_0s_shifts</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_Up" class="idref" href="#Upn_Up"><span class="id" title="lemma">Upn_Up</span></a> <a id="8c017a6f6eceeacc739d0909123df5ec" class="idref" href="#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="binder">σ</span></a> <a id="n:420" class="idref" href="#n:420"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:420"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:420"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_app"><span class="id" title="lemma">subst_consn_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_tip"><span class="id" title="lemma">subst_consn_tip</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_proper"><span class="id" title="instance">subst_consn_proper</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift_l"><span class="id" title="lemma">shiftk_shift_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i'</span> ⇒ //; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_assoc"><span class="id" title="lemma">inst_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_1" class="idref" href="#Upn_1"><span class="id" title="lemma">Upn_1</span></a> <a id="19d36e1fb3d97f0ec72897174c26a61d" class="idref" href="#19d36e1fb3d97f0ec72897174c26a61d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a>1 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#19d36e1fb3d97f0ec72897174c26a61d"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#19d36e1fb3d97f0ec72897174c26a61d"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Up"><span class="id" title="lemma">Upn_Up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_S" class="idref" href="#Upn_S"><span class="id" title="lemma">Upn_S</span></a> <a id="b5277b189b83c72529f79a2f4567fa78" class="idref" href="#b5277b189b83c72529f79a2f4567fa78"><span class="id" title="binder">σ</span></a> <a id="n:423" class="idref" href="#n:423"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:423"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b5277b189b83c72529f79a2f4567fa78"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:423"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b5277b189b83c72529f79a2f4567fa78"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Up"><span class="id" title="lemma">Upn_Up</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> σ |- ×.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_ext"><span class="id" title="instance">Up_ext</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Up"><span class="id" title="lemma">Upn_Up</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_ext"><span class="id" title="instance">Up_ext</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Up"><span class="id" title="lemma">Upn_Up</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Print&nbsp;Rewrite&nbsp;HintDb&nbsp;sigma.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_inst_aux" class="idref" href="#subst_inst_aux"><span class="id" title="lemma">subst_inst_aux</span></a> <a id="s:424" class="idref" href="#s:424"><span class="id" title="binder">s</span></a> <a id="k:425" class="idref" href="#k:425"><span class="id" title="binder">k</span></a> <a id="t:426" class="idref" href="#t:426"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:424"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:425"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:426"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:425"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:424"><span class="id" title="variable">s</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:426"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> ; <span class="id" title="var">easy</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_rename"><span class="id" title="lemma">lift_rename</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> 1 <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> 1 <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> 1 <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_k"><span class="id" title="definition">map_predicate_k</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#shiftf"><span class="id" title="definition">shiftf</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch_k"><span class="id" title="definition">map_branch_k</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#shiftf"><span class="id" title="definition">shiftf</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">k</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_fn_subst_consn" class="idref" href="#subst_fn_subst_consn"><span class="id" title="lemma">subst_fn_subst_consn</span></a> <a id="s:427" class="idref" href="#s:427"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:427"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:427"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
substitutionT is faithfully modelled by instantiation 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="subst_inst" class="idref" href="#subst_inst"><span class="id" title="lemma">subst_inst</span></a> <a id="s:428" class="idref" href="#s:428"><span class="id" title="binder">s</span></a> <a id="k:429" class="idref" href="#k:429"><span class="id" title="binder">k</span></a> <a id="t:430" class="idref" href="#t:430"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:428"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:429"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:430"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:429"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:428"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:430"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst_aux"><span class="id" title="lemma">subst_inst_aux</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn_subst_consn"><span class="id" title="lemma">subst_fn_subst_consn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst0_inst" class="idref" href="#subst0_inst"><span class="id" title="lemma">subst0_inst</span></a> (<a id="s:431" class="idref" href="#s:431"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="t:432" class="idref" href="#t:432"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:431"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:432"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:432"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:431"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst"><span class="id" title="lemma">subst_inst</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Useful for point-free rewriting 
</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="subst_inst'" class="idref" href="#subst_inst'"><span class="id" title="lemma">subst_inst'</span></a> <a id="s:433" class="idref" href="#s:433"><span class="id" title="binder">s</span></a> <a id="k:434" class="idref" href="#k:434"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:433"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:434"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:434"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:433"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst"><span class="id" title="lemma">subst_inst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_subst_inst" class="idref" href="#map_subst_inst"><span class="id" title="lemma">map_subst_inst</span></a> <a id="s:435" class="idref" href="#s:435"><span class="id" title="binder">s</span></a> <a id="k:436" class="idref" href="#k:436"><span class="id" title="binder">k</span></a> <a id="l:437" class="idref" href="#l:437"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:435"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:436"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:437"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:436"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:435"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:437"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ ?; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst"><span class="id" title="lemma">subst_inst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Simplify away <span class="inlinecode"><span class="id" title="tactic">subst</span></span> to the σ-calculus <span class="inlinecode"><span class="id" title="var">inst</span></span> primitive. 
</div>
<div class="code">
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_inst"><span class="id" title="lemma">subst_inst</span></a> : <span class="id" title="var">sigma</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift_l"><span class="id" title="lemma">shiftk_shift_l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift"><span class="id" title="lemma">shiftk_shift</span></a> : <span class="id" title="var">sigma</span>.<br/>
<span class="comment">(*&nbsp;Hint&nbsp;Rewrite&nbsp;Upn_eq&nbsp;:&nbsp;sigma.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="subst_app" class="idref" href="#subst_app"><span class="id" title="definition">subst_app</span></a> (<a id="t:438" class="idref" href="#t:438"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="us:439" class="idref" href="#us:439"><span class="id" title="binder">us</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:438"><span class="id" title="variable">t</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#us:439"><span class="id" title="variable">us</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">t</span>, <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">us</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_app:440"><span class="id" title="definition">subst_app</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:438"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">u</span><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#us:439"><span class="id" title="variable">us</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:438"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:438"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#us:439"><span class="id" title="variable">us</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_shiftn" class="idref" href="#subst_consn_shiftn"><span class="id" title="lemma">subst_consn_shiftn</span></a> <a id="n:443" class="idref" href="#n:443"><span class="id" title="binder">n</span></a> (<a id="l:444" class="idref" href="#l:444"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="38e46b10b57eeb4f4192f7a72c5c51ff" class="idref" href="#38e46b10b57eeb4f4192f7a72c5c51ff"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:444"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:443"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:443"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:444"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#38e46b10b57eeb4f4192f7a72c5c51ff"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#38e46b10b57eeb4f4192f7a72c5c51ff"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">sigma</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftn_Upn" class="idref" href="#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a> <a id="n:446" class="idref" href="#n:446"><span class="id" title="binder">n</span></a> <a id="5e40e55cf8df16da50e02cc78fe8a659" class="idref" href="#5e40e55cf8df16da50e02cc78fe8a659"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:446"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:446"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5e40e55cf8df16da50e02cc78fe8a659"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5e40e55cf8df16da50e02cc78fe8a659"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:446"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_shiftn"><span class="id" title="lemma">subst_consn_shiftn</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a>: <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="id_nth_spec" class="idref" href="#id_nth_spec"><span class="id" title="lemma">id_nth_spec</span></a> {<a id="A:448" class="idref" href="#A:448"><span class="id" title="binder">A</span></a>} (<a id="l:449" class="idref" href="#l:449"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#A:448"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:449"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.recursion"><span class="id" title="definition">Nat.recursion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<span class="id" title="keyword">fun</span> <a id="x:450" class="idref" href="#x:450"><span class="id" title="binder">x</span></a> <a id="l':451" class="idref" href="#l':451"><span class="id" title="binder">l'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:449"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:450"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l':451"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l':451"><span class="id" title="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:449"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">IHl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nat_recursion_ext"><span class="id" title="lemma">nat_recursion_ext</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_comp" class="idref" href="#Upn_comp"><span class="id" title="lemma">Upn_comp</span></a> <a id="n:452" class="idref" href="#n:452"><span class="id" title="binder">n</span></a> <a id="l:453" class="idref" href="#l:453"><span class="id" title="binder">l</span></a> <a id="a1bf614aaec1a5480babbae04cfefe38" class="idref" href="#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:452"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:453"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:452"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:453"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:453"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a1bf614aaec1a5480babbae04cfefe38"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_shiftn"><span class="id" title="lemma">subst_consn_shiftn</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> //. <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_proper"><span class="id" title="instance">subst_consn_proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_idsn_spec"><span class="id" title="lemma">map_idsn_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3}(<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#id_nth_spec"><span class="id" title="lemma">id_nth_spec</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nat_recursion_ext"><span class="id" title="lemma">nat_recursion_ext</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_spec"><span class="id" title="lemma">nth_error_spec</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_Up_comm" class="idref" href="#shift_Up_comm"><span class="id" title="lemma">shift_Up_comm</span></a> <a id="636cb7d52857c173abc154551a031bfb" class="idref" href="#636cb7d52857c173abc154551a031bfb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#636cb7d52857c173abc154551a031bfb"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#636cb7d52857c173abc154551a031bfb"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftk_compose" class="idref" href="#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a> <a id="n:456" class="idref" href="#n:456"><span class="id" title="binder">n</span></a> <a id="m:457" class="idref" href="#m:457"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:456"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:457"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:456"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#m:457"><span class="id" title="variable">m</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">sigma</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift"><span class="id" title="lemma">shiftk_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift_l"><span class="id" title="lemma">shiftk_shift_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a> <span class="id" title="var">IHn</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift"><span class="id" title="lemma">shiftk_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift_l"><span class="id" title="lemma">shiftk_shift_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_Upn" class="idref" href="#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a id="k:458" class="idref" href="#k:458"><span class="id" title="binder">k</span></a> <a id="k':459" class="idref" href="#k':459"><span class="id" title="binder">k'</span></a> <a id="16e79c467b95be5c339972d0c0703497" class="idref" href="#16e79c467b95be5c339972d0c0703497"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:458"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k':459"><span class="id" title="variable">k'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16e79c467b95be5c339972d0c0703497"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:458"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k':459"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16e79c467b95be5c339972d0c0703497"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>. <span class="id" title="tactic">rewrite</span> -(@<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <span class="id" title="var">k'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_compose" class="idref" href="#Upn_compose"><span class="id" title="lemma">Upn_compose</span></a> <a id="n:461" class="idref" href="#n:461"><span class="id" title="binder">n</span></a> <a id="a3e8f1adfd01c9f31899bf336ea93038" class="idref" href="#a3e8f1adfd01c9f31899bf336ea93038"><span class="id" title="binder">σ</span></a> <a id="c06f4e78e523a39aea5f94f3acd923e5" class="idref" href="#c06f4e78e523a39aea5f94f3acd923e5"><span class="id" title="binder">σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:461"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a3e8f1adfd01c9f31899bf336ea93038"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:461"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c06f4e78e523a39aea5f94f3acd923e5"><span class="id" title="variable">σ'</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:461"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a3e8f1adfd01c9f31899bf336ea93038"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c06f4e78e523a39aea5f94f3acd923e5"><span class="id" title="variable">σ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_nil"><span class="id" title="lemma">subst_consn_nil</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_0"><span class="id" title="lemma">shiftk_0</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ids_r"><span class="id" title="lemma">compose_ids_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a>. <span class="id" title="var">sigma</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_ext_closed" class="idref" href="#up_ext_closed"><span class="id" title="lemma">up_ext_closed</span></a> <a id="k':464" class="idref" href="#k':464"><span class="id" title="binder">k'</span></a> <a id="k:465" class="idref" href="#k:465"><span class="id" title="binder">k</span></a> <a id="s:466" class="idref" href="#s:466"><span class="id" title="binder">s</span></a> <a id="s':467" class="idref" href="#s':467"><span class="id" title="binder">s'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:468" class="idref" href="#i:468"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:468"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k':464"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:466"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:468"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':467"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:468"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:469" class="idref" href="#i:469"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:469"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:465"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k':464"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:465"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:466"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:469"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:465"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':467"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:469"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up"><span class="id" title="definition">up</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">t</span>) ⇒ <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_eq" class="idref" href="#subst_consn_eq"><span class="id" title="lemma">subst_consn_eq</span></a> <a id="s0:470" class="idref" href="#s0:470"><span class="id" title="binder">s0</span></a> <a id="s1:471" class="idref" href="#s1:471"><span class="id" title="binder">s1</span></a> <a id="s2:472" class="idref" href="#s2:472"><span class="id" title="binder">s2</span></a> <a id="s3:473" class="idref" href="#s3:473"><span class="id" title="binder">s3</span></a> <a id="x:474" class="idref" href="#x:474"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:474"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s0:470"><span class="id" title="variable">s0</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s0:470"><span class="id" title="variable">s0</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s2:472"><span class="id" title="variable">s2</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s0:470"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:474"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s2:472"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:474"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s0:470"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s1:471"><span class="id" title="variable">s1</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s2:472"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s3:473"><span class="id" title="variable">s3</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Heqx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">s2</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq''</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq''</span>|| <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_subst_instance" class="idref" href="#shift_subst_instance"><span class="id" title="lemma">shift_subst_instance</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:475" class="idref" href="#u:475"><span class="id" title="binder">u</span></a> <a id="t:476" class="idref" href="#t:476"><span class="id" title="binder">t</span></a> <a id="k:477" class="idref" href="#k:477"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#u:475"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:476"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:477"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#u:475"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:476"><span class="id" title="variable">t</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">.[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:477"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">f_equal</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">solve_all</span> ; <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift"><span class="id" title="definition">shift</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec0"><span class="id" title="lemma">Nat.ltb_spec0</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_Some"><span class="id" title="lemma">nth_error_idsn_Some</span></a>. 1: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_None"><span class="id" title="lemma">nth_error_idsn_None</span></a>. 1: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt2</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt2</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHt3</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_S"><span class="id" title="lemma">Upn_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHt3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt3</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_predicate_shift"><span class="id" title="definition">map_predicate_shift</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_branch_shift"><span class="id" title="definition">map_branch_shift</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">IH</span> <span class="id" title="var">IH'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def_eq_spec"><span class="id" title="lemma">map_def_eq_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH'</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">IH</span> <span class="id" title="var">IH'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def_eq_spec"><span class="id" title="lemma">map_def_eq_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH'</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)). <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_up"><span class="id" title="lemma">up_up</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#up_Upn"><span class="id" title="lemma">up_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_idsn_eq_Some" class="idref" href="#nth_error_idsn_eq_Some"><span class="id" title="lemma">nth_error_idsn_eq_Some</span></a> <a id="n:478" class="idref" href="#n:478"><span class="id" title="binder">n</span></a> <a id="k:479" class="idref" href="#k:479"><span class="id" title="binder">k</span></a> <a id="i:480" class="idref" href="#i:480"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:478"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:479"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:480"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:480"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:479"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">hnth</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nth_error_idsn_Some"><span class="id" title="lemma">nth_error_idsn_Some</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hnth</span> ⇒ [= -&gt;].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_ids_rel_ren" class="idref" href="#subst_consn_ids_rel_ren"><span class="id" title="lemma">subst_consn_ids_rel_ren</span></a> <a id="n:481" class="idref" href="#n:481"><span class="id" title="binder">n</span></a> <a id="k:482" class="idref" href="#k:482"><span class="id" title="binder">k</span></a> <a id="f:483" class="idref" href="#f:483"><span class="id" title="binder">f</span></a> : (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:481"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:482"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:483"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids"><span class="id" title="definition">ren_ids</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:481"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:482"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:483"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_ids_length"><span class="id" title="lemma">ren_ids_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_gen"><span class="id" title="definition">subst_cons_gen</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hi</span>:<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <span class="id" title="var">n</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn_length"><span class="id" title="lemma">idsn_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> <span class="id" title="var">Hi</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_idsn_consn_lt"><span class="id" title="lemma">ren_idsn_consn_lt</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_ids_lt"><span class="id" title="lemma">subst_ids_lt</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_renaming_0" class="idref" href="#lift_renaming_0"><span class="id" title="lemma">lift_renaming_0</span></a> <a id="k:484" class="idref" href="#k:484"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:484"><span class="id" title="variable">k</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:484"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ren_lift_renaming" class="idref" href="#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a> <a id="n:485" class="idref" href="#n:485"><span class="id" title="binder">n</span></a> <a id="k:486" class="idref" href="#k:486"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:485"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:486"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:486"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:485"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="var">k</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a>. <span class="id" title="tactic">rewrite</span> - (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_lift_renaming"><span class="id" title="lemma">shiftn_lift_renaming</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_shiftn"><span class="id" title="lemma">ren_shiftn</span></a> <span class="id" title="var">k</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <span class="id" title="var">n</span> 0) <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren"><span class="id" title="definition">ren</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <span class="id" title="var">k</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming"><span class="id" title="definition">lift_renaming</span></a> <span class="id" title="var">n</span> 0)) <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(⇑^</span></a><span class="id" title="var">k</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><span class="id" title="var">n</span><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">))</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="var">sigma</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#lift_renaming_0"><span class="id" title="lemma">lift_renaming_0</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub"><span class="id" title="definition">Nat.sub</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_consn_idsn_shift" class="idref" href="#subst_consn_idsn_shift"><span class="id" title="lemma">subst_consn_idsn_shift</span></a> <a id="n:487" class="idref" href="#n:487"><span class="id" title="binder">n</span></a> <a id="7bda25e81d2b2b97267e505d0ca32721" class="idref" href="#7bda25e81d2b2b97267e505d0ca32721"><span class="id" title="binder">σ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:487"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#7bda25e81d2b2b97267e505d0ca32721"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:487"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:487"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#7bda25e81d2b2b97267e505d0ca32721"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Up_comp" class="idref" href="#Up_comp"><span class="id" title="lemma">Up_comp</span></a> (<a id="t:489" class="idref" href="#t:489"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="1ccba9eaa57cdcedc82e2f6d82f5269d" class="idref" href="#1ccba9eaa57cdcedc82e2f6d82f5269d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#53381d4046a55425b79d983532cca692"><span class="id" title="notation">⇑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1ccba9eaa57cdcedc82e2f6d82f5269d"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:489"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:489"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1ccba9eaa57cdcedc82e2f6d82f5269d"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftk_unfold" class="idref" href="#shiftk_unfold"><span class="id" title="lemma">shiftk_unfold</span></a> <a id="i:491" class="idref" href="#i:491"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:491"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:491"><span class="id" title="variable">i</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:491"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons"><span class="id" title="definition">subst_cons</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_cons_compose_r" class="idref" href="#subst_cons_compose_r"><span class="id" title="lemma">subst_cons_compose_r</span></a> <a id="t:492" class="idref" href="#t:492"><span class="id" title="binder">t</span></a> <a id="ab422b882068e8402747b5711c1c04d3" class="idref" href="#ab422b882068e8402747b5711c1c04d3"><span class="id" title="binder">σ'</span></a> <a id="3dc563994b4e4b5727b2758adaf270e4" class="idref" href="#3dc563994b4e4b5727b2758adaf270e4"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#3dc563994b4e4b5727b2758adaf270e4"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:492"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ab422b882068e8402747b5711c1c04d3"><span class="id" title="variable">σ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#3dc563994b4e4b5727b2758adaf270e4"><span class="id" title="variable">σ</span></a> 0<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">).[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:492"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ab422b882068e8402747b5711c1c04d3"><span class="id" title="variable">σ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#16384ce131f47c8f429428a74ad5dc38"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#3dc563994b4e4b5727b2758adaf270e4"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:492"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#817df323adfd0755c3de9ec712e1a568"><span class="id" title="notation">⋅</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ab422b882068e8402747b5711c1c04d3"><span class="id" title="variable">σ'</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [|<span class="id" title="var">i</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a>; <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shift"><span class="id" title="definition">shift</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
Lemma&nbsp;subst_consn_compose_r&nbsp;l&nbsp;σ'&nbsp;σ&nbsp;:&nbsp;σ&nbsp;∘s&nbsp;(l&nbsp;⋅n&nbsp;σ')&nbsp;=1&nbsp;map&nbsp;(inst&nbsp;(σ&nbsp;∘s&nbsp;(subst_fn&nbsp;l)))&nbsp;l&nbsp;⋅n&nbsp;(σ&nbsp;∘s&nbsp;σ').<br/>
Proof.<br/>
&nbsp;&nbsp;induction&nbsp;l;&nbsp;simpl.<br/>
&nbsp;&nbsp;-&nbsp;now&nbsp;sigma.<br/>
&nbsp;&nbsp;-&nbsp;rewrite&nbsp;subst_consn_subst_cons.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;subst_cons_compose_r.&nbsp;sigma.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(subst_cons_compose_r&nbsp;a<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;subst_compose;&nbsp;intros&nbsp;i.&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;subst_compo<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;IHl.&nbsp;now&nbsp;rewrite&nbsp;subst_consn_subst_cons.<br/>
Qed.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
The central lemma to show that let expansion commutes with lifting and substitution 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="subst_reli_lift_id" class="idref" href="#subst_reli_lift_id"><span class="id" title="lemma">subst_reli_lift_id</span></a> <a id="i:495" class="idref" href="#i:495"><span class="id" title="binder">i</span></a> <a id="n:496" class="idref" href="#n:496"><span class="id" title="binder">n</span></a> <a id="t:497" class="idref" href="#t:497"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:495"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:496"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:495"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:496"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:495"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:496"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:497"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:495"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:496"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:497"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ltin</span>; <span class="id" title="var">sigma</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_idsn_shift"><span class="id" title="lemma">subst_consn_idsn_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_compose"><span class="id" title="lemma">Upn_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Up"><span class="id" title="lemma">Upn_Up</span></a> /= <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_0"><span class="id" title="lemma">Upn_0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up_comp"><span class="id" title="lemma">Up_comp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_unfold"><span class="id" title="lemma">shiftk_unfold</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_context_lift_id" class="idref" href="#subst_context_lift_id"><span class="id" title="lemma">subst_context_lift_id</span></a> <a id="790cbccabfb454b39c928f048183cbd3" class="idref" href="#790cbccabfb454b39c928f048183cbd3"><span class="id" title="binder">Γ</span></a> <a id="k:499" class="idref" href="#k:499"><span class="id" title="binder">k</span></a> <a id="n:500" class="idref" href="#n:500"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:500"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:499"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:500"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:499"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:500"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:499"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#790cbccabfb454b39c928f048183cbd3"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:500"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:499"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#790cbccabfb454b39c928f048183cbd3"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_alt"><span class="id" title="lemma">lift_context_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_compose"><span class="id" title="lemma">mapi_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n'</span> [? [?|] ?]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_reli_lift_id"><span class="id" title="lemma">subst_reli_lift_id</span></a> //.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_reli_lift_id"><span class="id" title="lemma">subst_reli_lift_id</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_k_vass" class="idref" href="#expand_lets_k_vass"><span class="id" title="lemma">expand_lets_k_vass</span></a> <a id="fce5e9eedd39e7cecf76c762d4c45260" class="idref" href="#fce5e9eedd39e7cecf76c762d4c45260"><span class="id" title="binder">Γ</span></a> <a id="na:502" class="idref" href="#na:502"><span class="id" title="binder">na</span></a> <a id="ty:503" class="idref" href="#ty:503"><span class="id" title="binder">ty</span></a> <a id="k:504" class="idref" href="#k:504"><span class="id" title="binder">k</span></a> <a id="t:505" class="idref" href="#t:505"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fce5e9eedd39e7cecf76c762d4c45260"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:502"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ty:503"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:504"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:505"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#fce5e9eedd39e7cecf76c762d4c45260"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:504"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:505"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#extended_subst_app"><span class="id" title="lemma">extended_subst_app</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_simpl"><span class="id" title="lemma">subst_app_simpl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_context_lift_id"><span class="id" title="lemma">subst_context_lift_id</span></a> // <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_context"><span class="id" title="lemma">lift0_context</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_reli_lift_id"><span class="id" title="lemma">subst_reli_lift_id</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions_length_bound"><span class="id" title="lemma">context_assumptions_length_bound</span></a> <span class="id" title="var">Γ</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_vass" class="idref" href="#expand_lets_vass"><span class="id" title="lemma">expand_lets_vass</span></a> <a id="b1477e2ccc08f64220235eab23ed8310" class="idref" href="#b1477e2ccc08f64220235eab23ed8310"><span class="id" title="binder">Γ</span></a> <a id="na:507" class="idref" href="#na:507"><span class="id" title="binder">na</span></a> <a id="ty:508" class="idref" href="#ty:508"><span class="id" title="binder">ty</span></a> <a id="t:509" class="idref" href="#t:509"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b1477e2ccc08f64220235eab23ed8310"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:507"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ty:508"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:509"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b1477e2ccc08f64220235eab23ed8310"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:509"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_k_vass"><span class="id" title="lemma">expand_lets_k_vass</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_k_vdef" class="idref" href="#expand_lets_k_vdef"><span class="id" title="lemma">expand_lets_k_vdef</span></a> <a id="5a137a22da09953928fe9b38691b385d" class="idref" href="#5a137a22da09953928fe9b38691b385d"><span class="id" title="binder">Γ</span></a> <a id="na:511" class="idref" href="#na:511"><span class="id" title="binder">na</span></a> <a id="b:512" class="idref" href="#b:512"><span class="id" title="binder">b</span></a> <a id="ty:513" class="idref" href="#ty:513"><span class="id" title="binder">ty</span></a> <a id="k:514" class="idref" href="#k:514"><span class="id" title="binder">k</span></a> <a id="t:515" class="idref" href="#t:515"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5a137a22da09953928fe9b38691b385d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:511"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:512"><span class="id" title="variable">b</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ty:513"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:514"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:515"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:512"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5a137a22da09953928fe9b38691b385d"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:514"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:512"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:514"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5a137a22da09953928fe9b38691b385d"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:515"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#extended_subst_app"><span class="id" title="lemma">extended_subst_app</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_simpl"><span class="id" title="lemma">subst_app_simpl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_empty"><span class="id" title="lemma">subst_empty</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_id"><span class="id" title="lemma">lift0_id</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_context"><span class="id" title="lemma">lift0_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#distr_lift_subst_rec"><span class="id" title="lemma">distr_lift_subst_rec</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">Γ</span>) (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_vdef" class="idref" href="#expand_lets_vdef"><span class="id" title="lemma">expand_lets_vdef</span></a> <a id="887c73d0e5b86316726fc9e861f44a01" class="idref" href="#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="binder">Γ</span></a> <a id="na:517" class="idref" href="#na:517"><span class="id" title="binder">na</span></a> <a id="b:518" class="idref" href="#b:518"><span class="id" title="binder">b</span></a> <a id="ty:519" class="idref" href="#ty:519"><span class="id" title="binder">ty</span></a> <a id="t:520" class="idref" href="#t:520"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:517"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:518"><span class="id" title="variable">b</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ty:519"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:520"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:518"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b:518"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:520"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_k_vdef"><span class="id" title="lemma">expand_lets_k_vdef</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expand_lets_k_ctx_vass" class="idref" href="#expand_lets_k_ctx_vass"><span class="id" title="definition">expand_lets_k_ctx_vass</span></a> <a id="f4c4c004e25424b4b0d24dac928dee50" class="idref" href="#f4c4c004e25424b4b0d24dac928dee50"><span class="id" title="binder">Γ</span></a> <a id="k:522" class="idref" href="#k:522"><span class="id" title="binder">k</span></a> <a id="bd8613d41009a6d1c669b2eec61208c9" class="idref" href="#bd8613d41009a6d1c669b2eec61208c9"><span class="id" title="binder">Δ</span></a> <a id="na:524" class="idref" href="#na:524"><span class="id" title="binder">na</span></a> <a id="ty:525" class="idref" href="#ty:525"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f4c4c004e25424b4b0d24dac928dee50"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:522"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bd8613d41009a6d1c669b2eec61208c9"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:524"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ty:525"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f4c4c004e25424b4b0d24dac928dee50"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:522"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bd8613d41009a6d1c669b2eec61208c9"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#na:524"><span class="id" title="variable">na</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f4c4c004e25424b4b0d24dac928dee50"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:522"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ty:525"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span>  <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_context_app"><span class="id" title="lemma">subst_context_app</span></a> /=; <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="expand_lets_k_ctx_decl" class="idref" href="#expand_lets_k_ctx_decl"><span class="id" title="definition">expand_lets_k_ctx_decl</span></a> <a id="b754904fd09b2dd0f43709e92d9ff483" class="idref" href="#b754904fd09b2dd0f43709e92d9ff483"><span class="id" title="binder">Γ</span></a> <a id="k:527" class="idref" href="#k:527"><span class="id" title="binder">k</span></a> <a id="99c3508ef6448733f8d8169314269b42" class="idref" href="#99c3508ef6448733f8d8169314269b42"><span class="id" title="binder">Δ</span></a> <a id="d:529" class="idref" href="#d:529"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b754904fd09b2dd0f43709e92d9ff483"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:527"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#99c3508ef6448733f8d8169314269b42"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d:529"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b754904fd09b2dd0f43709e92d9ff483"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:527"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#99c3508ef6448733f8d8169314269b42"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b754904fd09b2dd0f43709e92d9ff483"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:527"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d:529"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_context_app"><span class="id" title="lemma">subst_context_app</span></a> /=; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_nil" class="idref" href="#expand_lets_nil"><span class="id" title="lemma">expand_lets_nil</span></a> <a id="t:530" class="idref" href="#t:530"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:530"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:530"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_empty"><span class="id" title="lemma">subst_empty</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_id"><span class="id" title="lemma">lift0_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_it_mkProd_or_LetIn" class="idref" href="#expand_lets_it_mkProd_or_LetIn"><span class="id" title="lemma">expand_lets_it_mkProd_or_LetIn</span></a> <a id="b76e63a2dc232eefc3cb75edb63a3339" class="idref" href="#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="binder">Γ</span></a> <a id="bdb403844e9182477c54f25fd517b057" class="idref" href="#bdb403844e9182477c54f25fd517b057"><span class="id" title="binder">Δ</span></a> <a id="k:533" class="idref" href="#k:533"><span class="id" title="binder">k</span></a> <a id="t:534" class="idref" href="#t:534"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:533"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bdb403844e9182477c54f25fd517b057"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:534"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:533"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bdb403844e9182477c54f25fd517b057"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b76e63a2dc232eefc3cb75edb63a3339"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:533"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#bdb403844e9182477c54f25fd517b057"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:534"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Δ</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#ctx_length_rev_ind"><span class="id" title="lemma">ctx_length_rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_k_ctx_decl"><span class="id" title="definition">expand_lets_k_ctx_decl</span></a> /= <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">H</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_k_ctx_decl"><span class="id" title="definition">expand_lets_k_ctx_decl</span></a> /= <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">H</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_k_mkApps" class="idref" href="#expand_lets_k_mkApps"><span class="id" title="lemma">expand_lets_k_mkApps</span></a> <a id="6d8a7500676509a278537998b80e8e40" class="idref" href="#6d8a7500676509a278537998b80e8e40"><span class="id" title="binder">Γ</span></a> <a id="k:536" class="idref" href="#k:536"><span class="id" title="binder">k</span></a> <a id="f:537" class="idref" href="#f:537"><span class="id" title="binder">f</span></a> <a id="args:538" class="idref" href="#args:538"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:536"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:537"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#args:538"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:536"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:537"><span class="id" title="variable">f</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:536"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#args:538"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_mkApps"><span class="id" title="lemma">lift_mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_mkApps"><span class="id" title="lemma">subst_mkApps</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_mkApps" class="idref" href="#expand_lets_mkApps"><span class="id" title="lemma">expand_lets_mkApps</span></a> <a id="962efeea6919d1cb22c013fff53e7ee5" class="idref" href="#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="binder">Γ</span></a> <a id="f:540" class="idref" href="#f:540"><span class="id" title="binder">f</span></a> <a id="args:541" class="idref" href="#args:541"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:540"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#args:541"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f:540"><span class="id" title="variable">f</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#args:541"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_k_mkApps"><span class="id" title="lemma">expand_lets_k_mkApps</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_tRel" class="idref" href="#expand_lets_tRel"><span class="id" title="lemma">expand_lets_tRel</span></a> <a id="k:542" class="idref" href="#k:542"><span class="id" title="binder">k</span></a> <a id="2da9c42c89b48ffe494c083cded82017" class="idref" href="#2da9c42c89b48ffe494c083cded82017"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2da9c42c89b48ffe494c083cded82017"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:542"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2da9c42c89b48ffe494c083cded82017"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:542"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2da9c42c89b48ffe494c083cded82017"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_rel_ge"><span class="id" title="lemma">lift_rel_ge</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_rel_gt"><span class="id" title="lemma">subst_rel_gt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="context_assumptions_context" class="idref" href="#context_assumptions_context"><span class="id" title="lemma">context_assumptions_context</span></a> {<a id="c2a8d38b8cc1dbac44acff60563ea6f6" class="idref" href="#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="binder">Γ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c2a8d38b8cc1dbac44acff60563ea6f6"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="assumption_context_app" class="idref" href="#assumption_context_app"><span class="id" title="lemma">assumption_context_app</span></a> <a id="5fd8aed6c9dad003956f8fe11cf03dff" class="idref" href="#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="binder">Γ</span></a> <a id="d44dddc750960e3bbdcf18e8885c88e8" class="idref" href="#d44dddc750960e3bbdcf18e8885c88e8"><span class="id" title="binder">Γ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d44dddc750960e3bbdcf18e8885c88e8"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#5fd8aed6c9dad003956f8fe11cf03dff"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d44dddc750960e3bbdcf18e8885c88e8"><span class="id" title="variable">Γ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_assumption_context" class="idref" href="#expand_lets_assumption_context"><span class="id" title="lemma">expand_lets_assumption_context</span></a> <a id="004f80c670c804a5fc6e5ed4e5572c0f" class="idref" href="#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="binder">Γ</span></a> <a id="t:548" class="idref" href="#t:548"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#004f80c670c804a5fc6e5ed4e5572c0f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:548"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#t:548"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> /=. <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_id"><span class="id" title="lemma">lift0_id</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_empty"><span class="id" title="lemma">subst_empty</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">ass</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#assumption_context_app"><span class="id" title="lemma">assumption_context_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ass</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">assl</span> <span class="id" title="var">assx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">assx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#extended_subst_app"><span class="id" title="lemma">extended_subst_app</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_simpl"><span class="id" title="lemma">subst_app_simpl</span></a> /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_context_lift_id"><span class="id" title="lemma">subst_context_lift_id</span></a> // <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_context"><span class="id" title="lemma">lift0_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#context_assumptions_context"><span class="id" title="lemma">context_assumptions_context</span></a> <span class="id" title="var">assl</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_reli_lift_id"><span class="id" title="lemma">subst_reli_lift_id</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΓ</span> <span class="id" title="var">assl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#context_assumptions_context"><span class="id" title="lemma">context_assumptions_context</span></a> <span class="id" title="var">assl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_ctx_assumption_context" class="idref" href="#expand_lets_ctx_assumption_context"><span class="id" title="lemma">expand_lets_ctx_assumption_context</span></a> <a id="61d1a562c448ecf13176a6093dcc7746" class="idref" href="#61d1a562c448ecf13176a6093dcc7746"><span class="id" title="binder">Γ</span></a> <a id="ade1c5e578b37745916a30d28a2479a8" class="idref" href="#ade1c5e578b37745916a30d28a2479a8"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#assumption_context"><span class="id" title="inductive">assumption_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#61d1a562c448ecf13176a6093dcc7746"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#61d1a562c448ecf13176a6093dcc7746"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ade1c5e578b37745916a30d28a2479a8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ade1c5e578b37745916a30d28a2479a8"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_context"><span class="id" title="lemma">lift0_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst0_context"><span class="id" title="lemma">subst0_context</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">ass</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#assumption_context_app"><span class="id" title="lemma">assumption_context_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ass</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">assl</span> <span class="id" title="var">assx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">assx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#extended_subst_app"><span class="id" title="lemma">extended_subst_app</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_context"><span class="id" title="lemma">subst_app_context</span></a> /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_context_lift_id"><span class="id" title="lemma">subst_context_lift_id</span></a> // <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_context"><span class="id" title="lemma">lift0_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#context_assumptions_context"><span class="id" title="lemma">context_assumptions_context</span></a> <span class="id" title="var">assl</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_context_lift_id"><span class="id" title="lemma">subst_context_lift_id</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#context_assumptions_context"><span class="id" title="lemma">context_assumptions_context</span></a> <span class="id" title="var">assl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_extended_subst" class="idref" href="#subst_extended_subst"><span class="id" title="lemma">subst_extended_subst</span></a> <a id="s:551" class="idref" href="#s:551"><span class="id" title="binder">s</span></a> <a id="846bb9904a32e9c15874278cb6c81a40" class="idref" href="#846bb9904a32e9c15874278cb6c81a40"><span class="id" title="binder">Γ</span></a> <a id="k:553" class="idref" href="#k:553"><span class="id" title="binder">k</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:551"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:553"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#846bb9904a32e9c15874278cb6c81a40"><span class="id" title="variable">Γ</span></a>) 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:551"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:553"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#846bb9904a32e9c15874278cb6c81a40"><span class="id" title="variable">Γ</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#846bb9904a32e9c15874278cb6c81a40"><span class="id" title="variable">Γ</span></a> 0).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a> /=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst_rec"><span class="id" title="lemma">commut_lift_subst_rec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#distr_subst"><span class="id" title="lemma">distr_subst</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ? (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst"><span class="id" title="lemma">lift_extended_subst</span></a> <span class="id" title="var">_</span> 1); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst_rec"><span class="id" title="lemma">commut_lift_subst_rec</span></a>); <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_subst_comm" class="idref" href="#expand_lets_subst_comm"><span class="id" title="lemma">expand_lets_subst_comm</span></a> <a id="2f2fa8e883ed31f6d22231745d976610" class="idref" href="#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="binder">Γ</span></a> <a id="s:555" class="idref" href="#s:555"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:555"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:555"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:555"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_extended_subst"><span class="id" title="lemma">subst_extended_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#distr_subst"><span class="id" title="lemma">distr_subst</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#commut_lift_subst_rec"><span class="id" title="lemma">commut_lift_subst_rec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_expand_lets_subst_comm" class="idref" href="#map_expand_lets_subst_comm"><span class="id" title="lemma">map_expand_lets_subst_comm</span></a> <a id="65f630dfb5be7568893f538c9def7cad" class="idref" href="#65f630dfb5be7568893f538c9def7cad"><span class="id" title="binder">Γ</span></a> <a id="s:557" class="idref" href="#s:557"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:557"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#65f630dfb5be7568893f538c9def7cad"><span class="id" title="variable">Γ</span></a>)) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:557"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#65f630dfb5be7568893f538c9def7cad"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:557"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#65f630dfb5be7568893f538c9def7cad"><span class="id" title="variable">Γ</span></a>)) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#65f630dfb5be7568893f538c9def7cad"><span class="id" title="variable">Γ</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#expand_lets_subst_comm"><span class="id" title="lemma">expand_lets_subst_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_subst_expand_lets" class="idref" href="#map_subst_expand_lets"><span class="id" title="lemma">map_subst_expand_lets</span></a> <a id="s:558" class="idref" href="#s:558"><span class="id" title="binder">s</span></a> <a id="55ac5d9f012c888c78ecfc060ed4701b" class="idref" href="#55ac5d9f012c888c78ecfc060ed4701b"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#55ac5d9f012c888c78ecfc060ed4701b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:558"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:558"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#55ac5d9f012c888c78ecfc060ed4701b"><span class="id" title="variable">Γ</span></a> 0)) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:558"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#55ac5d9f012c888c78ecfc060ed4701b"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#distr_subst"><span class="id" title="lemma">distr_subst</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_subst_k"><span class="id" title="lemma">simpl_subst_k</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_subst_expand_lets_k" class="idref" href="#map_subst_expand_lets_k"><span class="id" title="lemma">map_subst_expand_lets_k</span></a> <a id="s:560" class="idref" href="#s:560"><span class="id" title="binder">s</span></a> <a id="c9c3590195faf9b00837cda2422f876f" class="idref" href="#c9c3590195faf9b00837cda2422f876f"><span class="id" title="binder">Γ</span></a> <a id="k:562" class="idref" href="#k:562"><span class="id" title="binder">k</span></a> <a id="x:563" class="idref" href="#x:563"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c9c3590195faf9b00837cda2422f876f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:560"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:560"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c9c3590195faf9b00837cda2422f876f"><span class="id" title="variable">Γ</span></a> 0)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:562"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#x:563"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:560"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:562"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c9c3590195faf9b00837cda2422f876f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:562"><span class="id" title="variable">k</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#distr_subst_rec"><span class="id" title="lemma">distr_subst_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 0 <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> → <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#simpl_subst_k"><span class="id" title="lemma">simpl_subst_k</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_context_map_subst_expand_lets" class="idref" href="#subst_context_map_subst_expand_lets"><span class="id" title="lemma">subst_context_map_subst_expand_lets</span></a> <a id="s:564" class="idref" href="#s:564"><span class="id" title="binder">s</span></a> <a id="23b204a8d1ed17cde3408979a425871b" class="idref" href="#23b204a8d1ed17cde3408979a425871b"><span class="id" title="binder">Γ</span></a> <a id="c459620bb7845a72557fc8b495adb194" class="idref" href="#c459620bb7845a72557fc8b495adb194"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#23b204a8d1ed17cde3408979a425871b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:564"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:564"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#23b204a8d1ed17cde3408979a425871b"><span class="id" title="variable">Γ</span></a> 0)) 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c459620bb7845a72557fc8b495adb194"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:564"><span class="id" title="variable">s</span></a> 0 (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#23b204a8d1ed17cde3408979a425871b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c459620bb7845a72557fc8b495adb194"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_alt"><span class="id" title="lemma">lift_context_alt</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_compose"><span class="id" title="lemma">mapi_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.pred"><span class="id" title="definition">Nat.pred</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_subst_expand_lets_k"><span class="id" title="lemma">map_subst_expand_lets_k</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_context_map_subst_expand_lets_k" class="idref" href="#subst_context_map_subst_expand_lets_k"><span class="id" title="lemma">subst_context_map_subst_expand_lets_k</span></a> <a id="s:567" class="idref" href="#s:567"><span class="id" title="binder">s</span></a> <a id="f726fa981cd5c84d3d0feecd5a6869f3" class="idref" href="#f726fa981cd5c84d3d0feecd5a6869f3"><span class="id" title="binder">Γ</span></a> <a id="74db6f280eecd52753d38d03fde39f38" class="idref" href="#74db6f280eecd52753d38d03fde39f38"><span class="id" title="binder">Δ</span></a> <a id="k:570" class="idref" href="#k:570"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f726fa981cd5c84d3d0feecd5a6869f3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:567"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:567"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f726fa981cd5c84d3d0feecd5a6869f3"><span class="id" title="variable">Γ</span></a> 0)) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:570"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#74db6f280eecd52753d38d03fde39f38"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:567"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:570"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#f726fa981cd5c84d3d0feecd5a6869f3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:570"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#74db6f280eecd52753d38d03fde39f38"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_alt"><span class="id" title="lemma">lift_context_alt</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_compose"><span class="id" title="lemma">mapi_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_decl"><span class="id" title="definition">lift_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_subst_expand_lets_k"><span class="id" title="lemma">map_subst_expand_lets_k</span></a> //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">sigma_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_extended_subst_shift" class="idref" href="#inst_extended_subst_shift"><span class="id" title="lemma">inst_extended_subst_shift</span></a> (<a id="731b455f2bcddc1514ccdefb8f1f801b" class="idref" href="#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) <a id="k:572" class="idref" href="#k:572"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:572"><span class="id" title="variable">k</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst"><span class="id" title="definition">inst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:572"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#731b455f2bcddc1514ccdefb8f1f801b"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#map_idsn_spec"><span class="id" title="lemma">map_idsn_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#nat_recursion_ext"><span class="id" title="lemma">nat_recursion_ext</span></a> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">l'</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span>); <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst"><span class="id" title="lemma">lift_extended_subst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">k</span>). <span class="id" title="var">now</span> <span class="id" title="var">sigma</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_context_decompo" class="idref" href="#subst_context_decompo"><span class="id" title="lemma">subst_context_decompo</span></a> <a id="s:573" class="idref" href="#s:573"><span class="id" title="binder">s</span></a> <a id="s':574" class="idref" href="#s':574"><span class="id" title="binder">s'</span></a> <a id="d9dbaa354030d3798588dd5693507ce9" class="idref" href="#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="binder">Γ</span></a> <a id="k:576" class="idref" href="#k:576"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:573"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':574"><span class="id" title="variable">s'</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:576"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':574"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:576"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s':574"><span class="id" title="variable">s'</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:573"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:576"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#d9dbaa354030d3798588dd5693507ce9"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_alt"><span class="id" title="lemma">subst_context_alt</span></a> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_compose"><span class="id" title="lemma">mapi_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_decomp"><span class="id" title="lemma">subst_app_decomp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_decomp"><span class="id" title="lemma">subst_app_decomp</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_app_decomp"><span class="id" title="lemma">subst_app_decomp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="smash_context_acc" class="idref" href="#smash_context_acc"><span class="id" title="lemma">smash_context_acc</span></a> <a id="09b0fdcb67caf58d327638860d09f858" class="idref" href="#09b0fdcb67caf58d327638860d09f858"><span class="id" title="binder">Γ</span></a> <a id="b36c8927d8f68a6bcf4c9a9935b69e5d" class="idref" href="#b36c8927d8f68a6bcf4c9a9935b69e5d"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b36c8927d8f68a6bcf4c9a9935b69e5d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a> 0) 0 (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b36c8927d8f68a6bcf4c9a9935b69e5d"><span class="id" title="variable">Δ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Δ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[? [] ?] ?]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Δ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst0_context"><span class="id" title="lemma">subst0_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_context"><span class="id" title="lemma">lift0_context</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_nil"><span class="id" title="lemma">subst_context_nil</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_context_decompo"><span class="id" title="lemma">subst_context_decompo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift0_id"><span class="id" title="lemma">lift0_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst0_context"><span class="id" title="lemma">subst0_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_compose"><span class="id" title="lemma">fold_context_k_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_compose"><span class="id" title="lemma">Upn_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ext"><span class="id" title="instance">Upn_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> /=. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHΓ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_app"><span class="id" title="lemma">lift_context_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_context_app"><span class="id" title="lemma">subst_context_app</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <span class="id" title="tactic">at</span> 2, <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_compose"><span class="id" title="lemma">fold_context_k_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_ext"><span class="id" title="lemma">inst_ext</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_compose"><span class="id" title="lemma">Upn_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_ext"><span class="id" title="instance">Upn_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Up"><span class="id" title="definition">Up</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_subst_cons"><span class="id" title="lemma">subst_consn_subst_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_cons_proper"><span class="id" title="instance">subst_cons_proper</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_eq"><span class="id" title="lemma">Upn_eq</span></a>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a> <span class="id" title="tactic">at</span> 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_proper"><span class="id" title="instance">subst_consn_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#inst_extended_subst_shift"><span class="id" title="lemma">inst_extended_subst_shift</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#compose_ids_l"><span class="id" title="lemma">compose_ids_l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#1fd3a2c396e34e34a86464bd59ba64ce"><span class="id" title="notation">↑</span></a>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift"><span class="id" title="lemma">shiftk_shift</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_shiftn"><span class="id" title="lemma">subst_consn_shiftn</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>); [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_shift"><span class="id" title="lemma">shiftk_shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk_compose"><span class="id" title="lemma">shiftk_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose_assoc"><span class="id" title="lemma">subst_compose_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_shiftn"><span class="id" title="lemma">subst_consn_shiftn</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>); [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shift_subst_consn_ge" class="idref" href="#shift_subst_consn_ge"><span class="id" title="lemma">shift_subst_consn_ge</span></a> (<a id="n:579" class="idref" href="#n:579"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:580" class="idref" href="#l:580"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="50453a18036d1c412f2db1de613eaf27" class="idref" href="#50453a18036d1c412f2db1de613eaf27"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:580"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:579"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:579"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:580"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#50453a18036d1c412f2db1de613eaf27"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:579"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#l:580"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#50453a18036d1c412f2db1de613eaf27"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_subst" class="idref" href="#skipn_subst"><span class="id" title="lemma">skipn_subst</span></a> <a id="n:582" class="idref" href="#n:582"><span class="id" title="binder">n</span></a> <a id="s:583" class="idref" href="#s:583"><span class="id" title="binder">s</span></a> <a id="c204b8526626cd50a7baabc26f8e80a9" class="idref" href="#c204b8526626cd50a7baabc26f8e80a9"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:582"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:583"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:582"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:583"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c204b8526626cd50a7baabc26f8e80a9"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:582"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:583"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#c204b8526626cd50a7baabc26f8e80a9"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hn</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_skipn"><span class="id" title="lemma">nth_error_skipn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn_length"><span class="id" title="lemma">List.skipn_length</span></a>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_shift_comm" class="idref" href="#subst_shift_comm"><span class="id" title="lemma">subst_shift_comm</span></a> <a id="k:585" class="idref" href="#k:585"><span class="id" title="binder">k</span></a> <a id="n:586" class="idref" href="#n:586"><span class="id" title="binder">n</span></a> <a id="s:587" class="idref" href="#s:587"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:585"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:587"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:586"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:586"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">⇑^(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#k:585"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:586"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:587"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn_Upn"><span class="id" title="lemma">Upn_Upn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn_Upn"><span class="id" title="lemma">shiftn_Upn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_subst_consn_ge" class="idref" href="#Upn_subst_consn_ge"><span class="id" title="lemma">Upn_subst_consn_ge</span></a> (<a id="n:588" class="idref" href="#n:588"><span class="id" title="binder">n</span></a> <a id="i:589" class="idref" href="#i:589"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="s:590" class="idref" href="#s:590"><span class="id" title="binder">s</span></a> (<a id="9ff9b11a62e074dc89e45bb9c40fd592" class="idref" href="#9ff9b11a62e074dc89e45bb9c40fd592"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:588"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:590"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:589"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:588"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:590"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9ff9b11a62e074dc89e45bb9c40fd592"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">))</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#9ff9b11a62e074dc89e45bb9c40fd592"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:588"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">i</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">|)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Upn_subst_consn_lt" class="idref" href="#Upn_subst_consn_lt"><span class="id" title="lemma">Upn_subst_consn_lt</span></a> (<a id="n:592" class="idref" href="#n:592"><span class="id" title="binder">n</span></a> <a id="i:593" class="idref" href="#i:593"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="s:594" class="idref" href="#s:594"><span class="id" title="binder">s</span></a> (<a id="2a90979de69c0a93f62e52e2e34a2c70" class="idref" href="#2a90979de69c0a93f62e52e2e34a2c70"><span class="id" title="binder">σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#substitutionT"><span class="id" title="definition">substitutionT</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#i:593"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:592"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:594"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(⇑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:592"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:594"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#2a90979de69c0a93f62e52e2e34a2c70"><span class="id" title="variable">σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">))</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#64b62961f3506563337ecca5e1172b0a"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#idsn"><span class="id" title="definition">idsn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:592"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#s:594"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">∘</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#cdf5d3dd42c21ebe3fd7367b65e1b81d"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#a4a32b8308f1780dad4635c3c275ed92"><span class="id" title="notation">↑^</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#n:592"><span class="id" title="variable">n</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">))</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftk"><span class="id" title="definition">shiftk</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#Upn"><span class="id" title="definition">Upn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCArith.html#leb_spec_Set"><span class="id" title="lemma">leb_spec_Set</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_ge"><span class="id" title="lemma">subst_consn_ge</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn_subst_consn"><span class="id" title="lemma">subst_fn_subst_consn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_lt"><span class="id" title="lemma">subst_consn_lt</span></a>; <span class="id" title="var">len</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_fn"><span class="id" title="definition">subst_fn</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>:<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_spec"><span class="id" title="lemma">nth_error_spec</span></a> ⇒ /= // <span class="id" title="var">hlen</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ren_lift_renaming"><span class="id" title="lemma">ren_lift_renaming</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn_compose"><span class="id" title="lemma">subst_consn_compose</span></a> : <span class="id" title="var">sigma</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rename_context_length" class="idref" href="#rename_context_length"><span class="id" title="lemma">rename_context_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="0048c0a28d3d2dd22514e8af62801bc7" class="idref" href="#0048c0a28d3d2dd22514e8af62801bc7"><span class="id" title="binder">σ</span></a> <a id="b262fb4866a41d8092fead74df46b174" class="idref" href="#b262fb4866a41d8092fead74df46b174"><span class="id" title="binder">Γ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#0048c0a28d3d2dd22514e8af62801bc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b262fb4866a41d8092fead74df46b174"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#b262fb4866a41d8092fead74df46b174"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">Γ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_context"><span class="id" title="definition">rename_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_length"><span class="id" title="lemma">fold_context_k_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rename_context_length"><span class="id" title="lemma">rename_context_length</span></a> : <span class="id" title="var">sigma</span> <span class="id" title="keyword">wf</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
