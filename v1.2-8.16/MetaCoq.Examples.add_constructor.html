<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.Examples.add_constructor</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Template.All.html#"><span class="id" title="library">All</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.monad_utils.html#MCMonadNotation"><span class="id" title="module">MCMonadNotation</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;****************************************************&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;In&nbsp;this&nbsp;file&nbsp;we&nbsp;define&nbsp;a&nbsp;small&nbsp;plugin&nbsp;which&nbsp;allow&nbsp;to&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;add&nbsp;a&nbsp;constructor&nbsp;to&nbsp;an&nbsp;inductive&nbsp;without&nbsp;rewriting&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;the&nbsp;whole&nbsp;inductive.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;****************************************************&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab210"></a><h2 class="section">Auxiliary functions</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="TslIdent" class="idref" href="#TslIdent"><span class="id" title="record">TslIdent</span></a> := { <a id="tsl_ident" class="idref" href="#tsl_ident"><span class="id" title="projection">tsl_ident</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a id="prime_tsl_ident" class="idref" href="#prime_tsl_ident"><span class="id" title="instance">prime_tsl_ident</span></a> : <a class="idref" href="MetaCoq.Examples.add_constructor.html#TslIdent"><span class="id" title="class">TslIdent</span></a><br/>
&nbsp;&nbsp;:= {| <a class="idref" href="MetaCoq.Examples.add_constructor.html#tsl_ident"><span class="id" title="method">tsl_ident</span></a> := <span class="id" title="keyword">fun</span> <a id="id:3" class="idref" href="#id:3"><span class="id" title="binder">id</span></a> ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#id:3"><span class="id" title="variable">id</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#ee0c685eaa3e4bb6fc08727e7542b6f9"><span class="id" title="notation">^</span></a> "'" |}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="try_remove_n_lambdas" class="idref" href="#try_remove_n_lambdas"><span class="id" title="definition">try_remove_n_lambdas</span></a> (<a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="t:5" class="idref" href="#t:5"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Examples.add_constructor.html#n:4"><span class="id" title="variable">n</span></a>, <a class="idref" href="MetaCoq.Examples.add_constructor.html#t:5"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0, <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#t:5"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>, <a class="idref" href="MetaCoq.Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span> ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#try_remove_n_lambdas:6"><span class="id" title="definition">try_remove_n_lambdas</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#n:4"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#t:5"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#t:5"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab211"></a><h1 class="section">Plugin</h1>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">add_ctor</span></span>&nbsp;add&nbsp;a&nbsp;constructor&nbsp;to&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">mutual_inductive_body</span></span><br/>
&nbsp;(that&nbsp;is&nbsp;a&nbsp;reified&nbsp;declaration&nbsp;of&nbsp;an&nbsp;inductive).&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="tsl_constructor_body" class="idref" href="#tsl_constructor_body"><span class="id" title="definition">tsl_constructor_body</span></a> (<a id="c:9" class="idref" href="#c:9"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.constructor_body"><span class="id" title="record">constructor_body</span></a>) : <a class="idref" href="MetaCoq.Template.Ast.html#Env.constructor_body"><span class="id" title="record">constructor_body</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_name"><span class="id" title="projection">cstr_name</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#tsl_ident"><span class="id" title="method">tsl_ident</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#c:9"><span class="id" title="variable">c</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_name"><span class="id" title="projection">cstr_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">cstr_args</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#c:9"><span class="id" title="variable">c</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#c:9"><span class="id" title="variable">c</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">cstr_type</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#c:9"><span class="id" title="variable">c</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#c:9"><span class="id" title="variable">c</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="remove_last_n" class="idref" href="#remove_last_n"><span class="id" title="definition">remove_last_n</span></a> {<a id="A:10" class="idref" href="#A:10"><span class="id" title="binder">A</span></a>} (<a id="l:11" class="idref" href="#l:11"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#A:10"><span class="id" title="variable">A</span></a>) (<a id="n:12" class="idref" href="#n:12"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#A:10"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Examples.add_constructor.html#l:11"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#n:12"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Examples.add_constructor.html#l:11"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="new_cstr" class="idref" href="#new_cstr"><span class="id" title="definition">new_cstr</span></a> <a id="mdecl:13" class="idref" href="#mdecl:13"><span class="id" title="binder">mdecl</span></a> (<a id="idc:14" class="idref" href="#idc:14"><span class="id" title="binder">idc</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>) (<a id="ctor:15" class="idref" href="#ctor:15"><span class="id" title="binder">ctor</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="MetaCoq.Template.Ast.html#Env.constructor_body"><span class="id" title="record">constructor_body</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">concl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ctor:15"><span class="id" title="variable">ctor</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="hd:16" class="idref" href="#hd:16"><span class="id" title="binder">hd</span></a>, <a id="indices:17" class="idref" href="#indices:17"><span class="id" title="binder">indices</span></a>) := <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">concl</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_name"><span class="id" title="projection">cstr_name</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#idc:14"><span class="id" title="variable">idc</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">cstr_args</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#remove_last_n"><span class="id" title="definition">remove_last_n</span></a> <span class="id" title="var">args</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Examples.add_constructor.html#mdecl:13"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">ind_params</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#mdecl:13"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">ind_npars</span></a>) <a class="idref" href="MetaCoq.Examples.add_constructor.html#indices:17"><span class="id" title="variable">indices</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_type"><span class="id" title="projection">cstr_type</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ctor:15"><span class="id" title="variable">ctor</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">args</span> |}.<br/>

<br/>
<span class="id" title="var">Polymorphic</span> <span class="id" title="keyword">Definition</span> <a id="add_ctor" class="idref" href="#add_ctor"><span class="id" title="definition">add_ctor</span></a> (<a id="mind:18" class="idref" href="#mind:18"><span class="id" title="binder">mind</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) (<a id="ind0:19" class="idref" href="#ind0:19"><span class="id" title="binder">ind0</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) (<a id="idc:20" class="idref" href="#idc:20"><span class="id" title="binder">idc</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>) (<a id="ctor:21" class="idref" href="#ctor:21"><span class="id" title="binder">ctor</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Template.Ast.html#Env.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <a id="i0:22" class="idref" href="#i0:22"><span class="id" title="binder">i0</span></a> := <a class="idref" href="MetaCoq.Common.Kernames.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind0:19"><span class="id" title="variable">ind0</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_finite"><span class="id" title="projection">ind_finite</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_finite"><span class="id" title="projection">ind_finite</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">ind_npars</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_npars"><span class="id" title="projection">ind_npars</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">ind_universes</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_universes"><span class="id" title="projection">ind_universes</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_variance"><span class="id" title="projection">ind_variance</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_variance"><span class="id" title="projection">ind_variance</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">ind_params</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_params"><span class="id" title="projection">ind_params</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> := <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> (<span class="id" title="keyword">fun</span> (<a id="i:23" class="idref" href="#i:23"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ind:24" class="idref" href="#ind:24"><span class="id" title="binder">ind</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_name"><span class="id" title="projection">ind_name</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#tsl_ident"><span class="id" title="method">tsl_ident</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_name"><span class="id" title="projection">ind_name</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">ind_indices</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_indices"><span class="id" title="projection">ind_indices</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_sort"><span class="id" title="projection">ind_sort</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_sort"><span class="id" title="projection">ind_sort</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">ind_type</span></a>  := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">ind_type</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_kelim"><span class="id" title="projection">ind_kelim</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> := <span class="id" title="keyword">let</span> <a id="ctors:25" class="idref" href="#ctors:25"><span class="id" title="binder">ctors</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tsl_constructor_body"><span class="id" title="definition">tsl_constructor_body</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#i:23"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#i0:22"><span class="id" title="variable">i0</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:26" class="idref" href="#n:26"><span class="id" title="binder">n</span></a> := <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="typ:27" class="idref" href="#typ:27"><span class="id" title="binder">typ</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#try_remove_n_lambdas"><span class="id" title="definition">try_remove_n_lambdas</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#n:26"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ctor:21"><span class="id" title="variable">ctor</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Examples.add_constructor.html#ctors:25"><span class="id" title="variable">ctors</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.Examples.add_constructor.html#new_cstr"><span class="id" title="definition">new_cstr</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#idc:20"><span class="id" title="variable">idc</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#typ:27"><span class="id" title="variable">typ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ctors:25"><span class="id" title="variable">ctors</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_projs"><span class="id" title="projection">ind_projs</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_projs"><span class="id" title="projection">ind_projs</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_relevance"><span class="id" title="projection">ind_relevance</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind:24"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_relevance"><span class="id" title="projection">ind_relevance</span></a>) |})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Examples.add_constructor.html#mind:18"><span class="id" title="variable">mind</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) |}.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">add_constructor</span></span>&nbsp;is&nbsp;a&nbsp;new&nbsp;command&nbsp;(in&nbsp;Template&nbsp;Coq&nbsp;style)&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;which&nbsp;do&nbsp;what&nbsp;we&nbsp;want&nbsp;*)</span><br/>

<br/>
<span class="id" title="var">Polymorphic</span> <span class="id" title="keyword">Definition</span> <a id="add_constructor" class="idref" href="#add_constructor"><span class="id" title="definition">add_constructor</span></a> (<a id="tm:28" class="idref" href="#tm:28"><span class="id" title="binder">tm</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="idc:29" class="idref" href="#idc:29"><span class="id" title="binder">idc</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>) (<a id="type:30" class="idref" href="#type:30"><span class="id" title="binder">type</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">Ast.term</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Template.TemplateMonad.Core.html#TemplateMonad"><span class="id" title="inductive">TemplateMonad</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:28"><span class="id" title="variable">tm</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">ind0</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="decl:32" class="idref" href="#decl:32"><span class="id" title="binder">decl</span></a> <a class="idref" href="MetaCoq.Utils.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaCoq.Template.TemplateMonad.Core.html#tmQuoteInductive"><span class="id" title="constructor">tmQuoteInductive</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">ind0</span>) <a class="idref" href="MetaCoq.Utils.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ind':33" class="idref" href="#ind':33"><span class="id" title="binder">ind'</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#add_ctor"><span class="id" title="definition">add_ctor</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#decl:32"><span class="id" title="variable">decl</span></a> <span class="id" title="var">ind0</span> <a class="idref" href="MetaCoq.Examples.add_constructor.html#idc:29"><span class="id" title="variable">idc</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#type:30"><span class="id" title="variable">type</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TemplateMonad.Core.html#tmMkInductive'"><span class="id" title="definition">tmMkInductive'</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#ind':33"><span class="id" title="variable">ind'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Template.TemplateMonad.Core.html#tmPrint"><span class="id" title="constructor">tmPrint</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:28"><span class="id" title="variable">tm</span></a> <a class="idref" href="MetaCoq.Utils.monad_utils.html#ad6f5869610c58e6b1cafcdf52bb7ae3"><span class="id" title="notation">;;</span></a> <a class="idref" href="MetaCoq.Template.TemplateMonad.Core.html#tmFail"><span class="id" title="constructor">tmFail</span></a> " is not an inductive"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab212"></a><h1 class="section">Examples</h1>

</div>
<div class="code">
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bs_scope</span>.<br/>
</div>

<div class="doc">
Here we add a silly constructor to bool. 
</div>
<div class="code">
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Examples.add_constructor.html#add_constructor"><span class="id" title="definition">add_constructor</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a> "foo" <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="x:34" class="idref" href="#x:34"><span class="id" title="binder">x</span></a> : <span class="id" title="keyword">Type</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#x:34"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#x:34"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a>).<br/>
<span class="comment">(*&nbsp;Inductive&nbsp;bool'&nbsp;:&nbsp;Set&nbsp;:=&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true'&nbsp;:&nbsp;bool'&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;false'&nbsp;:&nbsp;bool'&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;foo&nbsp;:&nbsp;nat&nbsp;-&gt;&nbsp;bool'&nbsp;-&gt;&nbsp;bool&nbsp;-&gt;&nbsp;bool'&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="test" class="idref" href="#test"><span class="id" title="definition">test</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#bool'"><span class="id" title="inductive">bool'</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="test'" class="idref" href="#test'"><span class="id" title="definition">test'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#bool'"><span class="id" title="inductive">bool'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#bool'"><span class="id" title="inductive">bool'</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#foo"><span class="id" title="constructor">foo</span></a>.<br/>

<br/>
</div>

<div class="doc">
Here is a useful usecase: add a case to a syntax. 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="tm" class="idref" href="#tm"><span class="id" title="inductive">tm</span></a> :=<br/>
| <a id="var" class="idref" href="#var"><span class="id" title="constructor">var</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:35"><span class="id" title="inductive">tm</span></a><br/>
| <a id="lam" class="idref" href="#lam"><span class="id" title="constructor">lam</span></a> : <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:35"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:35"><span class="id" title="inductive">tm</span></a><br/>
| <a id="app" class="idref" href="#app"><span class="id" title="constructor">app</span></a> : <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:35"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:35"><span class="id" title="inductive">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm:35"><span class="id" title="inductive">tm</span></a>.<br/>

<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="MetaCoq.Examples.add_constructor.html#add_constructor"><span class="id" title="definition">add_constructor</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a><a class="idref" href="MetaCoq.Examples.add_constructor.html#tm"><span class="id" title="inductive">tm</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a> "letin" <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="tm':37" class="idref" href="#tm':37"><span class="id" title="binder">tm'</span></a> ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm':37"><span class="id" title="variable">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm':37"><span class="id" title="variable">tm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#tm':37"><span class="id" title="variable">tm'</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="test2" class="idref" href="#test2"><span class="id" title="definition">test2</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#letin"><span class="id" title="constructor">letin</span></a>.<br/>
<span class="comment">(*&nbsp;Inductive&nbsp;tm'&nbsp;:&nbsp;Type&nbsp;:=&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var'&nbsp;:&nbsp;nat&nbsp;-&gt;&nbsp;tm'&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;lam'&nbsp;:&nbsp;tm'&nbsp;-&gt;&nbsp;tm'&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;app'&nbsp;:&nbsp;tm'&nbsp;-&gt;&nbsp;tm'&nbsp;-&gt;&nbsp;tm'&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;letin&nbsp;:&nbsp;tm'&nbsp;-&gt;&nbsp;tm'&nbsp;-&gt;&nbsp;tm'&nbsp;*)</span><br/>

<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="MetaCoq.Examples.add_constructor.html#add_constructor"><span class="id" title="definition">add_constructor</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a> "foo'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> (<a id="eq':39" class="idref" href="#eq':39"><span class="id" title="binder">eq'</span></a>:<span class="id" title="keyword">∀</span> <a id="A:38" class="idref" href="#A:38"><span class="id" title="binder">A</span></a>, <a class="idref" href="MetaCoq.Examples.add_constructor.html#A:38"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#A:38"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) ⇒ <span class="id" title="keyword">∀</span> <a id="A:40" class="idref" href="#A:40"><span class="id" title="binder">A</span></a> <a id="x:41" class="idref" href="#x:41"><span class="id" title="binder">x</span></a> <a id="y:42" class="idref" href="#y:42"><span class="id" title="binder">y</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#eq':39"><span class="id" title="variable">eq'</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#A:40"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#eq':39"><span class="id" title="variable">eq'</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#A:40"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Examples.add_constructor.html#y:42"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="test3" class="idref" href="#test3"><span class="id" title="definition">test3</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#foo'"><span class="id" title="constructor">foo'</span></a>.<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="MetaCoq.Examples.add_constructor.html#add_constructor"><span class="id" title="definition">add_constructor</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.Odd_alt"><span class="id" title="inductive">Nat.Odd_alt</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a> "foo''"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%(</span></a><span class="id" title="keyword">fun</span> (<a id="even':43" class="idref" href="#even':43"><span class="id" title="binder">even'</span></a> <a id="odd':44" class="idref" href="#odd':44"><span class="id" title="binder">odd'</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#odd':44"><span class="id" title="variable">odd'</span></a> 0<a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">)%&gt;</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="test4" class="idref" href="#test4"><span class="id" title="definition">test4</span></a> := <a class="idref" href="MetaCoq.Examples.add_constructor.html#foo''"><span class="id" title="constructor">foo''</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="A" class="idref" href="#A"><span class="id" title="module">A</span></a>.<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="MetaCoq.Examples.add_constructor.html#add_constructor"><span class="id" title="definition">add_constructor</span></a> <a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.Even_alt"><span class="id" title="inductive">Nat.Even_alt</span></a><a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">%&gt;</span></a> "foo'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">&lt;%(</span></a><span class="id" title="keyword">fun</span> (<a id="even':45" class="idref" href="#even':45"><span class="id" title="binder">even'</span></a> <a id="odd':46" class="idref" href="#odd':46"><span class="id" title="binder">odd'</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) ⇒ <a class="idref" href="MetaCoq.Examples.add_constructor.html#even':45"><span class="id" title="variable">even'</span></a> 0<a class="idref" href="MetaCoq.Template.Loader.html#718bcc50d47fdc3f494b25555b8a784b"><span class="id" title="notation">)%&gt;</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Examples.add_constructor.html#A"><span class="id" title="module">A</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
