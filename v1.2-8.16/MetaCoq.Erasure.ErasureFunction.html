<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.Erasure.ErasureFunction</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Transparent</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#"><span class="id" title="library">Kernames</span></a> <a class="idref" href="MetaCoq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICPrimitive.html#"><span class="id" title="library">PCUICPrimitive</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICReflect.html#"><span class="id" title="library">PCUICReflect</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#"><span class="id" title="library">PCUICCasesContexts</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICContextConversionTyp.html#"><span class="id" title="library">PCUICContextConversionTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICConfluence.html#"><span class="id" title="library">PCUICConfluence</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICUnivSubstitutionTyp.html#"><span class="id" title="library">PCUICUnivSubstitutionTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICNormalization.html#"><span class="id" title="library">PCUICNormalization</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICPrincipality.html#"><span class="id" title="library">PCUICPrincipality</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICElimination.html#"><span class="id" title="library">PCUICElimination</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#"><span class="id" title="library">PCUICOnFreeVars</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#"><span class="id" title="library">PCUICSN</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#"><span class="id" title="library">PCUICEtaExpand</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#"><span class="id" title="library">PCUICSafeReduce</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#"><span class="id" title="library">PCUICSafeRetyping</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#"><span class="id" title="library">PCUICRetypingEnvIrrelevance</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#"><span class="id" title="library">EAstUtils</span></a> <a class="idref" href="MetaCoq.Erasure.EArities.html#"><span class="id" title="library">EArities</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#"><span class="id" title="library">Extract</span></a> <a class="idref" href="MetaCoq.Erasure.Prelim.html#"><span class="id" title="library">Prelim</span></a> <a class="idref" href="MetaCoq.Erasure.EDeps.html#"><span class="id" title="library">EDeps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#"><span class="id" title="library">ErasureProperties</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#"><span class="id" title="library">ErasureCorrectness</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.monad_utils.html#MCMonadNotation"><span class="id" title="module">MCMonadNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">extraction_normalizing</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="alpha_eq" class="idref" href="#alpha_eq"><span class="id" title="abbreviation">alpha_eq</span></a> := (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="inductive">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sq</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCSquash.html#sq"><span class="id" title="constructor">sq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_local_rel_alpha_eq_end" class="idref" href="#wf_local_rel_alpha_eq_end"><span class="id" title="lemma">wf_local_rel_alpha_eq_end</span></a> {<a id="cf:1" class="idref" href="#cf:1"><span class="id" title="binder">cf</span></a>} {<a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="9c77acedd153c05882e0fedfeff8f884" class="idref" href="#9c77acedd153c05882e0fedfeff8f884"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>} {<a id="9cfd66c80bf9988ea8f7104e167ac5cd" class="idref" href="#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="binder">Γ</span></a> <a id="d1f0e078f04502659f58b18dce315e18" class="idref" href="#d1f0e078f04502659f58b18dce315e18"><span class="id" title="binder">Δ</span></a> <a id="a4ad290a6ed2d015ddf152c85c946e7a" class="idref" href="#a4ad290a6ed2d015ddf152c85c946e7a"><span class="id" title="binder">Δ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#alpha_eq"><span class="id" title="abbreviation">alpha_eq</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1f0e078f04502659f58b18dce315e18"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a4ad290a6ed2d015ddf152c85c946e7a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_rel"><span class="id" title="definition">wf_local_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1f0e078f04502659f58b18dce315e18"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_rel"><span class="id" title="definition">wf_local_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9cfd66c80bf9988ea8f7104e167ac5cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a4ad290a6ed2d015ddf152c85c946e7a"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΓ</span> <span class="id" title="var">eqctx</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_app_inv"><span class="id" title="definition">wf_local_app_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_app"><span class="id" title="definition">wf_local_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#wf_local_alpha"><span class="id" title="lemma">PCUICSpine.wf_local_alpha</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="OnInductives" class="idref" href="#OnInductives"><span class="id" title="section">OnInductives</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:7" class="idref" href="#cf:7"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="cb3edd5393c7bbdf625595792a237037" class="idref" href="#cb3edd5393c7bbdf625595792a237037"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="c0ebc9bec549dd45448e81d7536bd22f" class="idref" href="#c0ebc9bec549dd45448e81d7536bd22f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb3edd5393c7bbdf625595792a237037"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="on_minductive_wf_params_weaken" class="idref" href="#on_minductive_wf_params_weaken"><span class="id" title="lemma">on_minductive_wf_params_weaken</span></a> {<a id="ind:10" class="idref" href="#ind:10"><span class="id" title="binder">ind</span></a> <a id="mdecl:11" class="idref" href="#mdecl:11"><span class="id" title="binder">mdecl</span></a> <a id="7adcac760179e19a0bb37c9e1720bc22" class="idref" href="#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="binder">Γ</span></a>} {<a id="u:13" class="idref" href="#u:13"><span class="id" title="binder">u</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ind:10"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mdecl:11"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mdecl:11"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:13"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mdecl:11"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:13"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICArities.html#on_minductive_wf_params"><span class="id" title="lemma">PCUICArities.on_minductive_wf_params</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="mdecl:14" class="idref" href="#mdecl:14"><span class="id" title="binder">mdecl</span></a> <a id="ind:15" class="idref" href="#ind:15"><span class="id" title="binder">ind</span></a> <a id="idecl:16" class="idref" href="#idecl:16"><span class="id" title="binder">idecl</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="decli:17" class="idref" href="#decli:17"><span class="id" title="binder">decli</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ind:15"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mdecl:14"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#idecl:16"><span class="id" title="variable">idecl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="on_minductive_wf_params_indices_inst_weaken" class="idref" href="#on_minductive_wf_params_indices_inst_weaken"><span class="id" title="lemma">on_minductive_wf_params_indices_inst_weaken</span></a> {<a id="f0fc26962fbc1476a5f5245f565ffb72" class="idref" href="#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="binder">Γ</span></a>} (<a id="u:19" class="idref" href="#u:19"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#OnInductives.mdecl"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:19"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#edab2b350c929dbbfe82b9852704e221"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f0fc26962fbc1476a5f5245f565ffb72"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#OnInductives.mdecl"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#OnInductives.idecl"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:19"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">decli</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#weaken_wf_local"><span class="id" title="lemma">weaken_wf_local</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#on_minductive_wf_params_indices_inst"><span class="id" title="lemma">PCUICInductives.on_minductive_wf_params_indices_inst</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#OnInductives"><span class="id" title="section">OnInductives</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">extraction_checker_flags</span>.<br/>
<span class="comment">(*&nbsp;Definition&nbsp;wf_ext_wf&nbsp;Σ&nbsp;:&nbsp;wf_ext&nbsp;Σ&nbsp;-&gt;&nbsp;wf&nbsp;Σ&nbsp;:=&nbsp;fst.<br/>
[global]
Hint Resolve wf_ext_wf : core. *)</span><br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">h</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fix_sigma" class="idref" href="#fix_sigma"><span class="id" title="section">fix_sigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:20" class="idref" href="#cf:20"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="nor:21" class="idref" href="#nor:21"><span class="id" title="binder">nor</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="X_type:22" class="idref" href="#X_type:22"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="X:23" class="idref" href="#X:23"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="normalization_in:25" class="idref" href="#normalization_in:25"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="0ff5eed445d72e1c5ccedcdae1755936" class="idref" href="#0ff5eed445d72e1c5ccedcdae1755936"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0ff5eed445d72e1c5ccedcdae1755936"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0ff5eed445d72e1c5ccedcdae1755936"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0ff5eed445d72e1c5ccedcdae1755936"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="e13e9e4849f1b26670f1b852ea178571" class="idref" href="#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> (<a id="d5baa5219fc7b5a4dfb705afd995f55f" class="idref" href="#d5baa5219fc7b5a4dfb705afd995f55f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d5baa5219fc7b5a4dfb705afd995f55f"><span class="id" title="variable">wfΣ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="720e701f42950b807464278d7d15e598" class="idref" href="#720e701f42950b807464278d7d15e598"><span class="id" title="definition">HΣ</span></a> <a id="eb789037a8f6adae4a3a57f4d9f80b3c" class="idref" href="#eb789037a8f6adae4a3a57f4d9f80b3c"><span class="id" title="binder">Σ</span></a> (<a id="b4436481159b35500006909fbbde3f20" class="idref" href="#b4436481159b35500006909fbbde3f20"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#eb789037a8f6adae4a3a57f4d9f80b3c"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#eb789037a8f6adae4a3a57f4d9f80b3c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_sq_wf"><span class="id" title="definition">abstract_env_ext_sq_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b4436481159b35500006909fbbde3f20"><span class="id" title="variable">wfΣ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="term_rel" class="idref" href="#term_rel"><span class="id" title="definition">term_rel</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">Relation_Definitions.relation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="a84750bab259aa2f16170b25727bba3f" class="idref" href="#a84750bab259aa2f16170b25727bba3f"><span class="id" title="binder">Γ</span></a> <a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="1beca3efe5883c5b6c82a78600a11ca9" class="idref" href="#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:31"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">(</span></a><a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">Γ2</span></a><a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">;</span></a> <a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">B</span></a><a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">;</span></a> <a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">H</span></a><a id="pat:36" class="idref" href="#pat:36"><span class="id" title="binder">)</span></a> '<a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">(</span></a><a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">Γ1</span></a><a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">;</span></a> <a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">t1</span></a><a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">;</span></a> <a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">H2</span></a><a id="pat:40" class="idref" href="#pat:40"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b2fa38fbaf9e73dda3ce249d373db916" class="idref" href="#b2fa38fbaf9e73dda3ce249d373db916"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b2fa38fbaf9e73dda3ce249d373db916"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="na:42" class="idref" href="#na:42"><span class="id" title="binder">na</span></a> <a id="A:43" class="idref" href="#A:43"><span class="id" title="binder">A</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b2fa38fbaf9e73dda3ce249d373db916"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b09473a05956ba3e258d2d002289a37f"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t1:38"><span class="id" title="variable">t1</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:42"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:43"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#B:34"><span class="id" title="variable">B</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b09473a05956ba3e258d2d002289a37f"><span class="id" title="variable">Γ1</span></a><a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:42"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:43"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#41f601fb21798a84aef4f5268adc6def"><span class="id" title="variable">Γ2</span></a><a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cod" class="idref" href="#cod"><span class="id" title="definition">cod</span></a> <a id="B:44" class="idref" href="#B:44"><span class="id" title="binder">B</span></a> <a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:45"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">B'</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#B:44"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">B'</span> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_cod" class="idref" href="#wf_cod"><span class="id" title="lemma">wf_cod</span></a> : <span class="id" title="class">WellFounded</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cod"><span class="id" title="definition">cod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_cod'" class="idref" href="#wf_cod'"><span class="id" title="lemma">wf_cod'</span></a> : <span class="id" title="class">WellFounded</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">Relation_Operators.clos_trans</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cod"><span class="id" title="definition">cod</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Subterm.WellFounded_trans_clos</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_cod"><span class="id" title="lemma">wf_cod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Acc_no_loop" class="idref" href="#Acc_no_loop"><span class="id" title="lemma">Acc_no_loop</span></a> <a id="A:47" class="idref" href="#A:47"><span class="id" title="binder">A</span></a> (<a id="R:48" class="idref" href="#R:48"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:47"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#R:48"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#R:48"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sq'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCSquash.html#sq"><span class="id" title="constructor">sq</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wf_reduction_aux" class="idref" href="#wf_reduction_aux"><span class="id" title="definition">wf_reduction_aux</span></a> : <span class="id" title="class">WellFounded</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_rel"><span class="id" title="definition">term_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Γ</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">H</span>). <span class="id" title="var">sq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.normalization_in"><span class="id" title="variable">normalization_in</span></a> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">s</span> <span class="id" title="var">H'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_cod'"><span class="id" title="lemma">wf_cod'</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">IH_sub</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">H</span> , <span class="id" title="var">H'</span>, <span class="id" title="var">IH</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Γ'</span> &amp; <span class="id" title="var">B</span> &amp; ?) [(<span class="id" title="var">na</span> &amp; <span class="id" title="var">A</span> &amp; ? &amp; ?)]; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rt_rtn1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH_sub</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#prod_red_r"><span class="id" title="constructor">prod_red_r</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#cored_red"><span class="id" title="lemma">cored_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#cored_red_trans"><span class="id" title="lemma">cored_red_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#prod_red_r"><span class="id" title="constructor">prod_red_r</span></a>. 2:<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_prod_r"><span class="id" title="lemma">PCUICReduction.red_prod_r</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#red_neq_cored"><span class="id" title="lemma">red_neq_cored</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rtn1_rt</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rtn1_rt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#cored_red_trans"><span class="id" title="lemma">cored_red_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; [| <span class="id" title="tactic">exact</span> <span class="id" title="var">X1</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Acc_no_loop"><span class="id" title="lemma">Acc_no_loop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.normalization_in"><span class="id" title="variable">normalization_in</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?) ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#cored_red"><span class="id" title="lemma">cored_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#subject_reduction"><span class="id" title="lemma">subject_reduction</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Relation_Properties.clos_rtn1_rt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="wf_reduction" class="idref" href="#wf_reduction"><span class="id" title="instance">wf_reduction</span></a> : <span class="id" title="class">WellFounded</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_rel"><span class="id" title="definition">term_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Wf.html#Acc_intro_generator"><span class="id" title="definition">Wf.Acc_intro_generator</span></a> 1000 <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_reduction_aux"><span class="id" title="definition">wf_reduction_aux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">tactic</span>="idtac"]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="is_arity" class="idref" href="#is_arity"><span class="id" title="definition">is_arity</span></a> <a id="893aef7061fe05b037fc27cff76f1e6f" class="idref" href="#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="binder">Γ</span></a> (<a id="1150222734c7f45b3aed0a100b8044e6" class="idref" href="#1150222734c7f45b3aed0a100b8044e6"><span class="id" title="binder">HΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="cbbfa2396495d39f80c59fc2f71e0bb6" class="idref" href="#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbbfa2396495d39f80c59fc2f71e0bb6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="T:53" class="idref" href="#T:53"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HT:55" class="idref" href="#HT:55"><span class="id" title="binder">HT</span></a> : <span class="id" title="keyword">∀</span> <a id="7674e0ce7f4ec5e4ff169924724c4b41" class="idref" href="#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:53"><span class="id" title="variable">T</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="keyword">wf</span> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a><span class="id" title="var">T</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">;</span></a><span class="id" title="var">HT</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cdd198d55a4475b214740b8083e472ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="b3c7ccaae8c465e07e25793f53653087" class="idref" href="#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="binder">Γ</span></a> <a id="t:107" class="idref" href="#t:107"><span class="id" title="binder">t</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <a id="bf64b8ca86999443d40a34bdbbcf8d7f" class="idref" href="#bf64b8ca86999443d40a34bdbbcf8d7f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bf64b8ca86999443d40a34bdbbcf8d7f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bf64b8ca86999443d40a34bdbbcf8d7f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:107"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_rel"><span class="id" title="definition">term_rel</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity:61"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0fd58672988bb7094daf640098f3cbf6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9c8287a7651062c78c684c04bfc90f51"><span class="id" title="variable">HΓ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:59"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#HT:57"><span class="id" title="variable">HT</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (@<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>) ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H:62"><span class="id" title="variable">H</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#rsort:69"><span class="id" title="variable">rsort</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">_</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#rsort:77"><span class="id" title="variable">rsort</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">inspect</span></a> (@<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>) ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#Checked_comp"><span class="id" title="constructor">Checked_comp</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:88"><span class="id" title="variable">na</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:79"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#B:80"><span class="id" title="variable">B</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H:81"><span class="id" title="variable">H</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#10ad76a80d07304ebf924e74a1314ea7"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#rprod:89"><span class="id" title="variable">rprod</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity:56"><span class="id" title="definition">is_arity</span></a> (<span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span>) <span class="id" title="var">_</span> <span class="id" title="var">B</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#TypeError_comp"><span class="id" title="constructor">TypeError_comp</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:99"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#rprod:101"><span class="id" title="variable">rprod</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">rprod</span> <span class="id" title="var">is_arity</span> <span class="id" title="var">rsort</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">HT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#subject_reduction_closed"><span class="id" title="lemma">subject_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [? [? [? []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t1</span>. <span class="id" title="var">pcuic</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">rprod</span> <span class="id" title="var">is_arity</span> <span class="id" title="var">rsort</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">HT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#subject_reduction_closed"><span class="id" title="lemma">subject_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [? [? [? []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="var">all</span>:<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">rsort</span> <span class="id" title="var">is_arity</span> <span class="id" title="var">rprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">HT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#subject_reduction_closed"><span class="id" title="lemma">subject_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>; <span class="id" title="var">tea</span>. 2:<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">as</span> [? [? [? []]]]. 2:<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">na</span>, <span class="id" title="var">A</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_arityP" class="idref" href="#is_arityP"><span class="id" title="lemma">is_arityP</span></a> <a id="20b0d4460e63a61e2b7612cbaab47a2a" class="idref" href="#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="binder">Γ</span></a> (<a id="918b6578e5b38c360605dc47e3f53857" class="idref" href="#918b6578e5b38c360605dc47e3f53857"><span class="id" title="binder">HΓ</span></a> : <span class="id" title="keyword">∀</span> <a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="T:112" class="idref" href="#T:112"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HT:114" class="idref" href="#HT:114"><span class="id" title="binder">HT</span></a> : <span class="id" title="keyword">∀</span> <a id="67028e5db0d7f321f964117e73116fa2" class="idref" href="#67028e5db0d7f321f964117e73116fa2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:112"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<span class="id" title="keyword">∀</span> <a id="4ab8af35b8f4bf9e0a1f4a462962d99a" class="idref" href="#4ab8af35b8f4bf9e0a1f4a462962d99a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4ab8af35b8f4bf9e0a1f4a462962d99a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#Is_conv_to_Arity"><span class="id" title="definition">Is_conv_to_Arity</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4ab8af35b8f4bf9e0a1f4a462962d99a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:112"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#918b6578e5b38c360605dc47e3f53857"><span class="id" title="variable">HΓ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:112"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#HT:114"><span class="id" title="variable">HT</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">rsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">rprod</span> <span class="id" title="var">rsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> [[<span class="id" title="var">HT'</span>] <span class="id" title="var">isa</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">T'</span>); <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#closed_red_prod_codom"><span class="id" title="lemma">closed_red_prod_codom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">T'</span> [[<span class="id" title="var">HT'</span>] <span class="id" title="var">isa</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICContextConversion.html#closed_red_confluence"><span class="id" title="lemma">PCUICContextConversion.closed_red_confluence</span></a> <span class="id" title="var">H</span> <span class="id" title="var">HT'</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#invert_red_prod"><span class="id" title="lemma">invert_red_prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; []); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#isArity_red"><span class="id" title="lemma">isArity_red</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isa</span>. 2:<span class="id" title="tactic">exact</span> <span class="id" title="var">c0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rprod</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rsort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isc</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#Is_conv_to_Arity_inv"><span class="id" title="lemma">Is_conv_to_Arity_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isc</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> [<span class="id" title="var">Hr</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">na</span>, <span class="id" title="var">A</span>, <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span> [<span class="id" title="var">Hu</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fix_sigma"><span class="id" title="section">fix_sigma</span></a>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_reduction_aux"><span class="id" title="definition">wf_reduction_aux</span></a>.<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
</div>

<div class="doc">
Deciding if a term is erasable or not as a total function on well-typed terms.
  A term is erasable if:
<ul class="doclist">
<li> it represents a type, i.e., its type is an arity

</li>
<li> it represents a proof: its sort is Prop.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Derive</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#typing_result_comp"><span class="id" title="inductive">typing_result_comp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="inspect" class="idref" href="#inspect"><span class="id" title="definition">inspect</span></a> {<a id="A:116" class="idref" href="#A:116"><span class="id" title="binder">A</span></a>} (<a id="x:117" class="idref" href="#x:117"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:116"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="y:118" class="idref" href="#y:118"><span class="id" title="binder">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:116"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:117"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#y:118"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:117"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a id="inspect_bool" class="idref" href="#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a id="b:119" class="idref" href="#b:119"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool:121"><span class="id" title="definition">inspect_bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool:122"><span class="id" title="definition">inspect_bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
#[<span class="id" title="var">tactic</span>="idtac"]<br/>
<span class="id" title="keyword">Equations</span>? <a id="is_erasableb" class="idref" href="#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a id="X_type:123" class="idref" href="#X_type:123"><span class="id" title="binder">X_type</span></a> <a id="X:124" class="idref" href="#X:124"><span class="id" title="binder">X</span></a> {<a id="normalization_in:126" class="idref" href="#normalization_in:126"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="25478b4c84bc4c7e13949a20e94474d0" class="idref" href="#25478b4c84bc4c7e13949a20e94474d0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#25478b4c84bc4c7e13949a20e94474d0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#25478b4c84bc4c7e13949a20e94474d0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:124"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#25478b4c84bc4c7e13949a20e94474d0"><span class="id" title="variable">Σ</span></a>} (<a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="T:128" class="idref" href="#T:128"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:130" class="idref" href="#wt:130"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="15b074cf36512f8adc75ec6a926bd245" class="idref" href="#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:124"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15b074cf36512f8adc75ec6a926bd245"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:128"><span class="id" title="variable">T</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb:137"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:133"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:132"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:134"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:135"><span class="id" title="variable">wt</span></a> <span class="id" title="keyword">with</span> @<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:138"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">T</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="keyword">let</span> <a id="s:161" class="idref" href="#s:161"><span class="id" title="binder">s</span></a> := @<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#is_propositional"><span class="id" title="definition">is_propositional</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#s:161"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> } }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span>; <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">tT</span> <span class="id" title="var">Hp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">tT</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">tT</span> <span class="id" title="var">Hp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">tT</span>. <span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_erasableP" class="idref" href="#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> {<a id="X_type:162" class="idref" href="#X_type:162"><span class="id" title="binder">X_type</span></a> <a id="X:163" class="idref" href="#X:163"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:165" class="idref" href="#normalization_in:165"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="9ff56a46be872711c9a28bdf9007a0f1" class="idref" href="#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9ff56a46be872711c9a28bdf9007a0f1"><span class="id" title="variable">Σ</span></a>} {<a id="612ccdfb9614510cc025f5f344f765fe" class="idref" href="#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:167" class="idref" href="#t:167"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>}<br/>
&nbsp;&nbsp;{<a id="wt:169" class="idref" href="#wt:169"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="f0e027ee5a1f64fcc94eec5677ac05b4" class="idref" href="#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f0e027ee5a1f64fcc94eec5677ac05b4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:167"><span class="id" title="variable">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<span class="id" title="keyword">∀</span> <a id="de0bdd995243600a0219716b7c05224c" class="idref" href="#de0bdd995243600a0219716b7c05224c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#de0bdd995243600a0219716b7c05224c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#de0bdd995243600a0219716b7c05224c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:167"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:162"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:167"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:169"><span class="id" title="variable">wt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]. <span class="id" title="var">cbn</span> -[<span class="id" title="var">is_arity</span> <span class="id" title="var">sort_of_type</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hx</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">HT</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arityP"><span class="id" title="lemma">is_arityP</span></a>: <span class="id" title="var">Heq</span> ⇒ / (<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) [<span class="id" title="var">T'</span> [<span class="id" title="var">redT'</span> <span class="id" title="var">isar</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#type_reduction_closed"><span class="id" title="lemma">type_reduction_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]. <span class="id" title="var">cbn</span> -[<span class="id" title="var">sort_of_type</span> <span class="id" title="var">is_arity</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#sort_of_type"><span class="id" title="definition">sort_of_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Universes.html#is_propositional"><span class="id" title="definition">is_propositional</span></a> <span class="id" title="var">x0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">isp</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">HT</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>]. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ / (<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) [[<span class="id" title="var">T'</span> [<span class="id" title="var">HT'</span> <span class="id" title="var">er</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arityP"><span class="id" title="lemma">is_arityP</span></a>: <span class="id" title="var">Heq</span> ⇒ <span class="id" title="var">nisa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">HT</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">HT'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">er</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isa</span>|[<span class="id" title="var">u'</span> [<span class="id" title="var">Hu'</span> <span class="id" title="var">isp'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">nisa</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#invert_cumul_arity_r"><span class="id" title="lemma">invert_cumul_arity_r</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICElimination.html#unique_sorting_equality_propositional"><span class="id" title="lemma">unique_sorting_equality_propositional</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hu'</span> <span class="id" title="var">p</span>) ⇒ //. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>? <a id="is_erasable" class="idref" href="#is_erasable"><span class="id" title="definition">is_erasable</span></a> {<a id="X_type:171" class="idref" href="#X_type:171"><span class="id" title="binder">X_type</span></a> <a id="X:172" class="idref" href="#X:172"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:174" class="idref" href="#normalization_in:174"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="c1c5c8c67a0dc9808d5f39ed656267e7" class="idref" href="#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:172"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a>} (<a id="62abbf5bce3aee9ccd3ee50bd268d444" class="idref" href="#62abbf5bce3aee9ccd3ee50bd268d444"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:176" class="idref" href="#t:176"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:178" class="idref" href="#wt:178"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="80c4883e819c4171f815880acf571a9a" class="idref" href="#80c4883e819c4171f815880acf571a9a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:172"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#62abbf5bce3aee9ccd3ee50bd268d444"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:176"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="1e1aaa9c2472685a6034e69f58121c1e" class="idref" href="#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasable:186"><span class="id" title="definition">is_erasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e1d284cf5abad24f47e1cbe9f62ccfc3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:181"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:183"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d2439cea23e738bdaea23e25a15cdf06"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">wt</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ise:192"><span class="id" title="variable">ise</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#nise:202"><span class="id" title="variable">nise</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> }.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>: <span class="id" title="var">ise</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#elimN"><span class="id" title="lemma">elimN</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>): <span class="id" title="var">nise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">sq</span> ⇒ <span class="id" title="var">ise</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">nise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfΣ</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Erase" class="idref" href="#Erase"><span class="id" title="section">Erase</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="X_type:207" class="idref" href="#X_type:207"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a> (<span class="id" title="var">cf</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="X:208" class="idref" href="#X:208"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X_type"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="normalization_in:210" class="idref" href="#normalization_in:210"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="1d3c2712cd53f8ced44b9865a79a0e0b" class="idref" href="#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d3c2712cd53f8ced44b9865a79a0e0b"><span class="id" title="variable">Σ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Ltac&nbsp;sq'&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat&nbsp;match&nbsp;goal&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;H&nbsp;:&nbsp;∥&nbsp;_&nbsp;∥&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;destruct&nbsp;H;&nbsp;try&nbsp;clear&nbsp;H<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;&nbsp;try&nbsp;eapply&nbsp;sq.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Bug&nbsp;in&nbsp;equationa:&nbsp;it&nbsp;produces&nbsp;huge&nbsp;goals&nbsp;leading&nbsp;to&nbsp;stack&nbsp;overflow&nbsp;if&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;&nbsp;don't&nbsp;try&nbsp;reflexivity&nbsp;here.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Equations.Prop.DepElim.solve_equation</span> <span class="id" title="var">c</span> ::=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">Equations.Prop.DepElim.simplify_equation</span> <span class="id" title="var">c</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="class">ImpossibleCall</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">DepElim.find_empty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">try</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">discriminates</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">tactic</span>="idtac"]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Equations</span>? <a id="erase" class="idref" href="#erase"><span class="id" title="definition">erase</span></a> (<a id="dcc71771dbbab30de93aa8a879cf7dbb" class="idref" href="#dcc71771dbbab30de93aa8a879cf7dbb"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="t:212" class="idref" href="#t:212"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:214" class="idref" href="#Ht:214"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="52ae8f637803b72bd7dd56a99edfb191" class="idref" href="#52ae8f637803b72bd7dd56a99edfb191"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#52ae8f637803b72bd7dd56a99edfb191"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#52ae8f637803b72bd7dd56a99edfb191"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dcc71771dbbab30de93aa8a879cf7dbb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:212"><span class="id" title="variable">t</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="keyword">struct</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:243"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#570e3711a725ac9b838f519a4a277354"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Ht:240"><span class="id" title="variable">Ht</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X_type"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>) :=<br/>
&nbsp;&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#he:247"><span class="id" title="variable">he</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#he:255"><span class="id" title="variable">he</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:264"><span class="id" title="variable">i</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tRel"><span class="id" title="constructor">E.tRel</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:275"><span class="id" title="variable">n</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tVar"><span class="id" title="constructor">E.tVar</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:285"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:284"><span class="id" title="variable">l</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tEvar"><span class="id" title="constructor">E.tEvar</span></a> <span class="id" title="var">m</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms:236"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:295"><span class="id" title="variable">u</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Utils.html#e4d8daa20feca04ae99322cc5ff1a5fc"><span class="id" title="notation">!</span></a>%<span class="id" title="var">prg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:303"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:305"><span class="id" title="variable">u</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tConst"><span class="id" title="constructor">E.tConst</span></a> <span class="id" title="var">kn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:313"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:315"><span class="id" title="variable">u</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Utils.html#e4d8daa20feca04ae99322cc5ff1a5fc"><span class="id" title="notation">!</span></a>%<span class="id" title="var">prg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:324"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#k:323"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:326"><span class="id" title="variable">u</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tConstruct"><span class="id" title="constructor">E.tConstruct</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">_</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Utils.html#e4d8daa20feca04ae99322cc5ff1a5fc"><span class="id" title="notation">!</span></a>%<span class="id" title="var">prg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:344"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b:339"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b':340"><span class="id" title="variable">b'</span></a> := <span class="id" title="keyword">let</span> <a id="t':420" class="idref" href="#t':420"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">b'</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tLambda"><span class="id" title="constructor">E.tLambda</span></a> <span class="id" title="var">na</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':420"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:354"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b:350"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t0:356"><span class="id" title="variable">t0</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t1:357"><span class="id" title="variable">t1</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b':421" class="idref" href="#b':421"><span class="id" title="binder">b'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t1':422" class="idref" href="#t1':422"><span class="id" title="binder">t1'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">t1</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tLetIn"><span class="id" title="constructor">E.tLetIn</span></a> <span class="id" title="var">na</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b':421"><span class="id" title="variable">b'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t1':422"><span class="id" title="variable">t1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f:362"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:367"><span class="id" title="variable">u</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f':423" class="idref" href="#f':423"><span class="id" title="binder">f'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="l':424" class="idref" href="#l':424"><span class="id" title="binder">l'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">u</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tApp"><span class="id" title="constructor">E.tApp</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f':423"><span class="id" title="variable">f'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l':424"><span class="id" title="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ci:374"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:378"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c:373"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs:372"><span class="id" title="variable">brs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':425" class="idref" href="#c':425"><span class="id" title="binder">c'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':426" class="idref" href="#brs':426"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs:237"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tCase"><span class="id" title="constructor">E.tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ci</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#ci_ind"><span class="id" title="projection">ci_ind</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ci</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c':425"><span class="id" title="variable">c'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs':426"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:388"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c:384"><span class="id" title="variable">c</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':427" class="idref" href="#c':427"><span class="id" title="binder">c'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tProj"><span class="id" title="constructor">E.tProj</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c':427"><span class="id" title="variable">c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix:397"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:398"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="e8bbdd5297fefd23af60a7d593d779d2" class="idref" href="#e8bbdd5297fefd23af60a7d593d779d2"><span class="id" title="binder">Γ'</span></a> := (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>)%<span class="id" title="var">list</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':429" class="idref" href="#mfix':429"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix:238"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e8bbdd5297fefd23af60a7d593d779d2"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tFix"><span class="id" title="constructor">E.tFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix':429"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix:407"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:408"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fff0faf8e00603c7fd59e07625367f4b" class="idref" href="#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="binder">Γ'</span></a> := (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ</span>)%<span class="id" title="var">list</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mfix':431" class="idref" href="#mfix':431"><span class="id" title="binder">mfix'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix:239"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fff0faf8e00603c7fd59e07625367f4b"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.tCoFix"><span class="id" title="constructor">E.tCoFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix':431"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:417"><span class="id" title="variable">p</span></a> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tPrim"><span class="id" title="constructor">E.tPrim</span></a> (<a class="idref" href="MetaCoq.Erasure.Extract.html#erase_prim_val"><span class="id" title="definition">erase_prim_val</span></a> <span class="id" title="var">p</span>) }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_terms" class="idref" href="#erase_terms"><span class="id" title="definition">erase_terms</span></a> (<a id="28c45abaa76414f8959c23cb3a19ee26" class="idref" href="#28c45abaa76414f8959c23cb3a19ee26"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="l:216" class="idref" href="#l:216"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="Hl:218" class="idref" href="#Hl:218"><span class="id" title="binder">Hl</span></a> : <span class="id" title="keyword">∀</span> <a id="2eb8ca153ddce4681334c967ec6319eb" class="idref" href="#2eb8ca153ddce4681334c967ec6319eb"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2eb8ca153ddce4681334c967ec6319eb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2eb8ca153ddce4681334c967ec6319eb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28c45abaa76414f8959c23cb3a19ee26"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:216"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms:433"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fac67ac6dc88349a93c45e28c50f768f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms:437"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b6b19b0949691f5270e1b73df104c6f1"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:434"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:435"><span class="id" title="variable">ts</span></a>) <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':438" class="idref" href="#t':438"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ts':439" class="idref" href="#ts':439"><span class="id" title="binder">ts'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms:236"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">ts</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':438"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts':439"><span class="id" title="variable">ts'</span></a> }<br/>
</div>

<div class="doc">
We assume that there are no lets in contexts, so nothing has to be expanded.
  In particular, note that |br.(bcontext)| = context_assumptions br.(bcontext) when no lets are present.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_brs" class="idref" href="#erase_brs"><span class="id" title="definition">erase_brs</span></a> (<a id="68ffce6da5f91c7a770f257ed37726e8" class="idref" href="#68ffce6da5f91c7a770f257ed37726e8"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) <a id="p:220" class="idref" href="#p:220"><span class="id" title="binder">p</span></a> (<a id="brs:221" class="idref" href="#brs:221"><span class="id" title="binder">brs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:224" class="idref" href="#Ht:224"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="993af1b5c399b2f9776f36ea13eef1c0" class="idref" href="#993af1b5c399b2f9776f36ea13eef1c0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#993af1b5c399b2f9776f36ea13eef1c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:223" class="idref" href="#br:223"><span class="id" title="binder">br</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#993af1b5c399b2f9776f36ea13eef1c0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#68ffce6da5f91c7a770f257ed37726e8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:220"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:223"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:223"><span class="id" title="variable">br</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs:221"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs:443"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a5f45efa0b31d084f580ce1f9b4a2685"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:441"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Ht:440"><span class="id" title="variable">Ht</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs:449"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b7b2be0d6ea97a303ca74f2082ed4fec"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:447"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:445"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs:446"><span class="id" title="variable">brs</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Hbrs:444"><span class="id" title="variable">Hbrs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="br':450" class="idref" href="#br':450"><span class="id" title="binder">br'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <span class="id" title="var">br</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <span class="id" title="var">br</span>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':451" class="idref" href="#brs':451"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs:237"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#erase_context"><span class="id" title="definition">erase_context</span></a> <span class="id" title="var">br</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br':450"><span class="id" title="variable">br'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs':451"><span class="id" title="variable">brs'</span></a> }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_fix" class="idref" href="#erase_fix"><span class="id" title="definition">erase_fix</span></a> (<a id="62c3265609e576b3dedefb8e85f87673" class="idref" href="#62c3265609e576b3dedefb8e85f87673"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="mfix:226" class="idref" href="#mfix:226"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:229" class="idref" href="#Ht:229"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="f9bd5fc9770abfb32803e9e591f6fbd6" class="idref" href="#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:228" class="idref" href="#d:228"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:228"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f9bd5fc9770abfb32803e9e591f6fbd6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#62c3265609e576b3dedefb8e85f87673"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:228"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix:226"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.mfixpoint"><span class="id" title="definition">E.mfixpoint</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix:453"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5f9b6a0c88de0744893e8d8e98a662d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix:458"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8127ceafcb0e5e39154a2dd6a35321ee"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:455"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix:456"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Hmfix:454"><span class="id" title="variable">Hmfix</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':459" class="idref" href="#dbody':459"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':460" class="idref" href="#dbody':460"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':459"><span class="id" title="variable">dbody'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;ensure&nbsp;that&nbsp;all&nbsp;fixpoint&nbsp;members&nbsp;start&nbsp;with&nbsp;a&nbsp;lambda,&nbsp;even&nbsp;a&nbsp;dummy&nbsp;one&nbsp;if&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recursive&nbsp;definition&nbsp;is&nbsp;erased.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tLambda"><span class="id" title="constructor">E.tLambda</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> <span class="id" title="var">na</span>) <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':459"><span class="id" title="variable">dbody'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':459"><span class="id" title="variable">dbody'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d':461" class="idref" href="#d':461"><span class="id" title="binder">d'</span></a> := {| <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':460"><span class="id" title="variable">dbody'</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':461"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix:238"><span class="id" title="definition">erase_fix</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="erase_cofix" class="idref" href="#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> (<a id="9b8c71965de813378295a9bcb1ad882a" class="idref" href="#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) (<a id="mfix:231" class="idref" href="#mfix:231"><span class="id" title="binder">mfix</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Ht:234" class="idref" href="#Ht:234"><span class="id" title="binder">Ht</span></a> : <span class="id" title="keyword">∀</span> <a id="25d4a4e1ff9e4bc0ce3937ee94e865bf" class="idref" href="#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase.X"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:233" class="idref" href="#d:233"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:233"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix:231"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.mfixpoint"><span class="id" title="definition">E.mfixpoint</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix:463"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e522f5a3c83390732ce0ffa35256b60b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix:468"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0ce94ee167c2d305ee325411fc7b0988"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:465"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mfix:466"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Hmfix:464"><span class="id" title="variable">Hmfix</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':469" class="idref" href="#dbody':469"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase:235"><span class="id" title="definition">erase</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d':470" class="idref" href="#d':470"><span class="id" title="binder">d'</span></a> := {| <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':469"><span class="id" title="variable">dbody'</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':470"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix:239"><span class="id" title="definition">erase_cofix</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">mfix</span> <span class="id" title="var">_</span> }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">f'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">t'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">brs'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">c'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">br'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">d'</span> <span class="id" title="var">dbody'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase_terms</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase_brs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">erase_mfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ |- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> ] ⇒ <span class="id" title="tactic">idtac</span> | <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">he</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Evar"><span class="id" title="lemma">inversion_Evar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>: <span class="id" title="var">he</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">Ht</span>]. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Ind"><span class="id" title="lemma">inversion_Ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?) ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICUnivSubstitutionTyp.html#isArity_subst_instance"><span class="id" title="lemma">isArity_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#isArity_ind_type"><span class="id" title="lemma">isArity_ind_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#welltyped_brs"><span class="id" title="lemma">welltyped_brs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">i</span> ⇒ [<span class="id" title="var">wffix</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">dbody'0</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Hmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Erase"><span class="id" title="section">Erase</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_erasableb_irrel" class="idref" href="#is_erasableb_irrel"><span class="id" title="lemma">is_erasableb_irrel</span></a> {<a id="X_type:471" class="idref" href="#X_type:471"><span class="id" title="binder">X_type</span></a> <a id="X:472" class="idref" href="#X:472"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:474" class="idref" href="#normalization_in:474"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':475" class="idref" href="#normalization_in':475"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="efb7e2a6adafd1fcbb27f5e53705e602" class="idref" href="#efb7e2a6adafd1fcbb27f5e53705e602"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#efb7e2a6adafd1fcbb27f5e53705e602"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#efb7e2a6adafd1fcbb27f5e53705e602"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:472"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#efb7e2a6adafd1fcbb27f5e53705e602"><span class="id" title="variable">Σ</span></a>} {<a id="754c087e0915a93e37f778dd725516ef" class="idref" href="#754c087e0915a93e37f778dd725516ef"><span class="id" title="binder">Γ</span></a> <a id="t:477" class="idref" href="#t:477"><span class="id" title="binder">t</span></a>} <a id="wt:478" class="idref" href="#wt:478"><span class="id" title="binder">wt</span></a> <a id="wt':479" class="idref" href="#wt':479"><span class="id" title="binder">wt'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:471"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:472"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#754c087e0915a93e37f778dd725516ef"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:477"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:478"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:474"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:471"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:472"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#754c087e0915a93e37f778dd725516ef"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:477"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':479"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':475"><span class="id" title="variable">normalization_in'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt'</span>) ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iserasableb_irrel</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">wt</span>], <span class="id" title="var">Heq</span> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> [ @<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">normalization_in'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">wt'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_irrel"><span class="id" title="lemma">is_erasableb_irrel</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span> <span class="id" title="var">wt'</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simp_erase</span> := <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">rewrite</span> -?<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_equation_1"><span class="id" title="definition">erase_equation_1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_irrel" class="idref" href="#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <a id="X_type:480" class="idref" href="#X_type:480"><span class="id" title="binder">X_type</span></a> <a id="X:481" class="idref" href="#X:481"><span class="id" title="binder">X</span></a> {<a id="normalization_in:482" class="idref" href="#normalization_in:482"><span class="id" title="binder">normalization_in</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="576e660459f92b1931085fcd60aa76dc" class="idref" href="#576e660459f92b1931085fcd60aa76dc"><span class="id" title="binder">Γ</span></a> <a id="t:484" class="idref" href="#t:484"><span class="id" title="binder">t</span></a> <a id="wt:485" class="idref" href="#wt:485"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':486" class="idref" href="#normalization_in':486"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':487" class="idref" href="#wt':487"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#576e660459f92b1931085fcd60aa76dc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:484"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:485"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:482"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#576e660459f92b1931085fcd60aa76dc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:484"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':487"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':486"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="7af1d9d0678d1568b6e90cccceb1d62f" class="idref" href="#7af1d9d0678d1568b6e90cccceb1d62f"><span class="id" title="binder">Γ</span></a> <a id="l:489" class="idref" href="#l:489"><span class="id" title="binder">l</span></a> <a id="wt:490" class="idref" href="#wt:490"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':491" class="idref" href="#normalization_in':491"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':492" class="idref" href="#wt':492"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7af1d9d0678d1568b6e90cccceb1d62f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:489"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:490"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:482"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7af1d9d0678d1568b6e90cccceb1d62f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:489"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':492"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':491"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a8001e2e87225e62cebe0eba7eeea11c" class="idref" href="#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="binder">Γ</span></a> <a id="p:494" class="idref" href="#p:494"><span class="id" title="binder">p</span></a> <a id="l:495" class="idref" href="#l:495"><span class="id" title="binder">l</span></a> <a id="wt:496" class="idref" href="#wt:496"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':497" class="idref" href="#normalization_in':497"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':498" class="idref" href="#wt':498"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:494"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:495"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:496"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:482"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a8001e2e87225e62cebe0eba7eeea11c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:494"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:495"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':498"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':497"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="41eceddb61ce903f9cb0aa19ee3e8dbe" class="idref" href="#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="binder">Γ</span></a> <a id="l:500" class="idref" href="#l:500"><span class="id" title="binder">l</span></a> <a id="wt:501" class="idref" href="#wt:501"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':502" class="idref" href="#normalization_in':502"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':503" class="idref" href="#wt':503"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:500"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:501"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:482"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#41eceddb61ce903f9cb0aa19ee3e8dbe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:500"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':503"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':502"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="01b4c0cc883c3b2155a2c3c40b2d68e4" class="idref" href="#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="binder">Γ</span></a> <a id="l:505" class="idref" href="#l:505"><span class="id" title="binder">l</span></a> <a id="wt:506" class="idref" href="#wt:506"><span class="id" title="binder">wt</span></a>, <span class="id" title="keyword">∀</span> <a id="normalization_in':507" class="idref" href="#normalization_in':507"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':508" class="idref" href="#wt':508"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:505"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:506"><span class="id" title="variable">wt</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:482"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:480"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:481"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#01b4c0cc883c3b2155a2c3c40b2d68e4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:505"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':508"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':507"><span class="id" title="variable">normalization_in'</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="13135aae9e70dc18839ec77be629fe1a" class="idref" href="#13135aae9e70dc18839ec77be629fe1a"><span class="id" title="binder">Γ</span></a> <a id="t:542" class="idref" href="#t:542"><span class="id" title="binder">t</span></a> <a id="wt:543" class="idref" href="#wt:543"><span class="id" title="binder">wt</span></a> <a id="e:544" class="idref" href="#e:544"><span class="id" title="binder">e</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':545" class="idref" href="#normalization_in':545"><span class="id" title="binder">normalization_in'</span></a> (<a id="wt':547" class="idref" href="#wt':547"><span class="id" title="binder">wt'</span></a> : <span class="id" title="keyword">∀</span> <a id="82743ca7028cd8c35adfb1fe7d22ecc9" class="idref" href="#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ebe9e4e5f28b81f09cca68f4c462f2a5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#60110440d423072ae0a3a0d84f62c072"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:510"><span class="id" title="variable">t</span></a>), <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:512"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#60110440d423072ae0a3a0d84f62c072"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:510"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':515"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':513"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="567e107ddeb5fe6c7bc8e4803f06d582" class="idref" href="#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="binder">Γ</span></a> <a id="l:549" class="idref" href="#l:549"><span class="id" title="binder">l</span></a> <a id="awt:550" class="idref" href="#awt:550"><span class="id" title="binder">awt</span></a> <a id="e:551" class="idref" href="#e:551"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':552" class="idref" href="#normalization_in':552"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':553" class="idref" href="#wt':553"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:519"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#887c73d0e5b86316726fc9e861f44a01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:517"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':521"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':520"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="2f2fa8e883ed31f6d22231745d976610" class="idref" href="#2f2fa8e883ed31f6d22231745d976610"><span class="id" title="binder">Γ</span></a> <a id="p:555" class="idref" href="#p:555"><span class="id" title="binder">p</span></a> <a id="l:556" class="idref" href="#l:556"><span class="id" title="binder">l</span></a> <a id="awt:557" class="idref" href="#awt:557"><span class="id" title="binder">awt</span></a> <a id="e:558" class="idref" href="#e:558"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':559" class="idref" href="#normalization_in':559"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':560" class="idref" href="#wt':560"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:526"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1736d38e537ef5a3fabcbbbd9cc9ab87"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:523"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:524"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':528"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':527"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="c9c3590195faf9b00837cda2422f876f" class="idref" href="#c9c3590195faf9b00837cda2422f876f"><span class="id" title="binder">Γ</span></a> <a id="l:562" class="idref" href="#l:562"><span class="id" title="binder">l</span></a> <a id="awt:563" class="idref" href="#awt:563"><span class="id" title="binder">awt</span></a> <a id="e:564" class="idref" href="#e:564"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':565" class="idref" href="#normalization_in':565"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':566" class="idref" href="#wt':566"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:532"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8aaad2aa9cf14f9006bc728ed97c48de"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:530"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':534"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':533"><span class="id" title="variable">normalization_in'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="7df0fe7ab50a45031aa376d9e36d7742" class="idref" href="#7df0fe7ab50a45031aa376d9e36d7742"><span class="id" title="binder">Γ</span></a> <a id="l:568" class="idref" href="#l:568"><span class="id" title="binder">l</span></a> <a id="awt:569" class="idref" href="#awt:569"><span class="id" title="binder">awt</span></a> <a id="e:570" class="idref" href="#e:570"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="normalization_in':571" class="idref" href="#normalization_in':571"><span class="id" title="binder">normalization_in'</span></a> <a id="wt':572" class="idref" href="#wt':572"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:538"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6d8a7500676509a278537998b80e8e40"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:536"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':540"><span class="id" title="variable">wt'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':539"><span class="id" title="variable">normalization_in'</span></a>))); <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iserasableb_irrel</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">zeta</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">erewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_terms_eq" class="idref" href="#erase_terms_eq"><span class="id" title="lemma">erase_terms_eq</span></a> <a id="X_type:573" class="idref" href="#X_type:573"><span class="id" title="binder">X_type</span></a> <a id="X:574" class="idref" href="#X:574"><span class="id" title="binder">X</span></a> {<a id="normalization_in:576" class="idref" href="#normalization_in:576"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="4f4c382d3ee1b9e8f72264a55ed41713" class="idref" href="#4f4c382d3ee1b9e8f72264a55ed41713"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4f4c382d3ee1b9e8f72264a55ed41713"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4f4c382d3ee1b9e8f72264a55ed41713"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:574"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4f4c382d3ee1b9e8f72264a55ed41713"><span class="id" title="variable">Σ</span></a>} <a id="09b0fdcb67caf58d327638860d09f858" class="idref" href="#09b0fdcb67caf58d327638860d09f858"><span class="id" title="binder">Γ</span></a> <a id="ts:578" class="idref" href="#ts:578"><span class="id" title="binder">ts</span></a> <a id="wt:579" class="idref" href="#wt:579"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:573"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:574"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:578"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:579"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:573"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:574"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#09b0fdcb67caf58d327638860d09f858"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:578"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:579"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases"><span class="id" title="inductive">erases</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_to_box" class="idref" href="#erase_to_box"><span class="id" title="lemma">erase_to_box</span></a> {<a id="X_type:580" class="idref" href="#X_type:580"><span class="id" title="binder">X_type</span></a> <a id="X:581" class="idref" href="#X:581"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:583" class="idref" href="#normalization_in:583"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="b814e4f5efac49aff37fd1edb3c77f9f" class="idref" href="#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:581"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b814e4f5efac49aff37fd1edb3c77f9f"><span class="id" title="variable">Σ</span></a>} {<a id="e75bcb38a7b1c4f77dabaa93e8baabb4" class="idref" href="#e75bcb38a7b1c4f77dabaa93e8baabb4"><span class="id" title="binder">Γ</span></a> <a id="t:585" class="idref" href="#t:585"><span class="id" title="binder">t</span></a>} (<a id="wt:587" class="idref" href="#wt:587"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="0d51a7e8f6749027b2c50a573d234b8f" class="idref" href="#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:581"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e75bcb38a7b1c4f77dabaa93e8baabb4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:585"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ffce383fbebace80ac969b11b30483f4" class="idref" href="#ffce383fbebace80ac969b11b30483f4"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:581"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ffce383fbebace80ac969b11b30483f4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:589" class="idref" href="#et:589"><span class="id" title="binder">et</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:580"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:581"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e75bcb38a7b1c4f77dabaa93e8baabb4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:585"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:587"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:589"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ffce383fbebace80ac969b11b30483f4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e75bcb38a7b1c4f77dabaa93e8baabb4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:585"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ffce383fbebace80ac969b11b30483f4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e75bcb38a7b1c4f77dabaa93e8baabb4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:585"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="da32b18c1454a36b8adb3f5026498d75" class="idref" href="#da32b18c1454a36b8adb3f5026498d75"><span class="id" title="binder">Γ</span></a> <a id="t:612" class="idref" href="#t:612"><span class="id" title="binder">t</span></a> <a id="wt:613" class="idref" href="#wt:613"><span class="id" title="binder">wt</span></a> <a id="e:614" class="idref" href="#e:614"><span class="id" title="binder">e</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:593"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:591"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2b8bcf71881cc73e92efe867e51ccfe8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:591"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="cfdbc4c80a1775668d6203360d48eea6" class="idref" href="#cfdbc4c80a1775668d6203360d48eea6"><span class="id" title="binder">Γ</span></a> <a id="l:616" class="idref" href="#l:616"><span class="id" title="binder">l</span></a> <a id="awt:617" class="idref" href="#awt:617"><span class="id" title="binder">awt</span></a> <a id="e:618" class="idref" href="#e:618"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a72d2727d0fd133d48c3a48f712b8c56" class="idref" href="#a72d2727d0fd133d48c3a48f712b8c56"><span class="id" title="binder">Γ</span></a> <a id="p:620" class="idref" href="#p:620"><span class="id" title="binder">p</span></a> <a id="l:621" class="idref" href="#l:621"><span class="id" title="binder">l</span></a> <a id="awt:622" class="idref" href="#awt:622"><span class="id" title="binder">awt</span></a> <a id="e:623" class="idref" href="#e:623"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="b0be9a5ce76946a27054fcfa26b0f566" class="idref" href="#b0be9a5ce76946a27054fcfa26b0f566"><span class="id" title="binder">Γ</span></a> <a id="l:625" class="idref" href="#l:625"><span class="id" title="binder">l</span></a> <a id="awt:626" class="idref" href="#awt:626"><span class="id" title="binder">awt</span></a> <a id="e:627" class="idref" href="#e:627"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="f2bd748719ad891d37bfc425487db608" class="idref" href="#f2bd748719ad891d37bfc425487db608"><span class="id" title="binder">Γ</span></a> <a id="l:629" class="idref" href="#l:629"><span class="id" title="binder">l</span></a> <a id="awt:630" class="idref" href="#awt:630"><span class="id" title="binder">awt</span></a> <a id="e:631" class="idref" href="#e:631"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)); <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">cbn</span> -[<span class="id" title="var">isErasable</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [  <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [ @<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">Ht</span> ] |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>)  ⇒ //<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>  ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">intros</span> ? <span class="id" title="var">HH</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HH</span> <span class="id" title="var">H</span>) ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>) ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box_tApp"><span class="id" title="lemma">is_box_tApp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">u</span>) <span class="id" title="var">Ht</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#is_box"><span class="id" title="definition">is_box</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EArities.html#Is_type_app"><span class="id" title="lemma">EArities.Is_type_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_wf_local"><span class="id" title="lemma">typing_wf_local</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H3</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_erase" class="idref" href="#erases_erase"><span class="id" title="lemma">erases_erase</span></a> {<a id="X_type:632" class="idref" href="#X_type:632"><span class="id" title="binder">X_type</span></a> <a id="X:633" class="idref" href="#X:633"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:635" class="idref" href="#normalization_in:635"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="4e47c39abfcd04ca0d270fc1bd58134f" class="idref" href="#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:633"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4e47c39abfcd04ca0d270fc1bd58134f"><span class="id" title="variable">Σ</span></a>} {<a id="9b5b937ec3de0f9b871b34a6920f3729" class="idref" href="#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="binder">Γ</span></a> <a id="t:637" class="idref" href="#t:637"><span class="id" title="binder">t</span></a>}<br/>
(<a id="wt:639" class="idref" href="#wt:639"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="f1adbe7b9b101afdcb1b9a55c51cbd4e" class="idref" href="#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:633"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f1adbe7b9b101afdcb1b9a55c51cbd4e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:637"><span class="id" title="variable">t</span></a>) :<br/>
<span class="id" title="keyword">∀</span> <a id="d2ca483c20d941d3808840e5056ac0bf" class="idref" href="#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:633"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d2ca483c20d941d3808840e5056ac0bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:637"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:632"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:633"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b5b937ec3de0f9b871b34a6920f3729"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:637"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:639"><span class="id" title="variable">wt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="832c83f62efdeb77bb08f0b6949d593a" class="idref" href="#832c83f62efdeb77bb08f0b6949d593a"><span class="id" title="binder">Γ</span></a> <a id="t:669" class="idref" href="#t:669"><span class="id" title="binder">t</span></a> <a id="wt:670" class="idref" href="#wt:670"><span class="id" title="binder">wt</span></a> <a id="e:671" class="idref" href="#e:671"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#022b79871e28f526f8b5d08114c3859e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:642"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:644"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="6393a0ec19b5ed4c827a06b97a3375da" class="idref" href="#6393a0ec19b5ed4c827a06b97a3375da"><span class="id" title="binder">Γ</span></a> <a id="l:673" class="idref" href="#l:673"><span class="id" title="binder">l</span></a> <a id="awt:674" class="idref" href="#awt:674"><span class="id" title="binder">awt</span></a> <a id="e:675" class="idref" href="#e:675"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#951749f934024c85d741a41f72cbef7a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:646"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:648"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="95d90ade59be5578145c7b7c0e9e6ad5" class="idref" href="#95d90ade59be5578145c7b7c0e9e6ad5"><span class="id" title="binder">Γ</span></a> <a id="p:677" class="idref" href="#p:677"><span class="id" title="binder">p</span></a> <a id="l:678" class="idref" href="#l:678"><span class="id" title="binder">l</span></a> <a id="awt:679" class="idref" href="#awt:679"><span class="id" title="binder">awt</span></a> <a id="e:680" class="idref" href="#e:680"><span class="id" title="binder">e</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:681" class="idref" href="#x:681"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#branch"><span class="id" title="record">branch</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="x':682" class="idref" href="#x':682"><span class="id" title="binder">x'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#168ae6d1a180f13952d069a35a535ed3"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:650"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:654"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:654"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x':655"><span class="id" title="variable">x'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#erase_context"><span class="id" title="definition">erase_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:654"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x':655"><span class="id" title="variable">x'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:651"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:653"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="22f09a301652dbbea24763a8211bf14d" class="idref" href="#22f09a301652dbbea24763a8211bf14d"><span class="id" title="binder">Γ</span></a> <a id="l:684" class="idref" href="#l:684"><span class="id" title="binder">l</span></a> <a id="awt:685" class="idref" href="#awt:685"><span class="id" title="binder">awt</span></a> <a id="e:686" class="idref" href="#e:686"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="d:687" class="idref" href="#d:687"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="d':688" class="idref" href="#d':688"><span class="id" title="binder">d'</span></a> : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.def"><span class="id" title="record">E.def</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:660"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':661"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:660"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':661"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:660"><span class="id" title="variable">d</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.isLambda"><span class="id" title="definition">E.isLambda</span></a> (<a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':661"><span class="id" title="variable">d'</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9a319d6fbf947bc6cff13ef528eaaa79"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:660"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':661"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:657"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:659"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="45506ca9b87686c1e8c04b7a17428885" class="idref" href="#45506ca9b87686c1e8c04b7a17428885"><span class="id" title="binder">Γ</span></a> <a id="l:690" class="idref" href="#l:690"><span class="id" title="binder">l</span></a> <a id="awt:691" class="idref" href="#awt:691"><span class="id" title="binder">awt</span></a> <a id="e:692" class="idref" href="#e:692"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="d:693" class="idref" href="#d:693"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="d':694" class="idref" href="#d':694"><span class="id" title="binder">d'</span></a> : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.def"><span class="id" title="record">E.def</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:666"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':667"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:666"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':667"><span class="id" title="variable">d'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7535b7c7548fadb5e3b90f9f3d796844"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:666"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':667"><span class="id" title="variable">d'</span></a><a class="idref" href="MetaCoq.Utils.utils.html#8426aced733de3f9c0ab331518367c06"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:663"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:665"><span class="id" title="variable">e</span></a>)) ; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">bang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">Ht</span> ] |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">H'</span>]|<span class="id" title="var">H'</span>] ⇒ //; <span class="id" title="tactic">eauto</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_box"><span class="id" title="constructor">erases_box</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#nisErasable_Propositional"><span class="id" title="lemma">nisErasable_Propositional</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICElimination.html#elim_restriction_works"><span class="id" title="lemma">elim_restriction_works</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#isErasable_Proof"><span class="id" title="lemma">isErasable_Proof</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Ht'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht'</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICElimination.html#elim_restriction_works_proj"><span class="id" title="lemma">elim_restriction_works_proj</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isp</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#isErasable_Proof"><span class="id" title="lemma">isErasable_Proof</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hmfix</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hmfix'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmfix'</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmfix'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="na:698" class="idref" href="#na:698"><span class="id" title="binder">na</span></a> <a id="ty:699" class="idref" href="#ty:699"><span class="id" title="binder">ty</span></a> <a id="bod:700" class="idref" href="#bod:700"><span class="id" title="binder">bod</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:695"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ty:696"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bod:697"><span class="id" title="variable">bod</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <span class="id" title="var">d</span>) ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">ty</span> [<span class="id" title="var">bod</span> <span class="id" title="var">eq</span>]]]. <span class="id" title="tactic">rewrite</span> {1 3}<span class="id" title="var">eq</span> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> {1}<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">et</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">He</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">He</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#Is_type_lambda"><span class="id" title="lemma">Is_type_lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>; <span class="id" title="var">tea</span>. 2:<span class="id" title="var">pcuic</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_reduction"><span class="id" title="instance">wf_reduction</span></a>.<br/>

<br/>
</div>

<div class="doc">
We perform erasure up-to the minimal global environment dependencies of the term: i.e.
  we don't need to erase entries of the global environment that will not be used by the erased
  term.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="erase_constant_body" class="idref" href="#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a id="X_type:701" class="idref" href="#X_type:701"><span class="id" title="binder">X_type</span></a> <a id="X:702" class="idref" href="#X:702"><span class="id" title="binder">X</span></a> {<a id="normalization_in:704" class="idref" href="#normalization_in:704"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="6464385177d468cafa03d19ee7ac94a0" class="idref" href="#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:702"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;(<a id="cb:705" class="idref" href="#cb:705"><span class="id" title="binder">cb</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.constant_body"><span class="id" title="record">constant_body</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hcb:707" class="idref" href="#Hcb:707"><span class="id" title="binder">Hcb</span></a> : <span class="id" title="keyword">∀</span> <a id="9d6599fba63676c4410d23d922281b93" class="idref" href="#9d6599fba63676c4410d23d922281b93"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:702"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9d6599fba63676c4410d23d922281b93"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9d6599fba63676c4410d23d922281b93"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:705"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.constant_body"><span class="id" title="record">E.constant_body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">body</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">deps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:705"><span class="id" title="variable">cb</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="b':708" class="idref" href="#b':708"><span class="id" title="binder">b'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:701"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:702"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b':708"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b':708"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">({|</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> := <span class="id" title="var">body</span>; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">|},</span></a> <span class="id" title="var">deps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">Heq_anonymous</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcb</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_one_inductive_body" class="idref" href="#erase_one_inductive_body"><span class="id" title="definition">erase_one_inductive_body</span></a> (<a id="oib:709" class="idref" href="#oib:709"><span class="id" title="binder">oib</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.one_inductive_body"><span class="id" title="record">E.one_inductive_body</span></a> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Projection&nbsp;and&nbsp;constructor&nbsp;types&nbsp;are&nbsp;types,&nbsp;hence&nbsp;always&nbsp;erased&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctors:711" class="idref" href="#ctors:711"><span class="id" title="binder">ctors</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="cdecl:710" class="idref" href="#cdecl:710"><span class="id" title="binder">cdecl</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#mkConstructor"><span class="id" title="constructor">EAst.mkConstructor</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cdecl:710"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cdecl:710"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#oib:709"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="projs:713" class="idref" href="#projs:713"><span class="id" title="binder">projs</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pdecl:712" class="idref" href="#pdecl:712"><span class="id" title="binder">pdecl</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#mkProjection"><span class="id" title="constructor">EAst.mkProjection</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#pdecl:712"><span class="id" title="variable">pdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.proj_name"><span class="id" title="projection">proj_name</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#oib:709"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="is_propositional:714" class="idref" href="#is_propositional:714"><span class="id" title="binder">is_propositional</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#oib:709"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaCoq.Common.Universes.html#is_propositional"><span class="id" title="definition">is_propositional</span></a> <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="comment">(*&nbsp;dummy,&nbsp;impossible&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_name"><span class="id" title="projection">E.ind_name</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#oib:709"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_kelim"><span class="id" title="projection">E.ind_kelim</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#oib:709"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_propositional"><span class="id" title="projection">E.ind_propositional</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_propositional:714"><span class="id" title="variable">is_propositional</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_ctors"><span class="id" title="projection">E.ind_ctors</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ctors:711"><span class="id" title="variable">ctors</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_projs"><span class="id" title="projection">E.ind_projs</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#projs:713"><span class="id" title="variable">projs</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_mutual_inductive_body" class="idref" href="#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> (<a id="mib:715" class="idref" href="#mib:715"><span class="id" title="binder">mib</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.mutual_inductive_body"><span class="id" title="record">E.mutual_inductive_body</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bds:716" class="idref" href="#bds:716"><span class="id" title="binder">bds</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib:715"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="arities:717" class="idref" href="#arities:717"><span class="id" title="binder">arities</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.arities_context"><span class="id" title="definition">arities_context</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bds:716"><span class="id" title="variable">bds</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bodies:718" class="idref" href="#bodies:718"><span class="id" title="binder">bodies</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_one_inductive_body"><span class="id" title="definition">erase_one_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bds:716"><span class="id" title="variable">bds</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_finite"><span class="id" title="projection">E.ind_finite</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib:715"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_npars"><span class="id" title="projection">E.ind_npars</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib:715"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.ind_bodies"><span class="id" title="projection">E.ind_bodies</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bodies:718"><span class="id" title="variable">bodies</span></a>; |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_arity_irrel" class="idref" href="#is_arity_irrel"><span class="id" title="lemma">is_arity_irrel</span></a> {<a id="X_type:719" class="idref" href="#X_type:719"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:720" class="idref" href="#X:720"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:719"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="normalization_in:722" class="idref" href="#normalization_in:722"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="e209f7c086483eb026138af939f13678" class="idref" href="#e209f7c086483eb026138af939f13678"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e209f7c086483eb026138af939f13678"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e209f7c086483eb026138af939f13678"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:720"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e209f7c086483eb026138af939f13678"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':723" class="idref" href="#X_type':723"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X':724" class="idref" href="#X':724"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':723"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="normalization_in':726" class="idref" href="#normalization_in':726"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="8cdfe2767895180083d50a4548d47239" class="idref" href="#8cdfe2767895180083d50a4548d47239"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8cdfe2767895180083d50a4548d47239"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8cdfe2767895180083d50a4548d47239"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':724"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8cdfe2767895180083d50a4548d47239"><span class="id" title="variable">Σ</span></a>} {<a id="2d9d1a723bd6a467862aa247fedb405a" class="idref" href="#2d9d1a723bd6a467862aa247fedb405a"><span class="id" title="binder">Γ</span></a> <a id="h:728" class="idref" href="#h:728"><span class="id" title="binder">h</span></a> <a id="h':729" class="idref" href="#h':729"><span class="id" title="binder">h'</span></a> <a id="t:730" class="idref" href="#t:730"><span class="id" title="binder">t</span></a> <a id="wt:731" class="idref" href="#wt:731"><span class="id" title="binder">wt</span></a> <a id="wt':732" class="idref" href="#wt':732"><span class="id" title="binder">wt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:719"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:720"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':723"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':724"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:719"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:720"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d9d1a723bd6a467862aa247fedb405a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#h:728"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:730"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:731"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':723"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':724"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d9d1a723bd6a467862aa247fedb405a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#h':729"><span class="id" title="variable">h'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:730"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':732"><span class="id" title="variable">wt'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_arity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity_equation_1"><span class="id" title="definition">is_arity_equation_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity_clause_1_equation_2"><span class="id" title="definition">is_arity_clause_1_equation_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_prod_irrel"><span class="id" title="lemma">reduce_to_prod_irrel</span></a> <span class="id" title="var">hl</span> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rprod</span> -<span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">B'</span> ?]]]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity_clause_1_clause_2_equation_1"><span class="id" title="definition">is_arity_clause_1_clause_2_equation_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_sort_irrel"><span class="id" title="lemma">reduce_to_sort_irrel</span></a> <span class="id" title="var">hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rsort</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_arity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_arity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#inspect"><span class="id" title="definition">PCUICSafeReduce.inspect</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#reduce_to_prod_irrel"><span class="id" title="lemma">reduce_to_prod_irrel</span></a> <span class="id" title="var">hl</span> <span class="id" title="var">HT</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">rprod</span> -<span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_erasableb_irrel_global_env" class="idref" href="#is_erasableb_irrel_global_env"><span class="id" title="lemma">is_erasableb_irrel_global_env</span></a> {<a id="X_type:733" class="idref" href="#X_type:733"><span class="id" title="binder">X_type</span></a> <a id="X:734" class="idref" href="#X:734"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:736" class="idref" href="#normalization_in:736"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="79783c3d0c597b6a48128c562b67e476" class="idref" href="#79783c3d0c597b6a48128c562b67e476"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:734"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#79783c3d0c597b6a48128c562b67e476"><span class="id" title="variable">Σ</span></a>} {<a id="X_type':737" class="idref" href="#X_type':737"><span class="id" title="binder">X_type'</span></a> <a id="X':738" class="idref" href="#X':738"><span class="id" title="binder">X'</span></a>} {<a id="normalization_in':740" class="idref" href="#normalization_in':740"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="42fc357ed2e0068ed79998f213c3b318" class="idref" href="#42fc357ed2e0068ed79998f213c3b318"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#42fc357ed2e0068ed79998f213c3b318"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#42fc357ed2e0068ed79998f213c3b318"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':738"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#42fc357ed2e0068ed79998f213c3b318"><span class="id" title="variable">Σ</span></a>} {<a id="19798d5428ae7b157c9f45850567ac73" class="idref" href="#19798d5428ae7b157c9f45850567ac73"><span class="id" title="binder">Γ</span></a> <a id="t:742" class="idref" href="#t:742"><span class="id" title="binder">t</span></a> <a id="wt:743" class="idref" href="#wt:743"><span class="id" title="binder">wt</span></a> <a id="wt':744" class="idref" href="#wt':744"><span class="id" title="binder">wt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="cbd25b86907845699760e30adb7501dc" class="idref" href="#cbd25b86907845699760e30adb7501dc"><span class="id" title="binder">Σ</span></a> <a id="92598ee63f729cd9cf1aa228c321498b" class="idref" href="#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:734"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbd25b86907845699760e30adb7501dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':738"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls"><span class="id" title="class">extends_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbd25b86907845699760e30adb7501dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbd25b86907845699760e30adb7501dc"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#92598ee63f729cd9cf1aa228c321498b"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:733"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:734"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#19798d5428ae7b157c9f45850567ac73"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:742"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:743"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':737"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':738"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#19798d5428ae7b157c9f45850567ac73"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:742"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':744"><span class="id" title="variable">wt'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;ext&nbsp;eqext.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hl</span> : <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#Hlookup"><span class="id" title="definition">Hlookup</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">H</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">ext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">X0</span>] <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span> <span class="id" title="var">decl'</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup_correct'"><span class="id" title="lemma">abstract_env_lookup_correct'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">X1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env_extends_NoDup"><span class="id" title="lemma">lookup_env_extends_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#NoDup_on_global_decls"><span class="id" title="lemma">NoDup_on_global_decls</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tc</span>. <span class="id" title="tactic">cbv</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fst_ctx"><span class="id" title="definition">PCUICEnvironment.fst_ctx</span></a>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">tag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_primitive_constant_correct"><span class="id" title="method">abstract_primitive_constant_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_constant"><span class="id" title="definition">primitive_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">is_erasableb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_obligation_2"><span class="id" title="definition">is_erasableb_obligation_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">ty</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt'</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">ty'</span> := (<a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt</span>)) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ty</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ty'</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#type_of_typing"><span class="id" title="definition">type_of_typing</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#infer_irrel"><span class="id" title="lemma">infer_irrel</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">ty</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">ty'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>, <span class="id" title="var">ty'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">is_arity</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">obl</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_obligation_1"><span class="id" title="definition">is_erasableb_obligation_1</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl''</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_obligation_2"><span class="id" title="definition">is_erasableb_obligation_2</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">obl'</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">obl''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity_irrel"><span class="id" title="lemma">is_arity_irrel</span></a> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">X'</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">wt'</span> := <span class="id" title="var">obl''</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>)) ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_arity"><span class="id" title="definition">is_arity</span></a>  ⇒ //. <span class="id" title="var">simp</span> <span class="id" title="var">is_erasableb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_obligation_3"><span class="id" title="definition">is_erasableb_obligation_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl2'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_obligation_3"><span class="id" title="definition">is_erasableb_obligation_3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICRetypingEnvIrrelevance.html#sort_of_type_irrel"><span class="id" title="lemma">sort_of_type_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iserasableb_irrel_env</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> ?<span class="id" title="var">X_type</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">normalization_in</span> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">wt</span>], <span class="id" title="var">Heq</span> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> [ @<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">wt'</span>] ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb_irrel_global_env"><span class="id" title="lemma">is_erasableb_irrel_global_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wt</span> <span class="id" title="var">wt'</span>) //; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_irrel_global_env" class="idref" href="#erase_irrel_global_env"><span class="id" title="lemma">erase_irrel_global_env</span></a> {<a id="X_type:747" class="idref" href="#X_type:747"><span class="id" title="binder">X_type</span></a> <a id="X:748" class="idref" href="#X:748"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:750" class="idref" href="#normalization_in:750"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="d3041e9c65034e6cbc4b6ddb96863ebc" class="idref" href="#d3041e9c65034e6cbc4b6ddb96863ebc"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d3041e9c65034e6cbc4b6ddb96863ebc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d3041e9c65034e6cbc4b6ddb96863ebc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:748"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d3041e9c65034e6cbc4b6ddb96863ebc"><span class="id" title="variable">Σ</span></a>} {<a id="X_type':751" class="idref" href="#X_type':751"><span class="id" title="binder">X_type'</span></a> <a id="X':752" class="idref" href="#X':752"><span class="id" title="binder">X'</span></a>} {<a id="normalization_in':754" class="idref" href="#normalization_in':754"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="949e85bcf8fb1847f0f2e215040f8523" class="idref" href="#949e85bcf8fb1847f0f2e215040f8523"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#949e85bcf8fb1847f0f2e215040f8523"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#949e85bcf8fb1847f0f2e215040f8523"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':752"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#949e85bcf8fb1847f0f2e215040f8523"><span class="id" title="variable">Σ</span></a>} {<a id="d426c4f970dbb6f8576c0df6d731d84c" class="idref" href="#d426c4f970dbb6f8576c0df6d731d84c"><span class="id" title="binder">Γ</span></a> <a id="t:756" class="idref" href="#t:756"><span class="id" title="binder">t</span></a> <a id="wt:757" class="idref" href="#wt:757"><span class="id" title="binder">wt</span></a> <a id="wt':758" class="idref" href="#wt':758"><span class="id" title="binder">wt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="631c55b771ec7e6090acc528755d2be1" class="idref" href="#631c55b771ec7e6090acc528755d2be1"><span class="id" title="binder">Σ</span></a> <a id="15685e1cc5a9d4c8555ed191c1b5e41c" class="idref" href="#15685e1cc5a9d4c8555ed191c1b5e41c"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:748"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#631c55b771ec7e6090acc528755d2be1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':752"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15685e1cc5a9d4c8555ed191c1b5e41c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls"><span class="id" title="class">extends_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15685e1cc5a9d4c8555ed191c1b5e41c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#631c55b771ec7e6090acc528755d2be1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#631c55b771ec7e6090acc528755d2be1"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15685e1cc5a9d4c8555ed191c1b5e41c"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:747"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:748"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d426c4f970dbb6f8576c0df6d731d84c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:756"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:757"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':751"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':752"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d426c4f970dbb6f8576c0df6d731d84c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:756"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':758"><span class="id" title="variable">wt'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d05623c2680b204a5e981ccc801a2e61" class="idref" href="#d05623c2680b204a5e981ccc801a2e61"><span class="id" title="binder">Γ</span></a> <a id="t:789" class="idref" href="#t:789"><span class="id" title="binder">t</span></a> <a id="wt:790" class="idref" href="#wt:790"><span class="id" title="binder">wt</span></a> <a id="e:791" class="idref" href="#e:791"><span class="id" title="binder">e</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="wt':793" class="idref" href="#wt':793"><span class="id" title="binder">wt'</span></a> : <span class="id" title="keyword">∀</span> <a id="d8180e760568aa09d6a1394923ac58e6" class="idref" href="#d8180e760568aa09d6a1394923ac58e6"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X'</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fc7c0fc98115a6c5141332181f1513d2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fc7c0fc98115a6c5141332181f1513d2"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1bee1768d1fad063de184cd767f2fc89"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:762"><span class="id" title="variable">t</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:764"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1bee1768d1fad063de184cd767f2fc89"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:762"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':766"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="9c796d22a853cc7de6e878ab52356b6c" class="idref" href="#9c796d22a853cc7de6e878ab52356b6c"><span class="id" title="binder">Γ</span></a> <a id="l:795" class="idref" href="#l:795"><span class="id" title="binder">l</span></a> <a id="awt:796" class="idref" href="#awt:796"><span class="id" title="binder">awt</span></a> <a id="e:797" class="idref" href="#e:797"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':798" class="idref" href="#wt':798"><span class="id" title="binder">wt'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:770"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_terms"><span class="id" title="definition">erase_terms</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#630a8c08835dbc34502f44abdd774d7b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:768"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':771"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="854e2738c6ae519a6bba820ebdb73668" class="idref" href="#854e2738c6ae519a6bba820ebdb73668"><span class="id" title="binder">Γ</span></a> <a id="p:800" class="idref" href="#p:800"><span class="id" title="binder">p</span></a> <a id="l:801" class="idref" href="#l:801"><span class="id" title="binder">l</span></a> <a id="awt:802" class="idref" href="#awt:802"><span class="id" title="binder">awt</span></a> <a id="e:803" class="idref" href="#e:803"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':804" class="idref" href="#wt':804"><span class="id" title="binder">wt'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:776"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>  <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d499c85c4bc5b2f108d2b9980b08552a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:773"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:774"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':777"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="684b58a66be35255aa5dd03fcbcff18e" class="idref" href="#684b58a66be35255aa5dd03fcbcff18e"><span class="id" title="binder">Γ</span></a> <a id="l:806" class="idref" href="#l:806"><span class="id" title="binder">l</span></a> <a id="awt:807" class="idref" href="#awt:807"><span class="id" title="binder">awt</span></a> <a id="e:808" class="idref" href="#e:808"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':809" class="idref" href="#wt':809"><span class="id" title="binder">wt'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:781"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>  <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f6a1ef83914c84c8728f2277f9a29ecb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:779"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':782"><span class="id" title="variable">wt'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="810ce28c44a2c156c3b2c139793b7039" class="idref" href="#810ce28c44a2c156c3b2c139793b7039"><span class="id" title="binder">Γ</span></a> <a id="l:811" class="idref" href="#l:811"><span class="id" title="binder">l</span></a> <a id="awt:812" class="idref" href="#awt:812"><span class="id" title="binder">awt</span></a> <a id="e:813" class="idref" href="#e:813"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="wt':814" class="idref" href="#wt':814"><span class="id" title="binder">wt'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:786"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <span class="id" title="var">X_type'</span> <span class="id" title="var">X'</span>  <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#be2112b0fd16f6e893f4a04a68a8a146"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#l:784"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':787"><span class="id" title="variable">wt'</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iserasableb_irrel_env</span>; <span class="id" title="var">simp_erase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">zeta</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">erewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_suffix" class="idref" href="#erase_constant_body_suffix"><span class="id" title="lemma">erase_constant_body_suffix</span></a> {<a id="X_type:815" class="idref" href="#X_type:815"><span class="id" title="binder">X_type</span></a> <a id="X:816" class="idref" href="#X:816"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:818" class="idref" href="#normalization_in:818"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="503dc5bcecf6ea0f3c71bdf4341097a4" class="idref" href="#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:816"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#503dc5bcecf6ea0f3c71bdf4341097a4"><span class="id" title="variable">Σ</span></a>} {<a id="X_type':819" class="idref" href="#X_type':819"><span class="id" title="binder">X_type'</span></a> <a id="X':820" class="idref" href="#X':820"><span class="id" title="binder">X'</span></a>} {<a id="normalization_in':822" class="idref" href="#normalization_in':822"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="1d6cbcbfe0474c020115271f91b68225" class="idref" href="#1d6cbcbfe0474c020115271f91b68225"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d6cbcbfe0474c020115271f91b68225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d6cbcbfe0474c020115271f91b68225"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':820"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d6cbcbfe0474c020115271f91b68225"><span class="id" title="variable">Σ</span></a>} {<a id="cb:823" class="idref" href="#cb:823"><span class="id" title="binder">cb</span></a> <a id="ondecl:824" class="idref" href="#ondecl:824"><span class="id" title="binder">ondecl</span></a> <a id="ondecl':825" class="idref" href="#ondecl':825"><span class="id" title="binder">ondecl'</span></a>} :<br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="cc3b6be6cf64b2079552c34c0904a563" class="idref" href="#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="binder">Σ</span></a> <a id="fce30bce098309e910df1a157af1270b" class="idref" href="#fce30bce098309e910df1a157af1270b"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:816"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':820"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls"><span class="id" title="class">extends_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cc3b6be6cf64b2079552c34c0904a563"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fce30bce098309e910df1a157af1270b"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:815"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:816"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:823"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ondecl:824"><span class="id" title="variable">ondecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':819"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':820"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:823"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ondecl':825"><span class="id" title="variable">ondecl'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cst_body0</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a>; <span class="id" title="tactic">simpl</span> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel_global_env"><span class="id" title="lemma">erase_irrel_global_env</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel_global_env"><span class="id" title="lemma">erase_irrel_global_env</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_pair_levels_gcs" class="idref" href="#proper_pair_levels_gcs"><span class="id" title="instance">proper_pair_levels_gcs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#a16fed083831df212b7344c0f6ed7fff"><span class="id" title="notation">(=</span></a><a class="idref" href="MetaCoq.Common.Universes.html#a16fed083831df212b7344c0f6ed7fff"><span class="id" title="notation">_lset</span></a><a class="idref" href="MetaCoq.Common.Universes.html#a16fed083831df212b7344c0f6ed7fff"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Common.uGraph.html#GoodConstraintSet.Equal"><span class="id" title="definition">GoodConstraintSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Common.uGraph.html#d1c74f3ae57514bea72dc66bb9484c1b"><span class="id" title="notation">(=</span></a><a class="idref" href="MetaCoq.Common.uGraph.html#d1c74f3ae57514bea72dc66bb9484c1b"><span class="id" title="notation">_gcs</span></a><a class="idref" href="MetaCoq.Common.uGraph.html#d1c74f3ae57514bea72dc66bb9484c1b"><span class="id" title="notation">)</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.t"><span class="id" title="definition">LevelSet.t</span></a> <a class="idref" href="MetaCoq.Common.uGraph.html#GoodConstraintSet.t"><span class="id" title="definition">GoodConstraintSet.t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">eq</span> <span class="id" title="var">gcs</span> <span class="id" title="var">gcs'</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;Should&nbsp;this&nbsp;live&nbsp;elsewhere?&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="iter" class="idref" href="#iter"><span class="id" title="definition">iter</span></a> {<a id="A:828" class="idref" href="#A:828"><span class="id" title="binder">A</span></a>} (<a id="f:829" class="idref" href="#f:829"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:828"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:828"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:828"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:828"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fix</span> <span class="id" title="var">iter</span> (<a id="n:830" class="idref" href="#n:830"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:828"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:828"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:830"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="x:833" class="idref" href="#x:833"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:833"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="keyword">fun</span> <a id="x:834" class="idref" href="#x:834"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#iter:831"><span class="id" title="variable">iter</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:830"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f:829"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:834"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;we&nbsp;use&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="keyword">match</span></span>&nbsp;trick&nbsp;to&nbsp;get&nbsp;typeclass&nbsp;resolution&nbsp;to&nbsp;pick&nbsp;up&nbsp;the&nbsp;right&nbsp;instances&nbsp;without&nbsp;leaving&nbsp;any&nbsp;evidence&nbsp;in&nbsp;the&nbsp;resulting&nbsp;term,&nbsp;and&nbsp;without&nbsp;having&nbsp;to&nbsp;pass&nbsp;them&nbsp;manually&nbsp;everywhere&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="NormalizationIn_erase_global_decls" class="idref" href="#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">extraction_normalizing</span></a> <span class="id" title="keyword">return</span> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cf</span>, <span class="id" title="keyword">no</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">∀</span> <a id="n:835" class="idref" href="#n:835"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:835"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">decls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':836" class="idref" href="#X':836"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:835"><span class="id" title="variable">n</span></a>) <span class="id" title="var">X</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:837" class="idref" href="#kn:837"><span class="id" title="binder">kn</span></a> <a id="cb:838" class="idref" href="#cb:838"><span class="id" title="binder">cb</span></a> <a id="pf:839" class="idref" href="#pf:839"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">List.hd_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">List.skipn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:835"><span class="id" title="variable">n</span></a> <span class="id" title="var">decls</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:837"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:838"><span class="id" title="variable">cb</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:840" class="idref" href="#Xext:840"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':836"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:838"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#pf:839"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="16e5250fc7fb04ba9948ba61af34313e" class="idref" href="#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:840"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#16e5250fc7fb04ba9948ba61af34313e"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="erase_global_decls" class="idref" href="#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a><br/>
&nbsp;&nbsp;{<a id="X_type:842" class="idref" href="#X_type:842"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} (<a id="deps:843" class="idref" href="#deps:843"><span class="id" title="binder">deps</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>) (<a id="X:844" class="idref" href="#X:844"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:842"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="decls:845" class="idref" href="#decls:845"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:846" class="idref" href="#normalization_in:846"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:844"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a>}<br/>
&nbsp;&nbsp;(<a id="prop:848" class="idref" href="#prop:848"><span class="id" title="binder">prop</span></a> : <span class="id" title="keyword">∀</span> <a id="8ed33b5c1766330c2986dfb6f2dc172d" class="idref" href="#8ed33b5c1766330c2986dfb6f2dc172d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:844"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8ed33b5c1766330c2986dfb6f2dc172d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8ed33b5c1766330c2986dfb6f2dc172d"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Erasure.Extract.html#E.global_declarations"><span class="id" title="definition">E.global_declarations</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':851" class="idref" href="#X':851"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:844"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:843"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:852" class="idref" href="#Xext:852"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':851"><span class="id" title="variable">X'</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="normalization_in':853" class="idref" href="#normalization_in':853"><span class="id" title="binder">normalization_in'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="comment">(*&nbsp;hack&nbsp;to&nbsp;avoid&nbsp;program&nbsp;erroring&nbsp;out&nbsp;on&nbsp;unresolved&nbsp;tc&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cb':854" class="idref" href="#cb':854"><span class="id" title="binder">cb'</span></a> := @<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:842"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:852"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':853"><span class="id" title="variable">normalization_in'</span></a> <span class="id" title="var">cb</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:855" class="idref" href="#deps:855"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:843"><span class="id" title="variable">deps</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb':854"><span class="id" title="variable">cb'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X'':856" class="idref" href="#X'':856"><span class="id" title="binder">X''</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls:849"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:855"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':851"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.ConstantDecl"><span class="id" title="constructor">E.ConstantDecl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb':854"><span class="id" title="variable">cb'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X'':856"><span class="id" title="variable">X''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls:849"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:843"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':851"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mib</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':857" class="idref" href="#X':857"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:844"><span class="id" title="variable">X</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:843"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mib':858" class="idref" href="#mib':858"><span class="id" title="binder">mib'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">mib</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X'':859" class="idref" href="#X'':859"><span class="id" title="binder">X''</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls:849"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:843"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':857"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.InductiveDecl"><span class="id" title="constructor">E.InductiveDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib':858"><span class="id" title="variable">mib'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X'':859"><span class="id" title="variable">X''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls:849"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:843"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':857"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:845"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="368827bc9fce7c5b3be3bec2b1bd14d3" class="idref" href="#368827bc9fce7c5b3be3bec2b1bd14d3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#19f47dd6f57ca29f3389462132453fca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:863" class="idref" href="#d:863"><span class="id" title="binder">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#19f47dd6f57ca29f3389462132453fca"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:861"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prop</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">Σ</span>, <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfX</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfX'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="109153f145081b7db193c5bf77131454" class="idref" href="#109153f145081b7db193c5bf77131454"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d10d79a10e846559d8eaeadecf0403ae"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:867" class="idref" href="#d:867"><span class="id" title="binder">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d10d79a10e846559d8eaeadecf0403ae"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:865"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">HX'</span>) <span class="id" title="keyword">as</span> [? []].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX'</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">HX'</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">prop</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">u</span>], <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfX</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">on_global_decl_d</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="bdc1bb8709565efcf51f277bb9c1a9b7" class="idref" href="#bdc1bb8709565efcf51f277bb9c1a9b7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e8cf5d780f33bc12b937f35995e9bf1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:871" class="idref" href="#d:871"><span class="id" title="binder">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e8cf5d780f33bc12b937f35995e9bf1f"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:869"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="d0dba4932c3a0567d7790bfc9dc6c34e" class="idref" href="#d0dba4932c3a0567d7790bfc9dc6c34e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:875" class="idref" href="#d:875"><span class="id" title="binder">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6dd8305da2cf6a4a749766a2243bf631"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:873"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="b4e93f7edcd84eb53f85f7bcd068328f" class="idref" href="#b4e93f7edcd84eb53f85f7bcd068328f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:879" class="idref" href="#d:879"><span class="id" title="binder">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ba0d61fd2561b72eacbbabf86c417aac"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:877"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HX</span>]].<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">prop'</span>: <span class="id" title="keyword">∀</span> <a id="7ff05d2ea91eb87d646ca6cfec30c03e" class="idref" href="#7ff05d2ea91eb87d646ca6cfec30c03e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c03d55239f7c1507b7314daad654ef64"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="d:883" class="idref" href="#d:883"><span class="id" title="binder">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c03d55239f7c1507b7314daad654ef64"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:881"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>).<br/>
{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">prop'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HX</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_decls_irr" class="idref" href="#erase_global_decls_irr"><span class="id" title="lemma">erase_global_decls_irr</span></a><br/>
&nbsp;&nbsp;<a id="X_type:884" class="idref" href="#X_type:884"><span class="id" title="binder">X_type</span></a> <a id="deps:885" class="idref" href="#deps:885"><span class="id" title="binder">deps</span></a> (<a id="X:886" class="idref" href="#X:886"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:884"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="decls:887" class="idref" href="#decls:887"><span class="id" title="binder">decls</span></a><br/>
&nbsp;&nbsp;{<a id="normalization_in:888" class="idref" href="#normalization_in:888"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':889" class="idref" href="#normalization_in':889"><span class="id" title="binder">normalization_in'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:886"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:887"><span class="id" title="variable">decls</span></a>}<br/>
&nbsp;&nbsp;<a id="prf:890" class="idref" href="#prf:890"><span class="id" title="binder">prf</span></a> <a id="prf':891" class="idref" href="#prf':891"><span class="id" title="binder">prf'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:885"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:886"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:887"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:888"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:890"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:885"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:886"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:887"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':889"><span class="id" title="variable">normalization_in'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf':891"><span class="id" title="variable">prf'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">deps</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">prf</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_suffix"><span class="id" title="lemma">erase_constant_body_suffix</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">env</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_erased_with_deps" class="idref" href="#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a id="f08523154d08a48d86263e4ea12398d1" class="idref" href="#f08523154d08a48d86263e4ea12398d1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="0391d9f0827d8bae66d64a3344f544b5" class="idref" href="#0391d9f0827d8bae66d64a3344f544b5"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="kn:894" class="idref" href="#kn:894"><span class="id" title="binder">kn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="cst:895" class="idref" href="#cst:895"><span class="id" title="binder">cst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:894"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cst:895"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="cst':896" class="idref" href="#cst':896"><span class="id" title="binder">cst'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#constant_body"><span class="id" title="record">EAst.constant_body</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0391d9f0827d8bae66d64a3344f544b5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:894"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cst':896"><span class="id" title="variable">cst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cst:895"><span class="id" title="variable">cst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cst:895"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cst':896"><span class="id" title="variable">cst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="body:897" class="idref" href="#body:897"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cst':896"><span class="id" title="variable">cst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:897"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0391d9f0827d8bae66d64a3344f544b5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:897"><span class="id" title="variable">body</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="mib:898" class="idref" href="#mib:898"><span class="id" title="binder">mib</span></a> <a id="mib':899" class="idref" href="#mib':899"><span class="id" title="binder">mib'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f08523154d08a48d86263e4ea12398d1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:894"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib:898"><span class="id" title="variable">mib</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_minductive"><span class="id" title="definition">EGlobalEnv.declared_minductive</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0391d9f0827d8bae66d64a3344f544b5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:894"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib':899"><span class="id" title="variable">mib'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib:898"><span class="id" title="variable">mib</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib':899"><span class="id" title="variable">mib'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="includes_deps" class="idref" href="#includes_deps"><span class="id" title="definition">includes_deps</span></a> (<a id="e31c03ceb260bd4515001cb5e615635e" class="idref" href="#e31c03ceb260bd4515001cb5e615635e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="693d059efa48e0bc062ce6646c2d67fa" class="idref" href="#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="deps:902" class="idref" href="#deps:902"><span class="id" title="binder">deps</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:903" class="idref" href="#kn:903"><span class="id" title="binder">kn</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:903"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:902"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e31c03ceb260bd4515001cb5e615635e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#693d059efa48e0bc062ce6646c2d67fa"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:903"><span class="id" title="variable">kn</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="includes_deps_union" class="idref" href="#includes_deps_union"><span class="id" title="lemma">includes_deps_union</span></a> (<a id="f03c0a401d6758eb540546ceec495e72" class="idref" href="#f03c0a401d6758eb540546ceec495e72"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="bba7d5f8b9f97e5d4697f481ee37dfd7" class="idref" href="#bba7d5f8b9f97e5d4697f481ee37dfd7"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="deps:906" class="idref" href="#deps:906"><span class="id" title="binder">deps</span></a> <a id="deps':907" class="idref" href="#deps':907"><span class="id" title="binder">deps'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f03c0a401d6758eb540546ceec495e72"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bba7d5f8b9f97e5d4697f481ee37dfd7"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:906"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':907"><span class="id" title="variable">deps'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f03c0a401d6758eb540546ceec495e72"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bba7d5f8b9f97e5d4697f481ee37dfd7"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:906"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f03c0a401d6758eb540546ceec495e72"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bba7d5f8b9f97e5d4697f481ee37dfd7"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':907"><span class="id" title="variable">deps'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">knin</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="includes_deps_fold" class="idref" href="#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> {<a id="A:908" class="idref" href="#A:908"><span class="id" title="binder">A</span></a>} (<a id="f655c7328764f7ad282d52315a29bfa2" class="idref" href="#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="b9f6065572a2646a57d955348ff06e59" class="idref" href="#b9f6065572a2646a57d955348ff06e59"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="brs:911" class="idref" href="#brs:911"><span class="id" title="binder">brs</span></a> <a id="deps:912" class="idref" href="#deps:912"><span class="id" title="binder">deps</span></a> (<a id="f:913" class="idref" href="#f:913"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:908"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b9f6065572a2646a57d955348ff06e59"><span class="id" title="variable">Σ'</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="acc:914" class="idref" href="#acc:914"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>) (<a id="x:915" class="idref" href="#x:915"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#A:908"><span class="id" title="variable">A</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f:913"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:915"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#acc:914"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs:911"><span class="id" title="variable">brs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:912"><span class="id" title="variable">deps</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b9f6065572a2646a57d955348ff06e59"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:912"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:916" class="idref" href="#x:916"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:916"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs:911"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f655c7328764f7ad282d52315a29bfa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b9f6065572a2646a57d955348ff06e59"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f:913"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:916"><span class="id" title="variable">x</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">incl</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">knin</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">br</span> <span class="id" title="var">brin</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">kn</span> <span class="id" title="var">knin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">br</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="declared_kn" class="idref" href="#declared_kn"><span class="id" title="definition">declared_kn</span></a> <a id="0dff4e713b12689d3b413f533487d0bd" class="idref" href="#0dff4e713b12689d3b413f533487d0bd"><span class="id" title="binder">Σ</span></a> <a id="kn:918" class="idref" href="#kn:918"><span class="id" title="binder">kn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="decl:919" class="idref" href="#decl:919"><span class="id" title="binder">decl</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0dff4e713b12689d3b413f533487d0bd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:918"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl:919"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_global_deps_spec" class="idref" href="#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> {<a id="cf:920" class="idref" href="#cf:920"><span class="id" title="binder">cf</span></a>} {<a id="9a3805d87d630094d4430482638eefc7" class="idref" href="#9a3805d87d630094d4430482638eefc7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="8f655d6710ab932b34ad4508070391f6" class="idref" href="#8f655d6710ab932b34ad4508070391f6"><span class="id" title="binder">Γ</span></a> <a id="t:923" class="idref" href="#t:923"><span class="id" title="binder">t</span></a> <a id="et:924" class="idref" href="#et:924"><span class="id" title="binder">et</span></a> <a id="T:925" class="idref" href="#T:925"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9a3805d87d630094d4430482638eefc7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9a3805d87d630094d4430482638eefc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8f655d6710ab932b34ad4508070391f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:923"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:925"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9a3805d87d630094d4430482638eefc7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8f655d6710ab932b34ad4508070391f6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:923"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:924"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:926" class="idref" href="#x:926"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:926"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:924"><span class="id" title="variable">et</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#declared_kn"><span class="id" title="definition">declared_kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9a3805d87d630094d4430482638eefc7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#x:926"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wt</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">er</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span>, <span class="id" title="var">wt</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_forall_list_ind"><span class="id" title="lemma">erases_forall_list_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">constructor</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">kn'</span> <span class="id" title="var">hin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty"><span class="id" title="definition">KernameSet.empty</span></a> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty_spec"><span class="id" title="lemma">KernameSet.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [?|?]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Construct"><span class="id" title="lemma">inversion_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">H'</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ci</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">i'</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHer</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">br</span> [<span class="id" title="var">inbr</span> <span class="id" title="var">inkn</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:929" class="idref" href="#br:929"><span class="id" title="binder">br</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:930" class="idref" href="#T:930"><span class="id" title="binder">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:927"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:927"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:928"><span class="id" title="variable">T</span></a>) <span class="id" title="var">brs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_All_right"><span class="id" title="lemma">All2i_All_right</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">brs_ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">PCUICCasesContexts.inst_case_branch_context_eq</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">br'</span> [[<span class="id" title="var">T'</span> <span class="id" title="var">HT</span>] ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_projection_to_gen"><span class="id" title="lemma">declared_projection_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">d</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty_spec"><span class="id" title="lemma">KernameSet.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">ina</span> <span class="id" title="var">indeps</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">def</span> [<span class="id" title="var">Hty</span> <span class="id" title="var">Hdef</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#knset_in_fold_left"><span class="id" title="lemma">knset_in_fold_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.empty_spec"><span class="id" title="lemma">KernameSet.empty_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">ina</span> <span class="id" title="var">indeps</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_left"><span class="id" title="lemma">All2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_In_right"><span class="id" title="lemma">All2_In_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">def</span> [<span class="id" title="var">Hty</span> <span class="id" title="var">Hdef</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">erases_deps_eval</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_erases_deps" class="idref" href="#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> {<a id="a3f25b184b3849107568bb0cc43224cb" class="idref" href="#a3f25b184b3849107568bb0cc43224cb"><span class="id" title="binder">Σ</span></a>} {<a id="036578331b59d0d0059ea8aa0fe0ad98" class="idref" href="#036578331b59d0d0059ea8aa0fe0ad98"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>} {<a id="7c624310a3fb57dd0bb4c96d950c52bb" class="idref" href="#7c624310a3fb57dd0bb4c96d950c52bb"><span class="id" title="binder">Γ</span></a> <a id="t:934" class="idref" href="#t:934"><span class="id" title="binder">t</span></a> <a id="et:935" class="idref" href="#et:935"><span class="id" title="binder">et</span></a> <a id="T:936" class="idref" href="#T:936"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a3f25b184b3849107568bb0cc43224cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a3f25b184b3849107568bb0cc43224cb"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7c624310a3fb57dd0bb4c96d950c52bb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:934"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:936"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a3f25b184b3849107568bb0cc43224cb"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7c624310a3fb57dd0bb4c96d950c52bb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:934"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:935"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a3f25b184b3849107568bb0cc43224cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#036578331b59d0d0059ea8aa0fe0ad98"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:935"><span class="id" title="variable">et</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a3f25b184b3849107568bb0cc43224cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#036578331b59d0d0059ea8aa0fe0ad98"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:935"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wt</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">er</span> <span class="id" title="tactic">in</span> <span class="id" title="var">er</span>, <span class="id" title="var">t</span>, <span class="id" title="var">T</span>, <span class="id" title="keyword">wf</span>, <span class="id" title="var">wt</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_forall_list_ind"><span class="id" title="lemma">erases_forall_list_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">constructor</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Σer</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps_union"><span class="id" title="lemma">includes_deps_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? ?]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Evar"><span class="id" title="lemma">inversion_Evar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Const"><span class="id" title="lemma">inversion_Const</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Σer</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Σer</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">c'</span> [<span class="id" title="var">declc'</span> (? &amp; ? &amp; ? &amp; ?)]]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_constant_inj"><span class="id" title="lemma">declared_constant_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> <span class="id" title="var">declc'</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">declm</span> <span class="id" title="var">declm'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>, <span class="id" title="var">d</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Construct"><span class="id" title="lemma">inversion_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSetFact.singleton_iff"><span class="id" title="lemma">KernameSetFact.singleton_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Σer</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [ (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; ?) | (? &amp; ? &amp; ? &amp; ? &amp; ?) ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>, <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fst_ctx"><span class="id" title="definition">PCUICEnvironment.fst_ctx</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H2'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H6'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> ([] &amp; ? &amp; ? &amp; ?); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constructor_from_gen"><span class="id" title="lemma">declared_constructor_from_gen</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [] &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ci</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">kn</span> <span class="id" title="var">i'</span>] ? ?]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">kn</span>). <span class="id" title="var">forward</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>, <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declc</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">declm</span> [<span class="id" title="var">declm'</span> <span class="id" title="var">em</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">em</span> <span class="id" title="keyword">as</span> <span class="id" title="var">em'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">em'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x1</span> <span class="id" title="var">hnth</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>, <span class="id" title="var">declm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>, <span class="id" title="var">declm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">x1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EDeps.html#Forall2_nth_error_left"><span class="id" title="lemma">Forall2_nth_error_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps_tCase"><span class="id" title="constructor">erases_deps_tCase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_from_gen"><span class="id" title="lemma">declared_inductive_from_gen</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All_mix_right"><span class="id" title="lemma">All2_All_mix_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:939" class="idref" href="#br:939"><span class="id" title="binder">br</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:940" class="idref" href="#T:940"><span class="id" title="binder">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:937"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:937"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>) <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:938"><span class="id" title="variable">T</span></a>) <span class="id" title="var">brs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_All_right"><span class="id" title="lemma">All2i_All_right</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">brs_ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">PCUICCasesContexts.inst_case_branch_context_eq</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ELiftSubst.solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> <span class="id" title="var">HT</span>]. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf'</span> := <span class="id" title="keyword">wf</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>))). <span class="id" title="var">forward</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">d</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">declc</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">declm</span> [<span class="id" title="var">declm'</span> <span class="id" title="var">em</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">mib</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [[[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>, <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">declm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declm</span>. <span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">declm</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">em</span> <span class="id" title="keyword">as</span> <span class="id" title="var">em'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">em'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EDeps.html#Forall2_nth_error_left"><span class="id" title="lemma">Forall2_nth_error_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span> &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> <span class="id" title="var">x1</span>) ⇒ //. <span class="id" title="var">noconf</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H1'</span> := <span class="id" title="var">H5</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1'</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">d'</span> := <span class="id" title="var">d</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">d'</span> <span class="id" title="keyword">as</span> [[[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_nth_error_Some"><span class="id" title="lemma">All2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [? [? []]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprojs</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprojs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_nth_error_Some"><span class="id" title="lemma">All2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprojs</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. 2:<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Σer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ELiftSubst.solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_Forall"><span class="id" title="lemma">All_Forall</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps_fold"><span class="id" title="lemma">includes_deps_fold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Σer</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#In_Forall"><span class="id" title="lemma">In_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall_All"><span class="id" title="lemma">Forall_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Σer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ELiftSubst.solve_all</span>. <span class="id" title="var">Unshelve</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;Figure&nbsp;out&nbsp;if&nbsp;this&nbsp;(and&nbsp;<span class="inlinecode"><span class="id" title="var">erases</span></span>)&nbsp;should&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">strictly_extends_decls</span></span>&nbsp;or&nbsp;<span class="inlinecode"><span class="id" title="var">extends</span></span>&nbsp;-Jason&nbsp;Gross&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_weakeninv_env" class="idref" href="#erases_weakeninv_env"><span class="id" title="lemma">erases_weakeninv_env</span></a> {<a id="2580c8bfa2f8b1f8753ff2deed0e04b3" class="idref" href="#2580c8bfa2f8b1f8753ff2deed0e04b3"><span class="id" title="binder">Σ</span></a> <a id="bb298c5558f5ab17fe719b18afd653ec" class="idref" href="#bb298c5558f5ab17fe719b18afd653ec"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="15cd8c11b04f52ba36c4fc383a1c298b" class="idref" href="#15cd8c11b04f52ba36c4fc383a1c298b"><span class="id" title="binder">Γ</span></a> <a id="t:944" class="idref" href="#t:944"><span class="id" title="binder">t</span></a> <a id="t':945" class="idref" href="#t':945"><span class="id" title="binder">t'</span></a> <a id="T:946" class="idref" href="#T:946"><span class="id" title="binder">T</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2580c8bfa2f8b1f8753ff2deed0e04b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bb298c5558f5ab17fe719b18afd653ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2580c8bfa2f8b1f8753ff2deed0e04b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bb298c5558f5ab17fe719b18afd653ec"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2580c8bfa2f8b1f8753ff2deed0e04b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15cd8c11b04f52ba36c4fc383a1c298b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:944"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:946"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2580c8bfa2f8b1f8753ff2deed0e04b3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15cd8c11b04f52ba36c4fc383a1c298b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:944"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':945"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bb298c5558f5ab17fe719b18afd653ec"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2580c8bfa2f8b1f8753ff2deed0e04b3"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15cd8c11b04f52ba36c4fc383a1c298b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:944"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':945"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">ext</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaCoq.Erasure.ESubstitution.html#erases_extends"><span class="id" title="lemma">ESubstitution.erases_extends</span></a>); <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_weaken" class="idref" href="#erases_deps_weaken"><span class="id" title="lemma">erases_deps_weaken</span></a> <a id="kn:947" class="idref" href="#kn:947"><span class="id" title="binder">kn</span></a> <a id="d:948" class="idref" href="#d:948"><span class="id" title="binder">d</span></a> (<a id="95a0b62957a024fcd9ee8feafc3f5a21" class="idref" href="#95a0b62957a024fcd9ee8feafc3f5a21"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="9968f74fdae14c5bfa7e853de9e6d82f" class="idref" href="#9968f74fdae14c5bfa7e853de9e6d82f"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#global_declarations"><span class="id" title="definition">EAst.global_declarations</span></a>) <a id="t:951" class="idref" href="#t:951"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#95a0b62957a024fcd9ee8feafc3f5a21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:947"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:948"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#95a0b62957a024fcd9ee8feafc3f5a21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9968f74fdae14c5bfa7e853de9e6d82f"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:951"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#95a0b62957a024fcd9ee8feafc3f5a21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:947"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:948"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9968f74fdae14c5bfa7e853de9e6d82f"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:951"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">er</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣ'</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">er</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Erasure.EDeps.html#erases_deps_forall_ind"><span class="id" title="lemma">erases_deps_forall_ind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H_</span> := <span class="id" title="var">H</span>). <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">kn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">kn0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps_tConst"><span class="id" title="constructor">erases_deps_tConst</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">cb</span> <span class="id" title="var">cb'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">cbe</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> <span class="id" title="var">cb'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">cbe'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_constant"><span class="id" title="lemma">on_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cbe</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_weakeninv_env"><span class="id" title="lemma">erases_weakeninv_env</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#weakening_env_declared_constructor"><span class="id" title="lemma">weakening_env_declared_constructor</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls_extends"><span class="id" title="instance">extends_decls_extends</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_decls"><span class="id" title="instance">strictly_extends_decls_extends_decls</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_from_gen"><span class="id" title="lemma">declared_inductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <span class="id" title="var">kn</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>; <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_projection_from_gen"><span class="id" title="lemma">declared_projection_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_projection_to_gen"><span class="id" title="lemma">declared_projection_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.Common.Kernames.html#proj_ind"><span class="id" title="projection">proj_ind</span></a>)) <span class="id" title="var">kn</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">kn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_ext" class="idref" href="#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> {<a id="54b54c088f278fdd7873d22039e6141e" class="idref" href="#54b54c088f278fdd7873d22039e6141e"><span class="id" title="binder">Σ</span></a> <a id="kn:953" class="idref" href="#kn:953"><span class="id" title="binder">kn</span></a> <a id="kn':954" class="idref" href="#kn':954"><span class="id" title="binder">kn'</span></a> <a id="d:955" class="idref" href="#d:955"><span class="id" title="binder">d</span></a> <a id="d':956" class="idref" href="#d':956"><span class="id" title="binder">d'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#54b54c088f278fdd7873d22039e6141e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':954"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':956"><span class="id" title="variable">d'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#54b54c088f278fdd7873d22039e6141e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:953"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:955"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:953"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':954"><span class="id" title="variable">kn'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_cons_disc" class="idref" href="#lookup_env_cons_disc"><span class="id" title="lemma">lookup_env_cons_disc</span></a> {<a id="286722b5c247bc9f700423208ae9d002" class="idref" href="#286722b5c247bc9f700423208ae9d002"><span class="id" title="binder">Σ</span></a> <a id="kn:958" class="idref" href="#kn:958"><span class="id" title="binder">kn</span></a> <a id="kn':959" class="idref" href="#kn':959"><span class="id" title="binder">kn'</span></a> <a id="d:960" class="idref" href="#d:960"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:958"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':959"><span class="id" title="variable">kn'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#286722b5c247bc9f700423208ae9d002"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':959"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:960"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:958"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#286722b5c247bc9f700423208ae9d002"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:958"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elookup_env_cons_disc" class="idref" href="#elookup_env_cons_disc"><span class="id" title="lemma">elookup_env_cons_disc</span></a> {<a id="7130e7de23dfd03b40a61abb1e50c308" class="idref" href="#7130e7de23dfd03b40a61abb1e50c308"><span class="id" title="binder">Σ</span></a> <a id="kn:962" class="idref" href="#kn:962"><span class="id" title="binder">kn</span></a> <a id="kn':963" class="idref" href="#kn':963"><span class="id" title="binder">kn'</span></a> <a id="d:964" class="idref" href="#d:964"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:962"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':963"><span class="id" title="variable">kn'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':963"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:964"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7130e7de23dfd03b40a61abb1e50c308"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:962"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7130e7de23dfd03b40a61abb1e50c308"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:962"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_erases_with_deps_cons" class="idref" href="#global_erases_with_deps_cons"><span class="id" title="lemma">global_erases_with_deps_cons</span></a> <a id="kn:965" class="idref" href="#kn:965"><span class="id" title="binder">kn</span></a> <a id="kn':966" class="idref" href="#kn':966"><span class="id" title="binder">kn'</span></a> <a id="d:967" class="idref" href="#d:967"><span class="id" title="binder">d</span></a> <a id="d':968" class="idref" href="#d':968"><span class="id" title="binder">d'</span></a> <a id="8e44e7f1f0a08a4ef9f6beffc5512f5c" class="idref" href="#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="binder">Σ</span></a> <a id="41c263133965e44a97667f2a9d31f092" class="idref" href="#41c263133965e44a97667f2a9d31f092"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':966"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:967"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#41c263133965e44a97667f2a9d31f092"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:965"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8e44e7f1f0a08a4ef9f6beffc5512f5c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':966"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:967"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':966"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d':968"><span class="id" title="variable">d'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#41c263133965e44a97667f2a9d31f092"><span class="id" title="variable">Σ'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:965"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> [[<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> [<span class="id" title="var">cst'</span> [<span class="id" title="var">declc'</span> [<span class="id" title="var">ebody</span> <span class="id" title="var">IH</span>]]]]]|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣ</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span> ; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span> |- ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;-; <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">declc_</span> := <span class="id" title="var">declc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#elookup_env_cons_fresh"><span class="id" title="lemma">EGlobalEnv.elookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;-; <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ebody</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cst</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> <span class="id" title="var">cst'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod'</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_weakeninv_env"><span class="id" title="lemma">erases_weakeninv_env</span></a> (<span class="id" title="var">Σ</span>  := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_constant"><span class="id" title="lemma">on_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc_</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc_</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">bod</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc_</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">declc_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EDeps.html#erases_deps_cons"><span class="id" title="lemma">erases_deps_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf_</span> := <span class="id" title="keyword">wf</span>). <span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [? [? ?]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mib</span>, <span class="id" title="var">mib'</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> <span class="id" title="var">wf_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#lookup_env_cons_disc"><span class="id" title="lemma">lookup_env_cons_disc</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">red</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> <span class="id" title="var">wf_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#elookup_env_cons_disc"><span class="id" title="lemma">elookup_env_cons_disc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_erases_with_deps_weaken" class="idref" href="#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a> <a id="kn:971" class="idref" href="#kn:971"><span class="id" title="binder">kn</span></a> <a id="kn':972" class="idref" href="#kn':972"><span class="id" title="binder">kn'</span></a> <a id="d:973" class="idref" href="#d:973"><span class="id" title="binder">d</span></a> <a id="80a0116e9681b7877fd8ef25c555bfb0" class="idref" href="#80a0116e9681b7877fd8ef25c555bfb0"><span class="id" title="binder">Σ</span></a> <a id="15c8fd7b1da0c8d7b2311fca9e3fccc3" class="idref" href="#15c8fd7b1da0c8d7b2311fca9e3fccc3"><span class="id" title="binder">Σ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#80a0116e9681b7877fd8ef25c555bfb0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':972"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:973"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#80a0116e9681b7877fd8ef25c555bfb0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15c8fd7b1da0c8d7b2311fca9e3fccc3"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:971"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#80a0116e9681b7877fd8ef25c555bfb0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn':972"><span class="id" title="variable">kn'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:973"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#15c8fd7b1da0c8d7b2311fca9e3fccc3"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:971"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> [[<span class="id" title="var">cst</span> [<span class="id" title="var">declc</span> [<span class="id" title="var">cst'</span> [<span class="id" title="var">declc'</span> [<span class="id" title="var">ebody</span> <span class="id" title="var">IH</span>]]]]]|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">wfΣ</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span> ; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#lookup_env_Some_fresh"><span class="id" title="lemma">lookup_env_Some_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">cst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ebody</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> <span class="id" title="var">cst</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.Extract.html#E.cst_body"><span class="id" title="projection">E.cst_body</span></a> <span class="id" title="var">cst'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">bod'</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_weakeninv_env"><span class="id" title="lemma">erases_weakeninv_env</span></a> (<span class="id" title="var">Σ</span>  := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <span class="id" title="var">Σ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)). 5:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_constant"><span class="id" title="lemma">on_declared_constant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">bod</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_weaken"><span class="id" title="lemma">erases_deps_weaken</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mib</span> [<span class="id" title="var">mib'</span> [<span class="id" title="var">Hm</span> [? ?]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mib</span>, <span class="id" title="var">mib'</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wf_</span> := <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#lookup_env_cons_fresh"><span class="id" title="lemma">lookup_env_cons_fresh</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#lookup_env_ext"><span class="id" title="lemma">lookup_env_ext</span></a> <span class="id" title="var">wf_</span> <span class="id" title="var">Hm</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;Figure&nbsp;out&nbsp;if&nbsp;this&nbsp;(and&nbsp;<span class="inlinecode"><span class="id" title="var">erases</span></span>)&nbsp;should&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">strictly_extends_decls</span></span>&nbsp;or&nbsp;<span class="inlinecode"><span class="id" title="var">extends</span></span>&nbsp;-Jason&nbsp;Gross&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct" class="idref" href="#erase_constant_body_correct"><span class="id" title="lemma">erase_constant_body_correct</span></a> <a id="X_type:976" class="idref" href="#X_type:976"><span class="id" title="binder">X_type</span></a> <a id="X:977" class="idref" href="#X:977"><span class="id" title="binder">X</span></a> {<a id="normalization_in:979" class="idref" href="#normalization_in:979"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="741b0b6e7ee32b5f0f926ae2afc58581" class="idref" href="#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#741b0b6e7ee32b5f0f926ae2afc58581"><span class="id" title="variable">Σ</span></a>} <a id="cb:980" class="idref" href="#cb:980"><span class="id" title="binder">cb</span></a><br/>
&nbsp;&nbsp;(<a id="onc:982" class="idref" href="#onc:982"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="2f33b6ae9d6e13dee958b8e51fc2c94b" class="idref" href="#2f33b6ae9d6e13dee958b8e51fc2c94b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2f33b6ae9d6e13dee958b8e51fc2c94b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2f33b6ae9d6e13dee958b8e51fc2c94b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:980"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="57cc30846c9ff80bec92037d2f17f1bd" class="idref" href="#57cc30846c9ff80bec92037d2f17f1bd"><span class="id" title="binder">Σ</span></a> <a id="578b1ff6dead31f2e7c5dba6bb3f21ff" class="idref" href="#578b1ff6dead31f2e7c5dba6bb3f21ff"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#57cc30846c9ff80bec92037d2f17f1bd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#57cc30846c9ff80bec92037d2f17f1bd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#578b1ff6dead31f2e7c5dba6bb3f21ff"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#57cc30846c9ff80bec92037d2f17f1bd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#578b1ff6dead31f2e7c5dba6bb3f21ff"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_constant_body"><span class="id" title="definition">erases_constant_body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#578b1ff6dead31f2e7c5dba6bb3f21ff"><span class="id" title="variable">Σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#57cc30846c9ff80bec92037d2f17f1bd"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:980"><span class="id" title="variable">cb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:976"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:977"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:980"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onc:982"><span class="id" title="variable">onc</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">univs</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ecbo</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">ecbo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_weakeninv_env"><span class="id" title="lemma">erases_weakeninv_env</span></a> (<span class="id" title="var">Σ</span> := <span class="id" title="var">Σ</span>) (<span class="id" title="var">Σ'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct'" class="idref" href="#erase_constant_body_correct'"><span class="id" title="lemma">erase_constant_body_correct'</span></a> {<a id="X_type:985" class="idref" href="#X_type:985"><span class="id" title="binder">X_type</span></a> <a id="X:986" class="idref" href="#X:986"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:988" class="idref" href="#normalization_in:988"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="fea25672c73180248c52dc84b63e12f6" class="idref" href="#fea25672c73180248c52dc84b63e12f6"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fea25672c73180248c52dc84b63e12f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fea25672c73180248c52dc84b63e12f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fea25672c73180248c52dc84b63e12f6"><span class="id" title="variable">Σ</span></a>} {<a id="cb:989" class="idref" href="#cb:989"><span class="id" title="binder">cb</span></a>}<br/>
&nbsp;&nbsp;{<a id="onc:991" class="idref" href="#onc:991"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="f63924f0f4bb629c7f9db888f19847f1" class="idref" href="#f63924f0f4bb629c7f9db888f19847f1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f63924f0f4bb629c7f9db888f19847f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f63924f0f4bb629c7f9db888f19847f1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:989"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>}<br/>
&nbsp;&nbsp;{<a id="body:992" class="idref" href="#body:992"><span class="id" title="binder">body</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:985"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:989"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onc:991"><span class="id" title="variable">onc</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:992"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ece2ebb806c9cdfca90dedd45b793ba7" class="idref" href="#ece2ebb806c9cdfca90dedd45b793ba7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ece2ebb806c9cdfca90dedd45b793ba7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="t:994" class="idref" href="#t:994"><span class="id" title="binder">t</span></a> <a id="T:995" class="idref" href="#T:995"><span class="id" title="binder">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ece2ebb806c9cdfca90dedd45b793ba7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:994"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:995"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ece2ebb806c9cdfca90dedd45b793ba7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:994"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:992"><span class="id" title="variable">body</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:992"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:985"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:986"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:989"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onc:991"><span class="id" title="variable">onc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">univs</span>]; <span class="id" title="tactic">simpl</span>; [| <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> :=(<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> := <span class="id" title="var">name</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bod</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> := <span class="id" title="var">univs</span> |} <span class="id" title="var">onc</span> <span class="id" title="var">bod</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">bod</span>, <span class="id" title="var">A</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_mutual" class="idref" href="#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a> {<a id="d6fe52aeb370dfa035ede96e11365ca6" class="idref" href="#d6fe52aeb370dfa035ede96e11365ca6"><span class="id" title="binder">Σ</span></a> <a id="mdecl:997" class="idref" href="#mdecl:997"><span class="id" title="binder">mdecl</span></a> <a id="m:998" class="idref" href="#m:998"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_inductive"><span class="id" title="record">on_inductive</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d6fe52aeb370dfa035ede96e11365ca6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:998"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mdecl:997"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:998"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:998"><span class="id" title="variable">m</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:998"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#onInductives"><span class="id" title="projection">onInductives</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">oni</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli"><span class="id" title="inductive">Alli</span></a> (<span class="id" title="keyword">fun</span> <a id="i:1001" class="idref" href="#i:1001"><span class="id" title="binder">i</span></a> <a id="oib:1002" class="idref" href="#oib:1002"><span class="id" title="binder">oib</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#oib:1000"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>) 0 <span class="id" title="var">ind_bodies0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_impl"><span class="id" title="lemma">Alli_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> []. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ind_arity_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#destArity_it_mkProd_or_LetIn"><span class="id" title="lemma">destArity_it_mkProd_or_LetIn</span></a> /= //. } <span class="id" title="tactic">clear</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hd</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ind_ctors0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ind_projs0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#isPropositionalArity"><span class="id" title="definition">isPropositionalArity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <span class="id" title="keyword">as</span> [[? ?]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_includes" class="idref" href="#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a> <a id="X_type:1003" class="idref" href="#X_type:1003"><span class="id" title="binder">X_type</span></a> (<a id="X:1004" class="idref" href="#X:1004"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1003"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="deps:1005" class="idref" href="#deps:1005"><span class="id" title="binder">deps</span></a> <a id="decls:1006" class="idref" href="#decls:1006"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1007" class="idref" href="#normalization_in:1007"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1008" class="idref" href="#prf:1008"><span class="id" title="binder">prf</span></a> <a id="deps':1009" class="idref" href="#deps':1009"><span class="id" title="binder">deps'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="d:1010" class="idref" href="#d:1010"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1010"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1009"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5a87bf8206f97449613d858ff6cf6654" class="idref" href="#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1004"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="decl:1012" class="idref" href="#decl:1012"><span class="id" title="binder">decl</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a87bf8206f97449613d858ff6cf6654"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1010"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl:1012"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1009"><span class="id" title="variable">deps'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1005"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="956846e77b79c748baa5d90c0e0895a2" class="idref" href="#956846e77b79c748baa5d90c0e0895a2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1004"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#956846e77b79c748baa5d90c0e0895a2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c58453c7d39cf3093e3b04875437cfbf" class="idref" href="#c58453c7d39cf3093e3b04875437cfbf"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1005"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1004"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1006"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1007"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1008"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#includes_deps"><span class="id" title="definition">includes_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#956846e77b79c748baa5d90c0e0895a2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c58453c7d39cf3093e3b04875437cfbf"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1009"><span class="id" title="variable">deps'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">sub</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">H</span>, <span class="id" title="var">sub</span>, <span class="id" title="var">prf</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">deps'</span>, <span class="id" title="var">Σ</span> , <span class="id" title="var">wfΣ</span>, <span class="id" title="var">normalization_in</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">Hdecl</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">Hdecl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">d</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">Hdecl</span>]]; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">kn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hdecl</span>. <span class="id" title="var">cbn</span> -[<span class="id" title="var">erase_global_decls</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span> → [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [|]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">Xmake</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_from_gen"><span class="id" title="lemma">declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constant_gen"><span class="id" title="definition">declared_constant_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">sub</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">indeps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">indeps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_constant"><span class="id" title="definition">EGlobalEnv.declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">decl</span> <span class="id" title="var">hd</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">indeps</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls"><span class="id" title="class">strictly_extends_decls</span></a> <span class="id" title="var">Σpop</span> <span class="id" title="var">Σ</span>) ⇒ [?|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_correct"><span class="id" title="lemma">erase_constant_body_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σpop</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">Σmake</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">wfmake</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#strictly_extends_decls_wf"><span class="id" title="lemma">strictly_extends_decls_wf</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">indeps</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">prf'</span> := <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpop</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EDeps.html#erases_deps_cons"><span class="id" title="lemma">erases_deps_cons</span></a> <span class="id" title="var">Σpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpop'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop''</span> <span class="id" title="var">Hpop'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_correct'"><span class="id" title="lemma">erase_constant_body_correct'</span></a> <span class="id" title="var">H0</span>). <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfmake</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bod</span> [<span class="id" title="var">bodty</span> [[<span class="id" title="var">Hbod</span> <span class="id" title="var">Hebod</span>] <span class="id" title="var">Heqdeps</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">Σpop</span> <span class="id" title="var">Σmake</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">wfmake</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbod</span>, <span class="id" title="var">Hebod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σpop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>, <span class="id" title="var">o</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">rewrite</span>  &lt;- <span class="id" title="var">Hpop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">o</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpop'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>, <span class="id" title="var">o</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wf'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">clear</span> <span class="id" title="var">prf'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> <span class="id" title="var">Hpop'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hebod</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Heqdeps</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eexists</span> <span class="id" title="var">m</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">prf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">sub</span> <span class="id" title="var">_</span> <span class="id" title="var">hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">kn</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_from_gen"><span class="id" title="lemma">declared_minductive_from_gen</span></a>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive_gen"><span class="id" title="definition">declared_minductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#on_declared_minductive"><span class="id" title="lemma">on_declared_minductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">ikn</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erases_with_deps_cons"><span class="id" title="lemma">global_erases_with_deps_cons</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">decl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σp</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">ind</span>%<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σp</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpop</span> [<span class="id" title="var">Hpop'</span> <span class="id" title="var">Hpop''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqkn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erases_with_deps_cons"><span class="id" title="lemma">global_erases_with_deps_cons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">kn</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">Σp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a> <span class="id" title="var">_</span> <span class="id" title="var">kn</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">Σp</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHdecls</span> <span class="id" title="var">Xpop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton"><span class="id" title="definition">KernameSet.singleton</span></a> <span class="id" title="var">i</span>)) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">ind</span>%<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">wfpop</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">hin'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.singleton_spec"><span class="id" title="lemma">KernameSet.singleton_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_correct" class="idref" href="#erase_correct"><span class="id" title="lemma">erase_correct</span></a> (<a id="wfl:1015" class="idref" href="#wfl:1015"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>) <a id="X_type:1016" class="idref" href="#X_type:1016"><span class="id" title="binder">X_type</span></a> (<a id="X:1017" class="idref" href="#X:1017"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1016"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:1018" class="idref" href="#univs:1018"><span class="id" title="binder">univs</span></a> <a id="wfext:1019" class="idref" href="#wfext:1019"><span class="id" title="binder">wfext</span></a> <a id="t:1020" class="idref" href="#t:1020"><span class="id" title="binder">t</span></a> <a id="v:1021" class="idref" href="#v:1021"><span class="id" title="binder">v</span></a> <a id="d4339dfed82b5d31a9e61a634c14bc23" class="idref" href="#d4339dfed82b5d31a9e61a634c14bc23"><span class="id" title="binder">Σ'</span></a> <a id="t':1023" class="idref" href="#t':1023"><span class="id" title="binder">t'</span></a> <a id="deps:1024" class="idref" href="#deps:1024"><span class="id" title="binder">deps</span></a> <a id="decls:1025" class="idref" href="#decls:1025"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1026" class="idref" href="#normalization_in:1026"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1027" class="idref" href="#prf:1027"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="Xext:1028" class="idref" href="#Xext:1028"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1017"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1018"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1019"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1030" class="idref" href="#normalization_in':1030"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="756399d48b48bd4cf3ab4c83568ae658" class="idref" href="#756399d48b48bd4cf3ab4c83568ae658"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#756399d48b48bd4cf3ab4c83568ae658"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#756399d48b48bd4cf3ab4c83568ae658"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1028"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#756399d48b48bd4cf3ab4c83568ae658"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:1032" class="idref" href="#wt:1032"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="ee44a13f288eeedfed96a84b7c139369" class="idref" href="#ee44a13f288eeedfed96a84b7c139369"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ee44a13f288eeedfed96a84b7c139369"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1028"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ee44a13f288eeedfed96a84b7c139369"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1020"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1016"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1028"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1020"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1032"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1023"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1023"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1024"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1024"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1017"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1025"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1026"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1027"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d4339dfed82b5d31a9e61a634c14bc23"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="8d59db6b885bde3e81899e14d521dd00" class="idref" href="#8d59db6b885bde3e81899e14d521dd00"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1017"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8d59db6b885bde3e81899e14d521dd00"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8d59db6b885bde3e81899e14d521dd00"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">|-</span></a><a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1020"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1021"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="14c3b7bee28c1848cbd98ed9da90a593" class="idref" href="#14c3b7bee28c1848cbd98ed9da90a593"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1028"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#14c3b7bee28c1848cbd98ed9da90a593"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v':1035" class="idref" href="#v':1035"><span class="id" title="binder">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#14c3b7bee28c1848cbd98ed9da90a593"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1021"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v':1035"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d4339dfed82b5d31a9e61a634c14bc23"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1023"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v':1035"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ'</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Ht'</span> <span class="id" title="var">ev</span> <span class="id" title="var">Σext</span> <span class="id" title="var">wfΣex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">Xext</span>) <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΣ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣex</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣex</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>) <span class="id" title="var">wfΣ</span> <span class="id" title="var">wt'</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span>); <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">wfΣex</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣX</span> <span class="id" title="var">wfΣex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#erases_correct"><span class="id" title="lemma">erases_correct</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣX</span> <span class="id" title="var">wfΣex</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_env_ind" class="idref" href="#global_env_ind"><span class="id" title="lemma">global_env_ind</span></a> (<a id="P:1036" class="idref" href="#P:1036"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<a id="Pnil:1039" class="idref" href="#Pnil:1039"><span class="id" title="binder">Pnil</span></a> : <span class="id" title="keyword">∀</span> <a id="univs:1037" class="idref" href="#univs:1037"><span class="id" title="binder">univs</span></a> <a id="retro:1038" class="idref" href="#retro:1038"><span class="id" title="binder">retro</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1036"><span class="id" title="variable">P</span></a> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1037"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#retro:1038"><span class="id" title="variable">retro</span></a> |})<br/>
&nbsp;&nbsp;(<a id="Pcons:1042" class="idref" href="#Pcons:1042"><span class="id" title="binder">Pcons</span></a> : <span class="id" title="keyword">∀</span> (<a id="ed9e84bb37f4885dd6c32394393aaa97" class="idref" href="#ed9e84bb37f4885dd6c32394393aaa97"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) <a id="d:1041" class="idref" href="#d:1041"><span class="id" title="binder">d</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1036"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ed9e84bb37f4885dd6c32394393aaa97"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1036"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ed9e84bb37f4885dd6c32394393aaa97"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1041"><span class="id" title="variable">d</span></a>))<br/>
&nbsp;&nbsp;(<a id="70621e213b70ba1e74df844eee17aaf5" class="idref" href="#70621e213b70ba1e74df844eee17aaf5"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1036"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#70621e213b70ba1e74df844eee17aaf5"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Pnil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Pcons</span> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <span class="id" title="var">Σ</span> |} <span class="id" title="var">a</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_env_ind" class="idref" href="#on_global_env_ind"><span class="id" title="lemma">on_global_env_ind</span></a> (<a id="P:1045" class="idref" href="#P:1045"><span class="id" title="binder">P</span></a> : <span class="id" title="keyword">∀</span> <a id="70711dd86c4ca9b5b38f9508f7e15909" class="idref" href="#70711dd86c4ca9b5b38f9508f7e15909"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#70711dd86c4ca9b5b38f9508f7e15909"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<a id="Pnil:1049" class="idref" href="#Pnil:1049"><span class="id" title="binder">Pnil</span></a> : <span class="id" title="keyword">∀</span> <a id="univs:1046" class="idref" href="#univs:1046"><span class="id" title="binder">univs</span></a> <a id="retro:1047" class="idref" href="#retro:1047"><span class="id" title="binder">retro</span></a> (<a id="onu:1048" class="idref" href="#onu:1048"><span class="id" title="binder">onu</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_global_univs"><span class="id" title="definition">on_global_univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1046"><span class="id" title="variable">univs</span></a>), <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1045"><span class="id" title="variable">P</span></a> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1046"><span class="id" title="variable">univs</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#retro:1047"><span class="id" title="variable">retro</span></a> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onu:1048"><span class="id" title="variable">onu</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#globenv_nil"><span class="id" title="constructor">globenv_nil</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Pcons:1058" class="idref" href="#Pcons:1058"><span class="id" title="binder">Pcons</span></a> : <span class="id" title="keyword">∀</span> (<a id="5233d16c350e0f6d39034d4bc9aef123" class="idref" href="#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) <a id="kn:1051" class="idref" href="#kn:1051"><span class="id" title="binder">kn</span></a> <a id="d:1052" class="idref" href="#d:1052"><span class="id" title="binder">d</span></a> (<a id="wf:1053" class="idref" href="#wf:1053"><span class="id" title="binder">wf</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfresh:1054" class="idref" href="#Hfresh:1054"><span class="id" title="binder">Hfresh</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1051"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="udecl:1055" class="idref" href="#udecl:1055"><span class="id" title="binder">udecl</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICLookup.universes_decl_of_decl"><span class="id" title="definition">PCUICLookup.universes_decl_of_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1052"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="onud:1056" class="idref" href="#onud:1056"><span class="id" title="binder">onud</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_udecl"><span class="id" title="definition">on_udecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#udecl:1055"><span class="id" title="variable">udecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pd:1057" class="idref" href="#pd:1057"><span class="id" title="binder">pd</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_global_decl"><span class="id" title="definition">on_global_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">({|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>); <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>); <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">|},</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#udecl:1055"><span class="id" title="variable">udecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1051"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1052"><span class="id" title="variable">d</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1045"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf:1053"><span class="id" title="variable">wf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1045"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1051"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1052"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf:1053"><span class="id" title="variable">wf</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#globenv_decl"><span class="id" title="constructor">globenv_decl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5233d16c350e0f6d39034d4bc9aef123"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1051"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1052"><span class="id" title="variable">d</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf:1053"><span class="id" title="variable">wf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#kn_fresh"><span class="id" title="projection">kn_fresh</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Hfresh:1054"><span class="id" title="variable">Hfresh</span></a> ; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_udecl_udecl"><span class="id" title="projection">on_udecl_udecl</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onud:1056"><span class="id" title="variable">onud</span></a> ; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_global_decl_d"><span class="id" title="projection">on_global_decl_d</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#pd:1057"><span class="id" title="variable">pd</span></a> |}<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="13232618ec10a237a3b281ec01f3a036" class="idref" href="#13232618ec10a237a3b281ec01f3a036"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) (<a id="ccc000e5206e558db3d34291e9611556" class="idref" href="#ccc000e5206e558db3d34291e9611556"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#13232618ec10a237a3b281ec01f3a036"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1045"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#13232618ec10a237a3b281ec01f3a036"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ccc000e5206e558db3d34291e9611556"><span class="id" title="variable">wfΣ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Pnil</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Pcons</span> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <span class="id" title="var">univs</span>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <span class="id" title="var">Σ</span> |} <span class="id" title="var">kn</span> <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">o0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">IHo0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_eta</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="leq_term_propositional_sorted_l" class="idref" href="#leq_term_propositional_sorted_l"><span class="id" title="lemma">leq_term_propositional_sorted_l</span></a> {<a id="29775ad77df93a317e900a878cbf1a2a" class="idref" href="#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="binder">Σ</span></a> <a id="416648fc91468a1b5738b5823435138a" class="idref" href="#416648fc91468a1b5738b5823435138a"><span class="id" title="binder">Γ</span></a> <a id="v:1063" class="idref" href="#v:1063"><span class="id" title="binder">v</span></a> <a id="v':1064" class="idref" href="#v':1064"><span class="id" title="binder">v'</span></a> <a id="u:1065" class="idref" href="#u:1065"><span class="id" title="binder">u</span></a> <a id="u':1066" class="idref" href="#u':1066"><span class="id" title="binder">u'</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">PCUICEquality.leq_term</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1063"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v':1064"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#416648fc91468a1b5738b5823435138a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1063"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1065"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#416648fc91468a1b5738b5823435138a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v':1064"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u':1066"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#is_propositional"><span class="id" title="definition">is_propositional</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1065"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#leq_universe"><span class="id" title="definition">leq_universe</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#29775ad77df93a317e900a878cbf1a2a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u':1066"><span class="id" title="variable">u'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1065"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">leq</span> <span class="id" title="var">hv</span> <span class="id" title="var">hv'</span> <span class="id" title="var">isp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_true_iff"><span class="id" title="lemma">orb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">isp</span> | <span class="id" title="var">isp</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICElimination.html#leq_term_prop_sorted_l"><span class="id" title="lemma">leq_term_prop_sorted_l</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICElimination.html#leq_term_sprop_sorted_l"><span class="id" title="lemma">leq_term_sprop_sorted_l</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="map_erase" class="idref" href="#map_erase"><span class="id" title="definition">map_erase</span></a> (<a id="X_type:1067" class="idref" href="#X_type:1067"><span class="id" title="binder">X_type</span></a>:<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:1068" class="idref" href="#X:1068"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1067"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) {<a id="normalization_in:1070" class="idref" href="#normalization_in:1070"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="1fe3a539db994fd7b37dc72589b62ac3" class="idref" href="#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1068"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1fe3a539db994fd7b37dc72589b62ac3"><span class="id" title="variable">Σ</span></a>} <a id="6b5692e8bb728431fe3d5fea27cef9fe" class="idref" href="#6b5692e8bb728431fe3d5fea27cef9fe"><span class="id" title="binder">Γ</span></a><br/>
&nbsp;&nbsp;(<a id="ts:1072" class="idref" href="#ts:1072"><span class="id" title="binder">ts</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;(<a id="H2:1074" class="idref" href="#H2:1074"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="891903f47d6442830601770cad1c3f4d" class="idref" href="#891903f47d6442830601770cad1c3f4d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1068"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#891903f47d6442830601770cad1c3f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#891903f47d6442830601770cad1c3f4d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6b5692e8bb728431fe3d5fea27cef9fe"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1072"><span class="id" title="variable">ts</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">ts</span>}: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.term"><span class="id" title="inductive">E.term</span></a>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">ts</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">t</span> <span class="id" title="var">ts</span>].<br/>
- <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a>. <span class="id" title="tactic">refine</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> (<span class="id" title="var">map_erase</span> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">ts</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>; <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_erase_irrel" class="idref" href="#map_erase_irrel"><span class="id" title="lemma">map_erase_irrel</span></a> <a id="X_type:1076" class="idref" href="#X_type:1076"><span class="id" title="binder">X_type</span></a> <a id="X:1077" class="idref" href="#X:1077"><span class="id" title="binder">X</span></a> {<a id="normalization_in1:1079" class="idref" href="#normalization_in1:1079"><span class="id" title="binder">normalization_in1</span></a> <a id="normalization_in2:1080" class="idref" href="#normalization_in2:1080"><span class="id" title="binder">normalization_in2</span></a> : <span class="id" title="keyword">∀</span> <a id="37cb755dd673c310af25d14b6b5fd3a7" class="idref" href="#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1077"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#37cb755dd673c310af25d14b6b5fd3a7"><span class="id" title="variable">Σ</span></a>} <a id="6ae8e3a860bcb7574c37529bd6fca6c4" class="idref" href="#6ae8e3a860bcb7574c37529bd6fca6c4"><span class="id" title="binder">Γ</span></a> <a id="t:1082" class="idref" href="#t:1082"><span class="id" title="binder">t</span></a> <a id="H1:1083" class="idref" href="#H1:1083"><span class="id" title="binder">H1</span></a> <a id="H2:1084" class="idref" href="#H2:1084"><span class="id" title="binder">H2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#map_erase"><span class="id" title="definition">map_erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1076"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1077"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6ae8e3a860bcb7574c37529bd6fca6c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1082"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H1:1083"><span class="id" title="variable">H1</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in1:1079"><span class="id" title="variable">normalization_in1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#map_erase"><span class="id" title="definition">map_erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1076"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1077"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6ae8e3a860bcb7574c37529bd6fca6c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1082"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H2:1084"><span class="id" title="variable">H2</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in2:1080"><span class="id" title="variable">normalization_in2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#map_erase"><span class="id" title="definition">map_erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> <span class="id" title="var">_</span> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> <span class="id" title="var">_</span> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_mkApps" class="idref" href="#erase_mkApps"><span class="id" title="lemma">erase_mkApps</span></a> {<a id="X_type:1085" class="idref" href="#X_type:1085"><span class="id" title="binder">X_type</span></a> <a id="X:1086" class="idref" href="#X:1086"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:1088" class="idref" href="#normalization_in:1088"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="e197ababcbeccae07ed7d486bbaf0d9e" class="idref" href="#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1086"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e197ababcbeccae07ed7d486bbaf0d9e"><span class="id" title="variable">Σ</span></a>} <a id="ab96c16ba0d48261ba8eab518ed17891" class="idref" href="#ab96c16ba0d48261ba8eab518ed17891"><span class="id" title="binder">Γ</span></a> <a id="t:1090" class="idref" href="#t:1090"><span class="id" title="binder">t</span></a> <a id="args:1091" class="idref" href="#args:1091"><span class="id" title="binder">args</span></a> <a id="H2:1092" class="idref" href="#H2:1092"><span class="id" title="binder">H2</span></a> <a id="Ht:1093" class="idref" href="#Ht:1093"><span class="id" title="binder">Ht</span></a> <a id="Hargs:1094" class="idref" href="#Hargs:1094"><span class="id" title="binder">Hargs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="23ad4d4893e59ac8dedbbabe79a9f7f3" class="idref" href="#23ad4d4893e59ac8dedbbabe79a9f7f3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1086"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#23ad4d4893e59ac8dedbbabe79a9f7f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#23ad4d4893e59ac8dedbbabe79a9f7f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ab96c16ba0d48261ba8eab518ed17891"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e0708f929902732357702e578abd9520" class="idref" href="#e0708f929902732357702e578abd9520"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1086"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e0708f929902732357702e578abd9520"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e0708f929902732357702e578abd9520"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ab96c16ba0d48261ba8eab518ed17891"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1090"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1091"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1085"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1086"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ab96c16ba0d48261ba8eab518ed17891"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1090"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1091"><span class="id" title="variable">args</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H2:1092"><span class="id" title="variable">H2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#E.mkApps"><span class="id" title="definition">E.mkApps</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1085"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1086"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ab96c16ba0d48261ba8eab518ed17891"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1090"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Ht:1093"><span class="id" title="variable">Ht</span></a>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#map_erase"><span class="id" title="definition">map_erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1085"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1086"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ab96c16ba0d48261ba8eab518ed17891"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1091"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Hargs:1094"><span class="id" title="variable">Hargs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣX</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hwflocal</span> <span class="id" title="var">Herasable</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>, <span class="id" title="var">H2</span>, <span class="id" title="var">Ht</span>, <span class="id" title="var">Hargs</span>, <span class="id" title="var">Herasable</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> [<span class="id" title="var">mkApps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>; <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hargs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_clause_1"><span class="id" title="definition">erase_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect"><span class="id" title="definition">inspect</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_clause_1_clause_2"><span class="id" title="definition">erase_clause_1_clause_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Herasable</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">specialize_Σ</span> <span class="id" title="var">wfΣX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#Is_type_app"><span class="id" title="lemma">Is_type_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<span class="id" title="var">map_erase</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#map_erase_irrel"><span class="id" title="lemma">map_erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_erase_length" class="idref" href="#map_erase_length"><span class="id" title="lemma">map_erase_length</span></a> <a id="X_type:1097" class="idref" href="#X_type:1097"><span class="id" title="binder">X_type</span></a> <a id="X:1098" class="idref" href="#X:1098"><span class="id" title="binder">X</span></a> {<a id="normalization_in:1100" class="idref" href="#normalization_in:1100"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="2f1c87dbccfd25318919bb9493c31aff" class="idref" href="#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1098"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2f1c87dbccfd25318919bb9493c31aff"><span class="id" title="variable">Σ</span></a>} <a id="8208fe332a169f8f6236a9bfdb359a1b" class="idref" href="#8208fe332a169f8f6236a9bfdb359a1b"><span class="id" title="binder">Γ</span></a> <a id="t:1102" class="idref" href="#t:1102"><span class="id" title="binder">t</span></a> <a id="H1:1103" class="idref" href="#H1:1103"><span class="id" title="binder">H1</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#map_erase"><span class="id" title="definition">map_erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1097"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1098"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8208fe332a169f8f6236a9bfdb359a1b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1102"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H1:1103"><span class="id" title="variable">H1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1102"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Constructors</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#expanded"><span class="id" title="inductive">expanded</span></a> : <span class="id" title="var">expanded</span>.<br/>

<br/>
<span class="id" title="keyword">Local Arguments</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_env_erase" class="idref" href="#lookup_env_erase"><span class="id" title="lemma">lookup_env_erase</span></a> <a id="X_type:1104" class="idref" href="#X_type:1104"><span class="id" title="binder">X_type</span></a> <a id="X:1105" class="idref" href="#X:1105"><span class="id" title="binder">X</span></a> <a id="deps:1106" class="idref" href="#deps:1106"><span class="id" title="binder">deps</span></a> <a id="decls:1107" class="idref" href="#decls:1107"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1108" class="idref" href="#normalization_in:1108"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1109" class="idref" href="#prf:1109"><span class="id" title="binder">prf</span></a> <a id="kn:1110" class="idref" href="#kn:1110"><span class="id" title="binder">kn</span></a> <a id="d:1111" class="idref" href="#d:1111"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1110"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1106"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="cbaa5906b98bdb6f9a20a9eb631a4594" class="idref" href="#cbaa5906b98bdb6f9a20a9eb631a4594"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1105"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbaa5906b98bdb6f9a20a9eb631a4594"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cbaa5906b98bdb6f9a20a9eb631a4594"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1110"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1111"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#lookup_env"><span class="id" title="definition">EGlobalEnv.lookup_env</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1104"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1106"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1105"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1107"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1108"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1109"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1110"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">EAst.InductiveDecl</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1111"><span class="id" title="variable">d</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">Σ</span> , <span class="id" title="var">wfΣ</span> ,<span class="id" title="var">prf</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">hin</span>, <span class="id" title="var">normalization_in</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">erase_global_decls</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn'</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hin</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Kernames.html#eq_kername_refl"><span class="id" title="lemma">eq_kername_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#neqb"><span class="id" title="lemma">neqb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">e'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σp</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#neqb"><span class="id" title="lemma">neqb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">e'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_declared_constructor" class="idref" href="#erase_global_declared_constructor"><span class="id" title="lemma">erase_global_declared_constructor</span></a> <a id="X_type:1113" class="idref" href="#X_type:1113"><span class="id" title="binder">X_type</span></a> <a id="X:1114" class="idref" href="#X:1114"><span class="id" title="binder">X</span></a> <a id="ind:1115" class="idref" href="#ind:1115"><span class="id" title="binder">ind</span></a> <a id="c:1116" class="idref" href="#c:1116"><span class="id" title="binder">c</span></a> <a id="mind:1117" class="idref" href="#mind:1117"><span class="id" title="binder">mind</span></a> <a id="idecl:1118" class="idref" href="#idecl:1118"><span class="id" title="binder">idecl</span></a> <a id="cdecl:1119" class="idref" href="#cdecl:1119"><span class="id" title="binder">cdecl</span></a> <a id="deps:1120" class="idref" href="#deps:1120"><span class="id" title="binder">deps</span></a> <a id="decls:1121" class="idref" href="#decls:1121"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1122" class="idref" href="#normalization_in:1122"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1123" class="idref" href="#prf:1123"><span class="id" title="binder">prf</span></a>:<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="2d2745131567165df6ea500776012d90" class="idref" href="#2d2745131567165df6ea500776012d90"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1114"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d2745131567165df6ea500776012d90"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_constructor"><span class="id" title="definition">declared_constructor</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d2745131567165df6ea500776012d90"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ind:1115"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c:1116"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mind:1117"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#idecl:1118"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cdecl:1119"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.In"><span class="id" title="definition">KernameSet.In</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ind:1115"><span class="id" title="variable">ind</span></a>.(<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1120"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_constructor"><span class="id" title="definition">EGlobalEnv.declared_constructor</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1113"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1120"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1114"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1121"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1122"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1123"><span class="id" title="variable">prf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ind:1115"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c:1116"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mind:1117"><span class="id" title="variable">mind</span></a>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_one_inductive_body"><span class="id" title="definition">erase_one_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#idecl:1118"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Erasure.EAst.html#mkConstructor"><span class="id" title="constructor">EAst.mkConstructor</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cdecl:1119"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cdecl:1119"><span class="id" title="variable">cdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> [[]] <span class="id" title="var">Hin</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- ×. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#lookup_env_erase"><span class="id" title="lemma">lookup_env_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#"><span class="id" title="module">EGlobalEnv</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_decls_fresh" class="idref" href="#erase_global_decls_fresh"><span class="id" title="lemma">erase_global_decls_fresh</span></a> <a id="X_type:1125" class="idref" href="#X_type:1125"><span class="id" title="binder">X_type</span></a> <a id="kn:1126" class="idref" href="#kn:1126"><span class="id" title="binder">kn</span></a> <a id="deps:1127" class="idref" href="#deps:1127"><span class="id" title="binder">deps</span></a> <a id="X:1128" class="idref" href="#X:1128"><span class="id" title="binder">X</span></a> <a id="decls:1129" class="idref" href="#decls:1129"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1130" class="idref" href="#normalization_in:1130"><span class="id" title="binder">normalization_in</span></a> <a id="heq:1131" class="idref" href="#heq:1131"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="2f8381b9c88d7ee26a1ea11cc4fa5cf2" class="idref" href="#2f8381b9c88d7ee26a1ea11cc4fa5cf2"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1125"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1127"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1128"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1129"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1130"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#heq:1131"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#fresh_global"><span class="id" title="definition">PCUICAst.fresh_global</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1126"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1129"><span class="id" title="variable">decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#fresh_global"><span class="id" title="definition">fresh_global</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1126"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2f8381b9c88d7ee26a1ea11cc4fa5cf2"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d</span>]. <span class="id" title="tactic">intros</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<span class="id" title="var">EGlobalEnv.closed_env</span> <span class="id" title="var">forallb</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> ⇒ //. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#"><span class="id" title="library">EEtaExpandedFix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_brs_eq" class="idref" href="#erase_brs_eq"><span class="id" title="lemma">erase_brs_eq</span></a> <a id="X_type:1133" class="idref" href="#X_type:1133"><span class="id" title="binder">X_type</span></a> <a id="X:1134" class="idref" href="#X:1134"><span class="id" title="binder">X</span></a> {<a id="normalization_in:1136" class="idref" href="#normalization_in:1136"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="bc058945ac0a190b4e01017b84a6ce21" class="idref" href="#bc058945ac0a190b4e01017b84a6ce21"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bc058945ac0a190b4e01017b84a6ce21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bc058945ac0a190b4e01017b84a6ce21"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1134"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bc058945ac0a190b4e01017b84a6ce21"><span class="id" title="variable">Σ</span></a>} <a id="cfff43cf256db907da1580470415c004" class="idref" href="#cfff43cf256db907da1580470415c004"><span class="id" title="binder">Γ</span></a> <a id="p:1138" class="idref" href="#p:1138"><span class="id" title="binder">p</span></a> <a id="ts:1139" class="idref" href="#ts:1139"><span class="id" title="binder">ts</span></a> <a id="wt:1140" class="idref" href="#wt:1140"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_brs"><span class="id" title="definition">erase_brs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1133"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1134"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cfff43cf256db907da1580470415c004"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:1138"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1139"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1140"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:1141" class="idref" href="#br:1141"><span class="id" title="binder">br</span></a> <a id="wt:1142" class="idref" href="#wt:1142"><span class="id" title="binder">wt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#erase_context"><span class="id" title="definition">erase_context</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:1141"><span class="id" title="variable">br</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1133"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1134"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#br:1141"><span class="id" title="variable">br</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1142"><span class="id" title="variable">wt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1139"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1140"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_fix_eq" class="idref" href="#erase_fix_eq"><span class="id" title="lemma">erase_fix_eq</span></a> <a id="X_type:1143" class="idref" href="#X_type:1143"><span class="id" title="binder">X_type</span></a> <a id="X:1144" class="idref" href="#X:1144"><span class="id" title="binder">X</span></a> {<a id="normalization_in:1146" class="idref" href="#normalization_in:1146"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="2c12023437094a2848f4490108479a47" class="idref" href="#2c12023437094a2848f4490108479a47"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2c12023437094a2848f4490108479a47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2c12023437094a2848f4490108479a47"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2c12023437094a2848f4490108479a47"><span class="id" title="variable">Σ</span></a>} <a id="f582b9cfae819c985832acaa4cd31021" class="idref" href="#f582b9cfae819c985832acaa4cd31021"><span class="id" title="binder">Γ</span></a> <a id="ts:1148" class="idref" href="#ts:1148"><span class="id" title="binder">ts</span></a> <a id="wt:1149" class="idref" href="#wt:1149"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_fix"><span class="id" title="definition">erase_fix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1143"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f582b9cfae819c985832acaa4cd31021"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1148"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1149"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:1150" class="idref" href="#d:1150"><span class="id" title="binder">d</span></a> <a id="wt:1151" class="idref" href="#wt:1151"><span class="id" title="binder">wt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':1154" class="idref" href="#dbody':1154"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1143"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1144"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1150"><span class="id" title="variable">d</span></a>) (<span class="id" title="keyword">fun</span> <a id="54bb8165d2355737a8f9764737c37ca6" class="idref" href="#54bb8165d2355737a8f9764737c37ca6"><span class="id" title="binder">Σ</span></a> <a id="abs:1153" class="idref" href="#abs:1153"><span class="id" title="binder">abs</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1151"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#54bb8165d2355737a8f9764737c37ca6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#abs:1153"><span class="id" title="variable">abs</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':1155" class="idref" href="#dbody':1155"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isBox"><span class="id" title="definition">isBox</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':1154"><span class="id" title="variable">dbody'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1150"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tLambda"><span class="id" title="constructor">E.tLambda</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a> <span class="id" title="var">na</span>) <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':1154"><span class="id" title="variable">dbody'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':1154"><span class="id" title="variable">dbody'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1150"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1150"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':1155"><span class="id" title="variable">dbody'</span></a> |}) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1148"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1149"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> (<a id="e5fe52aa3757c6585f282cf75952fb87" class="idref" href="#e5fe52aa3757c6585f282cf75952fb87"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="abs:1161" class="idref" href="#abs:1161"><span class="id" title="binder">abs</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <span class="id" title="var">X</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#af513152e079acd95dc8b819d7f3515f"><span class="id" title="variable">Σ</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All_obligation_1"><span class="id" title="definition">map_All_obligation_1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">h</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#af513152e079acd95dc8b819d7f3515f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#abs:1157"><span class="id" title="variable">abs</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">p2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_cofix_eq" class="idref" href="#erase_cofix_eq"><span class="id" title="lemma">erase_cofix_eq</span></a> <a id="X_type:1162" class="idref" href="#X_type:1162"><span class="id" title="binder">X_type</span></a> <a id="X:1163" class="idref" href="#X:1163"><span class="id" title="binder">X</span></a> {<a id="normalization_in:1165" class="idref" href="#normalization_in:1165"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="d73c31f1611184d2b802a1137dc68dea" class="idref" href="#d73c31f1611184d2b802a1137dc68dea"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d73c31f1611184d2b802a1137dc68dea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d73c31f1611184d2b802a1137dc68dea"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1163"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d73c31f1611184d2b802a1137dc68dea"><span class="id" title="variable">Σ</span></a>} <a id="7b26135af5af248ce1fe6c21ca974f44" class="idref" href="#7b26135af5af248ce1fe6c21ca974f44"><span class="id" title="binder">Γ</span></a> <a id="ts:1167" class="idref" href="#ts:1167"><span class="id" title="binder">ts</span></a> <a id="wt:1168" class="idref" href="#wt:1168"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_cofix"><span class="id" title="definition">erase_cofix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1162"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1163"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7b26135af5af248ce1fe6c21ca974f44"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1167"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1168"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:1169" class="idref" href="#d:1169"><span class="id" title="binder">d</span></a> <a id="wt:1170" class="idref" href="#wt:1170"><span class="id" title="binder">wt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dbody':1171" class="idref" href="#dbody':1171"><span class="id" title="binder">dbody'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1162"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1163"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1169"><span class="id" title="variable">d</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1170"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dname"><span class="id" title="projection">E.dname</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1169"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dname"><span class="id" title="projection">dname</span></a>).(<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_name"><span class="id" title="projection">binder_name</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.rarg"><span class="id" title="projection">E.rarg</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1169"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#rarg"><span class="id" title="projection">rarg</span></a>); <a class="idref" href="MetaCoq.Erasure.Extract.html#E.dbody"><span class="id" title="projection">E.dbody</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dbody':1171"><span class="id" title="variable">dbody'</span></a> |}) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ts:1167"><span class="id" title="variable">ts</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1168"><span class="id" title="variable">wt</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#map_All"><span class="id" title="definition">map_All</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ts</span> <span class="id" title="var">wt</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span> ⇒ //. <span class="id" title="tactic">f_equal</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isConstruct_erase" class="idref" href="#isConstruct_erase"><span class="id" title="lemma">isConstruct_erase</span></a> <a id="X_type:1172" class="idref" href="#X_type:1172"><span class="id" title="binder">X_type</span></a> <a id="X:1173" class="idref" href="#X:1173"><span class="id" title="binder">X</span></a> {<a id="normalization_in:1175" class="idref" href="#normalization_in:1175"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="466ce2cd9d9130da30e5faea940a0768" class="idref" href="#466ce2cd9d9130da30e5faea940a0768"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#466ce2cd9d9130da30e5faea940a0768"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#466ce2cd9d9130da30e5faea940a0768"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1173"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#466ce2cd9d9130da30e5faea940a0768"><span class="id" title="variable">Σ</span></a>} <a id="115de08fac434e41f30195d122220f86" class="idref" href="#115de08fac434e41f30195d122220f86"><span class="id" title="binder">Γ</span></a> <a id="t:1177" class="idref" href="#t:1177"><span class="id" title="binder">t</span></a> <a id="wt:1178" class="idref" href="#wt:1178"><span class="id" title="binder">wt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#isConstruct"><span class="id" title="definition">PCUICEtaExpand.isConstruct</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1177"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#isFix"><span class="id" title="definition">PCUICEtaExpand.isFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1177"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#isRel"><span class="id" title="definition">PCUICEtaExpand.isRel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1177"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1172"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1173"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#115de08fac434e41f30195d122220f86"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1177"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1178"><span class="id" title="variable">wt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1172"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1173"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#115de08fac434e41f30195d122220f86"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1177"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1178"><span class="id" title="variable">wt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isRel"><span class="id" title="definition">isRel</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1172"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1173"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#115de08fac434e41f30195d122220f86"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1177"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1178"><span class="id" title="variable">wt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_elim"><span class="id" title="definition">erase_elim</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e608609b00652658cf291d48a227efad" class="idref" href="#e608609b00652658cf291d48a227efad"><span class="id" title="binder">Γ</span></a> <a id="t:1201" class="idref" href="#t:1201"><span class="id" title="binder">t</span></a> <a id="wt:1202" class="idref" href="#wt:1202"><span class="id" title="binder">wt</span></a> <a id="e:1203" class="idref" href="#e:1203"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#isConstruct"><span class="id" title="definition">PCUICEtaExpand.isConstruct</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1180"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#isFix"><span class="id" title="definition">PCUICEtaExpand.isFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1180"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#isRel"><span class="id" title="definition">PCUICEtaExpand.isRel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1180"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:1182"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isFix"><span class="id" title="definition">isFix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:1182"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#isRel"><span class="id" title="definition">isRel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e:1182"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="0e2035010babf11a1fcbcea74dc32413" class="idref" href="#0e2035010babf11a1fcbcea74dc32413"><span class="id" title="binder">Γ</span></a> <a id="l:1205" class="idref" href="#l:1205"><span class="id" title="binder">l</span></a> <a id="awt:1206" class="idref" href="#awt:1206"><span class="id" title="binder">awt</span></a> <a id="e:1207" class="idref" href="#e:1207"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="c33b0a31e6bf44450609a23113c8e079" class="idref" href="#c33b0a31e6bf44450609a23113c8e079"><span class="id" title="binder">Γ</span></a> <a id="p:1209" class="idref" href="#p:1209"><span class="id" title="binder">p</span></a> <a id="l:1210" class="idref" href="#l:1210"><span class="id" title="binder">l</span></a> <a id="awt:1211" class="idref" href="#awt:1211"><span class="id" title="binder">awt</span></a> <a id="e:1212" class="idref" href="#e:1212"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a3c6a6d96c225dd4b6ff7bb223d3313c" class="idref" href="#a3c6a6d96c225dd4b6ff7bb223d3313c"><span class="id" title="binder">Γ</span></a> <a id="l:1214" class="idref" href="#l:1214"><span class="id" title="binder">l</span></a> <a id="awt:1215" class="idref" href="#awt:1215"><span class="id" title="binder">awt</span></a> <a id="e:1216" class="idref" href="#e:1216"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="c1c5d32d45e581870f2051374bfd5216" class="idref" href="#c1c5d32d45e581870f2051374bfd5216"><span class="id" title="binder">Γ</span></a> <a id="l:1218" class="idref" href="#l:1218"><span class="id" title="binder">l</span></a> <a id="awt:1219" class="idref" href="#awt:1219"><span class="id" title="binder">awt</span></a> <a id="e:1220" class="idref" href="#e:1220"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)); <span class="id" title="tactic">intros</span> ⇒ //. <span class="id" title="var">bang</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="apply_expanded" class="idref" href="#apply_expanded"><span class="id" title="lemma">apply_expanded</span></a> <a id="45d5271a16a9d19793237736ab9e8689" class="idref" href="#45d5271a16a9d19793237736ab9e8689"><span class="id" title="binder">Σ</span></a> <a id="7cebe0e8164aac16e9f25bb7454c4897" class="idref" href="#7cebe0e8164aac16e9f25bb7454c4897"><span class="id" title="binder">Γ</span></a> <a id="fd05f6cc9f80d77e71c706510a0d3735" class="idref" href="#fd05f6cc9f80d77e71c706510a0d3735"><span class="id" title="binder">Γ'</span></a> <a id="t:1224" class="idref" href="#t:1224"><span class="id" title="binder">t</span></a> <a id="t':1225" class="idref" href="#t':1225"><span class="id" title="binder">t'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#45d5271a16a9d19793237736ab9e8689"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7cebe0e8164aac16e9f25bb7454c4897"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1224"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7cebe0e8164aac16e9f25bb7454c4897"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fd05f6cc9f80d77e71c706510a0d3735"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1224"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1225"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#45d5271a16a9d19793237736ab9e8689"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fd05f6cc9f80d77e71c706510a0d3735"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1225"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isLambda_inv" class="idref" href="#isLambda_inv"><span class="id" title="lemma">isLambda_inv</span></a> <a id="t:1226" class="idref" href="#t:1226"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1226"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="na:1227" class="idref" href="#na:1227"><span class="id" title="binder">na</span></a> <a id="ty:1228" class="idref" href="#ty:1228"><span class="id" title="binder">ty</span></a> <a id="bod:1229" class="idref" href="#bod:1229"><span class="id" title="binder">bod</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1226"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#na:1227"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ty:1228"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bod:1229"><span class="id" title="variable">bod</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_erase" class="idref" href="#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> (<a id="cf:1230" class="idref" href="#cf:1230"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1231" class="idref" href="#X_type:1231"><span class="id" title="binder">X_type</span></a> <a id="X:1232" class="idref" href="#X:1232"><span class="id" title="binder">X</span></a>} <a id="univs:1233" class="idref" href="#univs:1233"><span class="id" title="binder">univs</span></a><br/>
&nbsp;&nbsp;(<a id="3cd1673ceac9a4e5e2c93a8498c08fdf" class="idref" href="#3cd1673ceac9a4e5e2c93a8498c08fdf"><span class="id" title="binder">wfΣ</span></a> : <span class="id" title="keyword">∀</span> <a id="1bcffc9a898a2981a78c99a7460c49df" class="idref" href="#1bcffc9a898a2981a78c99a7460c49df"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1232"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1bcffc9a898a2981a78c99a7460c49df"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1bcffc9a898a2981a78c99a7460c49df"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1233"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="decls:1236" class="idref" href="#decls:1236"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1237" class="idref" href="#normalization_in:1237"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1238" class="idref" href="#prf:1238"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="X':1239" class="idref" href="#X':1239"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1232"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1233"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3cd1673ceac9a4e5e2c93a8498c08fdf"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1241" class="idref" href="#normalization_in':1241"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="4464e4352fbc2f6e058f0b7d8f12d13f" class="idref" href="#4464e4352fbc2f6e058f0b7d8f12d13f"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4464e4352fbc2f6e058f0b7d8f12d13f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4464e4352fbc2f6e058f0b7d8f12d13f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1239"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4464e4352fbc2f6e058f0b7d8f12d13f"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;<a id="12659b897790e2131e9e77891e3da274" class="idref" href="#12659b897790e2131e9e77891e3da274"><span class="id" title="binder">Γ</span></a> <a id="t:1243" class="idref" href="#t:1243"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;(<a id="wt:1245" class="idref" href="#wt:1245"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="85d7c4282913304d84bd9c9a2f3d605e" class="idref" href="#85d7c4282913304d84bd9c9a2f3d605e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1239"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85d7c4282913304d84bd9c9a2f3d605e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85d7c4282913304d84bd9c9a2f3d605e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#12659b897790e2131e9e77891e3da274"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1243"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:1246" class="idref" href="#et:1246"><span class="id" title="binder">et</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1231"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1239"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#12659b897790e2131e9e77891e3da274"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1243"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1245"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:1247" class="idref" href="#deps:1247"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1246"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c5f141eadd84a8b5e8a20170239ce02b" class="idref" href="#c5f141eadd84a8b5e8a20170239ce02b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1232"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c5f141eadd84a8b5e8a20170239ce02b"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c5f141eadd84a8b5e8a20170239ce02b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1231"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1247"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1232"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1236"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1237"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1238"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1246"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">et</span> <span class="id" title="var">deps</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> <span class="id" title="var">w</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_erase_weaken" class="idref" href="#erases_deps_erase_weaken"><span class="id" title="lemma">erases_deps_erase_weaken</span></a> (<a id="cf:1249" class="idref" href="#cf:1249"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1250" class="idref" href="#X_type:1250"><span class="id" title="binder">X_type</span></a> <a id="X:1251" class="idref" href="#X:1251"><span class="id" title="binder">X</span></a>} <a id="univs:1252" class="idref" href="#univs:1252"><span class="id" title="binder">univs</span></a><br/>
&nbsp;&nbsp;(<a id="2c454ab3f353c6c4bd98f71e5015eff3" class="idref" href="#2c454ab3f353c6c4bd98f71e5015eff3"><span class="id" title="binder">wfΣ</span></a> : <span class="id" title="keyword">∀</span> <a id="875b32d4e16ed8976901e520cc298740" class="idref" href="#875b32d4e16ed8976901e520cc298740"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1251"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#875b32d4e16ed8976901e520cc298740"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#875b32d4e16ed8976901e520cc298740"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1252"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <a id="decls:1255" class="idref" href="#decls:1255"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1256" class="idref" href="#normalization_in:1256"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1257" class="idref" href="#prf:1257"><span class="id" title="binder">prf</span></a><br/>
&nbsp;&nbsp;(<a id="X':1258" class="idref" href="#X':1258"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1251"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1252"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2c454ab3f353c6c4bd98f71e5015eff3"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1260" class="idref" href="#normalization_in':1260"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="bede7e91bcad8d512ee2c989864901dc" class="idref" href="#bede7e91bcad8d512ee2c989864901dc"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bede7e91bcad8d512ee2c989864901dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bede7e91bcad8d512ee2c989864901dc"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1258"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bede7e91bcad8d512ee2c989864901dc"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;<a id="4fb3a97354b69ed515c478e76f6064bb" class="idref" href="#4fb3a97354b69ed515c478e76f6064bb"><span class="id" title="binder">Γ</span></a> <a id="t:1262" class="idref" href="#t:1262"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;(<a id="wt:1264" class="idref" href="#wt:1264"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="85effa1cda6b43e7528601f9b70908d7" class="idref" href="#85effa1cda6b43e7528601f9b70908d7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1258"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85effa1cda6b43e7528601f9b70908d7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85effa1cda6b43e7528601f9b70908d7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4fb3a97354b69ed515c478e76f6064bb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1262"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a id="deps:1265" class="idref" href="#deps:1265"><span class="id" title="binder">deps</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:1266" class="idref" href="#et:1266"><span class="id" title="binder">et</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1250"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1258"><span class="id" title="variable">X'</span></a>  <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4fb3a97354b69ed515c478e76f6064bb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1262"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1264"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tdeps:1267" class="idref" href="#tdeps:1267"><span class="id" title="binder">tdeps</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1266"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="83d6deceb7dd16990c506d7b744769a6" class="idref" href="#83d6deceb7dd16990c506d7b744769a6"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1251"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#83d6deceb7dd16990c506d7b744769a6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#83d6deceb7dd16990c506d7b744769a6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1250"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1265"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#tdeps:1267"><span class="id" title="variable">tdeps</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1251"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1255"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1256"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1257"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1266"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">et</span> <span class="id" title="var">tdeps</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_erases_deps"><span class="id" title="lemma">erase_global_erases_deps</span></a> <span class="id" title="var">w</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_includes"><span class="id" title="lemma">erase_global_includes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#term_global_deps_spec"><span class="id" title="lemma">term_global_deps_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>) (<span class="id" title="var">Γ</span> := <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">KernameSet.subset_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eta_expand_erase" class="idref" href="#eta_expand_erase"><span class="id" title="lemma">eta_expand_erase</span></a> {<a id="X_type:1269" class="idref" href="#X_type:1269"><span class="id" title="binder">X_type</span></a> <a id="X:1270" class="idref" href="#X:1270"><span class="id" title="binder">X</span></a>} {<a id="normalization_in:1272" class="idref" href="#normalization_in:1272"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="0082b4e4346ef0cd252a5079619a4dd1" class="idref" href="#0082b4e4346ef0cd252a5079619a4dd1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0082b4e4346ef0cd252a5079619a4dd1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0082b4e4346ef0cd252a5079619a4dd1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1270"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0082b4e4346ef0cd252a5079619a4dd1"><span class="id" title="variable">Σ</span></a>} <a id="c5dbb163559cba4a78cb769c2dc82b32" class="idref" href="#c5dbb163559cba4a78cb769c2dc82b32"><span class="id" title="binder">Σ'</span></a> {<a id="d14a7a47886ee561178b7c96484c7a31" class="idref" href="#d14a7a47886ee561178b7c96484c7a31"><span class="id" title="binder">Γ</span></a> <a id="t:1275" class="idref" href="#t:1275"><span class="id" title="binder">t</span></a>}<br/>
&nbsp;&nbsp;(<a id="wt:1277" class="idref" href="#wt:1277"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="44454f51defda395643f1c6939d59aa0" class="idref" href="#44454f51defda395643f1c6939d59aa0"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1270"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#44454f51defda395643f1c6939d59aa0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#44454f51defda395643f1c6939d59aa0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d14a7a47886ee561178b7c96484c7a31"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1275"><span class="id" title="variable">t</span></a>) <a id="c875a047827fc372c77fd2ca73829081" class="idref" href="#c875a047827fc372c77fd2ca73829081"><span class="id" title="binder">Γ'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="539585835a83c229cf4fff236d8a0c96" class="idref" href="#539585835a83c229cf4fff236d8a0c96"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1270"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#539585835a83c229cf4fff236d8a0c96"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#539585835a83c229cf4fff236d8a0c96"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c875a047827fc372c77fd2ca73829081"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1275"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_global"><span class="id" title="definition">erases_global</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#539585835a83c229cf4fff236d8a0c96"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c5dbb163559cba4a78cb769c2dc82b32"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c5dbb163559cba4a78cb769c2dc82b32"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#c875a047827fc372c77fd2ca73829081"><span class="id" title="variable">Γ'</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1269"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1270"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d14a7a47886ee561178b7c96484c7a31"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1275"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1277"><span class="id" title="variable">wt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">exp</span> <span class="id" title="var">deps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#expanded_erases"><span class="id" title="lemma">expanded_erases</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EDeps.html#erases_global_erases_deps"><span class="id" title="lemma">erases_global_erases_deps</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_closed" class="idref" href="#erase_global_closed"><span class="id" title="lemma">erase_global_closed</span></a> <a id="X_type:1280" class="idref" href="#X_type:1280"><span class="id" title="binder">X_type</span></a> <a id="X:1281" class="idref" href="#X:1281"><span class="id" title="binder">X</span></a> <a id="deps:1282" class="idref" href="#deps:1282"><span class="id" title="binder">deps</span></a> <a id="decls:1283" class="idref" href="#decls:1283"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1284" class="idref" href="#normalization_in:1284"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1285" class="idref" href="#prf:1285"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1286" class="idref" href="#X':1286"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1280"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1282"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1281"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1283"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1284"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1285"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#closed_env"><span class="id" title="definition">EGlobalEnv.closed_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1286"><span class="id" title="variable">X'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">deps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">deps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> <span class="id" title="var">d</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">normalization_in_Xmake</span> : <span class="id" title="keyword">∀</span> <a id="d9581d0a22259330b36b0dc0cc82983b" class="idref" href="#d9581d0a22259330b36b0dc0cc82983b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#72f3ca85280fcbb3f1d2fe7294a979e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#72f3ca85280fcbb3f1d2fe7294a979e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <span class="id" title="var">Xmake</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#72f3ca85280fcbb3f1d2fe7294a979e7"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">Xmake</span>; <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<span class="id" title="var">EGlobalEnv.closed_env</span> <span class="id" title="var">forallb</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<span class="id" title="var">IHdecls</span>) // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.MCProd.html#test_snd"><span class="id" title="definition">test_snd</span></a> /<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#closed_decl"><span class="id" title="definition">EGlobalEnv.closed_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [] <span class="id" title="var">univs</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">erase_constant_body_obligation_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">Xmake</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>) <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">Xmake</span>) (<span class="id" title="var">obl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#erases_closed"><span class="id" title="lemma">erases_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_irrel"><span class="id" title="lemma">erase_irrel</span></a> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">_</span>]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<span class="id" title="var">EGlobalEnv.closed_env</span> <span class="id" title="var">forallb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="MetaCoq.Utils.MCProd.html#test_snd"><span class="id" title="definition">test_snd</span></a> {1}/<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#closed_decl"><span class="id" title="definition">EGlobalEnv.closed_decl</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#"><span class="id" title="module">EWellformed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wffix" class="idref" href="#wffix"><span class="id" title="section">wffix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EAst.html#"><span class="id" title="module">EAst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="wf_fixpoints" class="idref" href="#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> (<a id="t:1289" class="idref" href="#t:1289"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1289"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">b'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="brs':1292" class="idref" href="#brs':1292"><span class="id" title="binder">brs'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#brs':1292"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">idx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="d:1293" class="idref" href="#d:1293"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.Erasure.EAst.html#isLambda"><span class="id" title="definition">isLambda</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1293"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1293"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">idx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints:1290"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#dbody"><span class="id" title="projection">dbody</span></a>) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">kn</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tBox"><span class="id" title="constructor">tBox</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Erasure.EAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wffix"><span class="id" title="section">wffix</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_deps_wellformed" class="idref" href="#erases_deps_wellformed"><span class="id" title="lemma">erases_deps_wellformed</span></a> (<a id="cf:1294" class="idref" href="#cf:1294"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) (<a id="efl:1295" class="idref" href="#efl:1295"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="41c891bd36ee25527c890f3ef92f4598" class="idref" href="#41c891bd36ee25527c890f3ef92f4598"><span class="id" title="binder">Σ</span></a>} {<a id="6898c212b066e64f6641d9dc9101384c" class="idref" href="#6898c212b066e64f6641d9dc9101384c"><span class="id" title="binder">Σ'</span></a>} <a id="et:1298" class="idref" href="#et:1298"><span class="id" title="binder">et</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_deps"><span class="id" title="inductive">erases_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#41c891bd36ee25527c890f3ef92f4598"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6898c212b066e64f6641d9dc9101384c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1298"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:1299" class="idref" href="#n:1299"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Erasure.ELiftSubst.html#closedn"><span class="id" title="definition">ELiftSubst.closedn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:1299"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1298"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1298"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6898c212b066e64f6641d9dc9101384c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:1299"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1298"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ed</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Erasure.EDeps.html#erases_deps_forall_ind"><span class="id" title="lemma">erases_deps_forall_ind</span></a>; <span class="id" title="tactic">intros</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <span class="id" title="var">wf_fix</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">lookup_constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [[-&gt; -&gt;] -&gt;].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H5</span> ⇒ [] <span class="id" title="var">cld</span> <span class="id" title="var">clbrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [-&gt; -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H6</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">lookup_projection</span>] <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#declared_projection_lookup"><span class="id" title="lemma">declared_projection_lookup</span></a> <span class="id" title="var">H0</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erases_wf_fixpoints" class="idref" href="#erases_wf_fixpoints"><span class="id" title="lemma">erases_wf_fixpoints</span></a> <a id="a41ebf835de34b1c2149a6b3ececb092" class="idref" href="#a41ebf835de34b1c2149a6b3ececb092"><span class="id" title="binder">Σ</span></a> <a id="30cf17f3be5ab49d552fb6eda5f28642" class="idref" href="#30cf17f3be5ab49d552fb6eda5f28642"><span class="id" title="binder">Γ</span></a> <a id="t:1302" class="idref" href="#t:1302"><span class="id" title="binder">t</span></a> <a id="t':1303" class="idref" href="#t':1303"><span class="id" title="binder">t'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a41ebf835de34b1c2149a6b3ececb092"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#30cf17f3be5ab49d552fb6eda5f28642"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1302"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1303"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#wellformed"><span class="id" title="definition">ErasureProperties.wellformed</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a41ebf835de34b1c2149a6b3ececb092"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1302"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1303"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases_forall_list_ind"><span class="id" title="lemma">erases_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">solve_all</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ []. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>) ⇒ → /=. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_All2_mix"><span class="id" title="lemma">All2_All2_mix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b0</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#erases_isLambda"><span class="id" title="lemma">erases_isLambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ []. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>) ⇒ → /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wf_fixpoints" class="idref" href="#erase_wf_fixpoints"><span class="id" title="lemma">erase_wf_fixpoints</span></a> (<a id="efl:1304" class="idref" href="#efl:1304"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:1305" class="idref" href="#X_type:1305"><span class="id" title="binder">X_type</span></a> <a id="X:1306" class="idref" href="#X:1306"><span class="id" title="binder">X</span></a>} <a id="univs:1307" class="idref" href="#univs:1307"><span class="id" title="binder">univs</span></a> <a id="1dd65933179aa874fa0b4528f84e0b05" class="idref" href="#1dd65933179aa874fa0b4528f84e0b05"><span class="id" title="binder">wfΣ</span></a> {<a id="1a3854c3d8b297334b99948c99a2aacc" class="idref" href="#1a3854c3d8b297334b99948c99a2aacc"><span class="id" title="binder">Γ</span></a> <a id="t:1310" class="idref" href="#t:1310"><span class="id" title="binder">t</span></a>} <a id="wt:1311" class="idref" href="#wt:1311"><span class="id" title="binder">wt</span></a><br/>
&nbsp;&nbsp;(<a id="X':1312" class="idref" href="#X':1312"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1306"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1307"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1dd65933179aa874fa0b4528f84e0b05"><span class="id" title="variable">wfΣ</span></a>) {<a id="normalization_in:1313" class="idref" href="#normalization_in:1313"><span class="id" title="binder">normalization_in</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':1314" class="idref" href="#t':1314"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1305"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1312"><span class="id" title="variable">X'</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1313"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1a3854c3d8b297334b99948c99a2aacc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1310"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1311"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wf_fixpoints"><span class="id" title="definition">wf_fixpoints</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1314"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_wf_fixpoints"><span class="id" title="lemma">erases_wf_fixpoints</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#welltyped_wellformed"><span class="id" title="lemma">welltyped_wellformed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wellformed" class="idref" href="#erase_wellformed"><span class="id" title="lemma">erase_wellformed</span></a> (<a id="efl:1315" class="idref" href="#efl:1315"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:1316" class="idref" href="#X_type:1316"><span class="id" title="binder">X_type</span></a> <a id="X:1317" class="idref" href="#X:1317"><span class="id" title="binder">X</span></a>} <a id="decls:1318" class="idref" href="#decls:1318"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1319" class="idref" href="#normalization_in:1319"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1320" class="idref" href="#prf:1320"><span class="id" title="binder">prf</span></a> <a id="univs:1321" class="idref" href="#univs:1321"><span class="id" title="binder">univs</span></a> <a id="e8654ee47c4f298abc061c508209fadf" class="idref" href="#e8654ee47c4f298abc061c508209fadf"><span class="id" title="binder">wfΣ</span></a> {<a id="ec449120dc8d6a34ed288c170df4c5be" class="idref" href="#ec449120dc8d6a34ed288c170df4c5be"><span class="id" title="binder">Γ</span></a> <a id="t:1324" class="idref" href="#t:1324"><span class="id" title="binder">t</span></a>} <a id="wt:1325" class="idref" href="#wt:1325"><span class="id" title="binder">wt</span></a><br/>
(<a id="X':1326" class="idref" href="#X':1326"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1317"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1321"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e8654ee47c4f298abc061c508209fadf"><span class="id" title="variable">wfΣ</span></a>)<br/>
{<a id="normalization_in':1328" class="idref" href="#normalization_in':1328"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="e57946567dda129be96d07676e93299e" class="idref" href="#e57946567dda129be96d07676e93299e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e57946567dda129be96d07676e93299e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e57946567dda129be96d07676e93299e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1326"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e57946567dda129be96d07676e93299e"><span class="id" title="variable">Σ</span></a>}<br/>
(<a id="t':1329" class="idref" href="#t':1329"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1316"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1326"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ec449120dc8d6a34ed288c170df4c5be"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1324"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1325"><span class="id" title="variable">wt</span></a>) :<br/>
<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1316"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1329"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1317"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1318"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1319"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1320"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ec449120dc8d6a34ed288c170df4c5be"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1329"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decls</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_wellformed"><span class="id" title="lemma">erases_deps_wellformed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#erases_closed"><span class="id" title="lemma">erases_closed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_wf_fixpoints"><span class="id" title="lemma">erase_wf_fixpoints</span></a>. <span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wellformed_weaken" class="idref" href="#erase_wellformed_weaken"><span class="id" title="lemma">erase_wellformed_weaken</span></a> (<a id="efl:1330" class="idref" href="#efl:1330"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) {<a id="X_type:1331" class="idref" href="#X_type:1331"><span class="id" title="binder">X_type</span></a> <a id="X:1332" class="idref" href="#X:1332"><span class="id" title="binder">X</span></a>} <a id="decls:1333" class="idref" href="#decls:1333"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1334" class="idref" href="#normalization_in:1334"><span class="id" title="binder">normalization_in</span></a>} <a id="prf:1335" class="idref" href="#prf:1335"><span class="id" title="binder">prf</span></a> <a id="univs:1336" class="idref" href="#univs:1336"><span class="id" title="binder">univs</span></a> <a id="f53651378b866c3551d1f58e56bd97f7" class="idref" href="#f53651378b866c3551d1f58e56bd97f7"><span class="id" title="binder">wfΣ</span></a> {<a id="99c23ae30b599a49778f8a85c22f6d85" class="idref" href="#99c23ae30b599a49778f8a85c22f6d85"><span class="id" title="binder">Γ</span></a> <a id="t:1339" class="idref" href="#t:1339"><span class="id" title="binder">t</span></a>} <a id="wt:1340" class="idref" href="#wt:1340"><span class="id" title="binder">wt</span></a><br/>
(<a id="X':1341" class="idref" href="#X':1341"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1332"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1336"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f53651378b866c3551d1f58e56bd97f7"><span class="id" title="variable">wfΣ</span></a>)<br/>
{<a id="normalization_in':1343" class="idref" href="#normalization_in':1343"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="b2b685e997203bcb3ada2a343f5948c3" class="idref" href="#b2b685e997203bcb3ada2a343f5948c3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b2b685e997203bcb3ada2a343f5948c3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b2b685e997203bcb3ada2a343f5948c3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1341"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b2b685e997203bcb3ada2a343f5948c3"><span class="id" title="variable">Σ</span></a>}<br/>
<a id="deps:1344" class="idref" href="#deps:1344"><span class="id" title="binder">deps</span></a>:<br/>
<span class="id" title="keyword">let</span> <a id="t':1345" class="idref" href="#t':1345"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1331"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1341"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#99c23ae30b599a49778f8a85c22f6d85"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1339"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1340"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1331"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1344"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1345"><span class="id" title="variable">t'</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1332"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1333"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1334"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1335"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#99c23ae30b599a49778f8a85c22f6d85"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1345"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_erase_weaken"><span class="id" title="lemma">erases_deps_erase_weaken</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">wt</span> <span class="id" title="var">deps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wf'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>) <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_wellformed"><span class="id" title="lemma">erases_deps_wellformed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#erases_closed"><span class="id" title="lemma">erases_closed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">wf'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_closed"><span class="id" title="lemma">PCUICClosedTyp.subject_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_wf_fixpoints"><span class="id" title="lemma">erase_wf_fixpoints</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_constant_body_correct''" class="idref" href="#erase_constant_body_correct''"><span class="id" title="lemma">erase_constant_body_correct''</span></a> {<a id="X_type:1346" class="idref" href="#X_type:1346"><span class="id" title="binder">X_type</span></a> <a id="X:1347" class="idref" href="#X:1347"><span class="id" title="binder">X</span></a>} {<a id="cb:1348" class="idref" href="#cb:1348"><span class="id" title="binder">cb</span></a>} {<a id="decls:1349" class="idref" href="#decls:1349"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1350" class="idref" href="#normalization_in:1350"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1351" class="idref" href="#prf:1351"><span class="id" title="binder">prf</span></a>} {<a id="univs:1352" class="idref" href="#univs:1352"><span class="id" title="binder">univs</span></a> <a id="1d8ad38508e8dbc77ce50345921cfeeb" class="idref" href="#1d8ad38508e8dbc77ce50345921cfeeb"><span class="id" title="binder">wfΣ</span></a>}<br/>
(<a id="X':1354" class="idref" href="#X':1354"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1347"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1352"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1d8ad38508e8dbc77ce50345921cfeeb"><span class="id" title="variable">wfΣ</span></a>)<br/>
{<a id="normalization_in':1356" class="idref" href="#normalization_in':1356"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="9b2703f771e233cfec783c4adda2eb5e" class="idref" href="#9b2703f771e233cfec783c4adda2eb5e"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b2703f771e233cfec783c4adda2eb5e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b2703f771e233cfec783c4adda2eb5e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1354"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9b2703f771e233cfec783c4adda2eb5e"><span class="id" title="variable">Σ</span></a>}<br/>
{<a id="onc:1358" class="idref" href="#onc:1358"><span class="id" title="binder">onc</span></a> : <span class="id" title="keyword">∀</span> <a id="fd7e3da3828f1d879f7f4d2125530e2e" class="idref" href="#fd7e3da3828f1d879f7f4d2125530e2e"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1354"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fd7e3da3828f1d879f7f4d2125530e2e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_constant_decl"><span class="id" title="definition">on_constant_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fd7e3da3828f1d879f7f4d2125530e2e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1348"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>} {<a id="body:1359" class="idref" href="#body:1359"><span class="id" title="binder">body</span></a>} <a id="deps:1360" class="idref" href="#deps:1360"><span class="id" title="binder">deps</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1346"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1354"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1348"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onc:1358"><span class="id" title="variable">onc</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:1359"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="210b71c945f1013e0bb1d690c75383ab" class="idref" href="#210b71c945f1013e0bb1d690c75383ab"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1354"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#210b71c945f1013e0bb1d690c75383ab"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="t:1362" class="idref" href="#t:1362"><span class="id" title="binder">t</span></a> <a id="T:1363" class="idref" href="#T:1363"><span class="id" title="binder">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#210b71c945f1013e0bb1d690c75383ab"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1362"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:1363"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#210b71c945f1013e0bb1d690c75383ab"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1362"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:1359"><span class="id" title="variable">body</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:1359"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1346"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1354"><span class="id" title="variable">X'</span></a>  <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1348"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#onc:1358"><span class="id" title="variable">onc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<span class="id" title="var">efl</span>:=<a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1346"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1360"><span class="id" title="variable">deps</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:1359"><span class="id" title="variable">body</span></a>)) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1347"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1349"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1350"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1351"><span class="id" title="variable">prf</span></a>) 0 <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#body:1359"><span class="id" title="variable">body</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">name</span> [<span class="id" title="var">bod</span>|] <span class="id" title="var">udecl</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> :=(<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_obligation_1"><span class="id" title="lemma">erase_constant_body_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span><br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_type"><span class="id" title="projection">cst_type</span></a> := <span class="id" title="var">name</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_body"><span class="id" title="projection">cst_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">bod</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> := <span class="id" title="var">udecl</span> |} <span class="id" title="var">onc</span> <span class="id" title="var">bod</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">obl</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span>). <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">er</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <span class="id" title="var">bod</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">bod</span> <span class="id" title="var">obl</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span>:=<span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">bod</span>, <span class="id" title="var">A</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_wellformed_weaken"><span class="id" title="lemma">erase_wellformed_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_cst_decl_wf_glob" class="idref" href="#erase_global_cst_decl_wf_glob"><span class="id" title="lemma">erase_global_cst_decl_wf_glob</span></a> <a id="X_type:1364" class="idref" href="#X_type:1364"><span class="id" title="binder">X_type</span></a> <a id="X:1365" class="idref" href="#X:1365"><span class="id" title="binder">X</span></a> <a id="deps:1366" class="idref" href="#deps:1366"><span class="id" title="binder">deps</span></a> <a id="decls:1367" class="idref" href="#decls:1367"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1368" class="idref" href="#normalization_in:1368"><span class="id" title="binder">normalization_in</span></a> <a id="heq:1369" class="idref" href="#heq:1369"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="cb:1370" class="idref" href="#cb:1370"><span class="id" title="binder">cb</span></a> <a id="acbfeb35779cdf6675ce7faffc4c1eeb" class="idref" href="#acbfeb35779cdf6675ce7faffc4c1eeb"><span class="id" title="binder">wfΣ</span></a> <a id="hcb:1372" class="idref" href="#hcb:1372"><span class="id" title="binder">hcb</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1373" class="idref" href="#X':1373"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1365"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1370"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#acbfeb35779cdf6675ce7faffc4c1eeb"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':1375" class="idref" href="#normalization_in':1375"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="cf1ef1d495aa55fa26ea7263adf30176" class="idref" href="#cf1ef1d495aa55fa26ea7263adf30176"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cf1ef1d495aa55fa26ea7263adf30176"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cf1ef1d495aa55fa26ea7263adf30176"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1373"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cf1ef1d495aa55fa26ea7263adf30176"><span class="id" title="variable">Σ</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ecb:1376" class="idref" href="#ecb:1376"><span class="id" title="binder">ecb</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1364"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1373"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1370"><span class="id" title="variable">cb</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#hcb:1372"><span class="id" title="variable">hcb</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="8afa9f38978d98febead9f7379895936" class="idref" href="#8afa9f38978d98febead9f7379895936"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1364"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1366"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ecb:1376"><span class="id" title="variable">ecb</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1365"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1367"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1368"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#heq:1369"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(@<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8afa9f38978d98febead9f7379895936"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#ConstantDecl"><span class="id" title="constructor">EAst.ConstantDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ecb:1376"><span class="id" title="variable">ecb</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_'Prop'"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_'Prop'"><span class="id" title="notation">Prop</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cb</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">hcb</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span> <span class="id" title="var">ecb</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σmake</span> <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>), (<span class="id" title="var">hcb</span> <span class="id" title="var">_</span> <span class="id" title="var">wfmake</span>). <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Erasure.EAst.html#cst_body"><span class="id" title="projection">EAst.cst_body</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hb</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_correct''"><span class="id" title="lemma">erase_constant_body_correct''</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hb</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hb</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t0</span> [<span class="id" title="var">T</span> [[] ?]]]]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_ind_decl_wf_glob" class="idref" href="#erase_global_ind_decl_wf_glob"><span class="id" title="lemma">erase_global_ind_decl_wf_glob</span></a> {<a id="X_type:1378" class="idref" href="#X_type:1378"><span class="id" title="binder">X_type</span></a> <a id="X:1379" class="idref" href="#X:1379"><span class="id" title="binder">X</span></a>} {<a id="deps:1380" class="idref" href="#deps:1380"><span class="id" title="binder">deps</span></a> <a id="decls:1381" class="idref" href="#decls:1381"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1382" class="idref" href="#normalization_in:1382"><span class="id" title="binder">normalization_in</span></a> <a id="kn:1383" class="idref" href="#kn:1383"><span class="id" title="binder">kn</span></a> <a id="m:1384" class="idref" href="#m:1384"><span class="id" title="binder">m</span></a>} <a id="heq:1385" class="idref" href="#heq:1385"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="10f0b5a5d2c00f776f773c92f65cb432" class="idref" href="#10f0b5a5d2c00f776f773c92f65cb432"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1379"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#10f0b5a5d2c00f776f773c92f65cb432"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_inductive"><span class="id" title="record">on_inductive</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#10f0b5a5d2c00f776f773c92f65cb432"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:1384"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1383"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:1384"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="m':1387" class="idref" href="#m':1387"><span class="id" title="binder">m'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m:1384"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ce575fcf81eb392bdc167b34ad0d38ac" class="idref" href="#ce575fcf81eb392bdc167b34ad0d38ac"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1378"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1380"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1379"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1381"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1382"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#heq:1385"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_global_decl"><span class="id" title="definition">wf_global_decl</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ce575fcf81eb392bdc167b34ad0d38ac"><span class="id" title="variable">Σ'</span></a> (<a class="idref" href="MetaCoq.Erasure.EAst.html#InductiveDecl"><span class="id" title="constructor">EAst.InductiveDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#m':1387"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">oni</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]]. <span class="id" title="var">specialize_Σ</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Erasure.Extract.html#erases_mutual_inductive_body"><span class="id" title="definition">erases_mutual_inductive_body</span></a> <span class="id" title="var">m</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_mutual"><span class="id" title="lemma">erases_mutual</span></a> (<span class="id" title="var">mdecl</span>:=<span class="id" title="var">kn</span>)); <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#erases_mutual_inductive_body_wf"><span class="id" title="lemma">erases_mutual_inductive_body_wf</span></a> (<span class="id" title="var">univs</span> := <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>)) (<span class="id" title="var">retro</span> := <span class="id" title="var">Σ</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>)) (<span class="id" title="var">Σ</span> := <span class="id" title="var">decls</span>) (<span class="id" title="var">kn</span> := <span class="id" title="var">kn</span>) (<span class="id" title="var">Σ'</span> := <span class="id" title="var">Σ'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_decls_wf_glob" class="idref" href="#erase_global_decls_wf_glob"><span class="id" title="lemma">erase_global_decls_wf_glob</span></a> <a id="X_type:1389" class="idref" href="#X_type:1389"><span class="id" title="binder">X_type</span></a> <a id="X:1390" class="idref" href="#X:1390"><span class="id" title="binder">X</span></a> <a id="deps:1391" class="idref" href="#deps:1391"><span class="id" title="binder">deps</span></a> <a id="decls:1392" class="idref" href="#decls:1392"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1393" class="idref" href="#normalization_in:1393"><span class="id" title="binder">normalization_in</span></a> <a id="heq:1394" class="idref" href="#heq:1394"><span class="id" title="binder">heq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="7a55e8a7069ea090db2f089ef0ee4001" class="idref" href="#7a55e8a7069ea090db2f089ef0ee4001"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1389"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1391"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1390"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1392"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1393"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#heq:1394"><span class="id" title="variable">heq</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7a55e8a7069ea090db2f089ef0ee4001"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>; [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>; <span class="id" title="tactic">set</span> (<span class="id" title="var">Xpop</span> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">set</span> (<span class="id" title="var">Xmake</span> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">Xpop</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">Xpop</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣpop</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_cst_decl_wf_glob"><span class="id" title="lemma">erase_global_cst_decl_wf_glob</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fresh"><span class="id" title="lemma">erase_global_decls_fresh</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣpop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o3</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_ind_decl_wf_glob"><span class="id" title="lemma">erase_global_ind_decl_wf_glob</span></a> (<span class="id" title="var">kn</span>:=<span class="id" title="var">kn</span>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">wfpop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>, <span class="id" title="var">Σ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fresh"><span class="id" title="lemma">erase_global_decls_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">heq</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_erase_global" class="idref" href="#lookup_erase_global"><span class="id" title="lemma">lookup_erase_global</span></a> (<a id="cf:1396" class="idref" href="#cf:1396"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) {<a id="X_type:1397" class="idref" href="#X_type:1397"><span class="id" title="binder">X_type</span></a> <a id="X:1398" class="idref" href="#X:1398"><span class="id" title="binder">X</span></a>} {<a id="deps:1399" class="idref" href="#deps:1399"><span class="id" title="binder">deps</span></a> <a id="deps':1400" class="idref" href="#deps':1400"><span class="id" title="binder">deps'</span></a> <a id="decls:1401" class="idref" href="#decls:1401"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1402" class="idref" href="#normalization_in:1402"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1403" class="idref" href="#prf:1403"><span class="id" title="binder">prf</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1399"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1400"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EExtends.html#global_subset"><span class="id" title="definition">EExtends.global_subset</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1397"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1399"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1398"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1401"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1402"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1403"><span class="id" title="variable">prf</span></a>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1397"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1400"><span class="id" title="variable">deps'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1398"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1401"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1402"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1403"><span class="id" title="variable">prf</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">deps'</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span>. <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? ? ? <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> []]; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;( <span class="id" title="tactic">set</span> (<span class="id" title="var">decl</span> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.ConstantDecl"><span class="id" title="constructor">E.ConstantDecl</span></a> <span class="id" title="var">_</span>) ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">decl</span> := <a class="idref" href="MetaCoq.Erasure.Extract.html#E.InductiveDecl"><span class="id" title="constructor">E.InductiveDecl</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">hidebody</span> <span class="id" title="var">decl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">hidebody</span> <span class="id" title="var">eg</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">hidebody</span> <span class="id" title="var">eg'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">set</span> (<span class="id" title="var">eg''</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">hidebody</span> <span class="id" title="var">eg''</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">set</span> (<span class="id" title="var">eg'''</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">hidebody</span> <span class="id" title="var">eg'''</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">knm</span> ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a>, <span class="id" title="var">sub</span>, <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">knm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">knm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.EExtends.html#global_subset_cons"><span class="id" title="lemma">EExtends.global_subset_cons</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EExtends.html#global_subset_cons_right"><span class="id" title="lemma">EExtends.global_subset_cons_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_wf_glob"><span class="id" title="lemma">erase_global_decls_wf_glob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">decl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">hidebody</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_wf_glob"><span class="id" title="lemma">erase_global_decls_wf_glob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_cst_decl_wf_glob"><span class="id" title="lemma">erase_global_cst_decl_wf_glob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fresh"><span class="id" title="lemma">erase_global_decls_fresh</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">o0</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">o0</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">eg'</span>, <span class="id" title="var">eg''</span>, <span class="id" title="definition">hidebody</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_irr"><span class="id" title="lemma">erase_global_decls_irr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">knm</span> ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a>, <span class="id" title="var">sub</span>, <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem_spec"><span class="id" title="lemma">KernameSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">knm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">knm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Erasure.EExtends.html#global_subset_cons"><span class="id" title="lemma">EExtends.global_subset_cons</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn'</span> <span class="id" title="var">deps'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EExtends.html#global_subset_cons_right"><span class="id" title="lemma">EExtends.global_subset_cons_right</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_wf_glob"><span class="id" title="lemma">erase_global_decls_wf_glob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_wf_glob"><span class="id" title="lemma">erase_global_decls_wf_glob</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_ind_decl_wf_glob"><span class="id" title="lemma">erase_global_ind_decl_wf_glob</span></a> (<span class="id" title="var">kn</span>:=<span class="id" title="var">kn'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">Σ0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>, <span class="id" title="var">H0</span>, &lt;- <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fresh"><span class="id" title="lemma">erase_global_decls_fresh</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wfΣ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">prf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prf'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">depelim</span> <span class="id" title="var">o0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">eg''</span>, <span class="id" title="definition">hidebody</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_irr"><span class="id" title="lemma">erase_global_decls_irr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span> ⇒ //. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_weakening_global" class="idref" href="#expanded_weakening_global"><span class="id" title="lemma">expanded_weakening_global</span></a> <a id="X_type:1404" class="idref" href="#X_type:1404"><span class="id" title="binder">X_type</span></a> <a id="X:1405" class="idref" href="#X:1405"><span class="id" title="binder">X</span></a> <a id="deps:1406" class="idref" href="#deps:1406"><span class="id" title="binder">deps</span></a> <a id="deps':1407" class="idref" href="#deps':1407"><span class="id" title="binder">deps'</span></a> <a id="decls:1408" class="idref" href="#decls:1408"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1409" class="idref" href="#normalization_in:1409"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1410" class="idref" href="#prf:1410"><span class="id" title="binder">prf</span></a> <a id="b96e2c8966f9b01ad5feab72446d2fc0" class="idref" href="#b96e2c8966f9b01ad5feab72446d2fc0"><span class="id" title="binder">Γ</span></a> <a id="t:1412" class="idref" href="#t:1412"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.Subset"><span class="id" title="definition">KernameSet.Subset</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1406"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1407"><span class="id" title="variable">deps'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1404"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1406"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1405"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1408"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1409"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1410"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b96e2c8966f9b01ad5feab72446d2fc0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1412"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1404"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps':1407"><span class="id" title="variable">deps'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1405"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1408"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1409"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1410"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b96e2c8966f9b01ad5feab72446d2fc0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1412"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_ind"><span class="id" title="lemma">expanded_ind</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_tFix"><span class="id" title="constructor">expanded_tFix</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_tConstruct_app"><span class="id" title="constructor">expanded_tConstruct_app</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#lookup_erase_global"><span class="id" title="lemma">lookup_erase_global</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase" class="idref" href="#expanded_erase"><span class="id" title="lemma">expanded_erase</span></a> (<a id="cf:1413" class="idref" href="#cf:1413"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1414" class="idref" href="#X_type:1414"><span class="id" title="binder">X_type</span></a> <a id="X:1415" class="idref" href="#X:1415"><span class="id" title="binder">X</span></a> <a id="decls:1416" class="idref" href="#decls:1416"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1417" class="idref" href="#normalization_in:1417"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1418" class="idref" href="#prf:1418"><span class="id" title="binder">prf</span></a>} <a id="univs:1419" class="idref" href="#univs:1419"><span class="id" title="binder">univs</span></a> <a id="3fd8b97619e927cc92772e8770c93f4e" class="idref" href="#3fd8b97619e927cc92772e8770c93f4e"><span class="id" title="binder">wfΣ</span></a> <a id="t:1421" class="idref" href="#t:1421"><span class="id" title="binder">t</span></a> <a id="wtp:1422" class="idref" href="#wtp:1422"><span class="id" title="binder">wtp</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="583d33603d36dd048929e6dbadbcdfde" class="idref" href="#583d33603d36dd048929e6dbadbcdfde"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1415"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#583d33603d36dd048929e6dbadbcdfde"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#583d33603d36dd048929e6dbadbcdfde"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1421"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1424" class="idref" href="#X':1424"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1415"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1419"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3fd8b97619e927cc92772e8770c93f4e"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="normalization_in':1426" class="idref" href="#normalization_in':1426"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="334c72928872313757ccaac278c0cf79" class="idref" href="#334c72928872313757ccaac278c0cf79"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#334c72928872313757ccaac278c0cf79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#334c72928872313757ccaac278c0cf79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1424"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#334c72928872313757ccaac278c0cf79"><span class="id" title="variable">Σ</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:1427" class="idref" href="#et:1427"><span class="id" title="binder">et</span></a> := (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1414"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1424"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1421"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wtp:1422"><span class="id" title="variable">wtp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:1428" class="idref" href="#deps:1428"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1427"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1414"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1428"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1415"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1416"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1417"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1418"><span class="id" title="variable">prf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1427"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hexp</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">wf'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#expanded_erases"><span class="id" title="lemma">expanded_erases</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X</span>) <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_global" class="idref" href="#expanded_erase_global"><span class="id" title="lemma">expanded_erase_global</span></a> (<a id="cf:1429" class="idref" href="#cf:1429"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;<a id="deps:1430" class="idref" href="#deps:1430"><span class="id" title="binder">deps</span></a> {<a id="X_type:1431" class="idref" href="#X_type:1431"><span class="id" title="binder">X_type</span></a> <a id="X:1432" class="idref" href="#X:1432"><span class="id" title="binder">X</span></a> <a id="decls:1433" class="idref" href="#decls:1433"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1434" class="idref" href="#normalization_in:1434"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1435" class="idref" href="#prf:1435"><span class="id" title="binder">prf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="63a2b0cd536e870e7307d894a5dddcae" class="idref" href="#63a2b0cd536e870e7307d894a5dddcae"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1432"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#63a2b0cd536e870e7307d894a5dddcae"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded_global_env"><span class="id" title="definition">PCUICEtaExpand.expanded_global_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#63a2b0cd536e870e7307d894a5dddcae"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1431"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1430"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1432"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1433"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1434"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1435"><span class="id" title="variable">prf</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">etaΣ</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prf</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univ</span> <span class="id" title="var">decls'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">revert</span> <span class="id" title="keyword">wf</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">etaΣ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">deps</span> <span class="id" title="var">X</span> <span class="id" title="var">normalization_in</span> <span class="id" title="var">prf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">etaΣ</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">deps</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σpop</span> <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σpop</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H1</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">deps</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqkn</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqkn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">auto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">deps'</span> := <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">hidebody</span> <span class="id" title="var">deps'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">wfext</span> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">hidebody</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cst_na</span> [<span class="id" title="var">cst_body</span>|] <span class="id" title="var">cst_type</span> <span class="id" title="var">cst_rel</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#expanded_weakening_global"><span class="id" title="lemma">expanded_weakening_global</span></a>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#expanded_erase"><span class="id" title="lemma">expanded_erase</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">et</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">deps'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">hidebody</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union_spec"><span class="id" title="lemma">KernameSet.union_spec</span></a>. <span class="id" title="tactic">right</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHetaΣ</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Sanity&nbsp;checks:&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">erase</span></span>&nbsp;function&nbsp;maximally&nbsp;erases&nbsp;terms&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="erasable_tBox_value" class="idref" href="#erasable_tBox_value"><span class="id" title="lemma">erasable_tBox_value</span></a> (<a id="wfl:1437" class="idref" href="#wfl:1437"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>) (<a id="30e9702dcbf9c765344da6a52e95cee8" class="idref" href="#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="fde676663cb704c80caec97a0b4e66b4" class="idref" href="#fde676663cb704c80caec97a0b4e66b4"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a>) <a id="t:1440" class="idref" href="#t:1440"><span class="id" title="binder">t</span></a> <a id="T:1441" class="idref" href="#T:1441"><span class="id" title="binder">T</span></a> <a id="v:1442" class="idref" href="#v:1442"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:1443" class="idref" href="#wt:1443"><span class="id" title="binder">wt</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1440"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:1441"><span class="id" title="variable">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">|-</span></a><a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1440"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1442"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1442"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#30e9702dcbf9c765344da6a52e95cee8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1440"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depind</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#Is_type_eval_inv"><span class="id" title="lemma">Is_type_eval_inv</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_eval_to_box" class="idref" href="#erase_eval_to_box"><span class="id" title="lemma">erase_eval_to_box</span></a> (<a id="wfl:1444" class="idref" href="#wfl:1444"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1445" class="idref" href="#X_type:1445"><span class="id" title="binder">X_type</span></a> <a id="X:1446" class="idref" href="#X:1446"><span class="id" title="binder">X</span></a>} {<a id="univs:1447" class="idref" href="#univs:1447"><span class="id" title="binder">univs</span></a> <a id="wfext:1448" class="idref" href="#wfext:1448"><span class="id" title="binder">wfext</span></a> <a id="t:1449" class="idref" href="#t:1449"><span class="id" title="binder">t</span></a> <a id="v:1450" class="idref" href="#v:1450"><span class="id" title="binder">v</span></a> <a id="560fc7ec9841a14de2719ffbe50a8fcc" class="idref" href="#560fc7ec9841a14de2719ffbe50a8fcc"><span class="id" title="binder">Σ'</span></a> <a id="t':1452" class="idref" href="#t':1452"><span class="id" title="binder">t'</span></a> <a id="deps:1453" class="idref" href="#deps:1453"><span class="id" title="binder">deps</span></a> <a id="decls:1454" class="idref" href="#decls:1454"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1455" class="idref" href="#normalization_in:1455"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1456" class="idref" href="#prf:1456"><span class="id" title="binder">prf</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:1457" class="idref" href="#Xext:1457"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1446"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1447"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1448"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1459" class="idref" href="#normalization_in':1459"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="9c62e29f58bb1982f632ac19f922f60c" class="idref" href="#9c62e29f58bb1982f632ac19f922f60c"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9c62e29f58bb1982f632ac19f922f60c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9c62e29f58bb1982f632ac19f922f60c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1457"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9c62e29f58bb1982f632ac19f922f60c"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:1461" class="idref" href="#wt:1461"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="5648411fd98aa1192f801ba30fc7a83c" class="idref" href="#5648411fd98aa1192f801ba30fc7a83c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1457"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5648411fd98aa1192f801ba30fc7a83c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5648411fd98aa1192f801ba30fc7a83c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1449"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1445"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1457"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1449"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1461"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1452"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1452"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1453"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1445"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1453"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1446"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1454"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1455"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1456"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#560fc7ec9841a14de2719ffbe50a8fcc"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ad8e0c23bbf25d1b19fc8bc33767e254" class="idref" href="#ad8e0c23bbf25d1b19fc8bc33767e254"><span class="id" title="binder">Σext</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1457"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ad8e0c23bbf25d1b19fc8bc33767e254"><span class="id" title="variable">Σext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="f8a0e1a7643fe5aeb12951bd83d2ebda" class="idref" href="#f8a0e1a7643fe5aeb12951bd83d2ebda"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1446"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f8a0e1a7643fe5aeb12951bd83d2ebda"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICWcbvEval.html#eval"><span class="id" title="inductive">PCUICWcbvEval.eval</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f8a0e1a7643fe5aeb12951bd83d2ebda"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1449"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1450"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.eval"><span class="id" title="inductive">Ee.eval</span></a> <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#560fc7ec9841a14de2719ffbe50a8fcc"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1452"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#ad8e0c23bbf25d1b19fc8bc33767e254"><span class="id" title="variable">Σext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1449"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_correct"><span class="id" title="lemma">erase_correct</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">decls</span> <span class="id" title="var">prf</span> <span class="id" title="var">wt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">X0</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ev</span> [<span class="id" title="var">eg</span> [<span class="id" title="var">eg'</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.eval_deterministic"><span class="id" title="lemma">Ee.eval_deterministic</span></a> <span class="id" title="var">H3</span> <span class="id" title="var">eg'</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">wt</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erasable_tBox_value"><span class="id" title="lemma">erasable_tBox_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H2</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_eval_to_box_eager" class="idref" href="#erase_eval_to_box_eager"><span class="id" title="lemma">erase_eval_to_box_eager</span></a> (<a id="wfl:1464" class="idref" href="#wfl:1464"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1465" class="idref" href="#X_type:1465"><span class="id" title="binder">X_type</span></a> <a id="X:1466" class="idref" href="#X:1466"><span class="id" title="binder">X</span></a>} {<a id="univs:1467" class="idref" href="#univs:1467"><span class="id" title="binder">univs</span></a> <a id="wfext:1468" class="idref" href="#wfext:1468"><span class="id" title="binder">wfext</span></a> <a id="t:1469" class="idref" href="#t:1469"><span class="id" title="binder">t</span></a> <a id="v:1470" class="idref" href="#v:1470"><span class="id" title="binder">v</span></a> <a id="b667acfd83fc7d7e1f1928f03625c27e" class="idref" href="#b667acfd83fc7d7e1f1928f03625c27e"><span class="id" title="binder">Σ'</span></a> <a id="t':1472" class="idref" href="#t':1472"><span class="id" title="binder">t'</span></a> <a id="deps:1473" class="idref" href="#deps:1473"><span class="id" title="binder">deps</span></a> <a id="decls:1474" class="idref" href="#decls:1474"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1475" class="idref" href="#normalization_in:1475"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1476" class="idref" href="#prf:1476"><span class="id" title="binder">prf</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:1477" class="idref" href="#Xext:1477"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1466"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1467"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1468"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1479" class="idref" href="#normalization_in':1479"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="0df17a93e550e684c8b41f5fa42dfe84" class="idref" href="#0df17a93e550e684c8b41f5fa42dfe84"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0df17a93e550e684c8b41f5fa42dfe84"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0df17a93e550e684c8b41f5fa42dfe84"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1477"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0df17a93e550e684c8b41f5fa42dfe84"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt:1481" class="idref" href="#wt:1481"><span class="id" title="binder">wt</span></a> : <span class="id" title="keyword">∀</span> <a id="4844509c47932c03cb4085923987eb92" class="idref" href="#4844509c47932c03cb4085923987eb92"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1477"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4844509c47932c03cb4085923987eb92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#4844509c47932c03cb4085923987eb92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1469"><span class="id" title="variable">t</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1465"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1477"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1469"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1481"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1472"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1472"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1473"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1465"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1473"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1466"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1474"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1475"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1476"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b667acfd83fc7d7e1f1928f03625c27e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="876b9e0bb8e0eed04f3494f8b74d7b3d" class="idref" href="#876b9e0bb8e0eed04f3494f8b74d7b3d"><span class="id" title="binder">Σext</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1477"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#876b9e0bb8e0eed04f3494f8b74d7b3d"><span class="id" title="variable">Σext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="7e936fe4a188145bdd3434c8a472f325" class="idref" href="#7e936fe4a188145bdd3434c8a472f325"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1466"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7e936fe4a188145bdd3434c8a472f325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICWcbvEval.html#eval"><span class="id" title="inductive">PCUICWcbvEval.eval</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7e936fe4a188145bdd3434c8a472f325"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1469"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1470"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.eval"><span class="id" title="inductive">Ee.eval</span></a> <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b667acfd83fc7d7e1f1928f03625c27e"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1472"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1472"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.tBox"><span class="id" title="constructor">E.tBox</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_eval_to_box"><span class="id" title="lemma">erase_eval_to_box</span></a> <span class="id" title="var">wt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">X0</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">erase</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">erase</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">t</span> <span class="id" title="var">wt</span>) ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#"><span class="id" title="library">PCUICFirstorder</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="welltyped_mkApps_inv" class="idref" href="#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> {<a id="cf:1484" class="idref" href="#cf:1484"><span class="id" title="binder">cf</span></a>} {<a id="a8dcdab2099dc22291210799508b2d09" class="idref" href="#a8dcdab2099dc22291210799508b2d09"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} <a id="dfd938bd4b6b4c168e187065f8af35a3" class="idref" href="#dfd938bd4b6b4c168e187065f8af35a3"><span class="id" title="binder">Γ</span></a> <a id="f:1487" class="idref" href="#f:1487"><span class="id" title="binder">f</span></a> <a id="args:1488" class="idref" href="#args:1488"><span class="id" title="binder">args</span></a> :  <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a8dcdab2099dc22291210799508b2d09"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a8dcdab2099dc22291210799508b2d09"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dfd938bd4b6b4c168e187065f8af35a3"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f:1487"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1488"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a8dcdab2099dc22291210799508b2d09"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dfd938bd4b6b4c168e187065f8af35a3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f:1487"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a8dcdab2099dc22291210799508b2d09"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#dfd938bd4b6b4c168e187065f8af35a3"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1488"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> (<span class="id" title="var">A</span> &amp; <span class="id" title="var">HA</span>). <span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- *; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICProgress.html#"><span class="id" title="library">PCUICProgress</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="firstorder_erases_deterministic" class="idref" href="#firstorder_erases_deterministic"><span class="id" title="lemma">firstorder_erases_deterministic</span></a> <a id="X_type:1489" class="idref" href="#X_type:1489"><span class="id" title="binder">X_type</span></a> (<a id="X:1490" class="idref" href="#X:1490"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1489"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;<a id="univs:1491" class="idref" href="#univs:1491"><span class="id" title="binder">univs</span></a> <a id="wfext:1492" class="idref" href="#wfext:1492"><span class="id" title="binder">wfext</span></a> {<a id="v:1493" class="idref" href="#v:1493"><span class="id" title="binder">v</span></a> <a id="t':1494" class="idref" href="#t':1494"><span class="id" title="binder">t'</span></a> <a id="i:1495" class="idref" href="#i:1495"><span class="id" title="binder">i</span></a> <a id="u:1496" class="idref" href="#u:1496"><span class="id" title="binder">u</span></a> <a id="args:1497" class="idref" href="#args:1497"><span class="id" title="binder">args</span></a>}<br/>
&nbsp;&nbsp;(<a id="Xext:1498" class="idref" href="#Xext:1498"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1490"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1491"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1492"><span class="id" title="variable">wfext</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:1500" class="idref" href="#normalization_in:1500"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="1269035ad3f9b91dea9bb042584d04d3" class="idref" href="#1269035ad3f9b91dea9bb042584d04d3"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1269035ad3f9b91dea9bb042584d04d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1269035ad3f9b91dea9bb042584d04d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1498"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#1269035ad3f9b91dea9bb042584d04d3"><span class="id" title="variable">Σ</span></a>}<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wv:1502" class="idref" href="#wv:1502"><span class="id" title="binder">wv</span></a> : (<span class="id" title="keyword">∀</span> <a id="071163285325ef497b159334b103b800" class="idref" href="#071163285325ef497b159334b103b800"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#071163285325ef497b159334b103b800"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1498"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#071163285325ef497b159334b103b800"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1493"><span class="id" title="variable">v</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="28888c7ab2586df76bec9d7f54f503c0" class="idref" href="#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1498"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1493"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1495"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1496"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1497"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">|-</span></a><a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">p</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1493"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#2d097e5690ef6bc9865db9af0d700e66"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1493"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1495"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#erases"><span class="id" title="inductive">erases</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#28888c7ab2586df76bec9d7f54f503c0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1493"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1494"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1494"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1489"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1498"><span class="id" title="variable">Xext</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1500"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1493"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wv:1502"><span class="id" title="variable">wv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wv</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">Hty</span> <span class="id" title="var">Hvalue</span> <span class="id" title="var">Hfo</span> <span class="id" title="var">Herase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_lookup_inv"><span class="id" title="lemma">firstorder_lookup_inv</span></a> <span class="id" title="var">Hfo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">mind</span> <span class="id" title="var">Hdecl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext</span> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_value_spec"><span class="id" title="lemma">firstorder_value_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfov</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hrel</span> <span class="id" title="var">Hext</span> <span class="id" title="var">Hfov</span> <span class="id" title="var">Herase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t'</span> <span class="id" title="var">wv</span> <span class="id" title="var">Herase</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">Hfov</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_value_inds"><span class="id" title="lemma">firstorder_value_inds</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mkApps"><span class="id" title="lemma">erase_mkApps</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Σ0</span> <span class="id" title="var">HΣ0</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HΣ0</span> <span class="id" title="var">Hrel</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">PCUICValidity.inversion_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">XX</span> &amp; <span class="id" title="var">Happ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">XX</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Happ</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">u</span>) <span class="id" title="var">pandi</span>). <span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureProperties.html#erases_mkApps_inv"><span class="id" title="lemma">erases_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Herase</span> <span class="id" title="keyword">as</span> [(? &amp; ? &amp; ? &amp; → &amp; [<span class="id" title="var">Herasable</span>] &amp; ? &amp; ? &amp; -&gt;)|(? &amp; ? &amp; → &amp; ? &amp; ?)]. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Herasable</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">Herasable</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">PCUICAst.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">PCUICAst.lookup_minductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>, <a class="idref" href="MetaCoq.Erasure.Extract.html#isPropositionalArity"><span class="id" title="definition">isPropositionalArity</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICEnvironment.lookup_env</span></a> <span class="id" title="keyword">as</span> [ [] | ], <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <span class="id" title="keyword">as</span> [[] | ]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_clause_1"><span class="id" title="definition">erase_clause_1</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#inspect_bool"><span class="id" title="definition">inspect_bool</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableb"><span class="id" title="definition">is_erasableb</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">Xext</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) <span class="id" title="var">Hyp0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exfalso</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">destruct</span> (@<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#is_erasableP"><span class="id" title="lemma">is_erasableP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">ui</span>) <span class="id" title="var">Hyp0</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">Hrel</span>. <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> (<span class="id" title="var">args</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">s</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">PCUICAst.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">PCUICAst.lookup_minductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>, <a class="idref" href="MetaCoq.Erasure.Extract.html#isPropositionalArity"><span class="id" title="definition">isPropositionalArity</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICEnvironment.lookup_env</span></a> <span class="id" title="keyword">as</span> [ [] | ], <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <span class="id" title="keyword">as</span> [[] | ]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_eq"><span class="id" title="lemma">Forall2_eq</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span> <span class="id" title="var">H</span> <span class="id" title="var">wv</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHForall2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a> (<span class="id" title="var">args</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">PCUICAst.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">PCUICAst.lookup_minductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>, <a class="idref" href="MetaCoq.Erasure.Extract.html#isPropositionalArity"><span class="id" title="definition">isPropositionalArity</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICEnvironment.lookup_env</span></a> <span class="id" title="keyword">as</span> [ [] | ], <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <span class="id" title="keyword">as</span> [[] | ]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">H3</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext_</span> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <span class="id" title="var">Σ0</span><a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.EArities.html#isErasable_Propositional"><span class="id" title="lemma">isErasable_Propositional</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hrel</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">H3</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive"><span class="id" title="definition">PCUICAst.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive"><span class="id" title="definition">PCUICAst.lookup_minductive</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>, <a class="idref" href="MetaCoq.Erasure.Extract.html#isPropositionalArity"><span class="id" title="definition">isPropositionalArity</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICEnvironment.lookup_env</span></a> <span class="id" title="keyword">as</span> [ [] | ], <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <span class="id" title="keyword">as</span> [[] | ]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hext__</span> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <span class="id" title="var">Σ0</span><a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#welltyped_mkApps_inv"><span class="id" title="lemma">welltyped_mkApps_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wv</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWcbvEval.html#eval_to_value"><span class="id" title="lemma">PCUICWcbvEval.eval_to_value</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_correct_strong'" class="idref" href="#erase_correct_strong'"><span class="id" title="lemma">erase_correct_strong'</span></a> (<a id="wfl:1504" class="idref" href="#wfl:1504"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>) <a id="X_type:1505" class="idref" href="#X_type:1505"><span class="id" title="binder">X_type</span></a> (<a id="X:1506" class="idref" href="#X:1506"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1505"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
<a id="univs:1507" class="idref" href="#univs:1507"><span class="id" title="binder">univs</span></a> <a id="wfext:1508" class="idref" href="#wfext:1508"><span class="id" title="binder">wfext</span></a> {<a id="t:1509" class="idref" href="#t:1509"><span class="id" title="binder">t</span></a> <a id="v:1510" class="idref" href="#v:1510"><span class="id" title="binder">v</span></a> <a id="99b6fc25b94dd8eaf4bbccbe88277200" class="idref" href="#99b6fc25b94dd8eaf4bbccbe88277200"><span class="id" title="binder">Σ'</span></a> <a id="t':1512" class="idref" href="#t':1512"><span class="id" title="binder">t'</span></a> <a id="deps:1513" class="idref" href="#deps:1513"><span class="id" title="binder">deps</span></a> <a id="i:1514" class="idref" href="#i:1514"><span class="id" title="binder">i</span></a> <a id="u:1515" class="idref" href="#u:1515"><span class="id" title="binder">u</span></a> <a id="args:1516" class="idref" href="#args:1516"><span class="id" title="binder">args</span></a>} <a id="decls:1517" class="idref" href="#decls:1517"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1518" class="idref" href="#normalization_in:1518"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1519" class="idref" href="#prf:1519"><span class="id" title="binder">prf</span></a><br/>
(<a id="Xext:1520" class="idref" href="#Xext:1520"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1506"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1507"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1508"><span class="id" title="variable">wfext</span></a>)<br/>
{<a id="normalization_in':1522" class="idref" href="#normalization_in':1522"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="964f14064b7a412e2c05aa994c58424a" class="idref" href="#964f14064b7a412e2c05aa994c58424a"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#964f14064b7a412e2c05aa994c58424a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#964f14064b7a412e2c05aa994c58424a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1520"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#964f14064b7a412e2c05aa994c58424a"><span class="id" title="variable">Σ</span></a>}<br/>
:<br/>
<span class="id" title="keyword">∀</span> <a id="wt:1524" class="idref" href="#wt:1524"><span class="id" title="binder">wt</span></a> : (<span class="id" title="keyword">∀</span> <a id="2ad3ff2f6a26e1fca822c798e10d27a8" class="idref" href="#2ad3ff2f6a26e1fca822c798e10d27a8"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2ad3ff2f6a26e1fca822c798e10d27a8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1520"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2ad3ff2f6a26e1fca822c798e10d27a8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1509"><span class="id" title="variable">t</span></a>),<br/>
<span class="id" title="keyword">∀</span> <a id="3473631463fa22b04caf9eebcf47a1e1" class="idref" href="#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1520"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#axiom_free"><span class="id" title="definition">axiom_free</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1509"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1514"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1515"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1516"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1514"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1505"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1520"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1509"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1524"><span class="id" title="variable">wt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1512"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1512"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1513"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1505"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1513"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1506"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1517"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1518"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1519"><span class="id" title="variable">prf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#99b6fc25b94dd8eaf4bbccbe88277200"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1509"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1510"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICProgress.html#89335bb7773696a226bf41e8343e6c3f"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a> <a id="t':1526" class="idref" href="#t':1526"><span class="id" title="binder">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3473631463fa22b04caf9eebcf47a1e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1510"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1526"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="wt':1527" class="idref" href="#wt':1527"><span class="id" title="binder">wt'</span></a>, <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#99b6fc25b94dd8eaf4bbccbe88277200"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1512"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1505"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1520"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1510"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':1527"><span class="id" title="variable">wt'</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">Hax</span> <span class="id" title="var">Hty</span> <span class="id" title="var">Hfo</span> &lt;- <span class="id" title="var">Hsub</span> &lt;- <span class="id" title="var">Hred</span> <span class="id" title="var">Hirred</span> <span class="id" title="var">wt'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_lookup_inv"><span class="id" title="lemma">firstorder_lookup_inv</span></a> <span class="id" title="var">Hfo</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">mind</span> <span class="id" title="var">Hdecl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrel</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hwf</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICNormalization.html#wcbv_standardization_fst"><span class="id" title="lemma">wcbv_standardization_fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hty</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_correct"><span class="id" title="lemma">erase_correct</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">t</span> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;1:{ <span class="id" title="tactic">intros</span> ? <span class="id" title="var">H_</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">enough</span> (<span class="id" title="var">Σ0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_</span> <span class="id" title="var">Hrel</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#firstorder_erases_deterministic"><span class="id" title="lemma">firstorder_erases_deterministic</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#subject_reduction"><span class="id" title="lemma">subject_reduction</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWcbvEval.html#value_final"><span class="id" title="lemma">PCUICWcbvEval.value_final</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWcbvEval.html#eval_to_value"><span class="id" title="lemma">PCUICWcbvEval.eval_to_value</span></a>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_correct_strong" class="idref" href="#erase_correct_strong"><span class="id" title="lemma">erase_correct_strong</span></a> (<a id="wfl:1528" class="idref" href="#wfl:1528"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>) <a id="X_type:1529" class="idref" href="#X_type:1529"><span class="id" title="binder">X_type</span></a> (<a id="X:1530" class="idref" href="#X:1530"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1529"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
<a id="univs:1531" class="idref" href="#univs:1531"><span class="id" title="binder">univs</span></a> <a id="wfext:1532" class="idref" href="#wfext:1532"><span class="id" title="binder">wfext</span></a> {<a id="t:1533" class="idref" href="#t:1533"><span class="id" title="binder">t</span></a> <a id="v:1534" class="idref" href="#v:1534"><span class="id" title="binder">v</span></a> <a id="deps:1535" class="idref" href="#deps:1535"><span class="id" title="binder">deps</span></a> <a id="i:1536" class="idref" href="#i:1536"><span class="id" title="binder">i</span></a> <a id="u:1537" class="idref" href="#u:1537"><span class="id" title="binder">u</span></a> <a id="args:1538" class="idref" href="#args:1538"><span class="id" title="binder">args</span></a>} <a id="decls:1539" class="idref" href="#decls:1539"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1540" class="idref" href="#normalization_in:1540"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1541" class="idref" href="#prf:1541"><span class="id" title="binder">prf</span></a><br/>
(<a id="Xext:1542" class="idref" href="#Xext:1542"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1530"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1531"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1532"><span class="id" title="variable">wfext</span></a>)<br/>
{<a id="normalization_in':1544" class="idref" href="#normalization_in':1544"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="97cf6722880244ba5eb04bf33dd9e2bf" class="idref" href="#97cf6722880244ba5eb04bf33dd9e2bf"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#97cf6722880244ba5eb04bf33dd9e2bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#97cf6722880244ba5eb04bf33dd9e2bf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1542"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#97cf6722880244ba5eb04bf33dd9e2bf"><span class="id" title="variable">Σ</span></a>}<br/>
:<br/>
<span class="id" title="keyword">∀</span> <a id="wt:1546" class="idref" href="#wt:1546"><span class="id" title="binder">wt</span></a> : (<span class="id" title="keyword">∀</span> <a id="37e3310d8d120b01c845235c05cac213" class="idref" href="#37e3310d8d120b01c845235c05cac213"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#37e3310d8d120b01c845235c05cac213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1542"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#37e3310d8d120b01c845235c05cac213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1533"><span class="id" title="variable">t</span></a>),<br/>
<span class="id" title="keyword">∀</span> <a id="d1a066ff8e35a6e9a43c40f8ad9ee43b" class="idref" href="#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1542"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#axiom_free"><span class="id" title="definition">axiom_free</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1533"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1536"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1537"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1538"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':1548" class="idref" href="#t':1548"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1529"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1542"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1533"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1546"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="7ee071de960bc4929d6ff960be4c023b" class="idref" href="#7ee071de960bc4929d6ff960be4c023b"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1529"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1535"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1530"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1539"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1540"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1541"><span class="id" title="variable">prf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1536"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset"><span class="id" title="definition">KernameSet.subset</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1548"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1535"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1533"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1534"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICProgress.html#89335bb7773696a226bf41e8343e6c3f"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a> <a id="v':1550" class="idref" href="#v':1550"><span class="id" title="binder">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d1a066ff8e35a6e9a43c40f8ad9ee43b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1534"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v':1550"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="wt':1551" class="idref" href="#wt':1551"><span class="id" title="binder">wt'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7ee071de960bc4929d6ff960be4c023b"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1548"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1529"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1542"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1534"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':1551"><span class="id" title="variable">wt'</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Hrel</span> <span class="id" title="var">Hax</span> <span class="id" title="var">Hty</span> <span class="id" title="var">Hdecl</span> <span class="id" title="var">Hfo</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hred</span> <span class="id" title="var">Hirred</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ_</span> <span class="id" title="var">H_</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e13e9e4849f1b26670f1b852ea178571"><span class="id" title="definition">heΣ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H_</span>); <span class="id" title="var">sq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H_</span> <span class="id" title="var">Hrel</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#red_welltyped"><span class="id" title="lemma">red_welltyped</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_correct_strong'"><span class="id" title="lemma">erase_correct_strong'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_decls" class="idref" href="#unique_decls"><span class="id" title="lemma">unique_decls</span></a> {<a id="X_type:1552" class="idref" href="#X_type:1552"><span class="id" title="binder">X_type</span></a>} {<a id="X:1553" class="idref" href="#X:1553"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1552"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} <a id="univs:1554" class="idref" href="#univs:1554"><span class="id" title="binder">univs</span></a> <a id="wfext:1555" class="idref" href="#wfext:1555"><span class="id" title="binder">wfext</span></a><br/>
(<a id="Xext:1556" class="idref" href="#Xext:1556"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1553"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1554"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1555"><span class="id" title="variable">wfext</span></a>) {<a id="778842dbaa9f0895c9e001b4ea18be94" class="idref" href="#778842dbaa9f0895c9e001b4ea18be94"><span class="id" title="binder">Σ'</span></a>} (<a id="52fddbaae64171c6edd90baebe3a9e47" class="idref" href="#52fddbaae64171c6edd90baebe3a9e47"><span class="id" title="binder">wfΣ'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#778842dbaa9f0895c9e001b4ea18be94"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1556"><span class="id" title="variable">Xext</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="9e9b9ee75a0e8c09f44683601205f5a0" class="idref" href="#9e9b9ee75a0e8c09f44683601205f5a0"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9e9b9ee75a0e8c09f44683601205f5a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#9897e19d536bda84609b8ab92c34be9b"><span class="id" title="notation">∼</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1553"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9e9b9ee75a0e8c09f44683601205f5a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#778842dbaa9f0895c9e001b4ea18be94"><span class="id" title="variable">Σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>. <span class="id" title="tactic">pose</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">wfext</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_type" class="idref" href="#unique_type"><span class="id" title="lemma">unique_type</span></a> {<a id="X_type:1560" class="idref" href="#X_type:1560"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:1561" class="idref" href="#X:1561"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1560"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="6208464b6cf80f99797074d2b7ef2f92" class="idref" href="#6208464b6cf80f99797074d2b7ef2f92"><span class="id" title="binder">Σ</span></a>:<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>}<br/>
&nbsp;&nbsp;(<a id="47bbc5de55b41f598dc7c1109d89a608" class="idref" href="#47bbc5de55b41f598dc7c1109d89a608"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6208464b6cf80f99797074d2b7ef2f92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1561"><span class="id" title="variable">X</span></a>) {<a id="t:1564" class="idref" href="#t:1564"><span class="id" title="binder">t</span></a> <a id="T:1565" class="idref" href="#T:1565"><span class="id" title="binder">T</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#6208464b6cf80f99797074d2b7ef2f92"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1564"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#T:1565"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="60f59f143100fcd6d5cfb62f5ac8b1a4" class="idref" href="#60f59f143100fcd6d5cfb62f5ac8b1a4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#60f59f143100fcd6d5cfb62f5ac8b1a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1561"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#welltyped"><span class="id" title="inductive">welltyped</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#60f59f143100fcd6d5cfb62f5ac8b1a4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1564"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span> <span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>. <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_irr"><span class="id" title="method">abstract_env_ext_irr</span></a> <span class="id" title="var">X</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfΣ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">T</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_correct_firstorder" class="idref" href="#erase_correct_firstorder"><span class="id" title="definition">erase_correct_firstorder</span></a> (<a id="wfl:1567" class="idref" href="#wfl:1567"><span class="id" title="binder">wfl</span></a> := <a class="idref" href="MetaCoq.Erasure.Prelim.html#Ee.default_wcbv_flags"><span class="id" title="definition">Ee.default_wcbv_flags</span></a>)<br/>
&nbsp;&nbsp;<a id="X_type:1568" class="idref" href="#X_type:1568"><span class="id" title="binder">X_type</span></a> (<a id="X:1569" class="idref" href="#X:1569"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1568"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <a id="univs:1570" class="idref" href="#univs:1570"><span class="id" title="binder">univs</span></a> <a id="wfext:1571" class="idref" href="#wfext:1571"><span class="id" title="binder">wfext</span></a> {<a id="t:1572" class="idref" href="#t:1572"><span class="id" title="binder">t</span></a> <a id="v:1573" class="idref" href="#v:1573"><span class="id" title="binder">v</span></a> <a id="i:1574" class="idref" href="#i:1574"><span class="id" title="binder">i</span></a> <a id="u:1575" class="idref" href="#u:1575"><span class="id" title="binder">u</span></a> <a id="args:1576" class="idref" href="#args:1576"><span class="id" title="binder">args</span></a>}<br/>
(<a id="Xext:1577" class="idref" href="#Xext:1577"><span class="id" title="binder">Xext</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1569"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1570"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1571"><span class="id" title="variable">wfext</span></a>)<br/>
{<a id="normalization_in:1580" class="idref" href="#normalization_in:1580"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="X:1578" class="idref" href="#X:1578"><span class="id" title="binder">X</span></a> <a id="3d80adbfcece166d2df3fcaaa35e63c5" class="idref" href="#3d80adbfcece166d2df3fcaaa35e63c5"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3d80adbfcece166d2df3fcaaa35e63c5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3d80adbfcece166d2df3fcaaa35e63c5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1578"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3d80adbfcece166d2df3fcaaa35e63c5"><span class="id" title="variable">Σ</span></a>}<br/>
:<br/>
<span class="id" title="keyword">∀</span> <a id="8153a3c555e13b2ae0ee148470c6f509" class="idref" href="#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="binder">Σ</span></a> (<a id="f1377c61152b41a61bb455400a514066" class="idref" href="#f1377c61152b41a61bb455400a514066"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1577"><span class="id" title="variable">Xext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:1583" class="idref" href="#wt:1583"><span class="id" title="binder">wt</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1572"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1574"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#u:1575"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#args:1576"><span class="id" title="variable">args</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#axiom_free"><span class="id" title="definition">axiom_free</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':1584" class="idref" href="#t':1584"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1568"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1577"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1572"><span class="id" title="variable">t</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#unique_type"><span class="id" title="lemma">unique_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f1377c61152b41a61bb455400a514066"><span class="id" title="variable">wfΣ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1583"><span class="id" title="variable">wt</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="decls:1585" class="idref" href="#decls:1585"><span class="id" title="binder">decls</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="55d9784660cbd1bba337f4391eeb52ef" class="idref" href="#55d9784660cbd1bba337f4391eeb52ef"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1568"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1584"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1569"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1585"><span class="id" title="variable">decls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒  <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1580"><span class="id" title="variable">normalization_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#unique_decls"><span class="id" title="lemma">unique_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1570"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wfext:1571"><span class="id" title="variable">wfext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f1377c61152b41a61bb455400a514066"><span class="id" title="variable">wfΣ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_ind"><span class="id" title="definition">firstorder_ind</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICFirstorder.html#firstorder_env"><span class="id" title="definition">firstorder_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#i:1574"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red"><span class="id" title="definition">red</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1572"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1573"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICProgress.html#89335bb7773696a226bf41e8343e6c3f"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a> <a id="v':1587" class="idref" href="#v':1587"><span class="id" title="binder">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#8153a3c555e13b2ae0ee148470c6f509"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1573"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#8a75a4cbf6fd0563060c50337a6614e9"><span class="id" title="notation">⇝</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v':1587"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="wt':1588" class="idref" href="#wt':1588"><span class="id" title="binder">wt'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#55d9784660cbd1bba337f4391eeb52ef"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1584"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#3959a00793ec04b4dc50ed24aec9b5cc"><span class="id" title="notation">⇓</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1568"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1577"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#v:1573"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt':1588"><span class="id" title="variable">wt'</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_correct_strong"><span class="id" title="lemma">erase_correct_strong</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSetOrdProp.P.Dec.F.subset_iff"><span class="id" title="lemma">KernameSetOrdProp.P.Dec.F.subset_iff</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;we&nbsp;use&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="keyword">match</span></span>&nbsp;trick&nbsp;to&nbsp;get&nbsp;typeclass&nbsp;resolution&nbsp;to&nbsp;pick&nbsp;up&nbsp;the&nbsp;right&nbsp;instances&nbsp;without&nbsp;leaving&nbsp;any&nbsp;evidence&nbsp;in&nbsp;the&nbsp;resulting&nbsp;term,&nbsp;and&nbsp;without&nbsp;having&nbsp;to&nbsp;pass&nbsp;them&nbsp;manually&nbsp;everywhere&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="NormalizationIn_erase_global_decls_fast" class="idref" href="#NormalizationIn_erase_global_decls_fast"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls_fast</span></a> <span class="id" title="var">X</span> <span class="id" title="var">decls</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">extraction_normalizing</span></a> <span class="id" title="keyword">return</span> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cf</span>, <span class="id" title="keyword">no</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">∀</span> <a id="n:1589" class="idref" href="#n:1589"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:1589"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <span class="id" title="var">decls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:1590" class="idref" href="#kn:1590"><span class="id" title="binder">kn</span></a> <a id="cb:1591" class="idref" href="#cb:1591"><span class="id" title="binder">cb</span></a> <a id="pf:1592" class="idref" href="#pf:1592"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">List.hd_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">List.skipn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#n:1589"><span class="id" title="variable">n</span></a> <span class="id" title="var">decls</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1590"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1591"><span class="id" title="variable">cb</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:1593" class="idref" href="#Xext:1593"><span class="id" title="binder">Xext</span></a> := <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb:1591"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#pf:1592"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="85947edde7fd719895515dc2c8f8bce4" class="idref" href="#85947edde7fd719895515dc2c8f8bce4"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85947edde7fd719895515dc2c8f8bce4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85947edde7fd719895515dc2c8f8bce4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext:1593"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#85947edde7fd719895515dc2c8f8bce4"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EraseGlobalFast" class="idref" href="#EraseGlobalFast"><span class="id" title="section">EraseGlobalFast</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment"><span class="id" title="module">PCUICEnvironment</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="decls_prefix" class="idref" href="#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a id="decls:1595" class="idref" href="#decls:1595"><span class="id" title="binder">decls</span></a> (<a id="182229a490a2dfe2527d82daba0e3fad" class="idref" href="#182229a490a2dfe2527d82daba0e3fad"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="7fea05519275eaba8f7d9dc5d6b6221f" class="idref" href="#7fea05519275eaba8f7d9dc5d6b6221f"><span class="id" title="binder">Σ''</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#182229a490a2dfe2527d82daba0e3fad"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7fea05519275eaba8f7d9dc5d6b6221f"><span class="id" title="variable">Σ''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1595"><span class="id" title="variable">decls</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_global_decls_prefix" class="idref" href="#on_global_decls_prefix"><span class="id" title="lemma">on_global_decls_prefix</span></a> {<a id="cf:1598" class="idref" href="#cf:1598"><span class="id" title="binder">cf</span></a>} <a id="Pcmp:1599" class="idref" href="#Pcmp:1599"><span class="id" title="binder">Pcmp</span></a> <a id="P:1600" class="idref" href="#P:1600"><span class="id" title="binder">P</span></a> <a id="univs:1601" class="idref" href="#univs:1601"><span class="id" title="binder">univs</span></a> <a id="retro:1602" class="idref" href="#retro:1602"><span class="id" title="binder">retro</span></a> <a id="decls:1603" class="idref" href="#decls:1603"><span class="id" title="binder">decls</span></a> <a id="decls':1604" class="idref" href="#decls':1604"><span class="id" title="binder">decls'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_global_decls"><span class="id" title="inductive">PCUICAst.on_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Pcmp:1599"><span class="id" title="variable">Pcmp</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1600"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1601"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#retro:1602"><span class="id" title="variable">retro</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1603"><span class="id" title="variable">decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls':1604"><span class="id" title="variable">decls'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_global_decls"><span class="id" title="inductive">PCUICAst.on_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Pcmp:1599"><span class="id" title="variable">Pcmp</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#P:1600"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1601"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#retro:1602"><span class="id" title="variable">retro</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls':1604"><span class="id" title="variable">decls'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ha</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHdecls</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decls_prefix_wf" class="idref" href="#decls_prefix_wf"><span class="id" title="lemma">decls_prefix_wf</span></a> {<a id="decls:1605" class="idref" href="#decls:1605"><span class="id" title="binder">decls</span></a> <a id="2d21c52ad79a54ddd806fe69e6c03f7e" class="idref" href="#2d21c52ad79a54ddd806fe69e6c03f7e"><span class="id" title="binder">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1605"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d21c52ad79a54ddd806fe69e6c03f7e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d21c52ad79a54ddd806fe69e6c03f7e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d21c52ad79a54ddd806fe69e6c03f7e"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a>); <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1605"><span class="id" title="variable">decls</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2d21c52ad79a54ddd806fe69e6c03f7e"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |}.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Σ'</span> <span class="id" title="var">hd</span>] <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">ond</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hd</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#on_global_decls_prefix"><span class="id" title="lemma">on_global_decls_prefix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="incl_cs_refl" class="idref" href="#incl_cs_refl"><span class="id" title="lemma">incl_cs_refl</span></a> <a id="cs:1607" class="idref" href="#cs:1607"><span class="id" title="binder">cs</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cs:1607"><span class="id" title="variable">cs</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">⊂</span></a><a class="idref" href="MetaCoq.Common.Universes.html#fa53e7e2e4fd81994788c41fd8d89a68"><span class="id" title="notation">_cs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cs:1607"><span class="id" title="variable">cs</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">lsets</span>|<span class="id" title="var">csets</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weaken_prefix" class="idref" href="#weaken_prefix"><span class="id" title="lemma">weaken_prefix</span></a> {<a id="decls:1608" class="idref" href="#decls:1608"><span class="id" title="binder">decls</span></a> <a id="5a5d809b936b6695d3b17ab8db471795" class="idref" href="#5a5d809b936b6695d3b17ab8db471795"><span class="id" title="binder">Σ</span></a> <a id="kn:1610" class="idref" href="#kn:1610"><span class="id" title="binder">kn</span></a> <a id="decl:1611" class="idref" href="#decl:1611"><span class="id" title="binder">decl</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1608"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a5d809b936b6695d3b17ab8db471795"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a5d809b936b6695d3b17ab8db471795"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> {| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a5d809b936b6695d3b17ab8db471795"><span class="id" title="variable">Σ</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1608"><span class="id" title="variable">decls</span></a>; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a5d809b936b6695d3b17ab8db471795"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a>) |} <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1610"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl:1611"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#on_global_decl"><span class="id" title="definition">on_global_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumulSpec0"><span class="id" title="inductive">cumulSpec0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5a5d809b936b6695d3b17ab8db471795"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#universes_decl_of_decl"><span class="id" title="definition">universes_decl_of_decl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl:1611"><span class="id" title="variable">decl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1610"><span class="id" title="variable">kn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl:1611"><span class="id" title="variable">decl</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">prefix</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">wfdecls</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls_prefix_wf"><span class="id" title="lemma">decls_prefix_wf</span></a> <span class="id" title="var">prefix</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env_lookup_on_global_env"><span class="id" title="lemma">weakening_env_lookup_on_global_env</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#lift_typing"><span class="id" title="definition">lift_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">Σ</span> <span class="id" title="var">kn</span> <span class="id" title="var">decl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weaken_env_prop_typing"><span class="id" title="lemma">weaken_env_prop_typing</span></a> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfdecls</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_strictly_on_decls_extends"><span class="id" title="instance">extends_strictly_on_decls_extends</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_strictly_on_decls"><span class="id" title="instance">strictly_extends_decls_extends_strictly_on_decls</span></a>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">X</span> <span class="id" title="var">wfdecls</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;version&nbsp;of&nbsp;global&nbsp;environment&nbsp;erasure&nbsp;keeps&nbsp;the&nbsp;same&nbsp;global&nbsp;environment&nbsp;throughout&nbsp;the&nbsp;whole<br/>
&nbsp;&nbsp;&nbsp;erasure,&nbsp;while&nbsp;folding&nbsp;over&nbsp;the&nbsp;list&nbsp;of&nbsp;declarations.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a id="erase_global_decls_fast" class="idref" href="#erase_global_decls_fast"><span class="id" title="definition">erase_global_decls_fast</span></a> (<a id="deps:1612" class="idref" href="#deps:1612"><span class="id" title="binder">deps</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.t"><span class="id" title="definition">KernameSet.t</span></a>)<br/>
&nbsp;&nbsp;<a id="X_type:1613" class="idref" href="#X_type:1613"><span class="id" title="binder">X_type</span></a> (<a id="X:1614" class="idref" href="#X:1614"><span class="id" title="binder">X</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1613"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) (<a id="decls:1615" class="idref" href="#decls:1615"><span class="id" title="binder">decls</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_declarations"><span class="id" title="definition">global_declarations</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:1616" class="idref" href="#normalization_in:1616"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls_fast"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a>}<br/>
&nbsp;&nbsp;(<a id="prop:1618" class="idref" href="#prop:1618"><span class="id" title="binder">prop</span></a> : <span class="id" title="keyword">∀</span> <a id="2eb99b24f614e8bef0d186bd28d2de1f" class="idref" href="#2eb99b24f614e8bef0d186bd28d2de1f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2eb99b24f614e8bef0d186bd28d2de1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls_prefix"><span class="id" title="definition">decls_prefix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2eb99b24f614e8bef0d186bd28d2de1f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaCoq.Erasure.Extract.html#E.global_declarations"><span class="id" title="definition">E.global_declarations</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1612"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext':1621" class="idref" href="#Xext':1621"><span class="id" title="binder">Xext'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="normalization_in':1622" class="idref" href="#normalization_in':1622"><span class="id" title="binder">normalization_in'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">_</span> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="comment">(*&nbsp;hack&nbsp;to&nbsp;avoid&nbsp;program&nbsp;erroring&nbsp;out&nbsp;on&nbsp;unresolved&nbsp;tc&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cb':1623" class="idref" href="#cb':1623"><span class="id" title="binder">cb'</span></a> := @<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1613"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#Xext':1621"><span class="id" title="variable">Xext'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':1622"><span class="id" title="variable">normalization_in'</span></a> <span class="id" title="var">cb</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:1624" class="idref" href="#deps:1624"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.union"><span class="id" title="definition">KernameSet.union</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1612"><span class="id" title="variable">deps</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb':1623"><span class="id" title="variable">cb'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="5559bc8b9178f3fc568e2a235d3e6f09" class="idref" href="#5559bc8b9178f3fc568e2a235d3e6f09"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast:1619"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1624"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1613"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.ConstantDecl"><span class="id" title="constructor">E.ConstantDecl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cb':1623"><span class="id" title="variable">cb'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#5559bc8b9178f3fc568e2a235d3e6f09"><span class="id" title="variable">Σ'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast:1619"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1612"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1613"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mib</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> <span class="id" title="var">kn</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1612"><span class="id" title="variable">deps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mib':1626" class="idref" href="#mib':1626"><span class="id" title="binder">mib'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_mutual_inductive_body"><span class="id" title="definition">erase_mutual_inductive_body</span></a> <span class="id" title="var">mib</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f0c9eb052fc8db01fc3f435ae0d153b0" class="idref" href="#f0c9eb052fc8db01fc3f435ae0d153b0"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast:1619"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1612"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1613"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#E.InductiveDecl"><span class="id" title="constructor">E.InductiveDecl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#mib':1626"><span class="id" title="variable">mib'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f0c9eb052fc8db01fc3f435ae0d153b0"><span class="id" title="variable">Σ'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast:1619"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1612"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1613"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1614"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1615"><span class="id" title="variable">decls</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X3</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls_prefix_wf"><span class="id" title="lemma">decls_prefix_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X3</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> 0); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_wf"><span class="id" title="method">abstract_env_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="keyword">wf</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">prop'</span> := <span class="id" title="var">prop</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#weaken_prefix"><span class="id" title="lemma">weaken_prefix</span></a> (<span class="id" title="var">kn</span> := <span class="id" title="var">kn</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">prop'</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;2:{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">cb</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prop'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">cb</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">normalization_in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revgoals</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specialize_Σ</span> <span class="id" title="var">H</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment"><span class="id" title="module">PCUICEnvironment</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_lookup" class="idref" href="#wf_lookup"><span class="id" title="lemma">wf_lookup</span></a> <a id="16ca86b29e1688791879c8471d58f8e1" class="idref" href="#16ca86b29e1688791879c8471d58f8e1"><span class="id" title="binder">Σ</span></a> <a id="kn:1629" class="idref" href="#kn:1629"><span class="id" title="binder">kn</span></a> <a id="d:1630" class="idref" href="#d:1630"><span class="id" title="binder">d</span></a> <a id="suffix:1631" class="idref" href="#suffix:1631"><span class="id" title="binder">suffix</span></a> <a id="g:1632" class="idref" href="#g:1632"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#16ca86b29e1688791879c8471d58f8e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#16ca86b29e1688791879c8471d58f8e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#suffix:1631"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1629"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1630"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#g:1632"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#16ca86b29e1688791879c8471d58f8e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1629"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1630"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">ond</span>] <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ond</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ond</span>; <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">suffix</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_refl"><span class="id" title="lemma">eqb_refl</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> ? ? ? ]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall_app"><span class="id" title="lemma">Forall_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> []. <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">kn0</span>); [<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsuffix</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="add_suffix" class="idref" href="#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a id="suffix:1633" class="idref" href="#suffix:1633"><span class="id" title="binder">suffix</span></a> <a id="bc2c71f2c1ddba06eab46d4002cfde66" class="idref" href="#bc2c71f2c1ddba06eab46d4002cfde66"><span class="id" title="binder">Σ</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_declarations"><span class="id" title="definition">set_declarations</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bc2c71f2c1ddba06eab46d4002cfde66"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#suffix:1633"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#bc2c71f2c1ddba06eab46d4002cfde66"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_suffix_cons" class="idref" href="#add_suffix_cons"><span class="id" title="lemma">add_suffix_cons</span></a> <a id="d:1635" class="idref" href="#d:1635"><span class="id" title="binder">d</span></a> <a id="suffix:1636" class="idref" href="#suffix:1636"><span class="id" title="binder">suffix</span></a> <a id="619dc64483288e5d10379f9d674e6fcf" class="idref" href="#619dc64483288e5d10379f9d674e6fcf"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1635"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#suffix:1636"><span class="id" title="variable">suffix</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#619dc64483288e5d10379f9d674e6fcf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.add_global_decl"><span class="id" title="definition">add_global_decl</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#suffix:1636"><span class="id" title="variable">suffix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#619dc64483288e5d10379f9d674e6fcf"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d:1635"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_erased_with_deps_weaken_prefix" class="idref" href="#global_erased_with_deps_weaken_prefix"><span class="id" title="lemma">global_erased_with_deps_weaken_prefix</span></a> <a id="suffix:1638" class="idref" href="#suffix:1638"><span class="id" title="binder">suffix</span></a> <a id="e09c2c70c2595296f9dadebf43e77d75" class="idref" href="#e09c2c70c2595296f9dadebf43e77d75"><span class="id" title="binder">Σ</span></a> <a id="103f737bc3330b2240b992c74fb7729f" class="idref" href="#103f737bc3330b2240b992c74fb7729f"><span class="id" title="binder">Σ'</span></a> <a id="kn:1641" class="idref" href="#kn:1641"><span class="id" title="binder">kn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#suffix:1638"><span class="id" title="variable">suffix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e09c2c70c2595296f9dadebf43e77d75"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e09c2c70c2595296f9dadebf43e77d75"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#103f737bc3330b2240b992c74fb7729f"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1641"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erased_with_deps"><span class="id" title="definition">global_erased_with_deps</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#add_suffix"><span class="id" title="definition">add_suffix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#suffix:1638"><span class="id" title="variable">suffix</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e09c2c70c2595296f9dadebf43e77d75"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#103f737bc3330b2240b992c74fb7729f"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1641"><span class="id" title="variable">kn</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">suffix</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#add_suffix"><span class="id" title="definition">add_suffix</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_declarations"><span class="id" title="definition">set_declarations</span></a> /= -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.eta_global_env"><span class="id" title="lemma">eta_global_env</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#add_suffix_cons"><span class="id" title="lemma">add_suffix_cons</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn'</span> <span class="id" title="var">d</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#global_erases_with_deps_weaken"><span class="id" title="lemma">global_erases_with_deps_weaken</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsuffix</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">ond</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Using&nbsp;weakening&nbsp;it&nbsp;is&nbsp;trivial&nbsp;to&nbsp;show&nbsp;that&nbsp;a&nbsp;term&nbsp;found&nbsp;to&nbsp;be&nbsp;erasable&nbsp;in&nbsp;Σ<br/>
&nbsp;&nbsp;will&nbsp;be&nbsp;found&nbsp;erasable&nbsp;in&nbsp;any&nbsp;well-formed&nbsp;extension.&nbsp;The&nbsp;converse&nbsp;is&nbsp;not&nbsp;so&nbsp;trivial:<br/>
&nbsp;&nbsp;some&nbsp;valid&nbsp;types&nbsp;in&nbsp;the&nbsp;extension&nbsp;are&nbsp;not&nbsp;valid&nbsp;in&nbsp;the&nbsp;restricted&nbsp;global&nbsp;context.<br/>
&nbsp;&nbsp;So,&nbsp;we&nbsp;will&nbsp;rather&nbsp;show&nbsp;that&nbsp;the&nbsp;erasure&nbsp;function&nbsp;is&nbsp;invariant&nbsp;under&nbsp;extension.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isErasable_irrel_global_env" class="idref" href="#isErasable_irrel_global_env"><span class="id" title="lemma">isErasable_irrel_global_env</span></a> {<a id="f568fdcd09eb38a081bc24afd9e78be3" class="idref" href="#f568fdcd09eb38a081bc24afd9e78be3"><span class="id" title="binder">Σ</span></a> <a id="a2b004714c84428f53dbbceb222633b5" class="idref" href="#a2b004714c84428f53dbbceb222633b5"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="df48b167d3a8bda78db2212d29eebda6" class="idref" href="#df48b167d3a8bda78db2212d29eebda6"><span class="id" title="binder">Γ</span></a> <a id="t:1645" class="idref" href="#t:1645"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f568fdcd09eb38a081bc24afd9e78be3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a2b004714c84428f53dbbceb222633b5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends"><span class="id" title="class">extends</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a2b004714c84428f53dbbceb222633b5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f568fdcd09eb38a081bc24afd9e78be3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f568fdcd09eb38a081bc24afd9e78be3"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a2b004714c84428f53dbbceb222633b5"><span class="id" title="variable">Σ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#a2b004714c84428f53dbbceb222633b5"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#df48b167d3a8bda78db2212d29eebda6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1645"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#f568fdcd09eb38a081bc24afd9e78be3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#df48b167d3a8bda78db2212d29eebda6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1645"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#isErasable"><span class="id" title="definition">isErasable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">ext</span> <span class="id" title="var">eqext</span> [<span class="id" title="var">T</span> [<span class="id" title="var">ht</span> <span class="id" title="var">isar</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">decl</span>], <span class="id" title="var">Σ'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ'</span> <span class="id" title="var">decl'</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eqext</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">decl'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env"><span class="id" title="lemma">weakening_env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isar</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span> [<span class="id" title="var">Hu</span> <span class="id" title="var">isp</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#weakening_env"><span class="id" title="lemma">weakening_env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="reduce_stack_eq" class="idref" href="#reduce_stack_eq"><span class="id" title="definition">reduce_stack_eq</span></a> {<a id="cf:1646" class="idref" href="#cf:1646"><span class="id" title="binder">cf</span></a>} {<a id="fl:1647" class="idref" href="#fl:1647"><span class="id" title="binder">fl</span></a>} {<a id="no:1648" class="idref" href="#no:1648"><span class="id" title="binder">no</span></a>:<a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#normalizing_flags"><span class="id" title="class">normalizing_flags</span></a>} {<a id="X_type:1649" class="idref" href="#X_type:1649"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:1650" class="idref" href="#X:1650"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1649"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>} {<a id="normalization_in:1652" class="idref" href="#normalization_in:1652"><span class="id" title="binder">normalization_in</span></a> : <span class="id" title="keyword">∀</span> <a id="cf0a84b74417b7353f6bc394a4478d15" class="idref" href="#cf0a84b74417b7353f6bc394a4478d15"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cf0a84b74417b7353f6bc394a4478d15"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cf0a84b74417b7353f6bc394a4478d15"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1650"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#cf0a84b74417b7353f6bc394a4478d15"><span class="id" title="variable">Σ</span></a>} <a id="9ef6c8b47a04e17138042da0fd2fafcf" class="idref" href="#9ef6c8b47a04e17138042da0fd2fafcf"><span class="id" title="binder">Γ</span></a> <a id="t:1654" class="idref" href="#t:1654"><span class="id" title="binder">t</span></a> <a id="0079c47433b6253e6e1d5fa689c430f9" class="idref" href="#0079c47433b6253e6e1d5fa689c430f9"><span class="id" title="binder">π</span></a> <a id="wi:1656" class="idref" href="#wi:1656"><span class="id" title="binder">wi</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fl:1647"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1649"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1650"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9ef6c8b47a04e17138042da0fd2fafcf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1654"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0079c47433b6253e6e1d5fa689c430f9"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wi:1656"><span class="id" title="variable">wi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">`</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#fl:1647"><span class="id" title="variable">fl</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1649"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1650"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#9ef6c8b47a04e17138042da0fd2fafcf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1654"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#0079c47433b6253e6e1d5fa689c430f9"><span class="id" title="variable">π</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wi:1656"><span class="id" title="variable">wi</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#c291183902a7f37f27173cc42ed86b4c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeReduce.html#reduce_stack_full"><span class="id" title="definition">reduce_stack_full</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="same_principal_type" class="idref" href="#same_principal_type"><span class="id" title="definition">same_principal_type</span></a> {<a id="cf:1657" class="idref" href="#cf:1657"><span class="id" title="binder">cf</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type:1658" class="idref" href="#X_type:1658"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X:1659" class="idref" href="#X:1659"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1658"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type':1660" class="idref" href="#X_type':1660"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>} {<a id="X':1661" class="idref" href="#X':1661"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':1660"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>}<br/>
&nbsp;&nbsp;{<a id="57b26752ca529ecd6444f39a6af78481" class="idref" href="#57b26752ca529ecd6444f39a6af78481"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>} {<a id="t:1663" class="idref" href="#t:1663"><span class="id" title="binder">t</span></a>} (<a id="p:1664" class="idref" href="#p:1664"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1658"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1659"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#57b26752ca529ecd6444f39a6af78481"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1663"><span class="id" title="variable">t</span></a>) (<a id="p':1665" class="idref" href="#p':1665"><span class="id" title="binder">p'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICSafeRetyping.html#principal_type"><span class="id" title="definition">PCUICSafeRetyping.principal_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':1660"><span class="id" title="variable">X_type'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1661"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#57b26752ca529ecd6444f39a6af78481"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1663"><span class="id" title="variable">t</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p:1664"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#p':1665"><span class="id" title="variable">p'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Hlookup" class="idref" href="#Hlookup"><span class="id" title="definition">Hlookup</span></a> {<a id="cf:1666" class="idref" href="#cf:1666"><span class="id" title="binder">cf</span></a>} (<a id="X_type:1667" class="idref" href="#X_type:1667"><span class="id" title="binder">X_type</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X:1668" class="idref" href="#X:1668"><span class="id" title="binder">X</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1667"><span class="id" title="variable">X_type</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>)<br/>
&nbsp;&nbsp;(<a id="X_type':1669" class="idref" href="#X_type':1669"><span class="id" title="binder">X_type'</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_impl"><span class="id" title="definition">abstract_env_impl</span></a>) (<a id="X':1670" class="idref" href="#X':1670"><span class="id" title="binder">X'</span></a> : <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type':1669"><span class="id" title="variable">X_type'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="63324ac08b797e52b6f1c8a1f40cd940" class="idref" href="#63324ac08b797e52b6f1c8a1f40cd940"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1668"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#63324ac08b797e52b6f1c8a1f40cd940"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="af4b294a58c4719b2e4e311cedbfffc6" class="idref" href="#af4b294a58c4719b2e4e311cedbfffc6"><span class="id" title="binder">Σ'</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_rel"><span class="id" title="method">abstract_env_ext_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1670"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#af4b294a58c4719b2e4e311cedbfffc6"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:1673" class="idref" href="#kn:1673"><span class="id" title="binder">kn</span></a> <a id="decl:1674" class="idref" href="#decl:1674"><span class="id" title="binder">decl</span></a> <a id="decl':1675" class="idref" href="#decl':1675"><span class="id" title="binder">decl'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#63324ac08b797e52b6f1c8a1f40cd940"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1673"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl:1674"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#af4b294a58c4719b2e4e311cedbfffc6"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1673"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decl':1675"><span class="id" title="variable">decl'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1668"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1673"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_lookup"><span class="id" title="method">abstract_env_lookup</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1670"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#kn:1673"><span class="id" title="variable">kn</span></a>.<br/>

<br/>
<span class="comment">(*Lemma&nbsp;erase_global_deps_suffix&nbsp;{deps}&nbsp;{Σ&nbsp;Σ'&nbsp;:&nbsp;wf_env}&nbsp;{decls&nbsp;hprefix&nbsp;hprefix'}&nbsp;:<br/>
&nbsp;&nbsp;wf&nbsp;Σ&nbsp;-&gt;&nbsp;wf&nbsp;Σ'&nbsp;-&gt;<br/>
&nbsp;&nbsp;universes&nbsp;Σ&nbsp;=&nbsp;universes&nbsp;Σ'&nbsp;-&gt;<br/>
&nbsp;&nbsp;erase_global_decls_fast&nbsp;deps&nbsp;Σ&nbsp;decls&nbsp;hprefix&nbsp;=<br/>
&nbsp;&nbsp;erase_global_decls_fast&nbsp;deps&nbsp;Σ'&nbsp;decls&nbsp;hprefix'.<br/>
Proof&nbsp;using&nbsp;Type.<br/>
&nbsp;&nbsp;intros&nbsp;wfΣ&nbsp;wfΣ'&nbsp;equ.<br/>
&nbsp;&nbsp;induction&nbsp;decls&nbsp;in&nbsp;deps,&nbsp;hprefix,&nbsp;hprefix'&nbsp;|-&nbsp;*;&nbsp;cbn&nbsp;=&gt;&nbsp;//.<br/>
&nbsp;&nbsp;destruct&nbsp;a&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">kn</span></span> <span class="inlinecode">[]</span>.<br/>
&nbsp;&nbsp;set&nbsp;(obl&nbsp;:=&nbsp;(erase_global_decls_fast_obligation_1&nbsp;Σ&nbsp;((kn,&nbsp;ConstantDecl&nbsp;c)&nbsp;::&nbsp;decls)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprefix&nbsp;kn&nbsp;c&nbsp;decls&nbsp;eq_refl)).&nbsp;clearbody&nbsp;obl.<br/>
&nbsp;&nbsp;destruct&nbsp;obl.<br/>
&nbsp;&nbsp;set&nbsp;(eb&nbsp;:=&nbsp;erase_constant_body&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;set&nbsp;(eb'&nbsp;:=&nbsp;erase_constant_body&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;assert&nbsp;(eb&nbsp;=&nbsp;eb')&nbsp;as&nbsp;&lt;-.<br/>
&nbsp;&nbsp;{&nbsp;subst&nbsp;eb&nbsp;eb'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣx&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣ'x&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(obl'&nbsp;:=&nbsp;erase_global_decls_fast_obligation_2&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;clearbody&nbsp;obl'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(Σd&nbsp;:=&nbsp;{|&nbsp;universes&nbsp;:=&nbsp;Σ.(universes);&nbsp;declarations&nbsp;:=&nbsp;decls&nbsp;|}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(wfΣd&nbsp;:&nbsp;wf&nbsp;Σd).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;eapply&nbsp;decls_prefix_wf;&nbsp;tea.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear&nbsp;-hprefix.&nbsp;move:&nbsp;hprefix.&nbsp;unfold&nbsp;decls_prefix.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">Σ''</span></span> <span class="inlinecode"><span class="id" title="var">eq</span></span>.&nbsp;exists&nbsp;(Σ''&nbsp;++&nbsp;<span class="inlinecode">(<span class="id" title="var">kn</span>,</span> <span class="inlinecode"><span class="id" title="var">ConstantDecl</span></span> <span class="inlinecode"><span class="id" title="var">c</span>)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;-app_assoc&nbsp;//.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣdwfe&nbsp;:=&nbsp;build_wf_env_from_env&nbsp;_&nbsp;(sq&nbsp;wfΣd)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(wfextΣd&nbsp;:&nbsp;wf_ext&nbsp;(Σd,&nbsp;cst_universes&nbsp;c)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;split&nbsp;=&gt;&nbsp;//.&nbsp;cbn.&nbsp;apply&nbsp;w.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;(wfΣdw&nbsp;:=&nbsp;&nbsp;abstract_make_wf_env_ext&nbsp;wfΣdwfe&nbsp;(cst_universes&nbsp;c)&nbsp;(sq&nbsp;wfextΣd)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(ond'&nbsp;:&nbsp;∥&nbsp;on_constant_decl&nbsp;(lift_typing&nbsp;typing)&nbsp;(Σd,&nbsp;cst_universes&nbsp;c)&nbsp;c&nbsp;∥&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;pose&nbsp;proof&nbsp;(decls_prefix_wf&nbsp;hprefix&nbsp;wfΣ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;X&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">onu</span></span> <span class="inlinecode"><span class="id" title="var">ond</span></span>.&nbsp;depelim&nbsp;ond.&nbsp;sq.&nbsp;apply&nbsp;o0.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(extd'&nbsp;:&nbsp;extends_decls&nbsp;Σd&nbsp;Σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;clear&nbsp;-hprefix.&nbsp;move:&nbsp;hprefix.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode">?</span> <span class="inlinecode">?</span>.&nbsp;split&nbsp;=&gt;&nbsp;//.&nbsp;eexists&nbsp;(x&nbsp;++&nbsp;<span class="inlinecode">(<span class="id" title="var">kn</span>,</span> <span class="inlinecode"><span class="id" title="var">ConstantDecl</span></span> <span class="inlinecode"><span class="id" title="var">c</span>)</span>).&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;-app_assoc.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(extd''&nbsp;:&nbsp;extends_decls&nbsp;Σd&nbsp;Σ').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;clear&nbsp;-equ&nbsp;hprefix'.&nbsp;move:&nbsp;hprefix'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode">?</span> <span class="inlinecode">?</span>.&nbsp;split&nbsp;=&gt;&nbsp;//.&nbsp;eexists&nbsp;(x&nbsp;++&nbsp;<span class="inlinecode">(<span class="id" title="var">kn</span>,</span> <span class="inlinecode"><span class="id" title="var">ConstantDecl</span></span> <span class="inlinecode"><span class="id" title="var">c</span>)</span>).&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;-app_assoc.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(erase_constant_body_suffix&nbsp;(Σ&nbsp;:=&nbsp;wfΣx)&nbsp;(Σ'&nbsp;:=&nbsp;wfΣdw)&nbsp;(ondecl'&nbsp;:=&nbsp;ond')&nbsp;wfΣ&nbsp;extd')&nbsp;//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;(erase_constant_body_suffix&nbsp;(Σ&nbsp;:=&nbsp;wfΣ'x)&nbsp;(Σ'&nbsp;:=&nbsp;wfΣdw)&nbsp;(ondecl'&nbsp;:=&nbsp;ond')&nbsp;wfΣ'&nbsp;extd'')&nbsp;//.&nbsp;}<br/>
&nbsp;&nbsp;destruct&nbsp;KernameSet.mem&nbsp;=&gt;&nbsp;//.&nbsp;f_equal.<br/>
&nbsp;&nbsp;eapply&nbsp;IHdecls.<br/>
&nbsp;&nbsp;destruct&nbsp;KernameSet.mem&nbsp;=&gt;&nbsp;//.&nbsp;f_equal.<br/>
&nbsp;&nbsp;eapply&nbsp;IHdecls.<br/>
Qed.*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_fast_spec_gen" class="idref" href="#erase_global_deps_fast_spec_gen"><span class="id" title="lemma">erase_global_deps_fast_spec_gen</span></a> {<a id="deps:1676" class="idref" href="#deps:1676"><span class="id" title="binder">deps</span></a>}<br/>
&nbsp;&nbsp;{<a id="X_type:1677" class="idref" href="#X_type:1677"><span class="id" title="binder">X_type</span></a> <a id="X:1678" class="idref" href="#X:1678"><span class="id" title="binder">X</span></a> <a id="X':1679" class="idref" href="#X':1679"><span class="id" title="binder">X'</span></a>} {<a id="decls:1680" class="idref" href="#decls:1680"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1681" class="idref" href="#normalization_in:1681"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':1682" class="idref" href="#normalization_in':1682"><span class="id" title="binder">normalization_in'</span></a> <a id="hprefix:1683" class="idref" href="#hprefix:1683"><span class="id" title="binder">hprefix</span></a> <a id="hprefix':1684" class="idref" href="#hprefix':1684"><span class="id" title="binder">hprefix'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="b6421f034bf5e0a0f985f42729ecac5f" class="idref" href="#b6421f034bf5e0a0f985f42729ecac5f"><span class="id" title="binder">Σ</span></a> <a id="7f467fb544b70557a29a48ed5aff748c" class="idref" href="#7f467fb544b70557a29a48ed5aff748c"><span class="id" title="binder">Σ'</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1678"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b6421f034bf5e0a0f985f42729ecac5f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1679"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7f467fb544b70557a29a48ed5aff748c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b6421f034bf5e0a0f985f42729ecac5f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7f467fb544b70557a29a48ed5aff748c"><span class="id" title="variable">Σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#b6421f034bf5e0a0f985f42729ecac5f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">retroknowledge</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7f467fb544b70557a29a48ed5aff748c"><span class="id" title="variable">Σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1676"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1677"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1678"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1680"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1681"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#hprefix:1683"><span class="id" title="variable">hprefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1677"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1676"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1679"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1680"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':1682"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#hprefix':1684"><span class="id" title="variable">hprefix'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">equ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">decls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">X'</span>, <span class="id" title="var">equ</span>, <span class="id" title="var">deps</span>, <span class="id" title="var">normalization_in</span>, <span class="id" title="var">normalization_in'</span>, <span class="id" title="var">hprefix</span>, <span class="id" title="var">hprefix'</span> |- × ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ'</span> <span class="id" title="var">wfΣ'</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [<span class="id" title="keyword">wf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_exists"><span class="id" title="method">abstract_env_exists</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>)) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">wfpop</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">wfpop</span>) <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kn</span> []].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">obl</span> := (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast_obligation_1"><span class="id" title="lemma">erase_global_decls_fast_obligation_1</span></a> <span class="id" title="var">X_type</span> <span class="id" title="var">X</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">hprefix</span> <span class="id" title="var">kn</span> <span class="id" title="var">c</span> <span class="id" title="var">decls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eb</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">eb'</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body"><span class="id" title="definition">erase_constant_body</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eb</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">eb'</span>) <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">eb</span> <span class="id" title="var">eb'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">hprefix</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Σ''</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_constant_body_suffix"><span class="id" title="lemma">erase_constant_body_suffix</span></a>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> <span class="id" title="var">X'</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">cst_universes</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfpop</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_decls"><span class="id" title="instance">strictly_extends_decls_extends_decls</span></a>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>, &lt;- <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<span class="id" title="var">Σ''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> ⇒ //; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. } <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }  <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.mem"><span class="id" title="definition">KernameSet.mem</span></a> ⇒ //; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdecls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls_correct"><span class="id" title="method">abstract_pop_decls_correct</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">decls</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ'</span> <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H6</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equ</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_deps_fast_spec" class="idref" href="#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a> {<a id="deps:1687" class="idref" href="#deps:1687"><span class="id" title="binder">deps</span></a>} {<a id="X_type:1688" class="idref" href="#X_type:1688"><span class="id" title="binder">X_type</span></a> <a id="X:1689" class="idref" href="#X:1689"><span class="id" title="binder">X</span></a>} {<a id="decls:1690" class="idref" href="#decls:1690"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1691" class="idref" href="#normalization_in:1691"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in':1692" class="idref" href="#normalization_in':1692"><span class="id" title="binder">normalization_in'</span></a> <a id="hprefix:1693" class="idref" href="#hprefix:1693"><span class="id" title="binder">hprefix</span></a> <a id="hprefix':1694" class="idref" href="#hprefix':1694"><span class="id" title="binder">hprefix'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1687"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1688"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1689"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1690"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1691"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#hprefix:1693"><span class="id" title="variable">hprefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls"><span class="id" title="definition">erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1688"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1687"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1689"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1690"><span class="id" title="variable">decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in':1692"><span class="id" title="variable">normalization_in'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#hprefix':1694"><span class="id" title="variable">hprefix'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_deps_fast_spec_gen"><span class="id" title="lemma">erase_global_deps_fast_spec_gen</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_irr"><span class="id" title="method">abstract_env_irr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_global_fast" class="idref" href="#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a id="X_type:1695" class="idref" href="#X_type:1695"><span class="id" title="binder">X_type</span></a> <a id="deps:1696" class="idref" href="#deps:1696"><span class="id" title="binder">deps</span></a> <a id="X:1697" class="idref" href="#X:1697"><span class="id" title="binder">X</span></a> <a id="decls:1698" class="idref" href="#decls:1698"><span class="id" title="binder">decls</span></a> {<a id="normalization_in:1699" class="idref" href="#normalization_in:1699"><span class="id" title="binder">normalization_in</span></a>} (<a id="prf:1701" class="idref" href="#prf:1701"><span class="id" title="binder">prf</span></a>:<span class="id" title="keyword">∀</span> <a id="2ec2e4ca0de2e959076d6f51153acc65" class="idref" href="#2ec2e4ca0de2e959076d6f51153acc65"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1697"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2ec2e4ca0de2e959076d6f51153acc65"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">declarations</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#2ec2e4ca0de2e959076d6f51153acc65"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1698"><span class="id" title="variable">decls</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_fast"><span class="id" title="definition">erase_global_decls_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1696"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1695"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1697"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1698"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1699"><span class="id" title="variable">normalization_in</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="H:1702" class="idref" href="#H:1702"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1701"><span class="id" title="variable">prf</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#H:1702"><span class="id" title="variable">H</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_global_fast" class="idref" href="#expanded_erase_global_fast"><span class="id" title="lemma">expanded_erase_global_fast</span></a> (<a id="cf:1703" class="idref" href="#cf:1703"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a id="deps:1704" class="idref" href="#deps:1704"><span class="id" title="binder">deps</span></a><br/>
&nbsp;&nbsp;{<a id="X_type:1705" class="idref" href="#X_type:1705"><span class="id" title="binder">X_type</span></a> <a id="X:1706" class="idref" href="#X:1706"><span class="id" title="binder">X</span></a> <a id="decls:1707" class="idref" href="#decls:1707"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1708" class="idref" href="#normalization_in:1708"><span class="id" title="binder">normalization_in</span></a>} {<a id="normalization_in':1709" class="idref" href="#normalization_in':1709"><span class="id" title="binder">normalization_in'</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1706"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1707"><span class="id" title="variable">decls</span></a>} {<a id="prf:1710" class="idref" href="#prf:1710"><span class="id" title="binder">prf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="34d33bbe1c5dec5dd669cc53315444e2" class="idref" href="#34d33bbe1c5dec5dd669cc53315444e2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1706"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#34d33bbe1c5dec5dd669cc53315444e2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded_global_env"><span class="id" title="definition">PCUICEtaExpand.expanded_global_env</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#34d33bbe1c5dec5dd669cc53315444e2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_global_env"><span class="id" title="definition">expanded_global_env</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1705"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1704"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1706"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1707"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1708"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1710"><span class="id" title="variable">prf</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#expanded_erase_global"><span class="id" title="lemma">expanded_erase_global</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_fast" class="idref" href="#expanded_erase_fast"><span class="id" title="lemma">expanded_erase_fast</span></a> (<a id="cf:1712" class="idref" href="#cf:1712"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1713" class="idref" href="#X_type:1713"><span class="id" title="binder">X_type</span></a> <a id="X:1714" class="idref" href="#X:1714"><span class="id" title="binder">X</span></a> <a id="decls:1715" class="idref" href="#decls:1715"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1716" class="idref" href="#normalization_in:1716"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1717" class="idref" href="#prf:1717"><span class="id" title="binder">prf</span></a>} {<a id="normalization_in'':1718" class="idref" href="#normalization_in'':1718"><span class="id" title="binder">normalization_in''</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1714"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1715"><span class="id" title="variable">decls</span></a>} <a id="univs:1719" class="idref" href="#univs:1719"><span class="id" title="binder">univs</span></a> <a id="21dcbfed8573a974660e8fca3644ec05" class="idref" href="#21dcbfed8573a974660e8fca3644ec05"><span class="id" title="binder">wfΣ</span></a> <a id="t:1721" class="idref" href="#t:1721"><span class="id" title="binder">t</span></a> <a id="wtp:1722" class="idref" href="#wtp:1722"><span class="id" title="binder">wtp</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="94c963b42b6cbdd99128ad91d676df71" class="idref" href="#94c963b42b6cbdd99128ad91d676df71"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">global_env</span></a>, <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_rel"><span class="id" title="method">abstract_env_rel</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1714"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#94c963b42b6cbdd99128ad91d676df71"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded"><span class="id" title="inductive">PCUICEtaExpand.expanded</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#94c963b42b6cbdd99128ad91d676df71"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1721"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="X':1724" class="idref" href="#X':1724"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1714"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1719"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#21dcbfed8573a974660e8fca3644ec05"><span class="id" title="variable">wfΣ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="normalization_in':1726" class="idref" href="#normalization_in':1726"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="3991e1e2e9dfd4072fa0f573478267ff" class="idref" href="#3991e1e2e9dfd4072fa0f573478267ff"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3991e1e2e9dfd4072fa0f573478267ff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3991e1e2e9dfd4072fa0f573478267ff"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1724"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#3991e1e2e9dfd4072fa0f573478267ff"><span class="id" title="variable">Σ</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="et:1727" class="idref" href="#et:1727"><span class="id" title="binder">et</span></a> := (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1713"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1724"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1721"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wtp:1722"><span class="id" title="variable">wtp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="deps:1728" class="idref" href="#deps:1728"><span class="id" title="binder">deps</span></a> := <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1727"><span class="id" title="variable">et</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded"><span class="id" title="inductive">expanded</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1713"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1728"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1714"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1715"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1716"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1717"><span class="id" title="variable">prf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#et:1727"><span class="id" title="variable">et</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">hexp</span> <span class="id" title="var">X'</span> <span class="id" title="var">normalization_in'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_wf"><span class="id" title="method">abstract_env_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span>) <span class="id" title="keyword">as</span> [?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#expanded_erases"><span class="id" title="lemma">expanded_erases</span></a> (<span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">univs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_erase"><span class="id" title="lemma">erases_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_env_ext_exists"><span class="id" title="method">abstract_env_ext_exists</span></a> <span class="id" title="var">X'</span>) <span class="id" title="keyword">as</span> [[? <span class="id" title="var">wfmake</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext_correct"><span class="id" title="definition">abstract_make_wf_env_ext_correct</span></a> <span class="id" title="var">X</span> <span class="id" title="var">univs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">wfmake</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erases_deps_erase"><span class="id" title="lemma">erases_deps_erase</span></a> (<span class="id" title="var">X</span> := <span class="id" title="var">X</span>) <span class="id" title="var">univs</span> <span class="id" title="var">wfΣ</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_global_fast_wf_glob" class="idref" href="#erase_global_fast_wf_glob"><span class="id" title="lemma">erase_global_fast_wf_glob</span></a> <a id="X_type:1729" class="idref" href="#X_type:1729"><span class="id" title="binder">X_type</span></a> <a id="deps:1730" class="idref" href="#deps:1730"><span class="id" title="binder">deps</span></a> <a id="X:1731" class="idref" href="#X:1731"><span class="id" title="binder">X</span></a> <a id="decls:1732" class="idref" href="#decls:1732"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1733" class="idref" href="#normalization_in:1733"><span class="id" title="binder">normalization_in</span></a> (<a id="normalization_in':1734" class="idref" href="#normalization_in':1734"><span class="id" title="binder">normalization_in'</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1731"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1732"><span class="id" title="variable">decls</span></a>) <a id="prf:1735" class="idref" href="#prf:1735"><span class="id" title="binder">prf</span></a> :<br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wf_glob"><span class="id" title="inductive">wf_glob</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1729"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#deps:1730"><span class="id" title="variable">deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1731"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1732"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1733"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1735"><span class="id" title="variable">prf</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>; <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_decls_wf_glob"><span class="id" title="lemma">erase_global_decls_wf_glob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erase_wellformed_fast" class="idref" href="#erase_wellformed_fast"><span class="id" title="lemma">erase_wellformed_fast</span></a> (<a id="efl:1736" class="idref" href="#efl:1736"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="X_type:1737" class="idref" href="#X_type:1737"><span class="id" title="binder">X_type</span></a> <a id="X:1738" class="idref" href="#X:1738"><span class="id" title="binder">X</span></a> <a id="decls:1739" class="idref" href="#decls:1739"><span class="id" title="binder">decls</span></a> <a id="normalization_in:1740" class="idref" href="#normalization_in:1740"><span class="id" title="binder">normalization_in</span></a> <a id="prf:1741" class="idref" href="#prf:1741"><span class="id" title="binder">prf</span></a>} {<a id="normalization_in'':1742" class="idref" href="#normalization_in'':1742"><span class="id" title="binder">normalization_in''</span></a>:<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#NormalizationIn_erase_global_decls"><span class="id" title="abbreviation">NormalizationIn_erase_global_decls</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1738"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1739"><span class="id" title="variable">decls</span></a>} <a id="univs:1743" class="idref" href="#univs:1743"><span class="id" title="binder">univs</span></a> <a id="d15264709b11b855ab51c9cad72566c2" class="idref" href="#d15264709b11b855ab51c9cad72566c2"><span class="id" title="binder">wfΣ</span></a> {<a id="7335c81f680a5cbd6a69c96888e31e81" class="idref" href="#7335c81f680a5cbd6a69c96888e31e81"><span class="id" title="binder">Γ</span></a> <a id="t:1746" class="idref" href="#t:1746"><span class="id" title="binder">t</span></a>} <a id="wt:1747" class="idref" href="#wt:1747"><span class="id" title="binder">wt</span></a><br/>
&nbsp;&nbsp;(<a id="X':1748" class="idref" href="#X':1748"><span class="id" title="binder">X'</span></a> :=  <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1738"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#univs:1743"><span class="id" title="variable">univs</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#d15264709b11b855ab51c9cad72566c2"><span class="id" title="variable">wfΣ</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in':1750" class="idref" href="#normalization_in':1750"><span class="id" title="binder">normalization_in'</span></a> : <span class="id" title="keyword">∀</span> <a id="e89b19a4c15c4dda21495c0d19758029" class="idref" href="#e89b19a4c15c4dda21495c0d19758029"><span class="id" title="binder">Σ</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">wf_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e89b19a4c15c4dda21495c0d19758029"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e89b19a4c15c4dda21495c0d19758029"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1748"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">NormalizationIn</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#e89b19a4c15c4dda21495c0d19758029"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':1751" class="idref" href="#t':1751"><span class="id" title="binder">t'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1737"><span class="id" title="variable">X_type</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X':1748"><span class="id" title="variable">X'</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7335c81f680a5cbd6a69c96888e31e81"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t:1746"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#wt:1747"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed"><span class="id" title="definition">wellformed</span></a> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X_type:1737"><span class="id" title="variable">X_type</span></a> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">term_global_deps</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1751"><span class="id" title="variable">t'</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#X:1738"><span class="id" title="variable">X</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#decls:1739"><span class="id" title="variable">decls</span></a> (<span class="id" title="var">normalization_in</span>:=<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#normalization_in:1740"><span class="id" title="variable">normalization_in</span></a>) <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#prf:1741"><span class="id" title="variable">prf</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#7335c81f680a5cbd6a69c96888e31e81"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#t':1751"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">erase_global_fast</span></a>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_deps_fast_spec"><span class="id" title="lemma">erase_global_deps_fast_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_wellformed"><span class="id" title="lemma">erase_wellformed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#EraseGlobalFast"><span class="id" title="section">EraseGlobalFast</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
