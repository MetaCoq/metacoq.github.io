<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#"><span class="id" title="library">CRelationClasses</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#"><span class="id" title="library">Universes</span></a> <a class="idref" href="MetaCoq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#"><span class="id" title="library">PCUICOnOne</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#"><span class="id" title="library">PCUICCases</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#"><span class="id" title="library">PCUICWeakeningEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICPosition.html#"><span class="id" title="library">PCUICPosition</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGuardCondition.html#"><span class="id" title="library">PCUICGuardCondition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations.Prop.DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab138"></a><h1 class="section">Universe Substitution lemmas for typing derivations.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">aa</span> := <span class="id" title="var">rdest</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts"><span class="id" title="module">NonEmptySetFacts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_val" class="idref" href="#subst_instance_level_val"><span class="id" title="lemma">subst_instance_level_val</span></a> <a id="u:1" class="idref" href="#u:1"><span class="id" title="binder">u</span></a> <a id="l:2" class="idref" href="#l:2"><span class="id" title="binder">l</span></a> <a id="v:3" class="idref" href="#v:3"><span class="id" title="binder">v</span></a> <a id="v':4" class="idref" href="#v':4"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:6" class="idref" href="#H1:6"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:5" class="idref" href="#s:5"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:3"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:5"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':4"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:5"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:8" class="idref" href="#H2:8"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:3"><span class="id" title="variable">v</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:7"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:1"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':4"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:7"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:3"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:1"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:2"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':4"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:2"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_valuation" class="idref" href="#eq_valuation"><span class="id" title="lemma">eq_valuation</span></a> <a id="v:9" class="idref" href="#v:9"><span class="id" title="binder">v</span></a> <a id="v':10" class="idref" href="#v':10"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:12" class="idref" href="#H1:12"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:11" class="idref" href="#s:11"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:11"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':10"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:11"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:14" class="idref" href="#H2:14"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:13" class="idref" href="#n:13"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:13"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':10"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:13"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="u:15" class="idref" href="#u:15"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#Universe.to_cuniv"><span class="id" title="definition">Universe.to_cuniv</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:9"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:15"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.to_cuniv"><span class="id" title="definition">Universe.to_cuniv</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':10"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:15"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| | <span class="id" title="var">u</span>]; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="keyword">∀</span> <a id="e:17" class="idref" href="#e:17"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.t"><span class="id" title="definition">LevelExpr.t</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v'</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:16"><span class="id" title="variable">e</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H1</span> ?<span class="id" title="var">H2</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.Universes.html#val_fold_right"><span class="id" title="lemma">val_fold_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.exprs"><span class="id" title="definition">LevelAlgExpr.exprs</span></a> <span class="id" title="var">u</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a>)); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
Lemma&nbsp;is_prop_subst_instance_level&nbsp;u&nbsp;l<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Level.is_prop&nbsp;(subst_instance_level&nbsp;u&nbsp;l)&nbsp;=&nbsp;Level.is_prop&nbsp;l.<br/>
Proof.<br/>
&nbsp;&nbsp;destruct&nbsp;l;&nbsp;cbn;&nbsp;try&nbsp;reflexivity.<br/>
&nbsp;&nbsp;destruct&nbsp;(le_lt_dec&nbsp;|u| n) as [HH|HH].
  + now rewrite nth_overflow.
  + eapply (forallb_nth _ _ _ Level.lzero Hu) in HH.
    destruct HH as [l [HH1 HH2]]. rewrite HH1. now apply ssrbool.negbTE.
Qed. *)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_expr_val" class="idref" href="#subst_instance_level_expr_val"><span class="id" title="lemma">subst_instance_level_expr_val</span></a> <a id="u:18" class="idref" href="#u:18"><span class="id" title="binder">u</span></a> <a id="expr:19" class="idref" href="#expr:19"><span class="id" title="binder">expr</span></a> <a id="v:20" class="idref" href="#v:20"><span class="id" title="binder">v</span></a> <a id="v':21" class="idref" href="#v':21"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:23" class="idref" href="#H1:23"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:22" class="idref" href="#s:22"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:20"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:22"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':21"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:22"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:25" class="idref" href="#H2:25"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:20"><span class="id" title="variable">v</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:18"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':21"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:24"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:20"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:18"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expr:19"><span class="id" title="variable">expr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':21"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expr:19"><span class="id" title="variable">expr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">expr</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>, <a class="idref" href="MetaCoq.Utils.MCList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ0_val" class="idref" href="#subst_instance_univ0_val"><span class="id" title="lemma">subst_instance_univ0_val</span></a> <a id="u:26" class="idref" href="#u:26"><span class="id" title="binder">u</span></a> <a id="exprs:27" class="idref" href="#exprs:27"><span class="id" title="binder">exprs</span></a> <a id="v:28" class="idref" href="#v:28"><span class="id" title="binder">v</span></a> <a id="v':29" class="idref" href="#v':29"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:31" class="idref" href="#H1:31"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:30" class="idref" href="#s:30"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:28"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':29"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:30"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:33" class="idref" href="#H2:33"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:28"><span class="id" title="variable">v</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:32"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:26"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':29"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:32"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:28"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:26"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:27"><span class="id" title="variable">exprs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':29"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:27"><span class="id" title="variable">exprs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">Xe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#val_le_caract"><span class="id" title="lemma">val_le_caract</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_val"><span class="id" title="lemma">subst_instance_level_expr_val</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v'</span>:=<span class="id" title="var">v'</span>); <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">exprs</span>) <span class="id" title="var">v</span> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">p1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">e</span> [<span class="id" title="var">He1</span> &lt;-]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> [<span class="id" title="var">He0</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_val"><span class="id" title="lemma">subst_instance_level_expr_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_val" class="idref" href="#subst_instance_univ_val"><span class="id" title="lemma">subst_instance_univ_val</span></a> <a id="u:34" class="idref" href="#u:34"><span class="id" title="binder">u</span></a> <a id="s:35" class="idref" href="#s:35"><span class="id" title="binder">s</span></a> <a id="v:36" class="idref" href="#v:36"><span class="id" title="binder">v</span></a> <a id="v':37" class="idref" href="#v':37"><span class="id" title="binder">v'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:39" class="idref" href="#H1:39"><span class="id" title="binder">H1</span></a> : <span class="id" title="keyword">∀</span> <a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:36"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:38"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H2:41" class="idref" href="#H2:41"><span class="id" title="binder">H2</span></a> : <span class="id" title="keyword">∀</span> <a id="n:40" class="idref" href="#n:40"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:36"><span class="id" title="variable">v</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:40"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#Universe.to_cuniv"><span class="id" title="definition">Universe.to_cuniv</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:36"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:34"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:35"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.to_cuniv"><span class="id" title="definition">Universe.to_cuniv</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v':37"><span class="id" title="variable">v'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:35"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [ | | <span class="id" title="var">exprs</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_val"><span class="id" title="lemma">subst_instance_univ0_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="subst_instance_valuation" class="idref" href="#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> (<a id="u:42" class="idref" href="#u:42"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) (<a id="v:43" class="idref" href="#v:43"><span class="id" title="binder">v</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#valuation"><span class="id" title="record">valuation</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#valuation_mono"><span class="id" title="projection">valuation_mono</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:43"><span class="id" title="variable">v</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valuation_poly"><span class="id" title="projection">valuation_poly</span></a> := <span class="id" title="keyword">fun</span> <a id="i:44" class="idref" href="#i:44"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:43"><span class="id" title="variable">v</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:44"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:42"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_val'" class="idref" href="#subst_instance_level_val'"><span class="id" title="lemma">subst_instance_level_val'</span></a> <a id="u:45" class="idref" href="#u:45"><span class="id" title="binder">u</span></a> <a id="l:46" class="idref" href="#l:46"><span class="id" title="binder">l</span></a> <a id="v:47" class="idref" href="#v:47"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:47"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:45"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:46"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:45"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:47"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:46"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_val"><span class="id" title="lemma">subst_instance_level_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ0_val'" class="idref" href="#subst_instance_univ0_val'"><span class="id" title="lemma">subst_instance_univ0_val'</span></a> <a id="u:48" class="idref" href="#u:48"><span class="id" title="binder">u</span></a> <a id="exprs:49" class="idref" href="#exprs:49"><span class="id" title="binder">exprs</span></a> <a id="v:50" class="idref" href="#v:50"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:50"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:48"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:49"><span class="id" title="variable">exprs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:48"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:50"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:49"><span class="id" title="variable">exprs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_val"><span class="id" title="lemma">subst_instance_univ0_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_val'" class="idref" href="#subst_instance_univ_val'"><span class="id" title="lemma">subst_instance_univ_val'</span></a> <a id="u:51" class="idref" href="#u:51"><span class="id" title="binder">u</span></a> <a id="l:52" class="idref" href="#l:52"><span class="id" title="binder">l</span></a> <a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#Universe.to_cuniv"><span class="id" title="definition">Universe.to_cuniv</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:53"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:51"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:52"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.to_cuniv"><span class="id" title="definition">Universe.to_cuniv</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:51"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:53"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:52"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_val"><span class="id" title="lemma">subst_instance_univ_val</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_make'" class="idref" href="#subst_instance_univ_make'"><span class="id" title="lemma">subst_instance_univ_make'</span></a> (<a id="l:54" class="idref" href="#l:54"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.t"><span class="id" title="definition">LevelExpr.t</span></a>) <a id="u:55" class="idref" href="#u:55"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:55"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.make"><span class="id" title="definition">LevelAlgExpr.make</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:54"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.make"><span class="id" title="definition">LevelAlgExpr.make</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:55"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:54"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_make" class="idref" href="#subst_instance_univ_make"><span class="id" title="lemma">subst_instance_univ_make</span></a> <a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> <a id="u:57" class="idref" href="#u:57"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:57"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:56"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:57"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:56"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="SubstUnivPreserving" class="idref" href="#SubstUnivPreserving"><span class="id" title="record">SubstUnivPreserving</span></a> <a id="Re:58" class="idref" href="#Re:58"><span class="id" title="binder">Re</span></a> := <a id="Build_SubstUnivPreserving" class="idref" href="#Build_SubstUnivPreserving"><span class="id" title="projection">Build_SubstUnivPreserving</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> <a id="u1:61" class="idref" href="#u1:61"><span class="id" title="binder">u1</span></a> <a id="u2:62" class="idref" href="#u2:62"><span class="id" title="binder">u2</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:58"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:61"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:62"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:58"><span class="id" title="variable">Re</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:61"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:60"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:62"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:60"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_equal_inst_inst" class="idref" href="#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a> <a id="Re:64" class="idref" href="#Re:64"><span class="id" title="binder">Re</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:64"><span class="id" title="variable">Re</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:65" class="idref" href="#u:65"><span class="id" title="binder">u</span></a> <a id="u1:66" class="idref" href="#u1:66"><span class="id" title="binder">u1</span></a> <a id="u2:67" class="idref" href="#u2:67"><span class="id" title="binder">u2</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:64"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:66"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:67"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:64"><span class="id" title="variable">Re</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:66"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:65"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:67"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:65"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hRe</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hRe</span> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_make"><span class="id" title="lemma">subst_instance_univ_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">IHu</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_equal_inst_global_inst" class="idref" href="#subst_equal_inst_global_inst"><span class="id" title="lemma">subst_equal_inst_global_inst</span></a> <a id="8d0ba020def2f27826d5cbe2d613c0cf" class="idref" href="#8d0ba020def2f27826d5cbe2d613c0cf"><span class="id" title="binder">Σ</span></a> <a id="Re:69" class="idref" href="#Re:69"><span class="id" title="binder">Re</span></a> <a id="Rle:70" class="idref" href="#Rle:70"><span class="id" title="binder">Rle</span></a> <a id="gr:71" class="idref" href="#gr:71"><span class="id" title="binder">gr</span></a> <a id="napp:72" class="idref" href="#napp:72"><span class="id" title="binder">napp</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">RelationClasses.Reflexive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:69"><span class="id" title="variable">Re</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:69"><span class="id" title="variable">Re</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#subrelation"><span class="id" title="class">RelationClasses.subrelation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:69"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:70"><span class="id" title="variable">Rle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:73" class="idref" href="#u:73"><span class="id" title="binder">u</span></a> <a id="u1:74" class="idref" href="#u1:74"><span class="id" title="binder">u1</span></a> <a id="u2:75" class="idref" href="#u2:75"><span class="id" title="binder">u2</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:69"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:74"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:75"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance"><span class="id" title="abbreviation">R_global_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#8d0ba020def2f27826d5cbe2d613c0cf"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:69"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:70"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:71"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:72"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:74"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:73"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:75"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:73"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">reflRe</span> <span class="id" title="var">hRe</span> <span class="id" title="var">subr</span> <span class="id" title="var">u</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">Ru1u2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">R_global_instance</span>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_gen"><span class="id" title="definition">R_global_instance_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_opt_variance"><span class="id" title="definition">R_opt_variance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#global_variance_gen"><span class="id" title="definition">global_variance_gen</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|]; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v</span> |- *; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hRe</span> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">Ru1u2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_make"><span class="id" title="lemma">subst_instance_univ_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hRe</span> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">Ru1u2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_make"><span class="id" title="lemma">subst_instance_univ_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_term_upto_univ_subst_instance" class="idref" href="#eq_term_upto_univ_subst_instance"><span class="id" title="lemma">eq_term_upto_univ_subst_instance</span></a> <a id="0e0d57bbddb84fea16244eabbdac2294" class="idref" href="#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="binder">Σ</span></a> <a id="Re:77" class="idref" href="#Re:77"><span class="id" title="binder">Re</span></a> <a id="Rle:78" class="idref" href="#Rle:78"><span class="id" title="binder">Rle</span></a> <a id="napp:79" class="idref" href="#napp:79"><span class="id" title="binder">napp</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">RelationClasses.Reflexive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:77"><span class="id" title="variable">Re</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:77"><span class="id" title="variable">Re</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#subrelation"><span class="id" title="class">RelationClasses.subrelation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:77"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:78"><span class="id" title="variable">Rle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:80" class="idref" href="#t:80"><span class="id" title="binder">t</span></a> <a id="u1:81" class="idref" href="#u1:81"><span class="id" title="binder">u1</span></a> <a id="u2:82" class="idref" href="#u2:82"><span class="id" title="binder">u2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:77"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:81"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:82"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:77"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:78"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:79"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:81"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:80"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:82"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:80"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ref</span> <span class="id" title="var">hRe</span> <span class="id" title="var">subr</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">napp</span>, <span class="id" title="var">Re</span>, <span class="id" title="var">Rle</span>, <span class="id" title="var">ref</span>, <span class="id" title="var">hRe</span>, <span class="id" title="var">subr</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_All2"><span class="id" title="lemma">All_All2</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">rdest</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt1</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt2</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">e</span> || <span class="id" title="tactic">eapply</span> <span class="id" title="var">e0</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_global_inst"><span class="id" title="lemma">subst_equal_inst_global_inst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_predicate"><span class="id" title="definition">eq_predicate</span></a> /=. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_All2"><span class="id" title="lemma">All_All2</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">rdest</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_equal_inst_inst"><span class="id" title="lemma">subst_equal_inst_inst</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">X</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eq_universe_SubstUnivPreserving" class="idref" href="#eq_universe_SubstUnivPreserving"><span class="id" title="instance">eq_universe_SubstUnivPreserving</span></a> {<a id="cf:83" class="idref" href="#cf:83"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="cb6ccfc86273c6948c0660f4085a8084" class="idref" href="#cb6ccfc86273c6948c0660f4085a8084"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cb6ccfc86273c6948c0660f4085a8084"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| | <span class="id" title="var">exprs</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="keyword">∀</span> <a id="e:86" class="idref" href="#e:86"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u1</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:85"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u2</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:85"><span class="id" title="variable">e</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l2</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">l2'</span>|]; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>, <span class="id" title="var">l2'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_nth_error_None_l"><span class="id" title="lemma">Forall2_nth_error_None_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">n</span>); [<span class="id" title="tactic">discriminate</span>|<span class="id" title="tactic">reflexivity</span>]. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">Xe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Xe</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#val_le_caract"><span class="id" title="lemma">val_le_caract</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u2</span>) <span class="id" title="var">exprs</span>) <span class="id" title="var">v</span> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">p1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">e</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>]]]. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> [<span class="id" title="var">He0</span> <span class="id" title="var">He1</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">He</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="leq_universe_SubstUnivPreserving" class="idref" href="#leq_universe_SubstUnivPreserving"><span class="id" title="instance">leq_universe_SubstUnivPreserving</span></a> {<a id="cf:87" class="idref" href="#cf:87"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="546e5580ce7d17266897eeb5ccca9094" class="idref" href="#546e5580ce7d17266897eeb5ccca9094"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#leq_universe"><span class="id" title="definition">leq_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#546e5580ce7d17266897eeb5ccca9094"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| | <span class="id" title="var">exprs</span>] <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">hu</span>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="keyword">∀</span> <a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u1</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:89"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <span class="id" title="var">u2</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:89"><span class="id" title="variable">e</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_nth_error_Some_l"><span class="id" title="lemma">Forall2_nth_error_Some_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l2</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">l2'</span>|]; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>, <span class="id" title="var">l2'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_nth_error_None_l"><span class="id" title="lemma">Forall2_nth_error_None_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>, <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">n</span>); [<span class="id" title="tactic">discriminate</span>|<span class="id" title="tactic">reflexivity</span>]. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.sub_0_r"><span class="id" title="lemma">Z.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_le"><span class="id" title="lemma">Nat2Z.inj_le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">exprs</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">val2</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> [<span class="id" title="var">inet</span> <span class="id" title="var">vale</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inet</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaCoq.Common.Universes.html#val"><span class="id" title="definition">val</span></a> <span class="id" title="var">v</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">exprs</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">val1</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#val_caract"><span class="id" title="lemma">val_caract</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq'</span> [<span class="id" title="var">e''</span> [<span class="id" title="var">ine''</span> <span class="id" title="var">vale''</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">val1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ine''</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e0</span> [<span class="id" title="var">ine0</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">e0</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="compare_universe_substu" class="idref" href="#compare_universe_substu"><span class="id" title="instance">compare_universe_substu</span></a> {<a id="cf:91" class="idref" href="#cf:91"><span class="id" title="binder">cf</span></a>} <a id="le:92" class="idref" href="#le:92"><span class="id" title="binder">le</span></a> <a id="fc189c80b71ecc5231145e0c7fc7178c" class="idref" href="#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserving"><span class="id" title="class">SubstUnivPreserving</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#compare_universe"><span class="id" title="definition">compare_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#le:92"><span class="id" title="variable">le</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fc189c80b71ecc5231145e0c7fc7178c"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">le</span>; <span class="id" title="var">tc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_def" class="idref" href="#subst_instance_def"><span class="id" title="instance">subst_instance_def</span></a> {<a id="A:94" class="idref" href="#A:94"><span class="id" title="binder">A</span></a>} `(<a id="H:95" class="idref" href="#H:95"><span class="id" title="binder">UnivSubst</span></a> <a id="H:95" class="idref" href="#H:95"><span class="id" title="binder">A</span></a>) : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:94"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:96" class="idref" href="#u:96"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:96"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:96"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_prod" class="idref" href="#subst_instance_prod"><span class="id" title="instance">subst_instance_prod</span></a> {<a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a> <a id="B:98" class="idref" href="#B:98"><span class="id" title="binder">B</span></a>} `(<a id="H:99" class="idref" href="#H:99"><span class="id" title="binder">UnivSubst</span></a> <a id="H:99" class="idref" href="#H:99"><span class="id" title="binder">A</span></a>) `(<a id="H0:100" class="idref" href="#H0:100"><span class="id" title="binder">UnivSubst</span></a> <a id="H0:100" class="idref" href="#H0:100"><span class="id" title="binder">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:97"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:98"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:101" class="idref" href="#u:101"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:101"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:101"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_nat" class="idref" href="#subst_instance_nat"><span class="id" title="instance">subst_instance_nat</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:102"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_two" class="idref" href="#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a> <a id="u1:103" class="idref" href="#u1:103"><span class="id" title="binder">u1</span></a> <a id="u2:104" class="idref" href="#u2:104"><span class="id" title="binder">u2</span></a> <a id="l:105" class="idref" href="#l:105"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:103"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:104"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:105"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:103"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:104"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:105"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth"><span class="id" title="lemma">map_nth</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <span class="id" title="var">u1</span>)); <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_expr_two" class="idref" href="#subst_instance_level_expr_two"><span class="id" title="lemma">subst_instance_level_expr_two</span></a> <a id="u1:106" class="idref" href="#u1:106"><span class="id" title="binder">u1</span></a> <a id="u2:107" class="idref" href="#u2:107"><span class="id" title="binder">u2</span></a> <a id="e:108" class="idref" href="#e:108"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:106"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:107"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:108"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:106"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:107"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e:108"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[] <span class="id" title="var">b</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ0_two" class="idref" href="#subst_instance_univ0_two"><span class="id" title="lemma">subst_instance_univ0_two</span></a> <a id="u1:109" class="idref" href="#u1:109"><span class="id" title="binder">u1</span></a> <a id="u2:110" class="idref" href="#u2:110"><span class="id" title="binder">u2</span></a> <a id="exprs:111" class="idref" href="#exprs:111"><span class="id" title="binder">exprs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:109"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:110"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:111"><span class="id" title="variable">exprs</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:109"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:110"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#exprs:111"><span class="id" title="variable">exprs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l''</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_two"><span class="id" title="lemma">subst_instance_level_expr_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>. 2: <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_two"><span class="id" title="lemma">subst_instance_level_expr_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_two" class="idref" href="#subst_instance_univ_two"><span class="id" title="lemma">subst_instance_univ_two</span></a> <a id="u1:112" class="idref" href="#u1:112"><span class="id" title="binder">u1</span></a> <a id="u2:113" class="idref" href="#u2:113"><span class="id" title="binder">u2</span></a> <a id="s:114" class="idref" href="#s:114"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:112"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:113"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:114"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:112"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:113"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:114"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_two"><span class="id" title="lemma">subst_instance_univ0_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_two_instance" class="idref" href="#subst_instance_two_instance"><span class="id" title="lemma">subst_instance_two_instance</span></a> <a id="u1:115" class="idref" href="#u1:115"><span class="id" title="binder">u1</span></a> <a id="u2:116" class="idref" href="#u2:116"><span class="id" title="binder">u2</span></a> (<a id="u:117" class="idref" href="#u:117"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:115"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:116"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:117"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:115"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:116"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:117"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_instance"><span class="id" title="instance">subst_instance_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_two" class="idref" href="#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a> <a id="u1:118" class="idref" href="#u1:118"><span class="id" title="binder">u1</span></a> <a id="u2:119" class="idref" href="#u2:119"><span class="id" title="binder">u2</span></a> (<a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:118"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:119"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:120"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:118"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:119"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:120"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_instance"><span class="id" title="lemma">subst_instance_two_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_two"><span class="id" title="lemma">subst_instance_univ_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_map_predicate"><span class="id" title="lemma">map_predicate_map_predicate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate_eq_spec"><span class="id" title="lemma">map_predicate_eq_spec</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_instance"><span class="id" title="instance">subst_instance_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_instance"><span class="id" title="lemma">subst_instance_two_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def_map_def"><span class="id" title="lemma">map_def_map_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def_map_def"><span class="id" title="lemma">map_def_map_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_two_context" class="idref" href="#subst_instance_two_context"><span class="id" title="lemma">subst_instance_two_context</span></a> <a id="u1:121" class="idref" href="#u1:121"><span class="id" title="binder">u1</span></a> <a id="u2:122" class="idref" href="#u2:122"><span class="id" title="binder">u2</span></a> (<a id="2c5c8f050a64470a889c3f533c77e693" class="idref" href="#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:121"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:122"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:121"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:122"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [] ?]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstr_two" class="idref" href="#subst_instance_cstr_two"><span class="id" title="lemma">subst_instance_cstr_two</span></a> <a id="u1:124" class="idref" href="#u1:124"><span class="id" title="binder">u1</span></a> <a id="u2:125" class="idref" href="#u2:125"><span class="id" title="binder">u2</span></a> <a id="c:126" class="idref" href="#c:126"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:124"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:125"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:126"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:124"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:125"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:126"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[? ?] ?]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_two"><span class="id" title="lemma">subst_instance_level_two</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_subst_instance_cstrs" class="idref" href="#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <a id="u:127" class="idref" href="#u:127"><span class="id" title="binder">u</span></a> <a id="c:128" class="idref" href="#c:128"><span class="id" title="binder">c</span></a> <a id="ctrs:129" class="idref" href="#ctrs:129"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:128"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:127"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:129"><span class="id" title="variable">ctrs</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c':130" class="idref" href="#c':130"><span class="id" title="binder">c'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:128"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:127"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':130"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':130"><span class="id" title="variable">c'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:129"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.fold_spec"><span class="id" title="lemma">CS.fold_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <span class="id" title="var">c</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.empty"><span class="id" title="definition">CS.empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c':132" class="idref" href="#c':132"><span class="id" title="binder">c'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':131"><span class="id" title="variable">c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':131"><span class="id" title="variable">c'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#CS.elements"><span class="id" title="definition">CS.elements</span></a> <span class="id" title="var">ctrs</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Common.Universes.html#CS.elements"><span class="id" title="definition">CS.elements</span></a> <span class="id" title="var">ctrs</span>), <a class="idref" href="MetaCoq.Common.Universes.html#CS.empty"><span class="id" title="definition">CS.empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">pcuicfo</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">etransitivity</span>. 1: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">a</span>] <span class="id" title="var">l2</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>]. 2: <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>]. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> ?]. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">c'</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">a</span>] <span class="id" title="var">l2</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">HH1</span> [?|?]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">c'</span>] <span class="id" title="var">l2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">c'</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSetFact.empty_iff"><span class="id" title="lemma">ConstraintSetFact.empty_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c':134" class="idref" href="#c':134"><span class="id" title="binder">c'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':133"><span class="id" title="variable">c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c':133"><span class="id" title="variable">c'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#CS.elements"><span class="id" title="definition">CS.elements</span></a> <span class="id" title="var">ctrs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCUtils.html#iff_ex"><span class="id" title="lemma">iff_ex</span></a>; <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#and_iff_compat_l"><span class="id" title="lemma">and_iff_compat_l</span></a>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 1: <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.elements_spec1"><span class="id" title="lemma">CS.elements_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 1: <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">SetoidList.InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [[] ?]].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_subst_instance_cstrs'" class="idref" href="#In_subst_instance_cstrs'"><span class="id" title="lemma">In_subst_instance_cstrs'</span></a> <a id="u:135" class="idref" href="#u:135"><span class="id" title="binder">u</span></a> <a id="c:136" class="idref" href="#c:136"><span class="id" title="binder">c</span></a> <a id="ctrs:137" class="idref" href="#ctrs:137"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:136"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:137"><span class="id" title="variable">ctrs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:135"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:136"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:135"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:137"><span class="id" title="variable">ctrs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstrs_two" class="idref" href="#subst_instance_cstrs_two"><span class="id" title="lemma">subst_instance_cstrs_two</span></a> <a id="u1:138" class="idref" href="#u1:138"><span class="id" title="binder">u1</span></a> <a id="u2:139" class="idref" href="#u2:139"><span class="id" title="binder">u2</span></a> <a id="ctrs:140" class="idref" href="#ctrs:140"><span class="id" title="binder">ctrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:138"><span class="id" title="variable">u1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:139"><span class="id" title="variable">u2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:140"><span class="id" title="variable">ctrs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u1:138"><span class="id" title="variable">u1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u2:139"><span class="id" title="variable">u2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:140"><span class="id" title="variable">ctrs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c''</span> [<span class="id" title="var">eq'</span> <span class="id" title="var">Hc''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">c''</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstr_two"><span class="id" title="lemma">subst_instance_cstr_two</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <span class="id" title="var">u2</span> <span class="id" title="var">c'</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstr_two"><span class="id" title="lemma">subst_instance_cstr_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs'"><span class="id" title="lemma">In_subst_instance_cstrs'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prop_subst_instance_univ" class="idref" href="#is_prop_subst_instance_univ"><span class="id" title="lemma">is_prop_subst_instance_univ</span></a> <a id="u:141" class="idref" href="#u:141"><span class="id" title="binder">u</span></a> <a id="l:142" class="idref" href="#l:142"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_prop"><span class="id" title="definition">Universe.is_prop</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:141"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:142"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_prop"><span class="id" title="definition">Universe.is_prop</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:142"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_sprop_subst_instance_univ" class="idref" href="#is_sprop_subst_instance_univ"><span class="id" title="lemma">is_sprop_subst_instance_univ</span></a> <a id="u:143" class="idref" href="#u:143"><span class="id" title="binder">u</span></a> <a id="l:144" class="idref" href="#l:144"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_sprop"><span class="id" title="definition">Universe.is_sprop</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:143"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:144"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_sprop"><span class="id" title="definition">Universe.is_sprop</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:144"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prop_subst_instance" class="idref" href="#is_prop_subst_instance"><span class="id" title="lemma">is_prop_subst_instance</span></a> <a id="u:145" class="idref" href="#u:145"><span class="id" title="binder">u</span></a> <a id="x0:146" class="idref" href="#x0:146"><span class="id" title="binder">x0</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_prop"><span class="id" title="definition">Universe.is_prop</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x0:146"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.is_prop"><span class="id" title="definition">Universe.is_prop</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:145"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x0:146"><span class="id" title="variable">x0</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_prop_subst_instance_univ"><span class="id" title="lemma">is_prop_subst_instance_univ</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sup_subst_instance_univ0" class="idref" href="#sup_subst_instance_univ0"><span class="id" title="lemma">sup_subst_instance_univ0</span></a> <a id="u:147" class="idref" href="#u:147"><span class="id" title="binder">u</span></a> <a id="s1:148" class="idref" href="#s1:148"><span class="id" title="binder">s1</span></a> <a id="s2:149" class="idref" href="#s2:149"><span class="id" title="binder">s2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:147"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.sup"><span class="id" title="definition">LevelAlgExpr.sup</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:148"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:149"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.sup"><span class="id" title="definition">LevelAlgExpr.sup</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:147"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:148"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:147"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:149"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.union_spec"><span class="id" title="lemma">LevelExprSet.union_spec</span></a>|<span class="id" title="tactic">reflexivity</span>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sup_subst_instance_univ" class="idref" href="#sup_subst_instance_univ"><span class="id" title="lemma">sup_subst_instance_univ</span></a> <a id="u:150" class="idref" href="#u:150"><span class="id" title="binder">u</span></a> <a id="s1:151" class="idref" href="#s1:151"><span class="id" title="binder">s1</span></a> <a id="s2:152" class="idref" href="#s2:152"><span class="id" title="binder">s2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:150"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.sup"><span class="id" title="definition">Universe.sup</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:151"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:152"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.sup"><span class="id" title="definition">Universe.sup</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:150"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:151"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:150"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:152"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>, <span class="id" title="var">s2</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sup_subst_instance_univ0"><span class="id" title="lemma">sup_subst_instance_univ0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_declared" class="idref" href="#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> {<a id="cf:153" class="idref" href="#cf:153"><span class="id" title="binder">cf</span></a>: <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="lvs:154" class="idref" href="#lvs:154"><span class="id" title="binder">lvs</span></a> <a id="de104cc1778c855661b0a8a69237568f" class="idref" href="#de104cc1778c855661b0a8a69237568f"><span class="id" title="binder">φ</span></a> <a id="uctx:156" class="idref" href="#uctx:156"><span class="id" title="binder">uctx</span></a> <a id="u:157" class="idref" href="#u:157"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#lvs:154"><span class="id" title="variable">lvs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#de104cc1778c855661b0a8a69237568f"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#uctx:156"><span class="id" title="variable">uctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:157"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="l:158" class="idref" href="#l:158"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem"><span class="id" title="definition">LS.mem</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:158"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#lvs:154"><span class="id" title="variable">lvs</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:157"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">uctx</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">ctx</span>].<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_level_notin_AUContext" class="idref" href="#monomorphic_level_notin_AUContext"><span class="id" title="lemma">monomorphic_level_notin_AUContext</span></a> <a id="s:159" class="idref" href="#s:159"><span class="id" title="binder">s</span></a> <a id="e95d2176f352825d7e1918b1fec3e227" class="idref" href="#e95d2176f352825d7e1918b1fec3e227"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:159"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#AUContext.levels"><span class="id" title="definition">AUContext.levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e95d2176f352825d7e1918b1fec3e227"><span class="id" title="variable">φ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [φ1 φ2].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelSetProp.of_list_1"><span class="id" title="lemma">LevelSetProp.of_list_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">SetoidList.InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [? <span class="id" title="var">H</span>]]; <span class="id" title="tactic">subst</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>; <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> φ1; <span class="id" title="var">cbn</span>. 1: <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="satisfies_equal_sets" class="idref" href="#satisfies_equal_sets"><span class="id" title="instance">satisfies_equal_sets</span></a> <a id="v:161" class="idref" href="#v:161"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#respectful"><span class="id" title="definition">Morphisms.respectful</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:161"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ1 φ2 <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HH</span>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="satisfies_subsets" class="idref" href="#satisfies_subsets"><span class="id" title="instance">satisfies_subsets</span></a> <a id="v:162" class="idref" href="#v:162"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#respectful"><span class="id" title="definition">Morphisms.respectful</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#CS.Subset"><span class="id" title="definition">CS.Subset</span></a> (<span class="id" title="keyword">fun</span> <a id="A:163" class="idref" href="#A:163"><span class="id" title="binder">A</span></a> <a id="B:164" class="idref" href="#B:164"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Prop</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:164"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:163"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:162"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ1 φ2 <span class="id" title="var">H</span> <span class="id" title="var">H2</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_instance_cstrs_two</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">satisfies_equal_sets</span> <span class="id" title="var">satisfies_subsets</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="satisfies0_subst_instance_ctr" class="idref" href="#satisfies0_subst_instance_ctr"><span class="id" title="lemma">satisfies0_subst_instance_ctr</span></a> <a id="u:165" class="idref" href="#u:165"><span class="id" title="binder">u</span></a> <a id="v:166" class="idref" href="#v:166"><span class="id" title="binder">v</span></a> <a id="c:167" class="idref" href="#c:167"><span class="id" title="binder">c</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#satisfies0"><span class="id" title="inductive">satisfies0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:166"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:165"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:167"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies0"><span class="id" title="inductive">satisfies0</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:165"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:166"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:167"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> []] <span class="id" title="var">l2</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_val'"><span class="id" title="lemma">subst_instance_level_val'</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_val'"><span class="id" title="lemma">subst_instance_level_val'</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="satisfies_subst_instance_ctr" class="idref" href="#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a> <a id="u:168" class="idref" href="#u:168"><span class="id" title="binder">u</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a> <a id="ctrs:170" class="idref" href="#ctrs:170"><span class="id" title="binder">ctrs</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:169"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:168"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:170"><span class="id" title="variable">ctrs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:168"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:169"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctrs:170"><span class="id" title="variable">ctrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies0_subst_instance_ctr"><span class="id" title="lemma">satisfies0_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">c</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [? <span class="id" title="var">Hc'</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies0_subst_instance_ctr"><span class="id" title="lemma">satisfies0_subst_instance_ctr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
global constraints are monomorphic 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_var_global_levels" class="idref" href="#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> {<a id="cf:171" class="idref" href="#cf:171"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="0646a2f53c44ced826a07974c20c1488" class="idref" href="#0646a2f53c44ced826a07974c20c1488"><span class="id" title="binder">Σ</span></a>} (<a id="61a54e9d2f82c5dac6c112a0191a2cc3" class="idref" href="#61a54e9d2f82c5dac6c112a0191a2cc3"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0646a2f53c44ced826a07974c20c1488"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LS.For_all"><span class="id" title="definition">LS.For_all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0646a2f53c44ced826a07974c20c1488"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">onu</span> <span class="id" title="var">ond</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">onu</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_ext_wk" class="idref" href="#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> {<a id="cf:174" class="idref" href="#cf:174"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="cf27ef0062d81b64261862fc44ce9c90" class="idref" href="#cf27ef0062d81b64261862fc44ce9c90"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cf27ef0062d81b64261862fc44ce9c90"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#on_udecl_prop"><span class="id" title="definition">on_udecl_prop</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cf27ef0062d81b64261862fc44ce9c90"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cf27ef0062d81b64261862fc44ce9c90"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_ext_wk_wf" class="idref" href="#wf_ext_wk_wf"><span class="id" title="lemma">wf_ext_wk_wf</span></a> {<a id="cf:176" class="idref" href="#cf:176"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="80c4883e819c4171f815880acf571a9a" class="idref" href="#80c4883e819c4171f815880acf571a9a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">wf_ext_wk_wf</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_var_global_ext_levels" class="idref" href="#not_var_global_ext_levels"><span class="id" title="lemma">not_var_global_ext_levels</span></a> {<a id="cf:178" class="idref" href="#cf:178"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="1e1aaa9c2472685a6034e69f58121c1e" class="idref" href="#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="binder">Σ</span></a> (<a id="03c348986b29627fe5d8181a35104299" class="idref" href="#03c348986b29627fe5d8181a35104299"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LS.For_all"><span class="id" title="definition">LS.For_all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hΣ</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="levels_global_constraint" class="idref" href="#levels_global_constraint"><span class="id" title="lemma">levels_global_constraint</span></a> {<a id="cf:181" class="idref" href="#cf:181"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="a79e40464235e89aff1db6e8d131ce66" class="idref" href="#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="binder">Σ</span></a> (<a id="ecac4268dea11ae153e45b0787190ad7" class="idref" href="#ecac4268dea11ae153e45b0787190ad7"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a>) <a id="c:184" class="idref" href="#c:184"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:184"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:184"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:184"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a79e40464235e89aff1db6e8d131ce66"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hΣ</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">c</span> <span class="id" title="var">inc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span> <span class="id" title="var">eq</span>] <span class="id" title="var">r</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="levels_global_ext_constraint" class="idref" href="#levels_global_ext_constraint"><span class="id" title="lemma">levels_global_ext_constraint</span></a> {<a id="cf:185" class="idref" href="#cf:185"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="f95f1e88d28d837cd72b8674833b46fb" class="idref" href="#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="binder">Σ</span></a> <a id="913bbde52bc9d7d991fadd990a5309bb" class="idref" href="#913bbde52bc9d7d991fadd990a5309bb"><span class="id" title="binder">φ</span></a> (<a id="8ea0fba15b6c11907801944490137dc6" class="idref" href="#8ea0fba15b6c11907801944490137dc6"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#913bbde52bc9d7d991fadd990a5309bb"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a id="c:189" class="idref" href="#c:189"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:189"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#913bbde52bc9d7d991fadd990a5309bb"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:189"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#913bbde52bc9d7d991fadd990a5309bb"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:189"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#913bbde52bc9d7d991fadd990a5309bb"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hΣ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hΣ</span> <span class="id" title="var">H</span>φ], <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>φ. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l1</span> <span class="id" title="var">c</span>] <span class="id" title="var">l2</span>]; <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span>φ <span class="id" title="var">_</span> <span class="id" title="var">Hc</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#levels_global_constraint"><span class="id" title="lemma">levels_global_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_monomorphic_cstr" class="idref" href="#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> (<a id="c:190" class="idref" href="#c:190"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivConstraint.t"><span class="id" title="definition">UnivConstraint.t</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:190"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.is_var"><span class="id" title="definition">Level.is_var</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:190"><span class="id" title="variable">c</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_global_constraint" class="idref" href="#monomorphic_global_constraint"><span class="id" title="lemma">monomorphic_global_constraint</span></a> {<a id="cf:191" class="idref" href="#cf:191"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="7a30855d6487ab608271d9196ba33291" class="idref" href="#7a30855d6487ab608271d9196ba33291"><span class="id" title="binder">Σ</span></a> (<a id="89e07726ca65fa1dba390c4d964c2c2d" class="idref" href="#89e07726ca65fa1dba390c4d964c2c2d"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>) <a id="c:194" class="idref" href="#c:194"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:194"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_constraints"><span class="id" title="definition">global_constraints</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7a30855d6487ab608271d9196ba33291"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:194"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#levels_global_constraint"><span class="id" title="lemma">levels_global_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_global_constraint_ext" class="idref" href="#monomorphic_global_constraint_ext"><span class="id" title="lemma">monomorphic_global_constraint_ext</span></a> {<a id="cf:195" class="idref" href="#cf:195"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="0d82cc8b7f207b2b18c7ca2bdebdd1ca" class="idref" href="#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="bb05bfeef388150043e9e0b1375e6537" class="idref" href="#bb05bfeef388150043e9e0b1375e6537"><span class="id" title="binder">hΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a id="c:198" class="idref" href="#c:198"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.In"><span class="id" title="definition">CS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:198"><span class="id" title="variable">c</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:198"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#levels_global_ext_constraint"><span class="id" title="lemma">levels_global_ext_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_ext_levels"><span class="id" title="lemma">not_var_global_ext_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_ext_levels"><span class="id" title="lemma">not_var_global_ext_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">monomorphic_global_constraint</span> <span class="id" title="var">monomorphic_global_constraint_ext</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_monom_cstr" class="idref" href="#subst_instance_monom_cstr"><span class="id" title="lemma">subst_instance_monom_cstr</span></a> <a id="inst:199" class="idref" href="#inst:199"><span class="id" title="binder">inst</span></a> <a id="c:200" class="idref" href="#c:200"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:200"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:199"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:200"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:200"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[[] ?] []]; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equal_subst_instance_cstrs_mono" class="idref" href="#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a> <a id="u:201" class="idref" href="#u:201"><span class="id" title="binder">u</span></a> <a id="cstrs:202" class="idref" href="#cstrs:202"><span class="id" title="binder">cstrs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.For_all"><span class="id" title="definition">CS.For_all</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_monomorphic_cstr"><span class="id" title="definition">is_monomorphic_cstr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cstrs:202"><span class="id" title="variable">cstrs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:201"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cstrs:202"><span class="id" title="variable">cstrs</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cstrs:202"><span class="id" title="variable">cstrs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">c</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc'</span>]]. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_monom_cstr"><span class="id" title="lemma">subst_instance_monom_cstr</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_monom_cstr"><span class="id" title="lemma">subst_instance_monom_cstr</span></a>; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstrs_union" class="idref" href="#subst_instance_cstrs_union"><span class="id" title="lemma">subst_instance_cstrs_union</span></a> <a id="u:203" class="idref" href="#u:203"><span class="id" title="binder">u</span></a> <a id="b8ce66a24bbaf47a23138b90a28018e2" class="idref" href="#b8ce66a24bbaf47a23138b90a28018e2"><span class="id" title="binder">φ</span></a> <a id="cfc5380489f9de4c3ece9bb36bff8c1d" class="idref" href="#cfc5380489f9de4c3ece9bb36bff8c1d"><span class="id" title="binder">φ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:203"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#CS.union"><span class="id" title="definition">CS.union</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b8ce66a24bbaf47a23138b90a28018e2"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cfc5380489f9de4c3ece9bb36bff8c1d"><span class="id" title="variable">φ'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#CS.union"><span class="id" title="definition">CS.union</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:203"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b8ce66a24bbaf47a23138b90a28018e2"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:203"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cfc5380489f9de4c3ece9bb36bff8c1d"><span class="id" title="variable">φ'</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> [<span class="id" title="var">eq</span> <span class="id" title="var">Hc</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs'"><span class="id" title="lemma">In_subst_instance_cstrs'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span>|<span class="id" title="var">Hc</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance_cstrs"><span class="id" title="lemma">In_subst_instance_cstrs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span>[<span class="id" title="var">eq</span> <span class="id" title="var">Hc</span>]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">c'</span>; <span class="id" title="var">aa</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.union_spec"><span class="id" title="lemma">CS.union_spec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.For_all"><span class="id" title="definition">CS.For_all</span></a> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_context_set" class="idref" href="#sub_context_set"><span class="id" title="definition">sub_context_set</span></a> (<a id="361dc4dd02400eb70497f808bfe3ab8e" class="idref" href="#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="binder">φ</span></a> <a id="1aa4d47dcb6b85ab0126e9c9a9d88c92" class="idref" href="#1aa4d47dcb6b85ab0126e9c9a9d88c92"><span class="id" title="binder">φ'</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="MetaCoq.Common.Universes.html#LS.Subset"><span class="id" title="definition">LS.Subset</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="variable">φ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1aa4d47dcb6b85ab0126e9c9a9d88c92"><span class="id" title="variable">φ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#CS.Subset"><span class="id" title="definition">CS.Subset</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#361dc4dd02400eb70497f808bfe3ab8e"><span class="id" title="variable">φ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1aa4d47dcb6b85ab0126e9c9a9d88c92"><span class="id" title="variable">φ'</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_ext_context_set" class="idref" href="#global_ext_context_set"><span class="id" title="definition">global_ext_context_set</span></a> <a id="6de8d10d47b483c72089211e79fa533d" class="idref" href="#6de8d10d47b483c72089211e79fa533d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6de8d10d47b483c72089211e79fa533d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6de8d10d47b483c72089211e79fa533d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="sub_context_set_trans" class="idref" href="#sub_context_set_trans"><span class="id" title="instance">sub_context_set_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">RelationClasses.Transitive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sub_context_set"><span class="id" title="definition">sub_context_set</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; (<span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_ext_trans_polymorphic_case_aux" class="idref" href="#consistent_ext_trans_polymorphic_case_aux"><span class="id" title="lemma">consistent_ext_trans_polymorphic_case_aux</span></a> {<a id="cf:209" class="idref" href="#cf:209"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="703ced0ccdad0e4804ae8133a96c9a8d" class="idref" href="#703ced0ccdad0e4804ae8133a96c9a8d"><span class="id" title="binder">Σ</span></a> <a id="522fd4ad3508d839fcfcd381488e79cb" class="idref" href="#522fd4ad3508d839fcfcd381488e79cb"><span class="id" title="binder">φ1</span></a> <a id="e8ed26b3495a70a51dbbe49b67bc9316" class="idref" href="#e8ed26b3495a70a51dbbe49b67bc9316"><span class="id" title="binder">φ2</span></a> <a id="5c8d5e0aabc500a97706b0b793c8bf44" class="idref" href="#5c8d5e0aabc500a97706b0b793c8bf44"><span class="id" title="binder">φ'</span></a> <a id="udecl:214" class="idref" href="#udecl:214"><span class="id" title="binder">udecl</span></a> <a id="inst:215" class="idref" href="#inst:215"><span class="id" title="binder">inst</span></a> <a id="inst':216" class="idref" href="#inst':216"><span class="id" title="binder">inst'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#703ced0ccdad0e4804ae8133a96c9a8d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#522fd4ad3508d839fcfcd381488e79cb"><span class="id" title="variable">φ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e8ed26b3495a70a51dbbe49b67bc9316"><span class="id" title="variable">φ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#703ced0ccdad0e4804ae8133a96c9a8d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#522fd4ad3508d839fcfcd381488e79cb"><span class="id" title="variable">φ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e8ed26b3495a70a51dbbe49b67bc9316"><span class="id" title="variable">φ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:215"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:214"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#703ced0ccdad0e4804ae8133a96c9a8d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5c8d5e0aabc500a97706b0b793c8bf44"><span class="id" title="variable">φ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':216"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e8ed26b3495a70a51dbbe49b67bc9316"><span class="id" title="variable">φ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#703ced0ccdad0e4804ae8133a96c9a8d"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5c8d5e0aabc500a97706b0b793c8bf44"><span class="id" title="variable">φ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':216"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:215"><span class="id" title="variable">inst</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:214"><span class="id" title="variable">udecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HΣ</span> <span class="id" title="var">H</span>φ] <span class="id" title="var">H3</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstrs_two"><span class="id" title="lemma">subst_instance_cstrs_two</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_ext_trans_polymorphic_cases" class="idref" href="#consistent_ext_trans_polymorphic_cases"><span class="id" title="lemma">consistent_ext_trans_polymorphic_cases</span></a> {<a id="cf:217" class="idref" href="#cf:217"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="ccf293e838f888857628a551bd743fea" class="idref" href="#ccf293e838f888857628a551bd743fea"><span class="id" title="binder">Σ</span></a> <a id="b7b6f2d7d751f84a74bc7d2e3a1cd0de" class="idref" href="#b7b6f2d7d751f84a74bc7d2e3a1cd0de"><span class="id" title="binder">φ</span></a> <a id="2a6733dc3426826b691625328f2d3fc5" class="idref" href="#2a6733dc3426826b691625328f2d3fc5"><span class="id" title="binder">φ'</span></a> <a id="udecl:221" class="idref" href="#udecl:221"><span class="id" title="binder">udecl</span></a> <a id="inst:222" class="idref" href="#inst:222"><span class="id" title="binder">inst</span></a> <a id="inst':223" class="idref" href="#inst':223"><span class="id" title="binder">inst'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b7b6f2d7d751f84a74bc7d2e3a1cd0de"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b7b6f2d7d751f84a74bc7d2e3a1cd0de"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:221"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:222"><span class="id" title="variable">inst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2a6733dc3426826b691625328f2d3fc5"><span class="id" title="variable">φ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b7b6f2d7d751f84a74bc7d2e3a1cd0de"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':223"><span class="id" title="variable">inst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccf293e838f888857628a551bd743fea"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2a6733dc3426826b691625328f2d3fc5"><span class="id" title="variable">φ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:221"><span class="id" title="variable">udecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':223"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:222"><span class="id" title="variable">inst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span>φ [<span class="id" title="var">H</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H1</span>]] <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_instance_length"><span class="id" title="lemma">subst_instance_instance_length</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>. <span class="comment">(*&nbsp;unfold&nbsp;global_ext_levels&nbsp;in&nbsp;*;&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span> <span class="id" title="var">H2</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet_mem_union"><span class="id" title="definition">LevelSet_mem_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet_mem_union"><span class="id" title="definition">LevelSet_mem_union</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_nth'"><span class="id" title="lemma">forallb_nth'</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [[? [<span class="id" title="var">H2</span> ?]]|<span class="id" title="var">H2</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;×  <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [|[φ1 φ2]]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSetFact.empty_iff"><span class="id" title="lemma">LevelSetFact.empty_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_AUContext"><span class="id" title="lemma">monomorphic_level_notin_AUContext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_nth'"><span class="id" title="lemma">forallb_nth'</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [[? [<span class="id" title="var">H2</span> ?]]|<span class="id" title="var">H2</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>; [|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [|[φ1 φ2]]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_cstrs_two"><span class="id" title="lemma">subst_instance_cstrs_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">Hc</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_ext_trans_polymorphic_case_aux"><span class="id" title="lemma">consistent_ext_trans_polymorphic_case_aux</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_ext_trans" class="idref" href="#consistent_ext_trans"><span class="id" title="lemma">consistent_ext_trans</span></a> {<a id="cf:224" class="idref" href="#cf:224"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="490ea76ac5c86918c37df463e85f2225" class="idref" href="#490ea76ac5c86918c37df463e85f2225"><span class="id" title="binder">Σ</span></a> <a id="af1a414bf4108f8b948def361cb0ffff" class="idref" href="#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="binder">φ</span></a> <a id="829586603c8118e5505866e99decac4b" class="idref" href="#829586603c8118e5505866e99decac4b"><span class="id" title="binder">φ'</span></a> <a id="udecl:228" class="idref" href="#udecl:228"><span class="id" title="binder">udecl</span></a> <a id="inst:229" class="idref" href="#inst:229"><span class="id" title="binder">inst</span></a> <a id="inst':230" class="idref" href="#inst':230"><span class="id" title="binder">inst'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:228"><span class="id" title="variable">udecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:229"><span class="id" title="variable">inst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#829586603c8118e5505866e99decac4b"><span class="id" title="variable">φ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':230"><span class="id" title="variable">inst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#490ea76ac5c86918c37df463e85f2225"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#829586603c8118e5505866e99decac4b"><span class="id" title="variable">φ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:228"><span class="id" title="variable">udecl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst':230"><span class="id" title="variable">inst'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:229"><span class="id" title="variable">inst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span>φ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">udecl</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">udecl</span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;udecl&nbsp;monomorphic&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;udecl&nbsp;polymorphic&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_ext_trans_polymorphic_cases"><span class="id" title="lemma">consistent_ext_trans_polymorphic_cases</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">consistent_ext_trans</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_valid_constraints" class="idref" href="#consistent_instance_valid_constraints"><span class="id" title="lemma">consistent_instance_valid_constraints</span></a> {<a id="cf:231" class="idref" href="#cf:231"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="25d4a4e1ff9e4bc0ce3937ee94e865bf" class="idref" href="#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="binder">Σ</span></a> <a id="22777315961f5b8542fe8d6082d87198" class="idref" href="#22777315961f5b8542fe8d6082d87198"><span class="id" title="binder">φ</span></a> <a id="u:234" class="idref" href="#u:234"><span class="id" title="binder">u</span></a> <a id="univs:235" class="idref" href="#univs:235"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22777315961f5b8542fe8d6082d87198"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:235"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22777315961f5b8542fe8d6082d87198"><span class="id" title="variable">φ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:234"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:235"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:234"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#25d4a4e1ff9e4bc0ce3937ee94e865bf"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#22777315961f5b8542fe8d6082d87198"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a>; <span class="id" title="var">case_eq</span> <a class="idref" href="MetaCoq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>; [<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcf</span>|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [|[φ1 φ2]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">csets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="var">csets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies_union"><span class="id" title="lemma">satisfies_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#equal_subst_instance_cstrs_mono"><span class="id" title="lemma">equal_subst_instance_cstrs_mono</span></a>; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">consistent_instance_valid_constraints</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="SubstUnivPreserved" class="idref" href="#SubstUnivPreserved"><span class="id" title="record">SubstUnivPreserved</span></a> {<a id="cf:236" class="idref" href="#cf:236"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="A:237" class="idref" href="#A:237"><span class="id" title="binder">A</span></a>} `{<a id="H:238" class="idref" href="#H:238"><span class="id" title="binder">UnivSubst</span></a> <a id="H:238" class="idref" href="#H:238"><span class="id" title="binder">A</span></a>} (<a id="R:239" class="idref" href="#R:239"><span class="id" title="binder">R</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#crelation"><span class="id" title="definition">crelation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:237"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;:= <a id="Build_SubstUnivPreserved" class="idref" href="#Build_SubstUnivPreserved"><span class="id" title="projection">Build_SubstUnivPreserved</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="73086d21e208e46b053616436ea348b6" class="idref" href="#73086d21e208e46b053616436ea348b6"><span class="id" title="binder">φ</span></a> <a id="ccb2b7852cd2f21a4822bcea32316935" class="idref" href="#ccb2b7852cd2f21a4822bcea32316935"><span class="id" title="binder">φ'</span></a> (<a id="u:243" class="idref" href="#u:243"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#Instance.t"><span class="id" title="definition">Instance.t</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ccb2b7852cd2f21a4822bcea32316935"><span class="id" title="variable">φ'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:243"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#73086d21e208e46b053616436ea348b6"><span class="id" title="variable">φ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#subrelation"><span class="id" title="class">subrelation</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#R:239"><span class="id" title="variable">R</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#73086d21e208e46b053616436ea348b6"><span class="id" title="variable">φ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">R</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">φ')</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="satisfies_subst_instance" class="idref" href="#satisfies_subst_instance"><span class="id" title="lemma">satisfies_subst_instance</span></a> {<a id="cf:245" class="idref" href="#cf:245"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="b4ba3b0513aa24b92226afd306a3b7b1" class="idref" href="#b4ba3b0513aa24b92226afd306a3b7b1"><span class="id" title="binder">φ</span></a> <a id="7e070bf81992802b08e394c24c3e6111" class="idref" href="#7e070bf81992802b08e394c24c3e6111"><span class="id" title="binder">φ'</span></a> <a id="u:248" class="idref" href="#u:248"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e070bf81992802b08e394c24c3e6111"><span class="id" title="variable">φ'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:248"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b4ba3b0513aa24b92226afd306a3b7b1"><span class="id" title="variable">φ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="v:249" class="idref" href="#v:249"><span class="id" title="binder">v</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:249"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7e070bf81992802b08e394c24c3e6111"><span class="id" title="variable">φ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_valuation"><span class="id" title="definition">subst_instance_valuation</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:248"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#v:249"><span class="id" title="variable">v</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b4ba3b0513aa24b92226afd306a3b7b1"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcf</span> <span class="id" title="var">HH</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance_ctr"><span class="id" title="lemma">satisfies_subst_instance_ctr</span></a>; <span class="id" title="var">aa</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="leq_universe_subst_instance" class="idref" href="#leq_universe_subst_instance"><span class="id" title="instance">leq_universe_subst_instance</span></a> {<a id="cf:250" class="idref" href="#cf:250"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#leq_universe"><span class="id" title="definition">leq_universe</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> [| | <span class="id" title="var">exprs</span>] [| | <span class="id" title="var">exprs'</span>] <span class="id" title="var">Hle</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_val'"><span class="id" title="lemma">subst_instance_univ0_val'</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance"><span class="id" title="lemma">satisfies_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eq_universe_subst_instance" class="idref" href="#eq_universe_subst_instance"><span class="id" title="instance">eq_universe_subst_instance</span></a> {<a id="cf:251" class="idref" href="#cf:251"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#eq_universe"><span class="id" title="definition">eq_universe</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> [| | <span class="id" title="var">exprs</span>] [| | <span class="id" title="var">exprs'</span>] <span class="id" title="var">Hle</span>; <span class="id" title="var">cbnr</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_val'"><span class="id" title="lemma">subst_instance_univ0_val'</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance"><span class="id" title="lemma">satisfies_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="precompose_subst_instance" class="idref" href="#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a> <a id="Rle:252" class="idref" href="#Rle:252"><span class="id" title="binder">Rle</span></a> <a id="u:253" class="idref" href="#u:253"><span class="id" title="binder">u</span></a> <a id="i:254" class="idref" href="#i:254"><span class="id" title="binder">i</span></a> <a id="i':255" class="idref" href="#i':255"><span class="id" title="binder">i'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">R_universe_instance</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Rle</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">i</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">i'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a> (<a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Rle</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:254"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':255"><span class="id" title="variable">i'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance"><span class="id" title="definition">R_universe_instance</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">i'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.make"><span class="id" title="definition">Universe.make</span></a> <span class="id" title="var">i'</span>)).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_map_inv"><span class="id" title="lemma">Forall2_map_inv</span></a>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_map"><span class="id" title="lemma">Forall2_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_make"><span class="id" title="lemma">subst_instance_univ_make</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance__1" class="idref" href="#precompose_subst_instance__1"><span class="id" title="definition">precompose_subst_instance__1</span></a> <a id="Rle:256" class="idref" href="#Rle:256"><span class="id" title="binder">Rle</span></a> <a id="u:257" class="idref" href="#u:257"><span class="id" title="binder">u</span></a> <a id="i:258" class="idref" href="#i:258"><span class="id" title="binder">i</span></a> <a id="i':259" class="idref" href="#i':259"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:256"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:257"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:258"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':259"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance__2" class="idref" href="#precompose_subst_instance__2"><span class="id" title="definition">precompose_subst_instance__2</span></a> <a id="Rle:260" class="idref" href="#Rle:260"><span class="id" title="binder">Rle</span></a> <a id="u:261" class="idref" href="#u:261"><span class="id" title="binder">u</span></a> <a id="i:262" class="idref" href="#i:262"><span class="id" title="binder">i</span></a> <a id="i':263" class="idref" href="#i':263"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:260"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:261"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:262"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':263"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_expr_make" class="idref" href="#subst_instance_level_expr_make"><span class="id" title="lemma">subst_instance_level_expr_make</span></a> <a id="u:264" class="idref" href="#u:264"><span class="id" title="binder">u</span></a> <a id="l:265" class="idref" href="#l:265"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level_expr"><span class="id" title="instance">subst_instance_level_expr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:264"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:265"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:264"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:265"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_nth_error"><span class="id" title="lemma">nth_nth_error</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_make'_make" class="idref" href="#subst_instance_make'_make"><span class="id" title="lemma">subst_instance_make'_make</span></a> <a id="u:266" class="idref" href="#u:266"><span class="id" title="binder">u</span></a> <a id="l:267" class="idref" href="#l:267"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:266"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.make"><span class="id" title="definition">LevelAlgExpr.make</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:267"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.make"><span class="id" title="definition">LevelAlgExpr.make</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.make"><span class="id" title="definition">LevelExpr.make</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:266"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:267"><span class="id" title="variable">l</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ_make'"><span class="id" title="lemma">subst_instance_univ_make'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_expr_make"><span class="id" title="lemma">subst_instance_level_expr_make</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="precompose_subst_instance_global" class="idref" href="#precompose_subst_instance_global"><span class="id" title="lemma">precompose_subst_instance_global</span></a> <a id="1c0e4273414546d17228b89ae2055cf6" class="idref" href="#1c0e4273414546d17228b89ae2055cf6"><span class="id" title="binder">Σ</span></a> <a id="Re:269" class="idref" href="#Re:269"><span class="id" title="binder">Re</span></a> <a id="Rle:270" class="idref" href="#Rle:270"><span class="id" title="binder">Rle</span></a> <a id="gr:271" class="idref" href="#gr:271"><span class="id" title="binder">gr</span></a> <a id="napp:272" class="idref" href="#napp:272"><span class="id" title="binder">napp</span></a> <a id="u:273" class="idref" href="#u:273"><span class="id" title="binder">u</span></a> <a id="i:274" class="idref" href="#i:274"><span class="id" title="binder">i</span></a> <a id="i':275" class="idref" href="#i':275"><span class="id" title="binder">i'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">R_global_instance</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Re</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Rle</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">gr</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">napp</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">i</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">i'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance"><span class="id" title="abbreviation">R_global_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1c0e4273414546d17228b89ae2055cf6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Re</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">precompose</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">Rle</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">u</span></a><a class="idref" href="MetaCoq.Utils.MCRelations.html#:::'precompose'"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:271"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:272"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:274"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':275"><span class="id" title="variable">i'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">R_global_instance</span>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_gen"><span class="id" title="definition">R_global_instance_gen</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_opt_variance"><span class="id" title="definition">R_opt_variance</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#global_variance_gen"><span class="id" title="definition">global_variance_gen</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i'</span>, <span class="id" title="var">v</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">i'</span>, <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i'</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_make'_make"><span class="id" title="lemma">subst_instance_make'_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_make'_make"><span class="id" title="lemma">subst_instance_make'_make</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i'</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_make'_make"><span class="id" title="lemma">subst_instance_make'_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_make'_make"><span class="id" title="lemma">subst_instance_make'_make</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance_global__1" class="idref" href="#precompose_subst_instance_global__1"><span class="id" title="definition">precompose_subst_instance_global__1</span></a> <a id="be195ed1aa023b3a5afc2ee39bc7a9f9" class="idref" href="#be195ed1aa023b3a5afc2ee39bc7a9f9"><span class="id" title="binder">Σ</span></a> <a id="Re:277" class="idref" href="#Re:277"><span class="id" title="binder">Re</span></a> <a id="Rle:278" class="idref" href="#Rle:278"><span class="id" title="binder">Rle</span></a> <a id="gr:279" class="idref" href="#gr:279"><span class="id" title="binder">gr</span></a> <a id="napp:280" class="idref" href="#napp:280"><span class="id" title="binder">napp</span></a> <a id="u:281" class="idref" href="#u:281"><span class="id" title="binder">u</span></a> <a id="i:282" class="idref" href="#i:282"><span class="id" title="binder">i</span></a> <a id="i':283" class="idref" href="#i':283"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global"><span class="id" title="lemma">precompose_subst_instance_global</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#be195ed1aa023b3a5afc2ee39bc7a9f9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:277"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:278"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:279"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:280"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:281"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:282"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':283"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="precompose_subst_instance_global__2" class="idref" href="#precompose_subst_instance_global__2"><span class="id" title="definition">precompose_subst_instance_global__2</span></a> <a id="e39378fca6a63b9b46c8b96c180b5ee0" class="idref" href="#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="binder">Σ</span></a> <a id="Re:285" class="idref" href="#Re:285"><span class="id" title="binder">Re</span></a> <a id="Rle:286" class="idref" href="#Rle:286"><span class="id" title="binder">Rle</span></a> <a id="gr:287" class="idref" href="#gr:287"><span class="id" title="binder">gr</span></a> <a id="napp:288" class="idref" href="#napp:288"><span class="id" title="binder">napp</span></a> <a id="u:289" class="idref" href="#u:289"><span class="id" title="binder">u</span></a> <a id="i:290" class="idref" href="#i:290"><span class="id" title="binder">i</span></a> <a id="i':291" class="idref" href="#i':291"><span class="id" title="binder">i'</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global"><span class="id" title="lemma">precompose_subst_instance_global</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e39378fca6a63b9b46c8b96c180b5ee0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:285"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:286"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#gr:287"><span class="id" title="variable">gr</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:288"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:289"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:290"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i':291"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eq_term_upto_univ_subst_preserved" class="idref" href="#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a> {<a id="cf:292" class="idref" href="#cf:292"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="432aa799c020e4a2ade4a271f0f368bb" class="idref" href="#432aa799c020e4a2ade4a271f0f368bb"><span class="id" title="binder">Σ</span></a><br/>
&nbsp;&nbsp;(<a id="Re:294" class="idref" href="#Re:294"><span class="id" title="binder">Re</span></a> <a id="Rle:295" class="idref" href="#Rle:295"><span class="id" title="binder">Rle</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="napp:296" class="idref" href="#napp:296"><span class="id" title="binder">napp</span></a><br/>
&nbsp;&nbsp;{<a id="he:297" class="idref" href="#he:297"><span class="id" title="binder">he</span></a>: <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:294"><span class="id" title="variable">Re</span></a>} {<a id="hle:298" class="idref" href="#hle:298"><span class="id" title="binder">hle</span></a>: <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:295"><span class="id" title="variable">Rle</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<span class="id" title="keyword">fun</span> <a id="c4390878edbac23354cf8471ab22289e" class="idref" href="#c4390878edbac23354cf8471ab22289e"><span class="id" title="binder">φ</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#432aa799c020e4a2ade4a271f0f368bb"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Re:294"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c4390878edbac23354cf8471ab22289e"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#Rle:295"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c4390878edbac23354cf8471ab22289e"><span class="id" title="variable">φ</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#napp:296"><span class="id" title="variable">napp</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">he</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">hle</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HH</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">he</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">napp</span>, <span class="id" title="var">t'</span>, <span class="id" title="var">Rle</span>, <span class="id" title="var">hle</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance__2"><span class="id" title="definition">precompose_subst_instance__2</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance_impl'"><span class="id" title="lemma">R_universe_instance_impl'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl'"><span class="id" title="lemma">All2_impl'</span></a>; <span class="id" title="var">tea</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">aa</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global__2"><span class="id" title="definition">precompose_subst_instance_global__2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_impl_same_napp"><span class="id" title="instance">R_global_instance_impl_same_napp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance_global__2"><span class="id" title="definition">precompose_subst_instance_global__2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_impl_same_napp"><span class="id" title="instance">R_global_instance_impl_same_napp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span> <span class="id" title="keyword">as</span> [? [? [? ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#precompose_subst_instance"><span class="id" title="lemma">precompose_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_universe_instance_impl"><span class="id" title="lemma">R_universe_instance_impl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="leq_term_subst_instance" class="idref" href="#leq_term_subst_instance"><span class="id" title="lemma">leq_term_subst_instance</span></a> {<a id="cf:300" class="idref" href="#cf:300"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="047c3f3b37dfa3ffe68475d35878673a" class="idref" href="#047c3f3b37dfa3ffe68475d35878673a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">leq_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#047c3f3b37dfa3ffe68475d35878673a"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_term_subst_instance" class="idref" href="#eq_term_subst_instance"><span class="id" title="lemma">eq_term_subst_instance</span></a> {<a id="cf:302" class="idref" href="#cf:302"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="176148d186f0f861fa8579a95c4626c3" class="idref" href="#176148d186f0f861fa8579a95c4626c3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term"><span class="id" title="abbreviation">eq_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#176148d186f0f861fa8579a95c4626c3"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compare_term_subst_instance" class="idref" href="#compare_term_subst_instance"><span class="id" title="lemma">compare_term_subst_instance</span></a> {<a id="cf:304" class="idref" href="#cf:304"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:305" class="idref" href="#pb:305"><span class="id" title="binder">pb</span></a> <a id="38ec0d810825fad5197eff2fcbab7290" class="idref" href="#38ec0d810825fad5197eff2fcbab7290"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_term"><span class="id" title="definition">compare_term</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:305"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#38ec0d810825fad5197eff2fcbab7290"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_upto_univ_subst_preserved"><span class="id" title="instance">eq_term_upto_univ_subst_preserved</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Now routine lemmas ... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="In_subst_instance" class="idref" href="#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a> <a id="x:307" class="idref" href="#x:307"><span class="id" title="binder">x</span></a> <a id="u:308" class="idref" href="#u:308"><span class="id" title="binder">u</span></a> (<a id="l:309" class="idref" href="#l:309"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#LevelAlgExpr.t"><span class="id" title="definition">LevelAlgExpr.t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.In"><span class="id" title="definition">LevelExprSet.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:307"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:308"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:309"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="x':310" class="idref" href="#x':310"><span class="id" title="binder">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.In"><span class="id" title="definition">LevelExprSet.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x':310"><span class="id" title="variable">x'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:309"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:307"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:308"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x':310"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ0"><span class="id" title="instance">subst_instance_univ0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.map_spec"><span class="id" title="lemma">map_spec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_univ_super" class="idref" href="#subst_instance_univ_super"><span class="id" title="lemma">subst_instance_univ_super</span></a> <a id="l:311" class="idref" href="#l:311"><span class="id" title="binder">l</span></a> <a id="u:312" class="idref" href="#u:312"><span class="id" title="binder">u</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:312"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.super"><span class="id" title="definition">Universe.super</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:311"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.super"><span class="id" title="definition">Universe.super</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:312"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:311"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbnr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">spec_map_succ</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">hin</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">spec_map_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">int</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [[] ?]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">hin</span> <span class="id" title="var">eq</span>]]. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">hin</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.succ"><span class="id" title="definition">LevelExpr.succ</span></a> <span class="id" title="var">y</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">spec_map_succ</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [[] ?]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_level_notin_levels_of_udecl" class="idref" href="#monomorphic_level_notin_levels_of_udecl"><span class="id" title="lemma">monomorphic_level_notin_levels_of_udecl</span></a> <a id="s:313" class="idref" href="#s:313"><span class="id" title="binder">s</span></a> <a id="udecl:314" class="idref" href="#udecl:314"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:313"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:314"><span class="id" title="variable">udecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">udecl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_AUContext"><span class="id" title="lemma">monomorphic_level_notin_AUContext</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="LevelIn_subst_instance" class="idref" href="#LevelIn_subst_instance"><span class="id" title="lemma">LevelIn_subst_instance</span></a> {<a id="cf:315" class="idref" href="#cf:315"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="ab4371cf41d405f92c7f9c7d1eb82b76" class="idref" href="#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="binder">Σ</span></a> <a id="l:317" class="idref" href="#l:317"><span class="id" title="binder">l</span></a> <a id="u:318" class="idref" href="#u:318"><span class="id" title="binder">u</span></a> <a id="univs:319" class="idref" href="#univs:319"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:317"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:319"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:318"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LS.In"><span class="id" title="definition">LS.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:318"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:317"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ab4371cf41d405f92c7f9c7d1eb82b76"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:319"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_levels_of_udecl"><span class="id" title="lemma">monomorphic_level_notin_levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_declared"><span class="id" title="lemma">consistent_instance_declared</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_nth'"><span class="id" title="lemma">forallb_nth'</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lzero"><span class="id" title="constructor">Level.lzero</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [[? [<span class="id" title="var">eq</span> ?]]|<span class="id" title="var">eq</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="product_subst_instance" class="idref" href="#product_subst_instance"><span class="id" title="lemma">product_subst_instance</span></a> <a id="u:320" class="idref" href="#u:320"><span class="id" title="binder">u</span></a> <a id="s1:321" class="idref" href="#s1:321"><span class="id" title="binder">s1</span></a> <a id="s2:322" class="idref" href="#s2:322"><span class="id" title="binder">s2</span></a><br/>
&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:320"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.sort_of_product"><span class="id" title="definition">Universe.sort_of_product</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:321"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:322"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.sort_of_product"><span class="id" title="definition">Universe.sort_of_product</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:320"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s1:321"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:320"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s2:322"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.sort_of_product"><span class="id" title="definition">Universe.sort_of_product</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#is_prop_subst_instance_univ"><span class="id" title="lemma">is_prop_subst_instance_univ</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s2</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sup_subst_instance_univ0"><span class="id" title="lemma">sup_subst_instance_univ0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_extended_subst" class="idref" href="#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a> <a id="u:323" class="idref" href="#u:323"><span class="id" title="binder">u</span></a> <a id="41bc0d447ded2df872d99247d63be651" class="idref" href="#41bc0d447ded2df872d99247d63be651"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:323"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#41bc0d447ded2df872d99247d63be651"><span class="id" title="variable">Γ</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:323"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#41bc0d447ded2df872d99247d63be651"><span class="id" title="variable">Γ</span></a>) 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> /=; <span class="id" title="var">len</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> -<span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst"><span class="id" title="lemma">lift_extended_subst</span></a> <span class="id" title="var">_</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expand_lets_subst_instance" class="idref" href="#expand_lets_subst_instance"><span class="id" title="lemma">expand_lets_subst_instance</span></a> <a id="u:325" class="idref" href="#u:325"><span class="id" title="binder">u</span></a> <a id="2290fd9dffd8f9cc5f1438bb61740337" class="idref" href="#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="binder">Γ</span></a> <a id="t:327" class="idref" href="#t:327"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:325"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:327"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:325"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2290fd9dffd8f9cc5f1438bb61740337"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:325"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:327"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a> /=; <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expand_lets_subst_instance"><span class="id" title="lemma">expand_lets_subst_instance</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_predicate" class="idref" href="#subst_instance_predicate"><span class="id" title="instance">subst_instance_predicate</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:328" class="idref" href="#u:328"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:328"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:328"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:328"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fix_subst_instance_subst" class="idref" href="#fix_subst_instance_subst"><span class="id" title="lemma">fix_subst_instance_subst</span></a> <a id="u:329" class="idref" href="#u:329"><span class="id" title="binder">u</span></a> <a id="mfix:330" class="idref" href="#mfix:330"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:329"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:330"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:329"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:330"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cofix_subst_instance_subst" class="idref" href="#cofix_subst_instance_subst"><span class="id" title="lemma">cofix_subst_instance_subst</span></a> <a id="u:331" class="idref" href="#u:331"><span class="id" title="binder">u</span></a> <a id="mfix:332" class="idref" href="#mfix:332"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:331"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:332"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:331"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:332"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isConstruct_app_subst_instance" class="idref" href="#isConstruct_app_subst_instance"><span class="id" title="lemma">isConstruct_app_subst_instance</span></a> <a id="u:333" class="idref" href="#u:333"><span class="id" title="binder">u</span></a> <a id="t:334" class="idref" href="#t:334"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:333"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:334"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:334"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span>: <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">t</span>)<a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fix_context_subst_instance" class="idref" href="#fix_context_subst_instance"><span class="id" title="lemma">fix_context_subst_instance</span></a> <a id="u:335" class="idref" href="#u:335"><span class="id" title="binder">u</span></a> <a id="mfix:336" class="idref" href="#mfix:336"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:335"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:336"><span class="id" title="variable">mfix</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:335"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:336"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_app" class="idref" href="#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> {<a id="A:337" class="idref" href="#A:337"><span class="id" title="binder">A</span></a>} {<a id="au:338" class="idref" href="#au:338"><span class="id" title="binder">au</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:337"><span class="id" title="variable">A</span></a>} <a id="u:339" class="idref" href="#u:339"><span class="id" title="binder">u</span></a> (<a id="L1:340" class="idref" href="#L1:340"><span class="id" title="binder">L1</span></a> <a id="L2:341" class="idref" href="#L2:341"><span class="id" title="binder">L2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:337"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:339"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:340"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:341"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:339"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:340"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:339"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:341"><span class="id" title="variable">L2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_app_ctx" class="idref" href="#subst_instance_app_ctx"><span class="id" title="lemma">subst_instance_app_ctx</span></a> <a id="u:342" class="idref" href="#u:342"><span class="id" title="binder">u</span></a> (<a id="L1:343" class="idref" href="#L1:343"><span class="id" title="binder">L1</span></a> <a id="L2:344" class="idref" href="#L2:344"><span class="id" title="binder">L2</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:342"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:343"><span class="id" title="variable">L1</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:344"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:342"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L1:343"><span class="id" title="variable">L1</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:342"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#L2:344"><span class="id" title="variable">L2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_constructor_body'" class="idref" href="#map_constructor_body'"><span class="id" title="definition">map_constructor_body'</span></a> <a id="f:345" class="idref" href="#f:345"><span class="id" title="binder">f</span></a> <a id="c:346" class="idref" href="#c:346"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_name"><span class="id" title="projection">cstr_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:346"><span class="id" title="variable">c</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> := <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:345"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:346"><span class="id" title="variable">c</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:345"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_indices"><span class="id" title="projection">cstr_indices</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:346"><span class="id" title="variable">c</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:345"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_type"><span class="id" title="projection">cstr_type</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:346"><span class="id" title="variable">c</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_arity"><span class="id" title="projection">cstr_arity</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c:346"><span class="id" title="variable">c</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_constructor_body" class="idref" href="#subst_instance_constructor_body"><span class="id" title="instance">subst_instance_constructor_body</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.constructor_body"><span class="id" title="record">constructor_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:347" class="idref" href="#u:347"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_constructor_body'"><span class="id" title="definition">map_constructor_body'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:347"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_one_inductive_body'" class="idref" href="#map_one_inductive_body'"><span class="id" title="definition">map_one_inductive_body'</span></a> <a id="fu:348" class="idref" href="#fu:348"><span class="id" title="binder">fu</span></a> <a id="f:349" class="idref" href="#f:349"><span class="id" title="binder">f</span></a> <a id="oib:350" class="idref" href="#oib:350"><span class="id" title="binder">oib</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_name"><span class="id" title="projection">ind_name</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> := <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:349"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fu:348"><span class="id" title="variable">fu</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_sort"><span class="id" title="projection">ind_sort</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:349"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_type"><span class="id" title="projection">ind_type</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_kelim"><span class="id" title="projection">ind_kelim</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_constructor_body'"><span class="id" title="definition">map_constructor_body'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:349"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.map_projection_body"><span class="id" title="definition">map_projection_body</span></a> 0 (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:349"><span class="id" title="variable">f</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_projs"><span class="id" title="projection">ind_projs</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#oib:350"><span class="id" title="variable">oib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_relevance"><span class="id" title="projection">ind_relevance</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_inductive_body" class="idref" href="#subst_instance_inductive_body"><span class="id" title="instance">subst_instance_inductive_body</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.one_inductive_body"><span class="id" title="record">one_inductive_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:351" class="idref" href="#u:351"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_one_inductive_body'"><span class="id" title="definition">map_one_inductive_body'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:351"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:351"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="map_mutual_inductive_body'" class="idref" href="#map_mutual_inductive_body'"><span class="id" title="definition">map_mutual_inductive_body'</span></a> <a id="fu:352" class="idref" href="#fu:352"><span class="id" title="binder">fu</span></a> <a id="f:353" class="idref" href="#f:353"><span class="id" title="binder">f</span></a> <a id="mib:354" class="idref" href="#mib:354"><span class="id" title="binder">mib</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:354"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_finite"><span class="id" title="projection">ind_finite</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:354"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> := <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:353"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:354"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_one_inductive_body'"><span class="id" title="definition">map_one_inductive_body'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fu:352"><span class="id" title="variable">fu</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:353"><span class="id" title="variable">f</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:354"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_bodies"><span class="id" title="projection">ind_bodies</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:354"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mib:354"><span class="id" title="variable">mib</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_variance"><span class="id" title="projection">ind_variance</span></a>) |}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="subst_instance_mutual_inductive_body" class="idref" href="#subst_instance_mutual_inductive_body"><span class="id" title="instance">subst_instance_mutual_inductive_body</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#UnivSubst"><span class="id" title="class">UnivSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mutual_inductive_body"><span class="id" title="record">mutual_inductive_body</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="u:355" class="idref" href="#u:355"><span class="id" title="binder">u</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_mutual_inductive_body'"><span class="id" title="definition">map_mutual_inductive_body'</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:355"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:355"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_cstr_args" class="idref" href="#subst_instance_cstr_args"><span class="id" title="lemma">subst_instance_cstr_args</span></a> <a id="u:356" class="idref" href="#u:356"><span class="id" title="binder">u</span></a> <a id="cdecl:357" class="idref" href="#cdecl:357"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:356"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:357"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:356"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:357"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_fold_context_k" class="idref" href="#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a> {<a id="term:358" class="idref" href="#term:358"><span class="id" title="binder">term</span></a> <a id="term':359" class="idref" href="#term':359"><span class="id" title="binder">term'</span></a> <a id="term'':360" class="idref" href="#term'':360"><span class="id" title="binder">term''</span></a>} (<a id="f:361" class="idref" href="#f:361"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term':359"><span class="id" title="variable">term'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term:358"><span class="id" title="variable">term</span></a>) (<a id="g:362" class="idref" href="#g:362"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term'':360"><span class="id" title="variable">term''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term':359"><span class="id" title="variable">term'</span></a>) (<a id="a44afe91cae26d29270903c14e8cdbb2" class="idref" href="#a44afe91cae26d29270903c14e8cdbb2"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#context_decl"><span class="id" title="record">BasicAst.context_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#term'':360"><span class="id" title="variable">term''</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:361"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:362"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a44afe91cae26d29270903c14e8cdbb2"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k"><span class="id" title="definition">fold_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="i:364" class="idref" href="#i:364"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:361"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:362"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:364"><span class="id" title="variable">i</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a44afe91cae26d29270903c14e8cdbb2"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_subst_context" class="idref" href="#subst_instance_subst_context"><span class="id" title="lemma">subst_instance_subst_context</span></a> <a id="u:365" class="idref" href="#u:365"><span class="id" title="binder">u</span></a> <a id="s:366" class="idref" href="#s:366"><span class="id" title="binder">s</span></a> <a id="k:367" class="idref" href="#k:367"><span class="id" title="binder">k</span></a> <a id="ctx:368" class="idref" href="#ctx:368"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:365"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:367"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:368"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:365"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:366"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:367"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:365"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:368"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_map"><span class="id" title="lemma">fold_context_k_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_subst_telescope" class="idref" href="#subst_instance_subst_telescope"><span class="id" title="lemma">subst_instance_subst_telescope</span></a> <a id="u:369" class="idref" href="#u:369"><span class="id" title="binder">u</span></a> <a id="s:370" class="idref" href="#s:370"><span class="id" title="binder">s</span></a> <a id="k:371" class="idref" href="#k:371"><span class="id" title="binder">k</span></a> <a id="ctx:372" class="idref" href="#ctx:372"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:369"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:370"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:371"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:372"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:369"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:370"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:371"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:369"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:372"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_telescope"><span class="id" title="definition">subst_telescope</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_decl"><span class="id" title="lemma">compose_map_decl</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_ext"><span class="id" title="lemma">map_decl_ext</span></a> ⇒ <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_lift_context" class="idref" href="#subst_instance_lift_context"><span class="id" title="lemma">subst_instance_lift_context</span></a> <a id="u:373" class="idref" href="#u:373"><span class="id" title="binder">u</span></a> <a id="n:374" class="idref" href="#n:374"><span class="id" title="binder">n</span></a> <a id="k:375" class="idref" href="#k:375"><span class="id" title="binder">k</span></a> <a id="ctx:376" class="idref" href="#ctx:376"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:373"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:374"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:375"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:376"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:374"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#k:375"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:373"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:376"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_fold_context_k"><span class="id" title="lemma">map_fold_context_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_map"><span class="id" title="lemma">fold_context_k_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#fold_context_k_ext"><span class="id" title="lemma">fold_context_k_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_inds" class="idref" href="#subst_instance_inds"><span class="id" title="lemma">subst_instance_inds</span></a> <a id="u0:377" class="idref" href="#u0:377"><span class="id" title="binder">u0</span></a> <a id="ind:378" class="idref" href="#ind:378"><span class="id" title="binder">ind</span></a> <a id="u:379" class="idref" href="#u:379"><span class="id" title="binder">u</span></a> <a id="bodies:380" class="idref" href="#bodies:380"><span class="id" title="binder">bodies</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u0:377"><span class="id" title="variable">u0</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:378"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:379"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:380"><span class="id" title="variable">bodies</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:378"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u0:377"><span class="id" title="variable">u0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:379"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:380"><span class="id" title="variable">bodies</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">bodies</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_subst_context"><span class="id" title="lemma">subst_instance_subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_lift_context"><span class="id" title="lemma">subst_instance_lift_context</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkProd_or_LetIn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkLambda_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkLambda_or_LetIn</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_inds"><span class="id" title="lemma">subst_instance_inds</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="var">substu</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">substu</span> := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_context_subst_instance" class="idref" href="#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a> <a id="pars:381" class="idref" href="#pars:381"><span class="id" title="binder">pars</span></a> <a id="puinst:382" class="idref" href="#puinst:382"><span class="id" title="binder">puinst</span></a> <a id="ctx:383" class="idref" href="#ctx:383"><span class="id" title="binder">ctx</span></a> <a id="u:384" class="idref" href="#u:384"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:384"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:381"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#puinst:382"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:383"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:384"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:381"><span class="id" title="variable">pars</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:384"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#puinst:382"><span class="id" title="variable">puinst</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:383"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>; <span class="id" title="var">substu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_context"><span class="id" title="lemma">subst_instance_two_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_predicate_context_subst_instance" class="idref" href="#inst_case_predicate_context_subst_instance"><span class="id" title="lemma">inst_case_predicate_context_subst_instance</span></a> <a id="p:385" class="idref" href="#p:385"><span class="id" title="binder">p</span></a> <a id="u:386" class="idref" href="#u:386"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:386"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:385"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:386"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:385"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_predicate_context"><span class="id" title="definition">inst_case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inst_case_branch_context_subst_instance" class="idref" href="#inst_case_branch_context_subst_instance"><span class="id" title="lemma">inst_case_branch_context_subst_instance</span></a> <a id="p:387" class="idref" href="#p:387"><span class="id" title="binder">p</span></a> <a id="br:388" class="idref" href="#br:388"><span class="id" title="binder">br</span></a> <a id="u:389" class="idref" href="#u:389"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:389"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:387"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:388"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:389"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:387"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:389"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:388"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iota_red_subst_instance" class="idref" href="#iota_red_subst_instance"><span class="id" title="lemma">iota_red_subst_instance</span></a> <a id="pars:390" class="idref" href="#pars:390"><span class="id" title="binder">pars</span></a> <a id="p:391" class="idref" href="#p:391"><span class="id" title="binder">p</span></a> <a id="args:392" class="idref" href="#args:392"><span class="id" title="binder">args</span></a> <a id="br:393" class="idref" href="#br:393"><span class="id" title="binder">br</span></a> <a id="u:394" class="idref" href="#u:394"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:394"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:390"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:391"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#args:392"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:393"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pars:390"><span class="id" title="variable">pars</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:394"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:391"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:394"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#args:392"><span class="id" title="variable">args</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:394"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:393"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> -<a class="idref" href="MetaCoq.Utils.MCList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#expand_lets_subst_instance"><span class="id" title="lemma">expand_lets_subst_instance</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_branch_context_subst_instance"><span class="id" title="lemma">inst_case_branch_context_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_map2" class="idref" href="#map_map2"><span class="id" title="lemma">map_map2</span></a> {<a id="A:395" class="idref" href="#A:395"><span class="id" title="binder">A</span></a> <a id="B:396" class="idref" href="#B:396"><span class="id" title="binder">B</span></a> <a id="C:397" class="idref" href="#C:397"><span class="id" title="binder">C</span></a> <a id="D:398" class="idref" href="#D:398"><span class="id" title="binder">D</span></a>} (<a id="f:399" class="idref" href="#f:399"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:395"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:396"><span class="id" title="variable">B</span></a>) (<a id="g:400" class="idref" href="#g:400"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:397"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:398"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:395"><span class="id" title="variable">A</span></a>) (<a id="l:401" class="idref" href="#l:401"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:397"><span class="id" title="variable">C</span></a>) (<a id="l':402" class="idref" href="#l':402"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:398"><span class="id" title="variable">D</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:399"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:400"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:401"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':402"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:403" class="idref" href="#x:403"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:397"><span class="id" title="variable">C</span></a>) (<a id="y:404" class="idref" href="#y:404"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:398"><span class="id" title="variable">D</span></a>) ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:399"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:400"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:403"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#y:404"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:401"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':402"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_map_r" class="idref" href="#map2_map_r"><span class="id" title="lemma">map2_map_r</span></a> {<a id="A:405" class="idref" href="#A:405"><span class="id" title="binder">A</span></a> <a id="B:406" class="idref" href="#B:406"><span class="id" title="binder">B</span></a> <a id="C:407" class="idref" href="#C:407"><span class="id" title="binder">C</span></a> <a id="D:408" class="idref" href="#D:408"><span class="id" title="binder">D</span></a>} (<a id="f:409" class="idref" href="#f:409"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:406"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:407"><span class="id" title="variable">C</span></a>) (<a id="g:410" class="idref" href="#g:410"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:405"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#C:407"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#D:408"><span class="id" title="variable">D</span></a>) (<a id="l:411" class="idref" href="#l:411"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:405"><span class="id" title="variable">A</span></a>) (<a id="l':412" class="idref" href="#l':412"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:406"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:410"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:411"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:409"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':412"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:413" class="idref" href="#x:413"><span class="id" title="binder">x</span></a> <a id="y:414" class="idref" href="#y:414"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#g:410"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:413"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:409"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#y:414"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:411"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':412"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_map" class="idref" href="#map2_set_binder_name_map"><span class="id" title="lemma">map2_set_binder_name_map</span></a> <a id="bctx:415" class="idref" href="#bctx:415"><span class="id" title="binder">bctx</span></a> <a id="f:416" class="idref" href="#f:416"><span class="id" title="binder">f</span></a> <a id="b83bc512186e352967f68bcc26ff41bc" class="idref" href="#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:415"><span class="id" title="variable">bctx</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:416"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f:416"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:415"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">map2_map_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_case_branch_context" class="idref" href="#subst_instance_case_branch_context"><span class="id" title="lemma">subst_instance_case_branch_context</span></a> <a id="ind:418" class="idref" href="#ind:418"><span class="id" title="binder">ind</span></a> <a id="mdecl:419" class="idref" href="#mdecl:419"><span class="id" title="binder">mdecl</span></a> <a id="u:420" class="idref" href="#u:420"><span class="id" title="binder">u</span></a> <a id="p:421" class="idref" href="#p:421"><span class="id" title="binder">p</span></a> <a id="bctx:422" class="idref" href="#bctx:422"><span class="id" title="binder">bctx</span></a> <a id="cdecl:423" class="idref" href="#cdecl:423"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:420"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:418"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:419"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:421"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:422"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:423"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:418"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:419"><span class="id" title="variable">mdecl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:420"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:421"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bctx:422"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:423"><span class="id" title="variable">cdecl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">fold_context_k</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">substu</span> ⇒ /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_branch_context_gen"><span class="id" title="definition">pre_case_branch_context_gen</span></a> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_set_binder_name_map"><span class="id" title="lemma">map2_set_binder_name_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_case_predicate_context" class="idref" href="#subst_instance_case_predicate_context"><span class="id" title="lemma">subst_instance_case_predicate_context</span></a> <a id="ind:424" class="idref" href="#ind:424"><span class="id" title="binder">ind</span></a> <a id="mdecl:425" class="idref" href="#mdecl:425"><span class="id" title="binder">mdecl</span></a> <a id="idecl:426" class="idref" href="#idecl:426"><span class="id" title="binder">idecl</span></a> <a id="p:427" class="idref" href="#p:427"><span class="id" title="binder">p</span></a> <a id="u:428" class="idref" href="#u:428"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:428"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:424"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:425"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:426"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:427"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:424"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:425"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:426"><span class="id" title="variable">idecl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:428"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:427"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">fold_context_k</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">substu</span> ⇒ /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_context_subst_instance"><span class="id" title="lemma">inst_case_context_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_set_binder_name_map"><span class="id" title="lemma">map2_set_binder_name_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_to_extended_list" class="idref" href="#subst_instance_to_extended_list"><span class="id" title="lemma">subst_instance_to_extended_list</span></a> <a id="u:429" class="idref" href="#u:429"><span class="id" title="binder">u</span></a> <a id="l:430" class="idref" href="#l:430"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:429"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:430"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:429"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:430"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>)) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unf_term</span>. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>), 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">aa</span> [<span class="id" title="var">ab</span>|] <span class="id" title="var">ac</span>] <span class="id" title="var">bb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="to_extended_list_subst_instance" class="idref" href="#to_extended_list_subst_instance"><span class="id" title="lemma">to_extended_list_subst_instance</span></a> <a id="u:431" class="idref" href="#u:431"><span class="id" title="binder">u</span></a> <a id="l:432" class="idref" href="#l:432"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:431"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:432"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:432"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unf_term</span>. <span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>), 0. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">aa</span> [<span class="id" title="var">ab</span>|] <span class="id" title="var">ac</span>] <span class="id" title="var">bb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_expand_lets" class="idref" href="#subst_instance_expand_lets"><span class="id" title="lemma">subst_instance_expand_lets</span></a> <a id="u:433" class="idref" href="#u:433"><span class="id" title="binder">u</span></a> <a id="9222df8a7b8c6f516746a41ebac1d389" class="idref" href="#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="binder">Γ</span></a> <a id="t:435" class="idref" href="#t:435"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:433"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:435"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:433"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:433"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:435"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets"><span class="id" title="definition">expand_lets</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_extended_subst"><span class="id" title="lemma">subst_instance_extended_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>. <span class="id" title="var">len</span>; <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_expand_lets"><span class="id" title="lemma">subst_instance_expand_lets</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#closedn_subst_instance"><span class="id" title="lemma">closedn_subst_instance</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_expand_lets_ctx" class="idref" href="#subst_instance_expand_lets_ctx"><span class="id" title="lemma">subst_instance_expand_lets_ctx</span></a> <a id="u:436" class="idref" href="#u:436"><span class="id" title="binder">u</span></a> <a id="5aeefd2201fe7abdaf9a67d14f85502c" class="idref" href="#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="binder">Γ</span></a> <a id="1d3039b813b7a7e23f8b2ba5911d1ff7" class="idref" href="#1d3039b813b7a7e23f8b2ba5911d1ff7"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:436"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1d3039b813b7a7e23f8b2ba5911d1ff7"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:436"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5aeefd2201fe7abdaf9a67d14f85502c"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:436"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#1d3039b813b7a7e23f8b2ba5911d1ff7"><span class="id" title="variable">Δ</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>; <span class="id" title="var">substu</span>; <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_expand_lets_ctx"><span class="id" title="lemma">subst_instance_expand_lets_ctx</span></a> : <span class="id" title="var">substu</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forget_types_subst_instance" class="idref" href="#forget_types_subst_instance"><span class="id" title="lemma">forget_types_subst_instance</span></a> <a id="l:439" class="idref" href="#l:439"><span class="id" title="binder">l</span></a> <a id="ctx:440" class="idref" href="#ctx:440"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:439"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:440"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:440"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_case_branch_type" class="idref" href="#subst_instance_case_branch_type"><span class="id" title="lemma">subst_instance_case_branch_type</span></a> {<a id="cf:441" class="idref" href="#cf:441"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="7ae7c21465db2a521708fc6689348da2" class="idref" href="#7ae7c21465db2a521708fc6689348da2"><span class="id" title="binder">Σ</span></a>} {<a id="64a949b39cd26eca547a0276f8bd3ce5" class="idref" href="#64a949b39cd26eca547a0276f8bd3ce5"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7ae7c21465db2a521708fc6689348da2"><span class="id" title="variable">Σ</span></a>} <a id="u:444" class="idref" href="#u:444"><span class="id" title="binder">u</span></a> (<a id="ci:445" class="idref" href="#ci:445"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) <a id="mdecl:446" class="idref" href="#mdecl:446"><span class="id" title="binder">mdecl</span></a> <a id="idecl:447" class="idref" href="#idecl:447"><span class="id" title="binder">idecl</span></a> <a id="p:448" class="idref" href="#p:448"><span class="id" title="binder">p</span></a> <a id="predctx:449" class="idref" href="#predctx:449"><span class="id" title="binder">predctx</span></a> <a id="br:450" class="idref" href="#br:450"><span class="id" title="binder">br</span></a> <a id="i:451" class="idref" href="#i:451"><span class="id" title="binder">i</span></a> <a id="cdecl:452" class="idref" href="#cdecl:452"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:453" class="idref" href="#ptm:453"><span class="id" title="binder">ptm</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#predctx:449"><span class="id" title="variable">predctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:448"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':454" class="idref" href="#p':454"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:448"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm':455" class="idref" href="#ptm':455"><span class="id" title="binder">ptm'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#predctx:449"><span class="id" title="variable">predctx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p':454"><span class="id" title="variable">p'</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ci:445"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:446"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:447"><span class="id" title="variable">idecl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:448"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:450"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ptm':455"><span class="id" title="variable">ptm'</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:451"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:452"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:444"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ci:445"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:446"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:447"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:448"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:450"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ptm:453"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:451"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:452"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ptm</span> <span class="id" title="var">p'</span> <span class="id" title="var">ptm'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type_gen"><span class="id" title="definition">case_branch_type_gen</span></a> /<a class="idref" href="MetaCoq.Utils.MCProd.html#map_pair"><span class="id" title="definition">map_pair</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_case_branch_context"><span class="id" title="lemma">subst_instance_case_branch_context</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">substu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">substu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">_</span>)]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a> ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two_context"><span class="id" title="lemma">subst_instance_two_context</span></a> //.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">substu</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_to_extended_list"><span class="id" title="lemma">subst_instance_to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#to_extended_list_subst_instance"><span class="id" title="lemma">to_extended_list_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_wf_predicate" class="idref" href="#subst_instance_wf_predicate"><span class="id" title="lemma">subst_instance_wf_predicate</span></a> <a id="u:456" class="idref" href="#u:456"><span class="id" title="binder">u</span></a> <a id="mdecl:457" class="idref" href="#mdecl:457"><span class="id" title="binder">mdecl</span></a> <a id="idecl:458" class="idref" href="#idecl:458"><span class="id" title="binder">idecl</span></a> <a id="p:459" class="idref" href="#p:459"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:457"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:458"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:459"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:457"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#idecl:458"><span class="id" title="variable">idecl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:456"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:459"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_wf_branch" class="idref" href="#subst_instance_wf_branch"><span class="id" title="lemma">subst_instance_wf_branch</span></a> <a id="u:460" class="idref" href="#u:460"><span class="id" title="binder">u</span></a> <a id="cdecl:461" class="idref" href="#cdecl:461"><span class="id" title="binder">cdecl</span></a> <a id="br:462" class="idref" href="#br:462"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:461"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:462"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:461"><span class="id" title="variable">cdecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:460"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#br:462"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch_gen"><span class="id" title="definition">wf_branch_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_wf_branches" class="idref" href="#subst_instance_wf_branches"><span class="id" title="lemma">subst_instance_wf_branches</span></a> <a id="cdecl:463" class="idref" href="#cdecl:463"><span class="id" title="binder">cdecl</span></a> <a id="u:464" class="idref" href="#u:464"><span class="id" title="binder">u</span></a> <a id="brs:465" class="idref" href="#brs:465"><span class="id" title="binder">brs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:463"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#brs:465"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cdecl:463"><span class="id" title="variable">cdecl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:464"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#brs:465"><span class="id" title="variable">brs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches"><span class="id" title="definition">wf_branches</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branches_gen"><span class="id" title="definition">wf_branches_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_instance_wf_predicate</span><br/>
&nbsp;&nbsp;<span class="id" title="var">subst_instance_wf_branch</span> <span class="id" title="var">subst_instance_wf_branches</span> : <span class="id" title="var">pcuic</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_predicate_set_pparams" class="idref" href="#subst_instance_predicate_set_pparams"><span class="id" title="lemma">subst_instance_predicate_set_pparams</span></a> <a id="u:466" class="idref" href="#u:466"><span class="id" title="binder">u</span></a> <a id="p:467" class="idref" href="#p:467"><span class="id" title="binder">p</span></a> <a id="params:468" class="idref" href="#params:468"><span class="id" title="binder">params</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:466"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:467"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#params:468"><span class="id" title="variable">params</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:466"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:467"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:466"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#params:468"><span class="id" title="variable">params</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;subst_instance_predicate_set_pcontext&nbsp;u&nbsp;p&nbsp;pcontext&nbsp;:<br/>
&nbsp;&nbsp;subst_instance&nbsp;u&nbsp;(set_pcontext&nbsp;p&nbsp;pcontext)&nbsp;=<br/>
&nbsp;&nbsp;set_pcontext&nbsp;(subst_instance&nbsp;u&nbsp;p)&nbsp;(subst_instance&nbsp;u&nbsp;pcontext).<br/>
Proof.&nbsp;reflexivity.&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_predicate_set_preturn" class="idref" href="#subst_instance_predicate_set_preturn"><span class="id" title="lemma">subst_instance_predicate_set_preturn</span></a> <a id="u:469" class="idref" href="#u:469"><span class="id" title="binder">u</span></a> <a id="p:470" class="idref" href="#p:470"><span class="id" title="binder">p</span></a> <a id="pret:471" class="idref" href="#pret:471"><span class="id" title="binder">pret</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:469"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:470"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pret:471"><span class="id" title="variable">pret</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:469"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#p:470"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:469"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pret:471"><span class="id" title="variable">pret</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_subst_instance" class="idref" href="#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a> <a id="6890863a8f6e697156563cc687fdb03b" class="idref" href="#6890863a8f6e697156563cc687fdb03b"><span class="id" title="binder">Σ</span></a> <a id="3c3e7c750733bec14dc1a50d30b1469c" class="idref" href="#3c3e7c750733bec14dc1a50d30b1469c"><span class="id" title="binder">Γ</span></a> <a id="u:474" class="idref" href="#u:474"><span class="id" title="binder">u</span></a> <a id="s:475" class="idref" href="#s:475"><span class="id" title="binder">s</span></a> <a id="t:476" class="idref" href="#t:476"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6890863a8f6e697156563cc687fdb03b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3c3e7c750733bec14dc1a50d30b1469c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:475"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:476"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6890863a8f6e697156563cc687fdb03b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:474"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3c3e7c750733bec14dc1a50d30b1469c"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:474"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:475"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:474"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:476"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1_ind_all"><span class="id" title="lemma">red1_ind_all</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl_body"><span class="id" title="lemma">map_decl_body</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#iota_red_subst_instance"><span class="id" title="lemma">iota_red_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">br</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">bcotext</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">br</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red_iota"><span class="id" title="constructor">red_iota</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fix_subst_instance_subst"><span class="id" title="lemma">fix_subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">args</span> <span class="id" title="var">narg</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#isConstruct_app_subst_instance"><span class="id" title="lemma">isConstruct_app_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">E</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cofix_subst_instance_subst"><span class="id" title="lemma">cofix_subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#cofix_subst_instance_subst"><span class="id" title="lemma">cofix_subst_instance_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_pparams"><span class="id" title="definition">set_pparams</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_predicate_set_pparams"><span class="id" title="lemma">subst_instance_predicate_set_pparams</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>. 1: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Used&nbsp;to&nbsp;be&nbsp;pcuicfo&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICOnOne.html#set_preturn"><span class="id" title="definition">set_preturn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_predicate_set_preturn"><span class="id" title="lemma">subst_instance_predicate_set_preturn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#case_red_return"><span class="id" title="constructor">case_red_return</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_predicate_context_subst_instance"><span class="id" title="lemma">inst_case_predicate_context_subst_instance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [<span class="id" title="var">eassumption</span> | <span class="id" title="var">pcuicfo</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCRelations.html#on_Trel"><span class="id" title="definition">on_Trel</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst_case_branch_context_subst_instance"><span class="id" title="lemma">inst_case_branch_context_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#fix_red_ty"><span class="id" title="constructor">fix_red_ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#fix_red_body"><span class="id" title="constructor">fix_red_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fix_context_subst_instance"><span class="id" title="lemma">fix_context_subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">mfix0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#cofix_red_body"><span class="id" title="constructor">cofix_red_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_impl"><span class="id" title="lemma">OnOne2_impl</span></a>; [ <span class="id" title="var">eassumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#fix_context_subst_instance"><span class="id" title="lemma">fix_context_subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">mfix0</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_ws_cumul_pb" class="idref" href="#subst_instance_ws_cumul_pb"><span class="id" title="lemma">subst_instance_ws_cumul_pb</span></a> {<a id="cf:477" class="idref" href="#cf:477"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="c1c5ad40a3869b5e8965c73046e24805" class="idref" href="#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="3b40bd60d01e0dccb7eab39989febb62" class="idref" href="#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="binder">Γ</span></a> <a id="u:480" class="idref" href="#u:480"><span class="id" title="binder">u</span></a> <a id="A:481" class="idref" href="#A:481"><span class="id" title="binder">A</span></a> <a id="B:482" class="idref" href="#B:482"><span class="id" title="binder">B</span></a> <a id="univs:483" class="idref" href="#univs:483"><span class="id" title="binder">univs</span></a> :<br/>
<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:483"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:480"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:481"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:482"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:483"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:480"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:480"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:481"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#0201439ba92dba5389e79c0ab5c9e4d4"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:480"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:482"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#eq_term_subst_instance"><span class="id" title="lemma">eq_term_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 2. 1: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 3. 1: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cumul_subst_instance" class="idref" href="#cumul_subst_instance"><span class="id" title="lemma">cumul_subst_instance</span></a> {<a id="cf:484" class="idref" href="#cf:484"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="30faadfd0c5d635e8fdc9dc629b68006" class="idref" href="#30faadfd0c5d635e8fdc9dc629b68006"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="b111177c10cf8cccfc89aa558223d7e0" class="idref" href="#b111177c10cf8cccfc89aa558223d7e0"><span class="id" title="binder">Γ</span></a> <a id="u:487" class="idref" href="#u:487"><span class="id" title="binder">u</span></a> <a id="A:488" class="idref" href="#A:488"><span class="id" title="binder">A</span></a> <a id="B:489" class="idref" href="#B:489"><span class="id" title="binder">B</span></a> <a id="univs:490" class="idref" href="#univs:490"><span class="id" title="binder">univs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#30faadfd0c5d635e8fdc9dc629b68006"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:490"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:487"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#30faadfd0c5d635e8fdc9dc629b68006"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#30faadfd0c5d635e8fdc9dc629b68006"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b111177c10cf8cccfc89aa558223d7e0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:488"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:489"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#30faadfd0c5d635e8fdc9dc629b68006"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:490"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:487"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b111177c10cf8cccfc89aa558223d7e0"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:487"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:488"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:487"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#B:489"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#leq_term_subst_instance"><span class="id" title="lemma">leq_term_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 2. 1: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span> 3. 1: <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#red1_subst_instance"><span class="id" title="lemma">red1_subst_instance</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_allowed_elimination_subst_instance" class="idref" href="#is_allowed_elimination_subst_instance"><span class="id" title="lemma">is_allowed_elimination_subst_instance</span></a> {<a id="cf:491" class="idref" href="#cf:491"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="b6d8eb38958cf85a78f6b460eb566da1" class="idref" href="#b6d8eb38958cf85a78f6b460eb566da1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="univs:493" class="idref" href="#univs:493"><span class="id" title="binder">univs</span></a> <a id="inst:494" class="idref" href="#inst:494"><span class="id" title="binder">inst</span></a> <a id="u:495" class="idref" href="#u:495"><span class="id" title="binder">u</span></a> <a id="al:496" class="idref" href="#al:496"><span class="id" title="binder">al</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b6d8eb38958cf85a78f6b460eb566da1"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:493"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:494"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b6d8eb38958cf85a78f6b460eb566da1"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#is_allowed_elimination"><span class="id" title="definition">is_allowed_elimination</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b6d8eb38958cf85a78f6b460eb566da1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#al:496"><span class="id" title="variable">al</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:495"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#is_allowed_elimination"><span class="id" title="definition">is_allowed_elimination</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#b6d8eb38958cf85a78f6b460eb566da1"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:493"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#al:496"><span class="id" title="variable">al</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#inst:494"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:495"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">al</span>, <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [| | <span class="id" title="var">u</span>]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">val</span> [<span class="id" title="var">H</span>|<span class="id" title="var">isal</span>]; [<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">discriminate</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_univ_rel</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#satisfies_subst_instance"><span class="id" title="lemma">satisfies_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">isal</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_univ0_val'"><span class="id" title="lemma">subst_instance_univ0_val'</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_decl_subst_instance" class="idref" href="#compare_decl_subst_instance"><span class="id" title="instance">compare_decl_subst_instance</span></a> {<a id="cf:497" class="idref" href="#cf:497"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:498" class="idref" href="#pb:498"><span class="id" title="binder">pb</span></a> <a id="8c187d27a8490e47e17ade40975bd27f" class="idref" href="#8c187d27a8490e47e17ade40975bd27f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decl"><span class="id" title="definition">compare_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:498"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#8c187d27a8490e47e17ade40975bd27f"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ1 φ2 <span class="id" title="var">u</span> <span class="id" title="var">HH</span> ? ? [] ⇒ /=; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#compare_term_subst_instance"><span class="id" title="lemma">compare_term_subst_instance</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="compare_context_subst_instance" class="idref" href="#compare_context_subst_instance"><span class="id" title="instance">compare_context_subst_instance</span></a> {<a id="cf:500" class="idref" href="#cf:500"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="pb:501" class="idref" href="#pb:501"><span class="id" title="binder">pb</span></a> <a id="e8292662582b6b480577e9f87376becd" class="idref" href="#e8292662582b6b480577e9f87376becd"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstUnivPreserved"><span class="id" title="class">SubstUnivPreserved</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_context"><span class="id" title="definition">compare_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#pb:501"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e8292662582b6b480577e9f87376becd"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> φ φ' <span class="id" title="var">u</span> <span class="id" title="var">HH</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#All2_fold_map"><span class="id" title="lemma">All2_fold_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_impl"><span class="id" title="lemma">All2_fold_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#compare_decl_subst_instance"><span class="id" title="instance">compare_decl_subst_instance</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_destArity" class="idref" href="#subst_instance_destArity"><span class="id" title="lemma">subst_instance_destArity</span></a> <a id="d436cd716c6c0581d1b85247e11b2169" class="idref" href="#d436cd716c6c0581d1b85247e11b2169"><span class="id" title="binder">Γ</span></a> <a id="A:504" class="idref" href="#A:504"><span class="id" title="binder">A</span></a> <a id="u:505" class="idref" href="#u:505"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:505"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d436cd716c6c0581d1b85247e11b2169"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:505"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:504"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">destArity</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d436cd716c6c0581d1b85247e11b2169"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:504"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:505"><span class="id" title="variable">u</span></a> <span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:505"><span class="id" title="variable">u</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">A</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">u</span> <span class="id" title="var">A1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHA2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> <span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">u</span> <span class="id" title="var">A1</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">u</span> <span class="id" title="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">u</span> (<span class="id" title="var">Γ</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHA3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_decompose_prod_assum" class="idref" href="#subst_instance_decompose_prod_assum"><span class="id" title="lemma">subst_instance_decompose_prod_assum</span></a> <a id="u:506" class="idref" href="#u:506"><span class="id" title="binder">u</span></a> <a id="2d45c3db9ecda5ef9de8f9408b192a61" class="idref" href="#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="binder">Γ</span></a> <a id="t:508" class="idref" href="#t:508"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:506"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:508"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:506"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2d45c3db9ecda5ef9de8f9408b192a61"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:506"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:508"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_decompose_app_rec" class="idref" href="#subst_instance_decompose_app_rec"><span class="id" title="lemma">subst_instance_decompose_app_rec</span></a> <a id="u:509" class="idref" href="#u:509"><span class="id" title="binder">u</span></a> <a id="5a137a22da09953928fe9b38691b385d" class="idref" href="#5a137a22da09953928fe9b38691b385d"><span class="id" title="binder">Γ</span></a> <a id="t:511" class="idref" href="#t:511"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:509"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:511"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5a137a22da09953928fe9b38691b385d"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:509"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:511"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:509"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5a137a22da09953928fe9b38691b385d"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_decompose_app" class="idref" href="#subst_instance_decompose_app"><span class="id" title="lemma">subst_instance_decompose_app</span></a> <a id="u:512" class="idref" href="#u:512"><span class="id" title="binder">u</span></a> <a id="t:513" class="idref" href="#t:513"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:512"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:513"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:512"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:513"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_app_rec"><span class="id" title="lemma">subst_instance_decompose_app_rec</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_smash" class="idref" href="#subst_instance_smash"><span class="id" title="lemma">subst_instance_smash</span></a> <a id="u:514" class="idref" href="#u:514"><span class="id" title="binder">u</span></a> <a id="9c5f0eedb105eec8886a98d426a8c68f" class="idref" href="#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="binder">Γ</span></a> <a id="f990ef2e76b5bbff6aad35def451aabd" class="idref" href="#f990ef2e76b5bbff6aad35def451aabd"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:514"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f990ef2e76b5bbff6aad35def451aabd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:514"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#f990ef2e76b5bbff6aad35def451aabd"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:514"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9c5f0eedb105eec8886a98d426a8c68f"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[? [] ?] ?] <span class="id" title="tactic">in</span> <span class="id" title="var">Δ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_subst_context"><span class="id" title="lemma">subst_instance_subst_context</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="destInd_subst_instance" class="idref" href="#destInd_subst_instance"><span class="id" title="lemma">destInd_subst_instance</span></a> <a id="u:517" class="idref" href="#u:517"><span class="id" title="binder">u</span></a> <a id="t:518" class="idref" href="#t:518"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:517"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:518"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:521" class="idref" href="#pat:521"><span class="id" title="binder">(</span></a><a id="pat:521" class="idref" href="#pat:521"><span class="id" title="binder">i</span></a><a id="pat:521" class="idref" href="#pat:521"><span class="id" title="binder">,</span></a> <a id="pat:521" class="idref" href="#pat:521"><span class="id" title="binder">u'</span></a><a id="pat:521" class="idref" href="#pat:521"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#i:520"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:517"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u':519"><span class="id" title="variable">u'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:518"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_check_one_fix" class="idref" href="#subst_instance_check_one_fix"><span class="id" title="lemma">subst_instance_check_one_fix</span></a> <a id="u:522" class="idref" href="#u:522"><span class="id" title="binder">u</span></a> <a id="mfix:523" class="idref" href="#mfix:523"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:524" class="idref" href="#x:524"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:522"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:522"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:524"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:523"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_fix"><span class="id" title="definition">check_one_fix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:523"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">def</span> <span class="id" title="var">rarg</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;-(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_prod_assum"><span class="id" title="lemma">subst_instance_decompose_prod_assum</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">decomp</span>. <span class="id" title="tactic">intros</span> → →. <span class="id" title="tactic">clear</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> -(<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_smash"><span class="id" title="lemma">subst_instance_smash</span></a> <span class="id" title="var">u</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hnth</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_app"><span class="id" title="lemma">subst_instance_decompose_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> <span class="id" title="var">d</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#destInd_subst_instance"><span class="id" title="lemma">destInd_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">u'</span>]|]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_instance_check_one_cofix" class="idref" href="#subst_instance_check_one_cofix"><span class="id" title="lemma">subst_instance_check_one_cofix</span></a> <a id="u:525" class="idref" href="#u:525"><span class="id" title="binder">u</span></a> <a id="mfix:526" class="idref" href="#mfix:526"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:527" class="idref" href="#x:527"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:525"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:525"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#x:527"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:526"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#check_one_cofix"><span class="id" title="definition">check_one_cofix</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mfix:526"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">def</span> <span class="id" title="var">rarg</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum_ctx"><span class="id" title="lemma">decompose_prod_assum_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_prod_assum"><span class="id" title="lemma">subst_instance_decompose_prod_assum</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">decty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context_nil_l"><span class="id" title="lemma">app_context_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">decomp</span>; <span class="id" title="tactic">intros</span> → -&gt;; <span class="id" title="tactic">clear</span> <span class="id" title="var">decomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_decompose_app"><span class="id" title="lemma">subst_instance_decompose_app</span></a>, <span class="id" title="var">Happ</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#destInd_subst_instance"><span class="id" title="lemma">destInd_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#destInd"><span class="id" title="definition">destInd</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">u'</span>]|]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_local_env_over_subst_instance" class="idref" href="#All_local_env_over_subst_instance"><span class="id" title="lemma">All_local_env_over_subst_instance</span></a> {<a id="cf:528" class="idref" href="#cf:528"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="a3cfa5700dee2bb1ba9a2d32aa0f378a" class="idref" href="#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="binder">Σ</span></a> <a id="6d46624d22398133fc53396dd593e536" class="idref" href="#6d46624d22398133fc53396dd593e536"><span class="id" title="binder">Γ</span></a> (<a id="0ef4b7a5f0202ab79483c47a43746865" class="idref" href="#0ef4b7a5f0202ab79483c47a43746865"><span class="id" title="binder">wfΓ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6d46624d22398133fc53396dd593e536"><span class="id" title="variable">Γ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#All_local_env_over"><span class="id" title="definition">All_local_env_over</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="531e3d99b88e2230716c9f2b503acecb" class="idref" href="#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="binder">Σ0</span></a> <a id="708f3132b690b5ec81b86f961e356868" class="idref" href="#708f3132b690b5ec81b86f961e356868"><span class="id" title="binder">Γ0</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#708f3132b690b5ec81b86f961e356868"><span class="id" title="variable">Γ0</span></a>) <a id="t:534" class="idref" href="#t:534"><span class="id" title="binder">t</span></a> <a id="T:535" class="idref" href="#T:535"><span class="id" title="binder">T</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="variable">Σ0</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#708f3132b690b5ec81b86f961e356868"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:534"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:535"><span class="id" title="variable">T</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:536" class="idref" href="#u:536"><span class="id" title="binder">u</span></a> <a id="univs:537" class="idref" href="#univs:537"><span class="id" title="binder">univs</span></a>, <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="variable">Σ0</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:537"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="variable">Σ0</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:536"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#531e3d99b88e2230716c9f2b503acecb"><span class="id" title="variable">Σ0</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:537"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:536"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#708f3132b690b5ec81b86f961e356868"><span class="id" title="variable">Γ0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:536"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:534"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:536"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:535"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6d46624d22398133fc53396dd593e536"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0ef4b7a5f0202ab79483c47a43746865"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:538" class="idref" href="#u:538"><span class="id" title="binder">u</span></a> <a id="univs:539" class="idref" href="#univs:539"><span class="id" title="binder">univs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:539"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:538"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:539"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:538"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#6d46624d22398133fc53396dd593e536"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#infer_typing_sort_impl"><span class="id" title="lemma">infer_typing_sort_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> <span class="id" title="var">tu</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">All_local_env_over_subst_instance</span> : <span class="id" title="var">univ_subst</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_var_global_ext" class="idref" href="#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> {<a id="cf:540" class="idref" href="#cf:540"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="n:541" class="idref" href="#n:541"><span class="id" title="binder">n</span></a> <a id="5919d5c9ad9a2906ebccbeccb4852840" class="idref" href="#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:541"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:541"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wfΣ</span> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="monomorphic_level_in_global_ext" class="idref" href="#monomorphic_level_in_global_ext"><span class="id" title="lemma">monomorphic_level_in_global_ext</span></a> <a id="l:543" class="idref" href="#l:543"><span class="id" title="binder">l</span></a> <a id="99620948fa48c2c704f000d5859bdd49" class="idref" href="#99620948fa48c2c704f000d5859bdd49"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:543"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#99620948fa48c2c704f000d5859bdd49"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:543"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#99620948fa48c2c704f000d5859bdd49"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">hin</span>|<span class="id" title="var">hin</span>] % <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_notin_levels_of_udecl"><span class="id" title="lemma">monomorphic_level_notin_levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">hin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_universe_subst_instance" class="idref" href="#wf_universe_subst_instance"><span class="id" title="lemma">wf_universe_subst_instance</span></a> {<a id="cf:545" class="idref" href="#cf:545"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="82743ca7028cd8c35adfb1fe7d22ecc9" class="idref" href="#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="univs:547" class="idref" href="#univs:547"><span class="id" title="binder">univs</span></a> <a id="u:548" class="idref" href="#u:548"><span class="id" title="binder">u</span></a> <a id="s:549" class="idref" href="#s:549"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:549"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:547"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:548"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82743ca7028cd8c35adfb1fe7d22ecc9"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#univs:547"><span class="id" title="variable">univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:548"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#s:549"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [| | <span class="id" title="var">t</span>]; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hu</span> <span class="id" title="var">e</span> [[<span class="id" title="var">l</span> <span class="id" title="var">n</span>] [<span class="id" title="var">inl</span> -&gt;]]%<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">s</span>|<span class="id" title="var">n'</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#Level.level"><span class="id" title="constructor">Level.level</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">inl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#monomorphic_level_in_global_ext"><span class="id" title="lemma">monomorphic_level_in_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <span class="id" title="var">n'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">inl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.union_spec"><span class="id" title="lemma">LS.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl</span>|<span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">declu</span> [<span class="id" title="var">us</span> <span class="id" title="var">vc</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">u</span> <span class="id" title="var">n'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_Forall"><span class="id" title="lemma">forallb_Forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_forall"><span class="id" title="lemma">nth_error_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LS.mem_spec"><span class="id" title="lemma">LS.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">declu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="global_context_set" class="idref" href="#global_context_set"><span class="id" title="definition">global_context_set</span></a> <a id="391875e84e76cffda0d043a934da15bc" class="idref" href="#391875e84e76cffda0d043a934da15bc"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Common.Universes.html#ContextSet.t"><span class="id" title="definition">ContextSet.t</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">universes</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#391875e84e76cffda0d043a934da15bc"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="global_context_set_sub_ext" class="idref" href="#global_context_set_sub_ext"><span class="id" title="lemma">global_context_set_sub_ext</span></a> <a id="5229862e14a26e61282fe32f54876c21" class="idref" href="#5229862e14a26e61282fe32f54876c21"><span class="id" title="binder">Σ</span></a> <a id="064e3b8427d0f8834835bcc1218d1642" class="idref" href="#064e3b8427d0f8834835bcc1218d1642"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#sub_context_set"><span class="id" title="definition">sub_context_set</span></a> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#global_context_set"><span class="id" title="definition">global_context_set</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5229862e14a26e61282fe32f54876c21"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#global_ext_context_set"><span class="id" title="definition">global_ext_context_set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5229862e14a26e61282fe32f54876c21"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#064e3b8427d0f8834835bcc1218d1642"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSetProp.union_subset_2"><span class="id" title="lemma">ConstraintSetProp.union_subset_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wf_global_ext" class="idref" href="#wf_global_ext"><span class="id" title="definition">wf_global_ext</span></a> {<a id="cf:553" class="idref" href="#cf:553"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="e03ba1f7fcc929403f21d5539712f5a7" class="idref" href="#e03ba1f7fcc929403f21d5539712f5a7"><span class="id" title="binder">Σ</span></a> <a id="ext:555" class="idref" href="#ext:555"><span class="id" title="binder">ext</span></a> := <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#e03ba1f7fcc929403f21d5539712f5a7"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ext:555"><span class="id" title="variable">ext</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">SimplIsCbn</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="SubstIdentity" class="idref" href="#SubstIdentity"><span class="id" title="section">SubstIdentity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="cf:556" class="idref" href="#cf:556"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_id_mdecl" class="idref" href="#subst_instance_id_mdecl"><span class="id" title="lemma">subst_instance_id_mdecl</span></a> <a id="9e6af6dcfed2d18520cbc25651fef3c5" class="idref" href="#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="binder">Σ</span></a> <a id="u:558" class="idref" href="#u:558"><span class="id" title="binder">u</span></a> <a id="mdecl:559" class="idref" href="#mdecl:559"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9e6af6dcfed2d18520cbc25651fef3c5"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:559"><span class="id" title="variable">mdecl</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:558"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:558"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:559"><span class="id" title="variable">mdecl</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:558"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">eqi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cst</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">csts</span>]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span> [<span class="id" title="var">sizeu</span> <span class="id" title="var">vu</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_nth"><span class="id" title="lemma">mapi_nth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_wf_ext_wk" class="idref" href="#declared_inductive_wf_ext_wk"><span class="id" title="lemma">declared_inductive_wf_ext_wk</span></a> <a id="51d3b89a0a9b5fe69a88ca16a3026ab1" class="idref" href="#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="binder">Σ</span></a> <a id="mdecl:561" class="idref" href="#mdecl:561"><span class="id" title="binder">mdecl</span></a> <a id="mind:562" class="idref" href="#mind:562"><span class="id" title="binder">mind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mind:562"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:561"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#51d3b89a0a9b5fe69a88ca16a3026ab1"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:561"><span class="id" title="variable">mdecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#weaken_lookup_on_global_env'"><span class="id" title="lemma">weaken_lookup_on_global_env'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="declared_inductive_wf_global_ext" class="idref" href="#declared_inductive_wf_global_ext"><span class="id" title="lemma">declared_inductive_wf_global_ext</span></a> <a id="69eb20ba476f1b9c0f94e67a96598a36" class="idref" href="#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="binder">Σ</span></a> <a id="mdecl:564" class="idref" href="#mdecl:564"><span class="id" title="binder">mdecl</span></a> <a id="mind:565" class="idref" href="#mind:565"><span class="id" title="binder">mind</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_minductive"><span class="id" title="definition">declared_minductive</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mind:565"><span class="id" title="variable">mind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:564"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_global_ext"><span class="id" title="definition">wf_global_ext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#69eb20ba476f1b9c0f94e67a96598a36"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#mdecl:564"><span class="id" title="variable">mdecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_minductive_to_gen"><span class="id" title="lemma">declared_minductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">decli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#weaken_lookup_on_global_env'"><span class="id" title="lemma">weaken_lookup_on_global_env'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">mdecl</span>) <span class="id" title="var">wfΣ</span> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">declared_inductive_wf_ext_wk</span> <span class="id" title="var">declared_inductive_wf_global_ext</span> : <span class="id" title="var">pcuic</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_level_abs" class="idref" href="#subst_instance_level_abs"><span class="id" title="lemma">subst_instance_level_abs</span></a> <a id="l:566" class="idref" href="#l:566"><span class="id" title="binder">l</span></a> <a id="n:567" class="idref" href="#n:567"><span class="id" title="binder">n</span></a> <a id="9d8d83987d76c4dadcfd78cc4ab2708e" class="idref" href="#9d8d83987d76c4dadcfd78cc4ab2708e"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9d8d83987d76c4dadcfd78cc4ab2708e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:566"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union"><span class="id" title="definition">LevelSet.union</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.add"><span class="id" title="definition">LevelSet.add</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.empty"><span class="id" title="definition">LevelSet.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:567"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_levels"><span class="id" title="definition">global_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9d8d83987d76c4dadcfd78cc4ab2708e"><span class="id" title="variable">Σ</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_level"><span class="id" title="instance">subst_instance_level</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:567"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:566"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:566"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n0</span>) <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#not_var_global_levels"><span class="id" title="lemma">not_var_global_levels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">wfΣ</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_abstract_instance" class="idref" href="#consistent_instance_ext_abstract_instance"><span class="id" title="lemma">consistent_instance_ext_abstract_instance</span></a> <a id="9d42bcd472dd077cb50c26d982822f69" class="idref" href="#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="binder">Σ</span></a> <a id="udecl:570" class="idref" href="#udecl:570"><span class="id" title="binder">udecl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_global_ext"><span class="id" title="definition">wf_global_ext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:570"><span class="id" title="variable">udecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#9d42bcd472dd077cb50c26d982822f69"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:570"><span class="id" title="variable">udecl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:570"><span class="id" title="variable">udecl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl:570"><span class="id" title="variable">udecl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">wf_glob_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">udecl</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">univs</span> <span class="id" title="var">cst</span>]] <span class="id" title="var">eqn</span>:<span class="id" title="var">indu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="var">abstract_instance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#forallb_mapi"><span class="id" title="lemma">forallb_mapi</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a>, <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.union_spec"><span class="id" title="lemma">LevelSet.union_spec</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">univs</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>, <span class="id" title="var">Hi</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">eq_dec</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_length"><span class="id" title="lemma">mapi_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="MetaCoq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#unfold"><span class="id" title="definition">unfold</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">univs</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="var">cst</span>) <span class="id" title="var">cst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS.Equal"><span class="id" title="definition">CS.Equal</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstrs"><span class="id" title="instance">subst_instance_cstrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_glob_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wf_glob_ext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">wfext</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#on_udecl_prop"><span class="id" title="definition">on_udecl_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">constraints_of_udecl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">levels_of_udecl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">indu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">fst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wfext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSetProp.fold_rec_weak"><span class="id" title="lemma">ConstraintSetProp.fold_rec_weak</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">a'</span> <span class="id" title="var">eqs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eqs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">eqs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a0</span> <span class="id" title="var">s</span> <span class="id" title="var">nin</span> <span class="id" title="var">equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS_For_all_add"><span class="id" title="lemma">CS_For_all_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cadd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cadd</span> <span class="id" title="var">Ps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">equiv</span> <span class="id" title="var">Ps</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">Ps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">l</span> <span class="id" title="var">c</span>] <span class="id" title="var">r</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cadd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inl</span> <span class="id" title="var">inr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_cstr"><span class="id" title="instance">subst_instance_cstr</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_abs"><span class="id" title="lemma">subst_instance_level_abs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_level_abs"><span class="id" title="lemma">subst_instance_level_abs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inr</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">inl</span> <span class="id" title="var">inr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Common.Universes.html#CS.add_spec"><span class="id" title="lemma">CS.add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints"><span class="id" title="definition">valid_constraints</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Common.config.html#check_univs"><span class="id" title="method">check_univs</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#valid_constraints0"><span class="id" title="definition">valid_constraints0</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#satisfies"><span class="id" title="definition">satisfies</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#CS_For_all_union"><span class="id" title="lemma">CS_For_all_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="udecl_prop_in_var_poly" class="idref" href="#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> {<a id="2335c8bca7ec1c0ff94aa7c1f0c38db7" class="idref" href="#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="binder">Σ</span></a> <a id="n:572" class="idref" href="#n:572"><span class="id" title="binder">n</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnv.html#on_udecl_prop"><span class="id" title="definition">on_udecl_prop</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#n:572"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.Common.Universes.html#levels_of_udecl"><span class="id" title="definition">levels_of_udecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="ctx:573" class="idref" href="#ctx:573"><span class="id" title="binder">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ctx:573"><span class="id" title="variable">ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">cf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onu</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>, <span class="id" title="var">onu</span>. <span class="id" title="var">lsets</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs" class="idref" href="#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a> <a id="ac0e61cebb2060792dd20a871a26d9b7" class="idref" href="#ac0e61cebb2060792dd20a871a26d9b7"><span class="id" title="binder">Σ</span></a> <a id="decl:575" class="idref" href="#decl:575"><span class="id" title="binder">decl</span></a> <a id="u:576" class="idref" href="#u:576"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ac0e61cebb2060792dd20a871a26d9b7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ac0e61cebb2060792dd20a871a26d9b7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#decl:575"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:576"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ac0e61cebb2060792dd20a871a26d9b7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:576"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:576"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">cu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">decl'</span> [<span class="id" title="var">sizeu</span> <span class="id" title="var">vc</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">sizeu</span> <span class="id" title="var">vc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>: <span class="id" title="var">decl'</span> ⇒ [<span class="id" title="var">ina</span> <span class="id" title="var">au</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHu</span> <span class="id" title="var">au</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span>]<span class="id" title="var">IHu</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">au</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.mem_spec"><span class="id" title="lemma">LevelSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> <span class="id" title="var">onu</span> <span class="id" title="var">ina</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">univs</span> <span class="id" title="var">csts</span>] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHu</span>, <span class="id" title="var">ina</span> |- ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHu</span>, <span class="id" title="var">ina</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_unfold"><span class="id" title="lemma">nth_error_unfold</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">ina</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_nth"><span class="id" title="lemma">nth_error_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ina</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_global_ext_subst_abs_level" class="idref" href="#in_global_ext_subst_abs_level"><span class="id" title="lemma">in_global_ext_subst_abs_level</span></a> <a id="a8954b208b88509dc795f0d9b8701f0f" class="idref" href="#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="binder">Σ</span></a> <a id="l:578" class="idref" href="#l:578"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#LevelExpr.get_level"><span class="id" title="definition">LevelExpr.get_level</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:578"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels"><span class="id" title="definition">global_ext_levels</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#a8954b208b88509dc795f0d9b8701f0f"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:578"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:578"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_var_global_ext"><span class="id" title="lemma">in_var_global_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#udecl_prop_in_var_poly"><span class="id" title="lemma">udecl_prop_in_var_poly</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">onu</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ctx</span> <span class="id" title="var">cstrs</span>] <span class="id" title="var">eq</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelSet_In_fold_right_add"><span class="id" title="lemma">LevelSet_In_fold_right_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#AUContext.repr"><span class="id" title="definition">AUContext.repr</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi_unfold"><span class="id" title="lemma">mapi_unfold</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.lvar"><span class="id" title="constructor">Level.lvar</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_unfold_inv"><span class="id" title="lemma">nth_error_unfold_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#unfold_length"><span class="id" title="lemma">unfold_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#In_unfold_inj"><span class="id" title="lemma">In_unfold_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs_univ" class="idref" href="#consistent_instance_ext_subst_abs_univ"><span class="id" title="lemma">consistent_instance_ext_subst_abs_univ</span></a> <a id="3b2471138523605bf294183c378c80fd" class="idref" href="#3b2471138523605bf294183c378c80fd"><span class="id" title="binder">Σ</span></a> <a id="u:580" class="idref" href="#u:580"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:580"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_univ"><span class="id" title="instance">subst_instance_univ</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:580"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:580"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#NonEmptySetFacts.eq_univ'"><span class="id" title="lemma">eq_univ'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#In_subst_instance"><span class="id" title="lemma">In_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> [<span class="id" title="var">inx</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">cu</span> <span class="id" title="var">_</span> <span class="id" title="var">inx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_global_ext_subst_abs_level"><span class="id" title="lemma">in_global_ext_subst_abs_level</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cu</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">inl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">cu</span> <span class="id" title="var">_</span> <span class="id" title="var">inl</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#in_global_ext_subst_abs_level"><span class="id" title="lemma">in_global_ext_subst_abs_level</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistent_instance_ext_subst_abs_inds" class="idref" href="#consistent_instance_ext_subst_abs_inds"><span class="id" title="lemma">consistent_instance_ext_subst_abs_inds</span></a> <a id="caaf94bff702469d549ffe2999be3371" class="idref" href="#caaf94bff702469d549ffe2999be3371"><span class="id" title="binder">Σ</span></a> <a id="decl:582" class="idref" href="#decl:582"><span class="id" title="binder">decl</span></a> <a id="ind:583" class="idref" href="#ind:583"><span class="id" title="binder">ind</span></a> <a id="u:584" class="idref" href="#u:584"><span class="id" title="binder">u</span></a> <a id="bodies:585" class="idref" href="#bodies:585"><span class="id" title="binder">bodies</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#caaf94bff702469d549ffe2999be3371"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#caaf94bff702469d549ffe2999be3371"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#decl:582"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:584"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#caaf94bff702469d549ffe2999be3371"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:583"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:584"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:585"><span class="id" title="variable">bodies</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#ind:583"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:584"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#bodies:585"><span class="id" title="variable">bodies</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">cu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>. <span class="id" title="tactic">generalize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">bodies</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance_instance"><span class="id" title="instance">subst_instance_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">cu</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_universe_type1" class="idref" href="#wf_universe_type1"><span class="id" title="lemma">wf_universe_type1</span></a> <a id="0d51a7e8f6749027b2c50a573d234b8f" class="idref" href="#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#0d51a7e8f6749027b2c50a573d234b8f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.type1"><span class="id" title="definition">Universe.type1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>%<a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.singleton_spec"><span class="id" title="lemma">LevelExprSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_levels_InSet"><span class="id" title="lemma">global_ext_levels_InSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wf_universe_super" class="idref" href="#wf_universe_super"><span class="id" title="lemma">wf_universe_super</span></a> {<a id="beb7f4f461a0b43436ca013d89056722" class="idref" href="#beb7f4f461a0b43436ca013d89056722"><span class="id" title="binder">Σ</span></a> <a id="u:588" class="idref" href="#u:588"><span class="id" title="binder">u</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:588"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#wf_universe"><span class="id" title="definition">wf_universe</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#beb7f4f461a0b43436ca013d89056722"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#Universe.super"><span class="id" title="definition">Universe.super</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:588"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-2:<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>%<a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.singleton_spec"><span class="id" title="lemma">LevelExprSet.singleton_spec</span></a>; <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_universe_type1"><span class="id" title="lemma">wf_universe_type1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.Universes.html#LevelExprSet.singleton_spec"><span class="id" title="lemma">LevelExprSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Universes.html#spec_map_succ"><span class="id" title="lemma">Universes.spec_map_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">int</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <span class="id" title="var">_</span> <span class="id" title="var">int</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_inj" class="idref" href="#app_inj"><span class="id" title="lemma">app_inj</span></a> {<a id="A:589" class="idref" href="#A:589"><span class="id" title="binder">A</span></a>} (<a id="l:590" class="idref" href="#l:590"><span class="id" title="binder">l</span></a> <a id="l':591" class="idref" href="#l':591"><span class="id" title="binder">l'</span></a> <a id="l0:592" class="idref" href="#l0:592"><span class="id" title="binder">l0</span></a> <a id="l0':593" class="idref" href="#l0':593"><span class="id" title="binder">l0'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#A:589"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:590"><span class="id" title="variable">l</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0:592"><span class="id" title="variable">l0</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:590"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':591"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0:592"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0':593"><span class="id" title="variable">l0'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l:590"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0:592"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l':591"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#l0':593"><span class="id" title="variable">l0'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span>, <span class="id" title="var">l0</span>, <span class="id" title="var">l0'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> × ⇒ //; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= <span class="id" title="var">eq</span>] [= → <span class="id" title="var">eql</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">eq</span> <span class="id" title="var">eql</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_abstract_instance_id" class="idref" href="#subst_abstract_instance_id"><span class="id" title="lemma">subst_abstract_instance_id</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#env_prop"><span class="id" title="definition">env_prop</span></a> (<span class="id" title="keyword">fun</span> <a id="dfc55193e91f59a3f9e4deb7d1b755d3" class="idref" href="#dfc55193e91f59a3f9e4deb7d1b755d3"><span class="id" title="binder">Σ</span></a> <a id="2c118057b3e1c93c2d45e5341b4cf6df" class="idref" href="#2c118057b3e1c93c2d45e5341b4cf6df"><span class="id" title="binder">Γ</span></a> <a id="t:599" class="idref" href="#t:599"><span class="id" title="binder">t</span></a> <a id="T:600" class="idref" href="#T:600"><span class="id" title="binder">T</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#dfc55193e91f59a3f9e4deb7d1b755d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:601" class="idref" href="#u:601"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#dfc55193e91f59a3f9e4deb7d1b755d3"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:601"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:599"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:599"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:601"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:600"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:600"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="82fa80cafe97572d0b8b575d411a9438" class="idref" href="#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="binder">Σ</span></a> <a id="5197dc2d8c448d5329c4b054332eb64e" class="idref" href="#5197dc2d8c448d5329c4b054332eb64e"><span class="id" title="binder">Γ</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:596" class="idref" href="#u:596"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#82fa80cafe97572d0b8b575d411a9438"><span class="id" title="variable">Σ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:596"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5197dc2d8c448d5329c4b054332eb64e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#5197dc2d8c448d5329c4b054332eb64e"><span class="id" title="variable">Γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_ind_env"><span class="id" title="lemma">typing_ind_env</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> ((<span class="id" title="tactic">subst</span> <span class="id" title="var">u</span> || <span class="id" title="tactic">subst</span> <span class="id" title="var">u0</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">f_equal</span>|]; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_lift"><span class="id" title="lemma">subst_instance_lift</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span> /= ⇒ [=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdecl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -{2}<span class="id" title="var">Hdecl</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="tactic">solve</span> [<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a>; <span class="id" title="tactic">eauto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs_univ"><span class="id" title="lemma">consistent_instance_ext_subst_abs_univ</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs_univ"><span class="id" title="lemma">consistent_instance_ext_subst_abs_univ</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_universe_super"><span class="id" title="lemma">wf_universe_super</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#product_subst_instance"><span class="id" title="lemma">product_subst_instance</span></a>. <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">b1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">a</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">b</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#type_of_constructor"><span class="id" title="definition">type_of_constructor</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs"><span class="id" title="lemma">consistent_instance_ext_subst_abs</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#consistent_instance_ext_subst_abs_inds"><span class="id" title="lemma">consistent_instance_ext_subst_abs_inds</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#app_inj"><span class="id" title="lemma">app_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpars</span> <span class="id" title="var">hinds</span>]. 2:<span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#map_eq_inj"><span class="id" title="lemma">map_eq_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_it_mkLambda_or_LetIn"><span class="id" title="lemma">subst_instance_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_app"><span class="id" title="lemma">subst_instance_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#app_inj"><span class="id" title="lemma">app_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> []; [|<span class="id" title="var">now</span> <span class="id" title="var">len</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> /= /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#app_inj"><span class="id" title="lemma">app_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpars</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpars</span> <span class="id" title="var">hinds</span>]. 2:<span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hinds</span> /= <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_subst"><span class="id" title="lemma">subst_instance_subst</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#mkApps_nApp_inj"><span class="id" title="lemma">mkApps_nApp_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpars</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#subst_instance_list"><span class="id" title="instance">subst_instance_list</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <span class="id" title="var">Hpars</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst_instance_constr"><span class="id" title="instance">subst_instance_constr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_two"><span class="id" title="lemma">subst_instance_two</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span>]<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [? ?]]; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">IHs</span> <span class="id" title="var">_</span>]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [? ?]]. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">IHs</span> <span class="id" title="var">_</span>]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typed_subst_abstract_instance" class="idref" href="#typed_subst_abstract_instance"><span class="id" title="lemma">typed_subst_abstract_instance</span></a> <a id="d83b6fee0100f8e50ac5e9a9261da6ab" class="idref" href="#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="binder">Σ</span></a> <a id="7fa5a9dc186b46021d4c1c1eb640b39f" class="idref" href="#7fa5a9dc186b46021d4c1c1eb640b39f"><span class="id" title="binder">Γ</span></a> <a id="t:604" class="idref" href="#t:604"><span class="id" title="binder">t</span></a> <a id="T:605" class="idref" href="#T:605"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#7fa5a9dc186b46021d4c1c1eb640b39f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:604"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#T:605"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:606" class="idref" href="#u:606"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#d83b6fee0100f8e50ac5e9a9261da6ab"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:606"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:604"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#t:604"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">wfΣ</span> <span class="id" title="var">onu</span>] <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#env_prop_typing"><span class="id" title="lemma">env_prop_typing</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_abstract_instance_id"><span class="id" title="lemma">subst_abstract_instance_id</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_instance_id" class="idref" href="#subst_instance_id"><span class="id" title="lemma">subst_instance_id</span></a> <a id="2e3abf08778dfed6e536c5791e4a8305" class="idref" href="#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="binder">Σ</span></a> <a id="49ec38779484efdde2d380d930065077" class="idref" href="#49ec38779484efdde2d380d930065077"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#wf_ext_wk"><span class="id" title="definition">wf_ext_wk</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#49ec38779484efdde2d380d930065077"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="u:609" class="idref" href="#u:609"><span class="id" title="binder">u</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#abstract_instance"><span class="id" title="definition">abstract_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#2e3abf08778dfed6e536c5791e4a8305"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#u:609"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#49ec38779484efdde2d380d930065077"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#49ec38779484efdde2d380d930065077"><span class="id" title="variable">Γ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#env_prop_wf_local"><span class="id" title="lemma">env_prop_wf_local</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_abstract_instance_id"><span class="id" title="lemma">subst_abstract_instance_id</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#SubstIdentity"><span class="id" title="section">SubstIdentity</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
