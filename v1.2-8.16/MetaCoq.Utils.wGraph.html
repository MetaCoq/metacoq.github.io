<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.Utils.wGraph</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Zcompare.html#"><span class="id" title="library">Zcompare</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetAVL.html#"><span class="id" title="library">MSetAVL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetFacts.html#"><span class="id" title="library">MSetFacts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetProperties.html#"><span class="id" title="library">MSetProperties</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.MCUtils.html#"><span class="id" title="library">MCUtils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_max_In" class="idref" href="#fold_max_In"><span class="id" title="lemma">fold_max_In</span></a> <a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a> <a id="m:2" class="idref" href="#m:2"><span class="id" title="binder">m</span></a> <a id="l:3" class="idref" href="#l:3"><span class="id" title="binder">l</span></a> (<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:3"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:2"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:2"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:2"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:3"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#or_assoc"><span class="id" title="lemma">or_assoc</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">left</span>|<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>]. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_max_le" class="idref" href="#fold_max_le"><span class="id" title="lemma">fold_max_le</span></a> <a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> <a id="m:6" class="idref" href="#m:6"><span class="id" title="binder">m</span></a> <a id="l:7" class="idref" href="#l:7"><span class="id" title="binder">l</span></a> (<a id="H:8" class="idref" href="#H:8"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:6"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.le"><span class="id" title="definition">Z.le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:5"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#l:7"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:7"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:6"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">left</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="var">lia</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_max_le'" class="idref" href="#fold_max_le'"><span class="id" title="lemma">fold_max_le'</span></a> <a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> <a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a> <a id="l:11" class="idref" href="#l:11"><span class="id" title="binder">l</span></a> (<a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:9"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:11"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#n:9"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:11"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:10"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#fold_max_le"><span class="id" title="lemma">fold_max_le</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="var">lia</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eq_max" class="idref" href="#eq_max"><span class="id" title="definition">eq_max</span></a> <a id="n:13" class="idref" href="#n:13"><span class="id" title="binder">n</span></a> <a id="m:14" class="idref" href="#m:14"><span class="id" title="binder">m</span></a> <a id="k:15" class="idref" href="#k:15"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:13"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:14"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:15"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:13"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:15"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:14"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:15"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Nbar" class="idref" href="#Nbar"><span class="id" title="module">Nbar</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;None&nbsp;is&nbsp;-∞&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.t" class="idref" href="#Nbar.t"><span class="id" title="definition">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.max" class="idref" href="#Nbar.max"><span class="id" title="definition">max</span></a> (<a id="n:16" class="idref" href="#n:16"><span class="id" title="binder">n</span></a> <a id="m:17" class="idref" href="#m:17"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:16"><span class="id" title="variable">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#m:17"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:16"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:17"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:16"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:17"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.add" class="idref" href="#Nbar.add"><span class="id" title="definition">add</span></a> (<a id="n:20" class="idref" href="#n:20"><span class="id" title="binder">n</span></a> <a id="m:21" class="idref" href="#m:21"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:20"><span class="id" title="variable">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#m:21"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#n:20"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:21"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.sub" class="idref" href="#Nbar.sub"><span class="id" title="definition">sub</span></a> (<a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a> <a id="m:25" class="idref" href="#m:25"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:24"><span class="id" title="variable">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#m:25"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:25"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.S" class="idref" href="#Nbar.S"><span class="id" title="definition">S</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.le" class="idref" href="#Nbar.le"><span class="id" title="definition">le</span></a> (<a id="n:28" class="idref" href="#n:28"><span class="id" title="binder">n</span></a> <a id="m:29" class="idref" href="#m:29"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:28"><span class="id" title="variable">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#m:29"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:29"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.lt" class="idref" href="#Nbar.lt"><span class="id" title="definition">lt</span></a> (<a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a> <a id="m:33" class="idref" href="#m:33"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">t</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:32"><span class="id" title="variable">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#m:33"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#n:32"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:33"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.sub"><span class="id" title="definition">sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add"><span class="id" title="definition">add</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le"><span class="id" title="definition">le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.lt"><span class="id" title="definition">lt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">nbar_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="efacf087d3b72c5bf33faf37f59aa519" class="idref" href="#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">&quot;</span></a>+" := <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add"><span class="id" title="definition">add</span></a> : <span class="id" title="var">nbar_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="Nbar.::nbar_scope:x_'-'_x" class="idref" href="#Nbar.::nbar_scope:x_'-'_x"><span class="id" title="notation">&quot;</span></a>-" := <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.sub"><span class="id" title="definition">sub</span></a> : <span class="id" title="var">nbar_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="b4db5b9b772ded2e616e7ae7000f8531" class="idref" href="#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">&quot;</span></a>≤" := <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le"><span class="id" title="definition">le</span></a> : <span class="id" title="var">nbar_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="Nbar.::nbar_scope:x_'&lt;'_x" class="idref" href="#Nbar.::nbar_scope:x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a>&lt;" := <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.lt"><span class="id" title="definition">lt</span></a> : <span class="id" title="var">nbar_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nbar_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">nbar_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">t</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nbar_scope</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Nbar.le_refl" class="idref" href="#Nbar.le_refl"><span class="id" title="instance">le_refl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le"><span class="id" title="definition">le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Nbar.le_trans" class="idref" href="#Nbar.le_trans"><span class="id" title="instance">le_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le"><span class="id" title="definition">le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span>|] [<span class="id" title="var">y</span>|] [<span class="id" title="var">z</span>|]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_finite&nbsp;(n&nbsp;:&nbsp;t)&nbsp;:=&nbsp;is_Some&nbsp;n.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_finite_max&nbsp;(n&nbsp;m&nbsp;:&nbsp;t)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;is_finite&nbsp;(max&nbsp;n&nbsp;m)&nbsp;&lt;-&gt;&nbsp;is_finite&nbsp;n&nbsp;\/&nbsp;is_finite&nbsp;m.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;split.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;destruct&nbsp;n,&nbsp;m;&nbsp;cbn;&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>;&nbsp;try&nbsp;discriminate.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;some_inj,&nbsp;eq_max&nbsp;in&nbsp;e.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;e;&nbsp;<span class="inlinecode"><span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span></span>;&nbsp;eexists;&nbsp;f_equal;&nbsp;eassumption.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left;&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right;&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">H</span>|<span class="id" title="var">H</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">n'</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>;&nbsp;rewrite&nbsp;e;&nbsp;cbn.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;m;&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;H&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">m'</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>;&nbsp;rewrite&nbsp;e;&nbsp;cbn.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;n;&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_finite_add&nbsp;(n&nbsp;m&nbsp;:&nbsp;t)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;is_finite&nbsp;(n&nbsp;+&nbsp;m)&nbsp;&lt;-&gt;&nbsp;is_finite&nbsp;n&nbsp;/\&nbsp;is_finite&nbsp;m.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;split.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;destruct&nbsp;n,&nbsp;m;&nbsp;cbn;&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>;&nbsp;try&nbsp;discriminate.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split;&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;intros&nbsp;<span class="inlinecode">[<span class="id" title="var">n1</span></span> <span class="inlinecode"><span class="id" title="var">e1</span>]</span> <span class="inlinecode">[<span class="id" title="var">n2</span></span> <span class="inlinecode"><span class="id" title="var">e2</span>]</span>;&nbsp;rewrite&nbsp;e1,&nbsp;e2.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_pos&nbsp;(n&nbsp;:&nbsp;t)&nbsp;:=&nbsp;Some&nbsp;1&nbsp;&lt;=&nbsp;n.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_pos_max&nbsp;(n&nbsp;m&nbsp;:&nbsp;t)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;is_pos&nbsp;(max&nbsp;n&nbsp;m)&nbsp;-&gt;&nbsp;is_pos&nbsp;n&nbsp;\/&nbsp;is_pos&nbsp;m.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;destruct&nbsp;n,&nbsp;m;&nbsp;cbn;&nbsp;intuition.&nbsp;lia.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_pos_add&nbsp;(n&nbsp;m&nbsp;:&nbsp;t)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;is_pos&nbsp;(n&nbsp;+&nbsp;m)&nbsp;-&gt;&nbsp;is_pos&nbsp;n&nbsp;\/&nbsp;is_pos&nbsp;m.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;destruct&nbsp;n,&nbsp;m;&nbsp;cbn;&nbsp;intuition.&nbsp;lia.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;is_pos_is_finite&nbsp;n&nbsp;:&nbsp;is_pos&nbsp;n&nbsp;-&gt;&nbsp;is_finite&nbsp;n.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;destruct&nbsp;n;&nbsp;cbn;&nbsp;<span class="inlinecode">|<span class="id" title="tactic">intuition</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;destruct&nbsp;n.&nbsp;lia.&nbsp;intros&nbsp;_.&nbsp;eexists;&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.add_finite" class="idref" href="#Nbar.add_finite"><span class="id" title="lemma">add_finite</span></a> <a id="z1:36" class="idref" href="#z1:36"><span class="id" title="binder">z1</span></a> <a id="z2:37" class="idref" href="#z2:37"><span class="id" title="binder">z2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#z1:36"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z2:37"><span class="id" title="variable">z2</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z1:36"><span class="id" title="variable">z1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z2:37"><span class="id" title="variable">z2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.add_assoc" class="idref" href="#Nbar.add_assoc"><span class="id" title="definition">add_assoc</span></a> <a id="n:38" class="idref" href="#n:38"><span class="id" title="binder">n</span></a> <a id="m:39" class="idref" href="#m:39"><span class="id" title="binder">m</span></a> <a id="p:40" class="idref" href="#p:40"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:38"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#m:39"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:40"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:38"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:39"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:40"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>, <span class="id" title="var">p</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.add_assoc"><span class="id" title="lemma">Z.add_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.add_0_r" class="idref" href="#Nbar.add_0_r"><span class="id" title="definition">add_0_r</span></a> <a id="n:41" class="idref" href="#n:41"><span class="id" title="binder">n</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#n:41"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:41"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.add_0_l" class="idref" href="#Nbar.add_0_l"><span class="id" title="lemma">add_0_l</span></a> <a id="n:42" class="idref" href="#n:42"><span class="id" title="binder">n</span></a> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:42"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:42"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">n</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.sub_diag" class="idref" href="#Nbar.sub_diag"><span class="id" title="lemma">sub_diag</span></a> <a id="n:43" class="idref" href="#n:43"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:43"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.::nbar_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:43"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:43"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.sub_diag"><span class="id" title="lemma">Z.sub_diag</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.max_None" class="idref" href="#Nbar.max_None"><span class="id" title="lemma">max_None</span></a> <a id="n:45" class="idref" href="#n:45"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:45"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:45"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.max_lub" class="idref" href="#Nbar.max_lub"><span class="id" title="definition">max_lub</span></a> <a id="n:46" class="idref" href="#n:46"><span class="id" title="binder">n</span></a> <a id="m:47" class="idref" href="#m:47"><span class="id" title="binder">m</span></a> <a id="p:48" class="idref" href="#p:48"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:46"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:48"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:48"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:46"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:48"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>, <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.add_max_distr_r" class="idref" href="#Nbar.add_max_distr_r"><span class="id" title="definition">add_max_distr_r</span></a> <a id="n:49" class="idref" href="#n:49"><span class="id" title="binder">n</span></a> <a id="m:50" class="idref" href="#m:50"><span class="id" title="binder">m</span></a> <a id="p:51" class="idref" href="#p:51"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:51"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#m:50"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:51"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:50"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:51"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>, <span class="id" title="var">p</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.add_max_distr_r"><span class="id" title="lemma">Z.add_max_distr_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.max_le'" class="idref" href="#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a> <a id="n:52" class="idref" href="#n:52"><span class="id" title="binder">n</span></a> <a id="m:53" class="idref" href="#m:53"><span class="id" title="binder">m</span></a> <a id="p:54" class="idref" href="#p:54"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:53"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:53"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>, <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.plus_le_compat_l" class="idref" href="#Nbar.plus_le_compat_l"><span class="id" title="definition">plus_le_compat_l</span></a> <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> <a id="m:56" class="idref" href="#m:56"><span class="id" title="binder">m</span></a> <a id="p:57" class="idref" href="#p:57"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:56"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:57"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:57"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:56"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>, <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.plus_le_compat" class="idref" href="#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a> <a id="n:58" class="idref" href="#n:58"><span class="id" title="binder">n</span></a> <a id="m:59" class="idref" href="#m:59"><span class="id" title="binder">m</span></a> <a id="p:60" class="idref" href="#p:60"><span class="id" title="binder">p</span></a> <a id="q:61" class="idref" href="#q:61"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:59"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:61"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:59"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:61"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>, <span class="id" title="var">p</span>, <span class="id" title="var">q</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Nbar.max_idempotent" class="idref" href="#Nbar.max_idempotent"><span class="id" title="definition">max_idempotent</span></a> <a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:62"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max_idempotent"><span class="id" title="abbreviation">Z.max_idempotent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.eq_max" class="idref" href="#Nbar.eq_max"><span class="id" title="lemma">eq_max</span></a> <a id="n:63" class="idref" href="#n:63"><span class="id" title="binder">n</span></a> <a id="m:64" class="idref" href="#m:64"><span class="id" title="binder">m</span></a> <a id="k:65" class="idref" href="#k:65"><span class="id" title="binder">k</span></a> (<a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:63"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:64"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:65"><span class="id" title="variable">k</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:63"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:65"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:64"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:65"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max_spec"><span class="id" title="lemma">Z.max_spec</span></a> <span class="id" title="var">z</span> <span class="id" title="var">z0</span>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.fold_max_In" class="idref" href="#Nbar.fold_max_In"><span class="id" title="lemma">fold_max_In</span></a> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a> <a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a> <a id="l:69" class="idref" href="#l:69"><span class="id" title="binder">l</span></a> (<a id="H:70" class="idref" href="#H:70"><span class="id" title="binder">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:69"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:67"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:68"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#n:67"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:69"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#or_assoc"><span class="id" title="lemma">or_assoc</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">left</span>|<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.eq_max"><span class="id" title="lemma">eq_max</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.fold_max_le" class="idref" href="#Nbar.fold_max_le"><span class="id" title="lemma">fold_max_le</span></a> <a id="n:71" class="idref" href="#n:71"><span class="id" title="binder">n</span></a> <a id="m:72" class="idref" href="#m:72"><span class="id" title="binder">m</span></a> <a id="l:73" class="idref" href="#l:73"><span class="id" title="binder">l</span></a> (<a id="H:74" class="idref" href="#H:74"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:71"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:72"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le"><span class="id" title="definition">le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:71"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#l:73"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#n:71"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:73"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:72"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.fold_max_le'" class="idref" href="#Nbar.fold_max_le'"><span class="id" title="lemma">fold_max_le'</span></a> <a id="n:75" class="idref" href="#n:75"><span class="id" title="binder">n</span></a> <a id="m:76" class="idref" href="#m:76"><span class="id" title="binder">m</span></a> <a id="l:77" class="idref" href="#l:77"><span class="id" title="binder">l</span></a> (<a id="H:78" class="idref" href="#H:78"><span class="id" title="binder">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:75"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#m:76"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:77"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#n:75"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:77"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:76"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.fold_max_le"><span class="id" title="lemma">fold_max_le</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.le_dec" class="idref" href="#Nbar.le_dec"><span class="id" title="lemma">le_dec</span></a> <a id="n:79" class="idref" href="#n:79"><span class="id" title="binder">n</span></a> <a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:80"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:80"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span>|], <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#1718f1bc306f7edd524650b393f464a3"><span class="id" title="notation">?=</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">comp</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_spec"><span class="id" title="lemma">Z.compare_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_lt_iff"><span class="id" title="lemma">Z.compare_lt_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">comp</span>. <span class="id" title="tactic">left</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_gt_iff"><span class="id" title="lemma">Z.compare_gt_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">comp</span>. <span class="id" title="tactic">right</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.le_lt_dec" class="idref" href="#Nbar.le_lt_dec"><span class="id" title="lemma">le_lt_dec</span></a> <a id="n:81" class="idref" href="#n:81"><span class="id" title="binder">n</span></a> <a id="m:82" class="idref" href="#m:82"><span class="id" title="binder">m</span></a> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#n:81"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:82"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#m:82"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.::nbar_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:81"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span>|], <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#1718f1bc306f7edd524650b393f464a3"><span class="id" title="notation">?=</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">comp</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_spec"><span class="id" title="lemma">Z.compare_spec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_lt_iff"><span class="id" title="lemma">Z.compare_lt_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">comp</span>. <span class="id" title="tactic">left</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_gt_iff"><span class="id" title="lemma">Z.compare_gt_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">comp</span>. <span class="id" title="tactic">right</span>; <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">constructor</span>) || (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.le_plus_r" class="idref" href="#Nbar.le_plus_r"><span class="id" title="lemma">le_plus_r</span></a> <a id="n:83" class="idref" href="#n:83"><span class="id" title="binder">n</span></a> <a id="m:84" class="idref" href="#m:84"><span class="id" title="binder">m</span></a> : (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:83"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:84"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:84"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Nbar.le_antisymm" class="idref" href="#Nbar.le_antisymm"><span class="id" title="lemma">le_antisymm</span></a> {<a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="m:86" class="idref" href="#m:86"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:85"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:86"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:85"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:85"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:86"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>, <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar"><span class="id" title="module">Nbar</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar"><span class="id" title="module">Nbar</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetDecide.html#"><span class="id" title="library">MSetDecide</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetInterface.html#"><span class="id" title="library">MSetInterface</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="WeightedGraph" class="idref" href="#WeightedGraph"><span class="id" title="module">WeightedGraph</span></a> (<span class="id" title="var">V</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Structures.Orders.html#UsualOrderedType"><span class="id" title="module">UsualOrderedType</span></a>) (<span class="id" title="var">VSet</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetInterface.html#S"><span class="id" title="module">MSetInterface.S</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Module</span> <span class="id" title="var">E</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#V"><span class="id" title="module">V</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.VSetFact" class="idref" href="#WeightedGraph.VSetFact"><span class="id" title="module">VSetFact</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetFacts.html#WFactsOn"><span class="id" title="module">WFactsOn</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V"><span class="id" title="module">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet"><span class="id" title="module">VSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.VSetProp" class="idref" href="#WeightedGraph.VSetProp"><span class="id" title="module">VSetProp</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetProperties.html#WPropertiesOn"><span class="id" title="module">WPropertiesOn</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V"><span class="id" title="module">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet"><span class="id" title="module">VSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.VSetDecide" class="idref" href="#WeightedGraph.VSetDecide"><span class="id" title="module">VSetDecide</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetDecide.html#WDecide"><span class="id" title="module">WDecide</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet"><span class="id" title="module">VSet</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sets</span> := <span class="id" title="var">VSetDecide.fsetdec</span>.<br/>

<br/>
</div>

<div class="doc">
Lemmas on sets 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.VSet_add_remove" class="idref" href="#WeightedGraph.VSet_add_remove"><span class="id" title="lemma">VSet_add_remove</span></a> <a id="x:87" class="idref" href="#x:87"><span class="id" title="binder">x</span></a> <a id="y:88" class="idref" href="#y:88"><span class="id" title="binder">y</span></a> <a id="p:89" class="idref" href="#p:89"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:88"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:87"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:88"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:89"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:88"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:89"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="var">sets</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.VSet_remove_add" class="idref" href="#WeightedGraph.VSet_remove_add"><span class="id" title="lemma">VSet_remove_add</span></a> <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a> <a id="p:91" class="idref" href="#p:91"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:90"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:91"><span class="id" title="variable">p</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#p:91"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="var">sets</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.VSet_add_add" class="idref" href="#WeightedGraph.VSet_add_add"><span class="id" title="lemma">VSet_add_add</span></a> <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder">x</span></a> <a id="y:93" class="idref" href="#y:93"><span class="id" title="binder">y</span></a> <a id="p:94" class="idref" href="#p:94"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:92"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:93"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:94"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:93"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:92"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:94"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="var">sets</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.VSet_add_add_same" class="idref" href="#WeightedGraph.VSet_add_add_same"><span class="id" title="lemma">VSet_add_add_same</span></a> <a id="x:95" class="idref" href="#x:95"><span class="id" title="binder">x</span></a> <a id="p:96" class="idref" href="#p:96"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:95"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:95"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:96"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:95"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:96"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="var">sets</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Disjoint" class="idref" href="#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a id="s:97" class="idref" href="#s:97"><span class="id" title="binder">s</span></a> <a id="s':98" class="idref" href="#s':98"><span class="id" title="binder">s'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Empty"><span class="id" title="definition">VSet.Empty</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter"><span class="id" title="axiom">VSet.inter</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:97"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':98"><span class="id" title="variable">s'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.DisjointAdd" class="idref" href="#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a id="x:99" class="idref" href="#x:99"><span class="id" title="binder">x</span></a> <a id="s:100" class="idref" href="#s:100"><span class="id" title="binder">s</span></a> <a id="s':101" class="idref" href="#s':101"><span class="id" title="binder">s'</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add"><span class="id" title="definition">VSetProp.Add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:99"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:100"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':101"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:99"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:100"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_add1" class="idref" href="#WeightedGraph.DisjointAdd_add1"><span class="id" title="lemma">DisjointAdd_add1</span></a> {<a id="s0:102" class="idref" href="#s0:102"><span class="id" title="binder">s0</span></a> <a id="s1:103" class="idref" href="#s1:103"><span class="id" title="binder">s1</span></a> <a id="s2:104" class="idref" href="#s2:104"><span class="id" title="binder">s2</span></a> <a id="x:105" class="idref" href="#x:105"><span class="id" title="binder">x</span></a> <a id="y:106" class="idref" href="#y:106"><span class="id" title="binder">y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:107" class="idref" href="#H1:107"><span class="id" title="binder">H1</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:105"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:102"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:103"><span class="id" title="variable">s1</span></a>) (<a id="H2:108" class="idref" href="#H2:108"><span class="id" title="binder">H2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:106"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:103"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:104"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:105"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:106"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:102"><span class="id" title="variable">s0</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:104"><span class="id" title="variable">s2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hz</span>. 2: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>]; [<span class="id" title="tactic">right</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_1"><span class="id" title="lemma">VSetFact.add_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>]; [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_2"><span class="id" title="lemma">VSetFact.add_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>]; [<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_add2" class="idref" href="#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a> {<a id="s:109" class="idref" href="#s:109"><span class="id" title="binder">s</span></a> <a id="x:110" class="idref" href="#x:110"><span class="id" title="binder">x</span></a>} (<a id="H:111" class="idref" href="#H:111"><span class="id" title="binder">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:109"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:109"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:109"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add_add"><span class="id" title="lemma">VSetProp.Add_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_add3" class="idref" href="#WeightedGraph.DisjointAdd_add3"><span class="id" title="lemma">DisjointAdd_add3</span></a>  {<a id="s0:112" class="idref" href="#s0:112"><span class="id" title="binder">s0</span></a> <a id="s1:113" class="idref" href="#s1:113"><span class="id" title="binder">s1</span></a> <a id="s2:114" class="idref" href="#s2:114"><span class="id" title="binder">s2</span></a> <a id="x:115" class="idref" href="#x:115"><span class="id" title="binder">x</span></a> <a id="y:116" class="idref" href="#y:116"><span class="id" title="binder">y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H1:117" class="idref" href="#H1:117"><span class="id" title="binder">H1</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:115"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:112"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:113"><span class="id" title="variable">s1</span></a>) (<a id="H2:118" class="idref" href="#H2:118"><span class="id" title="binder">H2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:116"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:113"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:114"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:116"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:112"><span class="id" title="variable">s0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:116"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:112"><span class="id" title="variable">s0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_remove" class="idref" href="#WeightedGraph.DisjointAdd_remove"><span class="id" title="lemma">DisjointAdd_remove</span></a> {<a id="s:119" class="idref" href="#s:119"><span class="id" title="binder">s</span></a> <a id="s':120" class="idref" href="#s':120"><span class="id" title="binder">s'</span></a> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="y:122" class="idref" href="#y:122"><span class="id" title="binder">y</span></a>} (<a id="H:123" class="idref" href="#H:123"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:119"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':120"><span class="id" title="variable">s'</span></a>) (<a id="H':124" class="idref" href="#H':124"><span class="id" title="binder">H'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:122"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:121"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:122"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:119"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:122"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':120"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>. 2: <span class="id" title="tactic">intros</span> [<span class="id" title="var">H0</span>|<span class="id" title="var">H0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">(</span></a><span class="id" title="var">H.p1</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">y0</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">p1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">H0</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_2"><span class="id" title="lemma">VSetFact.remove_2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H.p1</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a>; <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H.p1</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_Subset" class="idref" href="#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a> {<a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a> <a id="s:126" class="idref" href="#s:126"><span class="id" title="binder">s</span></a> <a id="s':127" class="idref" href="#s':127"><span class="id" title="binder">s'</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:126"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':127"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:126"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':127"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H</span> <span class="id" title="var">_</span>] <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_union" class="idref" href="#WeightedGraph.DisjointAdd_union"><span class="id" title="lemma">DisjointAdd_union</span></a> {<a id="s:128" class="idref" href="#s:128"><span class="id" title="binder">s</span></a> <a id="s':129" class="idref" href="#s':129"><span class="id" title="binder">s'</span></a> <a id="s'':130" class="idref" href="#s'':130"><span class="id" title="binder">s''</span></a> <a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a>} (<a id="H:132" class="idref" href="#H:132"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:128"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':129"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':130"><span class="id" title="variable">s''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:131"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:128"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':130"><span class="id" title="variable">s''</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':129"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':130"><span class="id" title="variable">s''</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hadd</span> <span class="id" title="var">hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_Add"><span class="id" title="lemma">VSetProp.union_Add</span></a>. <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_remove1" class="idref" href="#WeightedGraph.DisjointAdd_remove1"><span class="id" title="lemma">DisjointAdd_remove1</span></a> {<a id="s:133" class="idref" href="#s:133"><span class="id" title="binder">s</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a>} (<a id="H:135" class="idref" href="#H:135"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:133"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:134"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:133"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s:133"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hz</span>. 2: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hz</span>|<span class="id" title="var">Hz</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">z</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_2"><span class="id" title="lemma">VSetFact.remove_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_3"><span class="id" title="lemma">VSetFact.remove_3</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_1"><span class="id" title="lemma">VSetFact.remove_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="WeightedGraph.Add_Proper" class="idref" href="#WeightedGraph.Add_Proper"><span class="id" title="instance">Add_Proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add"><span class="id" title="definition">VSetProp.Add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> → <span class="id" title="var">s0</span> <span class="id" title="var">s1</span> <span class="id" title="var">eq</span> <span class="id" title="var">s0'</span> <span class="id" title="var">s1'</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add"><span class="id" title="definition">VSetProp.Add</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">eq</span>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="WeightedGraph.DisjointAdd_Proper" class="idref" href="#WeightedGraph.DisjointAdd_Proper"><span class="id" title="instance">DisjointAdd_Proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> → <span class="id" title="var">s0</span> <span class="id" title="var">s1</span> <span class="id" title="var">eq</span> <span class="id" title="var">s0'</span> <span class="id" title="var">s1'</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Add_In" class="idref" href="#WeightedGraph.Add_In"><span class="id" title="lemma">Add_In</span></a> {<a id="s:136" class="idref" href="#s:136"><span class="id" title="binder">s</span></a> <a id="x:137" class="idref" href="#x:137"><span class="id" title="binder">x</span></a>} (<a id="H:138" class="idref" href="#H:138"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:137"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:136"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add"><span class="id" title="definition">VSetProp.Add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:137"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:136"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:136"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Add_Add" class="idref" href="#WeightedGraph.Add_Add"><span class="id" title="lemma">Add_Add</span></a> {<a id="s:139" class="idref" href="#s:139"><span class="id" title="binder">s</span></a> <a id="s':140" class="idref" href="#s':140"><span class="id" title="binder">s'</span></a> <a id="x:141" class="idref" href="#x:141"><span class="id" title="binder">x</span></a>} (<a id="H:142" class="idref" href="#H:142"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add"><span class="id" title="definition">VSetProp.Add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:139"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':140"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add"><span class="id" title="definition">VSetProp.Add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':140"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':140"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add_In"><span class="id" title="lemma">Add_In</span></a>, <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Disjoint_DisjointAdd" class="idref" href="#WeightedGraph.Disjoint_DisjointAdd"><span class="id" title="lemma">Disjoint_DisjointAdd</span></a> <a id="x:143" class="idref" href="#x:143"><span class="id" title="binder">x</span></a> <a id="s:144" class="idref" href="#s:144"><span class="id" title="binder">s</span></a> <a id="s':145" class="idref" href="#s':145"><span class="id" title="binder">s'</span></a> <a id="s'':146" class="idref" href="#s'':146"><span class="id" title="binder">s''</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':145"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':145"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':146"><span class="id" title="variable">s''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':146"><span class="id" title="variable">s''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">da</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">disj</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">disj</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ininter</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">disj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_remove_add" class="idref" href="#WeightedGraph.DisjointAdd_remove_add"><span class="id" title="lemma">DisjointAdd_remove_add</span></a> {<a id="x:147" class="idref" href="#x:147"><span class="id" title="binder">x</span></a> <a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:147"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:147"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:148"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:147"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:148"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intro</span>|]; <span class="id" title="var">sets</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_Equal" class="idref" href="#WeightedGraph.DisjointAdd_Equal"><span class="id" title="lemma">DisjointAdd_Equal</span></a> <a id="x:149" class="idref" href="#x:149"><span class="id" title="binder">x</span></a> <a id="s:150" class="idref" href="#s:150"><span class="id" title="binder">s</span></a> <a id="s':151" class="idref" href="#s':151"><span class="id" title="binder">s'</span></a> <a id="s'':152" class="idref" href="#s'':152"><span class="id" title="binder">s''</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:149"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':151"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':151"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':152"><span class="id" title="variable">s''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:149"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':152"><span class="id" title="variable">s''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> &lt;-. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_Equal_l" class="idref" href="#WeightedGraph.DisjointAdd_Equal_l"><span class="id" title="lemma">DisjointAdd_Equal_l</span></a> <a id="x:153" class="idref" href="#x:153"><span class="id" title="binder">x</span></a> <a id="s:154" class="idref" href="#s:154"><span class="id" title="binder">s</span></a> <a id="s':155" class="idref" href="#s':155"><span class="id" title="binder">s'</span></a> <a id="s'':156" class="idref" href="#s'':156"><span class="id" title="binder">s''</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:153"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':155"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':156"><span class="id" title="variable">s''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:153"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s'':156"><span class="id" title="variable">s''</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':155"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> &lt;-. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_remove_inv" class="idref" href="#WeightedGraph.DisjointAdd_remove_inv"><span class="id" title="lemma">DisjointAdd_remove_inv</span></a> {<a id="x:157" class="idref" href="#x:157"><span class="id" title="binder">x</span></a> <a id="s:158" class="idref" href="#s:158"><span class="id" title="binder">s</span></a> <a id="s':159" class="idref" href="#s':159"><span class="id" title="binder">s'</span></a> <a id="z:160" class="idref" href="#z:160"><span class="id" title="binder">z</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:157"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:158"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:160"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':159"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:158"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:160"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:158"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">z</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#or_intror"><span class="id" title="constructor">or_intror</span></a> <span class="id" title="var">H1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.Edge" class="idref" href="#WeightedGraph.Edge"><span class="id" title="module">Edge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.t" class="idref" href="#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> := (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>)%<span class="id" title="keyword">type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.eq" class="idref" href="#WeightedGraph.Edge.eq"><span class="id" title="definition">eq</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.eq_equiv" class="idref" href="#WeightedGraph.Edge.eq_equiv"><span class="id" title="definition">eq_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">RelationClasses.Equivalence</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq"><span class="id" title="definition">eq</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.lt" class="idref" href="#WeightedGraph.Edge.lt"><span class="id" title="definition">lt</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">(</span></a><a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">x</span></a><a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">,</span></a> <a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">n</span></a><a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">,</span></a> <a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">y</span></a><a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder">)</span></a> '<a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">(</span></a><a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">x'</span></a><a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">,</span></a> <a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">n'</span></a><a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">,</span></a> <a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">y'</span></a><a id="pat:168" class="idref" href="#pat:168"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#V.lt"><span class="id" title="axiom">V.lt</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x':167"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq"><span class="id" title="definition">V.eq</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x':167"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n':166"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq"><span class="id" title="definition">V.eq</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x':167"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n':166"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.lt"><span class="id" title="axiom">V.lt</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:161"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y':165"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.lt_strorder" class="idref" href="#WeightedGraph.Edge.lt_strorder"><span class="id" title="definition">lt_strorder</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#StrictOrder"><span class="id" title="class">StrictOrder</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">x</span> <span class="id" title="var">n</span>] <span class="id" title="var">y</span>] <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.lt_strorder"><span class="id" title="axiom">V.lt_strorder</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">x1</span> <span class="id" title="var">n1</span>] <span class="id" title="var">y1</span>] [[<span class="id" title="var">x2</span> <span class="id" title="var">n2</span>] <span class="id" title="var">y2</span>] [[<span class="id" title="var">x3</span> <span class="id" title="var">n3</span>] <span class="id" title="var">y3</span>] <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#StrictOrder_Transitive"><span class="id" title="method">StrictOrder_Transitive</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">T1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#StrictOrder_Transitive"><span class="id" title="method">StrictOrder_Transitive</span></a> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">y3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_trans"><span class="id" title="lemma">eq_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> <span class="id" title="var">n3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">T3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.lt"><span class="id" title="axiom">VSet.E.lt</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq"><span class="id" title="definition">V.eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span>|[[<span class="id" title="var">H1</span> <span class="id" title="var">H1'</span>]|[<span class="id" title="var">H1</span> [<span class="id" title="var">H1'</span> <span class="id" title="var">H1''</span>]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H2</span>|[[<span class="id" title="var">H2</span> <span class="id" title="var">H2'</span>]|[<span class="id" title="var">H2</span> [<span class="id" title="var">H2'</span> <span class="id" title="var">H2''</span>]]]]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.lt_compat" class="idref" href="#WeightedGraph.Edge.lt_compat"><span class="id" title="definition">lt_compat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">H1</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.compare" class="idref" href="#WeightedGraph.Edge.compare"><span class="id" title="definition">compare</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> '<a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">(</span></a><a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">x</span></a><a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">,</span></a> <a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">n</span></a><a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">,</span></a> <a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">y</span></a><a id="pat:172" class="idref" href="#pat:172"><span class="id" title="binder">)</span></a> '<a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">(</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">x'</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">,</span></a> <a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">n'</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">,</span></a> <a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">y'</span></a><a id="pat:176" class="idref" href="#pat:176"><span class="id" title="binder">)</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.compare"><span class="id" title="axiom">V.compare</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x':175"><span class="id" title="variable">x'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare"><span class="id" title="definition">Z.compare</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:170"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n':174"><span class="id" title="variable">n'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#V.compare"><span class="id" title="axiom">V.compare</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:169"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y':173"><span class="id" title="variable">y'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.compare_spec" class="idref" href="#WeightedGraph.Edge.compare_spec"><span class="id" title="definition">compare_spec</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:177" class="idref" href="#x:177"><span class="id" title="binder">x</span></a> <a id="y:178" class="idref" href="#y:178"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#CompareSpec"><span class="id" title="inductive">CompareSpec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:178"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:178"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:178"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:177"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:178"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">x1</span> <span class="id" title="var">n1</span>] <span class="id" title="var">y1</span>] [[<span class="id" title="var">x2</span> <span class="id" title="var">n2</span>] <span class="id" title="var">y2</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.compare_spec"><span class="id" title="axiom">V.compare_spec</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.compare"><span class="id" title="axiom">V.compare</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2-3: <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.compare_spec"><span class="id" title="lemma">Z.compare_spec</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#1718f1bc306f7edd524650b393f464a3"><span class="id" title="notation">?=</span></a> <span class="id" title="var">n2</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2-3: <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.compare_spec"><span class="id" title="axiom">V.compare_spec</span></a> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.compare"><span class="id" title="axiom">V.compare</span></a> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.eq_dec" class="idref" href="#WeightedGraph.Edge.eq_dec"><span class="id" title="definition">eq_dec</span></a> : <span class="id" title="keyword">∀</span> <a id="x:179" class="idref" href="#x:179"><span class="id" title="binder">x</span></a> <a id="y:180" class="idref" href="#y:180"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:179"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:180"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:179"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:180"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq"><span class="id" title="definition">eq</span></a>. <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.eq_dec"><span class="id" title="definition">Z.eq_dec</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.eqb" class="idref" href="#WeightedGraph.Edge.eqb"><span class="id" title="definition">eqb</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.t"><span class="id" title="definition">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <span class="id" title="keyword">fun</span> <a id="x:181" class="idref" href="#x:181"><span class="id" title="binder">x</span></a> <a id="y:182" class="idref" href="#y:182"><span class="id" title="binder">y</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:182"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Edge.eq_leibniz" class="idref" href="#WeightedGraph.Edge.eq_leibniz"><span class="id" title="definition">eq_leibniz</span></a> : <span class="id" title="keyword">∀</span> <a id="x:183" class="idref" href="#x:183"><span class="id" title="binder">x</span></a> <a id="y:184" class="idref" href="#y:184"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:183"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:184"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:183"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:184"><span class="id" title="variable">y</span></a> := <span class="id" title="keyword">fun</span> <a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a> <a id="y:186" class="idref" href="#y:186"><span class="id" title="binder">y</span></a> <a id="eq:187" class="idref" href="#eq:187"><span class="id" title="binder">eq</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#eq:187"><span class="id" title="variable">eq</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge"><span class="id" title="module">Edge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.EdgeSet" class="idref" href="#WeightedGraph.EdgeSet"><span class="id" title="module">EdgeSet</span></a>:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetAVL.html#Make"><span class="id" title="module">MSetAVL.Make</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge"><span class="id" title="module">Edge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.EdgeSetFact" class="idref" href="#WeightedGraph.EdgeSetFact"><span class="id" title="module">EdgeSetFact</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetFacts.html#WFactsOn"><span class="id" title="module">WFactsOn</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge"><span class="id" title="module">Edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet"><span class="id" title="module">EdgeSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.EdgeSetProp" class="idref" href="#WeightedGraph.EdgeSetProp"><span class="id" title="module">EdgeSetProp</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetProperties.html#WPropertiesOn"><span class="id" title="module">WPropertiesOn</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge"><span class="id" title="module">Edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet"><span class="id" title="module">EdgeSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.EdgeSetDecide" class="idref" href="#WeightedGraph.EdgeSetDecide"><span class="id" title="module">EdgeSetDecide</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetDecide.html#WDecide"><span class="id" title="module">WDecide</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet"><span class="id" title="module">EdgeSet</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">esets</span> := <span class="id" title="var">EdgeSetDecide.fsetdec</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.t" class="idref" href="#WeightedGraph.t"><span class="id" title="definition">t</span></a> := (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">EdgeSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="WeightedGraph.V" class="idref" href="#WeightedGraph.V"><span class="id" title="definition">V</span></a> (<a id="G:188" class="idref" href="#G:188"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:188"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="WeightedGraph.E" class="idref" href="#WeightedGraph.E"><span class="id" title="definition">E</span></a> (<a id="G:189" class="idref" href="#G:189"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:189"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="WeightedGraph.s" class="idref" href="#WeightedGraph.s"><span class="id" title="definition">s</span></a> (<a id="G:190" class="idref" href="#G:190"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:190"><span class="id" title="variable">G</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.e_source" class="idref" href="#WeightedGraph.e_source"><span class="id" title="definition">e_source</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.e_target" class="idref" href="#WeightedGraph.e_target"><span class="id" title="definition">e_target</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.e_weight" class="idref" href="#WeightedGraph.e_weight"><span class="id" title="definition">e_weight</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="WeightedGraph.:::x_'..s'" class="idref" href="#WeightedGraph.:::x_'..s'"><span class="id" title="notation">&quot;</span></a>x ..s" := (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.e_source"><span class="id" title="definition">e_source</span></a> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3, <span class="id" title="var">format</span> "x '..s'").<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="WeightedGraph.:::x_'..t'" class="idref" href="#WeightedGraph.:::x_'..t'"><span class="id" title="notation">&quot;</span></a>x ..t" := (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.e_target"><span class="id" title="definition">e_target</span></a> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3, <span class="id" title="var">format</span> "x '..t'").<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="WeightedGraph.:::x_'..w'" class="idref" href="#WeightedGraph.:::x_'..w'"><span class="id" title="notation">&quot;</span></a>x ..w" := (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.e_weight"><span class="id" title="definition">e_weight</span></a> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3, <span class="id" title="var">format</span> "x '..w'").<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.opp_edge" class="idref" href="#WeightedGraph.opp_edge"><span class="id" title="definition">opp_edge</span></a> (<a id="e:191" class="idref" href="#e:191"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#e:191"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:191"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..w'"><span class="id" title="notation">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:191"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.labelling" class="idref" href="#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.graph" class="idref" href="#WeightedGraph.graph"><span class="id" title="section">graph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G:192" class="idref" href="#G:192"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.add_node" class="idref" href="#WeightedGraph.add_node"><span class="id" title="definition">add_node</span></a> <a id="x:193" class="idref" href="#x:193"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:193"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.add_edge" class="idref" href="#WeightedGraph.add_edge"><span class="id" title="definition">add_edge</span></a> <a id="e:194" class="idref" href="#e:194"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:194"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:194"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add"><span class="id" title="definition">EdgeSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:194"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.EdgeOf" class="idref" href="#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a id="x:195" class="idref" href="#x:195"><span class="id" title="binder">x</span></a> <a id="y:196" class="idref" href="#y:196"><span class="id" title="binder">y</span></a> := <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="n:197" class="idref" href="#n:197"><span class="id" title="binder">n</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:195"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:197"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:196"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="WeightedGraph.PathOf" class="idref" href="#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="WeightedGraph.pathOf_refl" class="idref" href="#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <a id="x:200" class="idref" href="#x:200"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#PathOf:198"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:200"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:200"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="WeightedGraph.pathOf_step" class="idref" href="#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <a id="x:201" class="idref" href="#x:201"><span class="id" title="binder">x</span></a> <a id="y:202" class="idref" href="#y:202"><span class="id" title="binder">y</span></a> <a id="z:203" class="idref" href="#z:203"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:201"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:202"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#PathOf:198"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:202"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:203"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#PathOf:198"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:201"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:203"><span class="id" title="variable">z</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} <span class="id" title="var">e</span> <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.weight" class="idref" href="#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> {<a id="x:204" class="idref" href="#x:204"><span class="id" title="binder">x</span></a> <a id="y:205" class="idref" href="#y:205"><span class="id" title="binder">y</span></a>} (<a id="p:206" class="idref" href="#p:206"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:204"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:205"><span class="id" title="variable">y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:206"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">x</span> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#weight:207"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:206"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.nodes" class="idref" href="#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> {<a id="x:209" class="idref" href="#x:209"><span class="id" title="binder">x</span></a> <a id="y:210" class="idref" href="#y:210"><span class="id" title="binder">y</span></a>} (<a id="p:211" class="idref" href="#p:211"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:209"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:210"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:211"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:209"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#nodes:212"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:211"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.concat" class="idref" href="#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> {<a id="x:214" class="idref" href="#x:214"><span class="id" title="binder">x</span></a> <a id="y:215" class="idref" href="#y:215"><span class="id" title="binder">y</span></a> <a id="z:216" class="idref" href="#z:216"><span class="id" title="binder">z</span></a>} (<a id="p:217" class="idref" href="#p:217"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:214"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:215"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:215"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:216"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:214"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:216"><span class="id" title="variable">z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:217"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <a id="q:220" class="idref" href="#q:220"><span class="id" title="binder">q</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#q:220"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">fun</span> <a id="q:221" class="idref" href="#q:221"><span class="id" title="binder">q</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#concat:218"><span class="id" title="definition">concat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:217"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:221"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.length" class="idref" href="#WeightedGraph.length"><span class="id" title="definition">length</span></a> {<a id="x:222" class="idref" href="#x:222"><span class="id" title="binder">x</span></a> <a id="y:223" class="idref" href="#y:223"><span class="id" title="binder">y</span></a>} (<a id="p:224" class="idref" href="#p:224"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:222"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:223"><span class="id" title="variable">y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:224"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">x</span> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#length:225"><span class="id" title="definition">length</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:224"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="WeightedGraph.invariants" class="idref" href="#WeightedGraph.invariants"><span class="id" title="record">invariants</span></a> := <span class="id" title="var">mk_invariant</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="WeightedGraph.edges_vertices" class="idref" href="#WeightedGraph.edges_vertices"><span class="id" title="projection">edges_vertices</span></a> : <span class="comment">(*&nbsp;E&nbsp;⊆&nbsp;V&nbsp;×&nbsp;V&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="e:228" class="idref" href="#e:228"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:228"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:228"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:228"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;s&nbsp;∈&nbsp;V&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.source_vertex" class="idref" href="#WeightedGraph.source_vertex"><span class="id" title="projection">source_vertex</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;s&nbsp;is&nbsp;a&nbsp;source&nbsp;that&nbsp;is&nbsp;lower&nbsp;than&nbsp;any&nbsp;other&nbsp;node&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.source_pathOf" class="idref" href="#WeightedGraph.source_pathOf"><span class="id" title="projection">source_pathOf</span></a> : <span class="id" title="keyword">∀</span> <a id="x:231" class="idref" href="#x:231"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:231"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="p:232" class="idref" href="#p:232"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:231"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:232"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> }.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.PosPathOf" class="idref" href="#WeightedGraph.PosPathOf"><span class="id" title="definition">PosPathOf</span></a> <a id="x:234" class="idref" href="#x:234"><span class="id" title="binder">x</span></a> <a id="y:235" class="idref" href="#y:235"><span class="id" title="binder">y</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="p:236" class="idref" href="#p:236"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:234"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:235"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:236"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="WeightedGraph.acyclic_no_loop" class="idref" href="#WeightedGraph.acyclic_no_loop"><span class="id" title="record">acyclic_no_loop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a id="WeightedGraph.Build_acyclic_no_loop" class="idref" href="#WeightedGraph.Build_acyclic_no_loop"><span class="id" title="projection">Build_acyclic_no_loop</span></a> : <span class="id" title="keyword">∀</span> <a id="x:238" class="idref" href="#x:238"><span class="id" title="binder">x</span></a> (<a id="p:239" class="idref" href="#p:239"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:238"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:238"><span class="id" title="variable">x</span></a>), <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:239"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.acyclic_no_loop'" class="idref" href="#WeightedGraph.acyclic_no_loop'"><span class="id" title="definition">acyclic_no_loop'</span></a> := <span class="id" title="keyword">∀</span> <a id="x:241" class="idref" href="#x:241"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PosPathOf"><span class="id" title="definition">PosPathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:241"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:241"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fact</span> <a id="WeightedGraph.acyclic_no_loop_loop'" class="idref" href="#WeightedGraph.acyclic_no_loop_loop'"><span class="id" title="lemma">acyclic_no_loop_loop'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop'"><span class="id" title="definition">acyclic_no_loop'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop'"><span class="id" title="definition">acyclic_no_loop'</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PosPathOf"><span class="id" title="definition">PosPathOf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> [<span class="id" title="var">p</span> <span class="id" title="var">HH</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.correct_labelling" class="idref" href="#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> (<a id="l:242" class="idref" href="#l:242"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#l:242"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="e:243" class="idref" href="#e:243"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:243"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:242"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:243"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:243"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..w'"><span class="id" title="notation">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:242"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:243"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.leq_vertices" class="idref" href="#WeightedGraph.leq_vertices"><span class="id" title="definition">leq_vertices</span></a> <a id="n:244" class="idref" href="#n:244"><span class="id" title="binder">n</span></a> <a id="x:245" class="idref" href="#x:245"><span class="id" title="binder">x</span></a> <a id="y:246" class="idref" href="#y:246"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">∀</span> <a id="l:247" class="idref" href="#l:247"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:247"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:247"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:245"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:244"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:247"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:246"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="WeightedGraph.SPath" class="idref" href="#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="WeightedGraph.spath_refl" class="idref" href="#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a id="s:250" class="idref" href="#s:250"><span class="id" title="binder">s</span></a> <a id="x:251" class="idref" href="#x:251"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#SPath:248"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:250"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:251"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:251"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="WeightedGraph.spath_step" class="idref" href="#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <a id="s:252" class="idref" href="#s:252"><span class="id" title="binder">s</span></a> <a id="s':253" class="idref" href="#s':253"><span class="id" title="binder">s'</span></a> <a id="x:254" class="idref" href="#x:254"><span class="id" title="binder">x</span></a> <a id="y:255" class="idref" href="#y:255"><span class="id" title="binder">y</span></a> <a id="z:256" class="idref" href="#z:256"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:254"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:252"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':253"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:254"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:255"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#SPath:248"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:252"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:255"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:256"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#SPath:248"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':253"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:254"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:256"><span class="id" title="variable">z</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> {<span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} <span class="id" title="var">H</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Global&nbsp;Instance&nbsp;SPath_refl&nbsp;s&nbsp;:&nbsp;CRelationClasses.Reflexive&nbsp;(SPath&nbsp;s)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:=&nbsp;spath_refl&nbsp;s.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.to_pathOf" class="idref" href="#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> {<a id="s:257" class="idref" href="#s:257"><span class="id" title="binder">s</span></a> <a id="x:258" class="idref" href="#x:258"><span class="id" title="binder">x</span></a> <a id="y:259" class="idref" href="#y:259"><span class="id" title="binder">y</span></a>} (<a id="p:260" class="idref" href="#p:260"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:257"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:258"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:259"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:258"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:259"><span class="id" title="variable">y</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:260"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:258"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#to_pathOf:261"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:260"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.sweight" class="idref" href="#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> {<a id="s:263" class="idref" href="#s:263"><span class="id" title="binder">s</span></a> <a id="x:264" class="idref" href="#x:264"><span class="id" title="binder">x</span></a> <a id="y:265" class="idref" href="#y:265"><span class="id" title="binder">y</span></a>} (<a id="p:266" class="idref" href="#p:266"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:263"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:264"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:265"><span class="id" title="variable">y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:266"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#sweight:267"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:266"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.sweight_weight" class="idref" href="#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> {<a id="s:269" class="idref" href="#s:269"><span class="id" title="binder">s</span></a> <a id="x:270" class="idref" href="#x:270"><span class="id" title="binder">x</span></a> <a id="y:271" class="idref" href="#y:271"><span class="id" title="binder">y</span></a>} (<a id="p:272" class="idref" href="#p:272"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:269"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:270"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:271"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:272"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:272"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.is_simple" class="idref" href="#WeightedGraph.is_simple"><span class="id" title="definition">is_simple</span></a> {<a id="x:273" class="idref" href="#x:273"><span class="id" title="binder">x</span></a> <a id="y:274" class="idref" href="#y:274"><span class="id" title="binder">y</span></a>} (<a id="p:275" class="idref" href="#p:275"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:273"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:274"><span class="id" title="variable">y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:275"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:273"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:275"><span class="id" title="variable">p</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#is_simple:276"><span class="id" title="definition">is_simple</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:275"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="WeightedGraph.to_simple" class="idref" href="#WeightedGraph.to_simple"><span class="id" title="definition">to_simple</span></a> : <span class="id" title="keyword">∀</span> {<a id="x:278" class="idref" href="#x:278"><span class="id" title="binder">x</span></a> <a id="y:279" class="idref" href="#y:279"><span class="id" title="binder">y</span></a>} (<a id="p:280" class="idref" href="#p:280"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:278"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:279"><span class="id" title="variable">y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_simple"><span class="id" title="definition">is_simple</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:280"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:280"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:278"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:279"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fix</span> <span class="id" title="var">to_simple</span> {<a id="x:281" class="idref" href="#x:281"><span class="id" title="binder">x</span></a> <a id="y:282" class="idref" href="#y:282"><span class="id" title="binder">y</span></a>} <a id="p:283" class="idref" href="#p:283"><span class="id" title="binder">p</span></a> (<a id="Hp:284" class="idref" href="#Hp:284"><span class="id" title="binder">Hp</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_simple"><span class="id" title="definition">is_simple</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:283"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">p</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#p:283"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a> <span class="id" title="var">t0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">return</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_simple"><span class="id" title="definition">is_simple</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:286"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:286"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#t:287"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#t0:288"><span class="id" title="variable">t0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:281"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:281"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">e</span> <span class="id" title="var">p0</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="Hp0:289" class="idref" href="#Hp0:289"><span class="id" title="binder">Hp0</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#to_simple:285"><span class="id" title="variable">to_simple</span></a> <span class="id" title="var">p0</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hp:284"><span class="id" title="variable">Hp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add_add"><span class="id" title="lemma">VSetProp.Add_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_andI"><span class="id" title="lemma">andb_andI</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h1</span> <span class="id" title="var">h2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_andI"><span class="id" title="lemma">andb_andI</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp0</span> <span class="id" title="keyword">as</span> [? ?]. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_concat" class="idref" href="#WeightedGraph.weight_concat"><span class="id" title="lemma">weight_concat</span></a> {<a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a> <a id="y:291" class="idref" href="#y:291"><span class="id" title="binder">y</span></a> <a id="z:292" class="idref" href="#z:292"><span class="id" title="binder">z</span></a>} (<a id="p:293" class="idref" href="#p:293"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:291"><span class="id" title="variable">y</span></a>) (<a id="q:294" class="idref" href="#q:294"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:291"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:292"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:293"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:294"><span class="id" title="variable">q</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:293"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:294"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">q</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">q</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.add_end" class="idref" href="#WeightedGraph.add_end"><span class="id" title="definition">add_end</span></a> {<a id="s:295" class="idref" href="#s:295"><span class="id" title="binder">s</span></a> <a id="x:296" class="idref" href="#x:296"><span class="id" title="binder">x</span></a> <a id="y:297" class="idref" href="#y:297"><span class="id" title="binder">y</span></a>} (<a id="p:298" class="idref" href="#p:298"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:295"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:296"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:297"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> {<a id="z:299" class="idref" href="#z:299"><span class="id" title="binder">z</span></a>} (<a id="e:300" class="idref" href="#e:300"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:297"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:299"><span class="id" title="variable">z</span></a>) {<a id="s':301" class="idref" href="#s':301"><span class="id" title="binder">s'</span></a>} (<a id="Hs:302" class="idref" href="#Hs:302"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:297"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:295"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':301"><span class="id" title="variable">s'</span></a>), <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':301"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:296"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:299"><span class="id" title="variable">z</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:298"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="keyword">fun</span> <a id="z:305" class="idref" href="#z:305"><span class="id" title="binder">z</span></a> <a id="e:306" class="idref" href="#e:306"><span class="id" title="binder">e</span></a> <a id="s':307" class="idref" href="#s':307"><span class="id" title="binder">s'</span></a> <a id="Hs:308" class="idref" href="#Hs:308"><span class="id" title="binder">Hs</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:308"><span class="id" title="variable">Hs</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:306"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">H</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">fun</span> <a id="z:309" class="idref" href="#z:309"><span class="id" title="binder">z</span></a> <a id="e':310" class="idref" href="#e':310"><span class="id" title="binder">e'</span></a> <a id="s':311" class="idref" href="#s':311"><span class="id" title="binder">s'</span></a> <a id="Hs:312" class="idref" href="#Hs:312"><span class="id" title="binder">Hs</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add1"><span class="id" title="lemma">DisjointAdd_add1</span></a> <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:312"><span class="id" title="variable">Hs</span></a>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#add_end:303"><span class="id" title="definition">add_end</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:298"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e':310"><span class="id" title="variable">e'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add3"><span class="id" title="lemma">DisjointAdd_add3</span></a> <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:312"><span class="id" title="variable">Hs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_add_end" class="idref" href="#WeightedGraph.weight_add_end"><span class="id" title="lemma">weight_add_end</span></a> {<a id="s:313" class="idref" href="#s:313"><span class="id" title="binder">s</span></a> <a id="x:314" class="idref" href="#x:314"><span class="id" title="binder">x</span></a> <a id="y:315" class="idref" href="#y:315"><span class="id" title="binder">y</span></a>} (<a id="p:316" class="idref" href="#p:316"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:313"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:314"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:315"><span class="id" title="variable">y</span></a>) {<a id="z:317" class="idref" href="#z:317"><span class="id" title="binder">z</span></a> <a id="e:318" class="idref" href="#e:318"><span class="id" title="binder">e</span></a> <a id="s':319" class="idref" href="#s':319"><span class="id" title="binder">s'</span></a>} <a id="Hs:320" class="idref" href="#Hs:320"><span class="id" title="binder">Hs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (@<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_end"><span class="id" title="definition">add_end</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:313"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:314"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:315"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:316"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:317"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:318"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':319"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:320"><span class="id" title="variable">Hs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:316"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:318"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z</span> <span class="id" title="var">e</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Fixpoint&nbsp;split&nbsp;{s&nbsp;x&nbsp;y}&nbsp;(p&nbsp;:&nbsp;SPath&nbsp;s&nbsp;x&nbsp;y)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;SPath&nbsp;(VSet.remove&nbsp;y&nbsp;s)&nbsp;x&nbsp;y&nbsp;*&nbsp;∑&nbsp;s',&nbsp;SPath&nbsp;s'&nbsp;y&nbsp;y&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;p&nbsp;with&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;spath_refl&nbsp;s&nbsp;x&nbsp;=&gt;&nbsp;(spath_refl&nbsp;_&nbsp;x,&nbsp;(VSet.empty;&nbsp;spath_refl&nbsp;_&nbsp;x))&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;spath_step&nbsp;s&nbsp;s'&nbsp;x0&nbsp;y0&nbsp;z0&nbsp;H&nbsp;e&nbsp;p0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;match&nbsp;V.eq_dec&nbsp;x0&nbsp;z0&nbsp;with&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;left&nbsp;pp&nbsp;=&gt;&nbsp;(eq_rect&nbsp;_&nbsp;(SPath&nbsp;_&nbsp;_)&nbsp;(spath_refl&nbsp;_&nbsp;_)&nbsp;_&nbsp;pp,&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(s';&nbsp;eq_rect&nbsp;_&nbsp;(fun&nbsp;x&nbsp;=&gt;&nbsp;SPath&nbsp;_&nbsp;x&nbsp;_)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(spath_step&nbsp;H&nbsp;e&nbsp;p0)&nbsp;_&nbsp;pp))&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;right&nbsp;pp&nbsp;=&gt;&nbsp;(spath_step&nbsp;(DisjointAdd_remove&nbsp;H&nbsp;pp)&nbsp;e&nbsp;(split&nbsp;p0).1,&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(split&nbsp;p0).2)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;end.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.SPath_sub" class="idref" href="#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> {<a id="s:321" class="idref" href="#s:321"><span class="id" title="binder">s</span></a> <a id="s':322" class="idref" href="#s':322"><span class="id" title="binder">s'</span></a> <a id="x:323" class="idref" href="#x:323"><span class="id" title="binder">x</span></a> <a id="y:324" class="idref" href="#y:324"><span class="id" title="binder">y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:321"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':322"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:321"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:324"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':322"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:324"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">p</span>; <span class="id" title="var">revert</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s'0</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s'0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: <span class="id" title="var">eassumption</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add_remove"><span class="id" title="lemma">VSetProp.Add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">d</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_1"><span class="id" title="lemma">VSetProp.FM.remove_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">Hu</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_2"><span class="id" title="lemma">VSetFact.remove_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>, <span class="id" title="var">d</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.weight_SPath_sub" class="idref" href="#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a> {<a id="s:325" class="idref" href="#s:325"><span class="id" title="binder">s</span></a> <a id="s':326" class="idref" href="#s':326"><span class="id" title="binder">s'</span></a> <a id="x:327" class="idref" href="#x:327"><span class="id" title="binder">x</span></a> <a id="y:328" class="idref" href="#y:328"><span class="id" title="binder">y</span></a>} <a id="Hs:329" class="idref" href="#Hs:329"><span class="id" title="binder">Hs</span></a> <a id="p:330" class="idref" href="#p:330"><span class="id" title="binder">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (@<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:325"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':326"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:327"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:328"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:329"><span class="id" title="variable">Hs</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:330"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:330"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s'0</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="var">Program.Tactics.program_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Program Fixpoint</span> <a id="WeightedGraph.sconcat" class="idref" href="#WeightedGraph.sconcat"><span class="id" title="definition">sconcat</span></a> {<a id="s:331" class="idref" href="#s:331"><span class="id" title="binder">s</span></a> <a id="s':332" class="idref" href="#s':332"><span class="id" title="binder">s'</span></a> <a id="x:333" class="idref" href="#x:333"><span class="id" title="binder">x</span></a> <a id="y:334" class="idref" href="#y:334"><span class="id" title="binder">y</span></a> <a id="z:335" class="idref" href="#z:335"><span class="id" title="binder">z</span></a>} (<a id="p:336" class="idref" href="#p:336"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:334"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:334"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:335"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:335"><span class="id" title="variable">z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:336"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="keyword">return</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:339"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:341"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:335"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:339"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:340"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:335"><span class="id" title="variable">z</span></a>  <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">fun</span> <a id="hin:342" class="idref" href="#hin:342"><span class="id" title="binder">hin</span></a> <a id="q:343" class="idref" href="#q:343"><span class="id" title="binder">q</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:343"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z'</span> <span class="id" title="var">da</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">fun</span> <a id="hin:344" class="idref" href="#hin:344"><span class="id" title="binder">hin</span></a> <a id="q:345" class="idref" href="#q:345"><span class="id" title="binder">q</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':332"><span class="id" title="variable">s'</span></a>) <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:334"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:335"><span class="id" title="variable">z</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span> (@<a class="idref" href="MetaCoq.Utils.wGraph.html#sconcat:337"><span class="id" title="definition">sconcat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:336"><span class="id" title="variable">p</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:345"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">sets</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_union"><span class="id" title="lemma">DisjointAdd_union</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inxs'</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">hin</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#or_introl"><span class="id" title="constructor">or_introl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint_DisjointAdd"><span class="id" title="lemma">Disjoint_DisjointAdd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.sweight_sconcat" class="idref" href="#WeightedGraph.sweight_sconcat"><span class="id" title="lemma">sweight_sconcat</span></a> {<a id="s:346" class="idref" href="#s:346"><span class="id" title="binder">s</span></a> <a id="s':347" class="idref" href="#s':347"><span class="id" title="binder">s'</span></a> <a id="x:348" class="idref" href="#x:348"><span class="id" title="binder">x</span></a> <a id="y:349" class="idref" href="#y:349"><span class="id" title="binder">y</span></a> <a id="z:350" class="idref" href="#z:350"><span class="id" title="binder">z</span></a>} (<a id="p:351" class="idref" href="#p:351"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:346"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:348"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:349"><span class="id" title="variable">y</span></a>) (<a id="ss':352" class="idref" href="#ss':352"><span class="id" title="binder">ss'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:346"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':347"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="q:353" class="idref" href="#q:353"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':347"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:349"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:350"><span class="id" title="variable">z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sconcat"><span class="id" title="definition">sconcat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:351"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#ss':352"><span class="id" title="variable">ss'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:353"><span class="id" title="variable">q</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:351"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:353"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.snodes" class="idref" href="#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> {<a id="s:354" class="idref" href="#s:354"><span class="id" title="binder">s</span></a> <a id="x:355" class="idref" href="#x:355"><span class="id" title="binder">x</span></a> <a id="y:356" class="idref" href="#y:356"><span class="id" title="binder">y</span></a>} (<a id="p:357" class="idref" href="#p:357"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:354"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:355"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:356"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:357"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">H</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:355"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#snodes:358"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:357"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.split" class="idref" href="#WeightedGraph.split"><span class="id" title="definition">split</span></a> {<a id="s:360" class="idref" href="#s:360"><span class="id" title="binder">s</span></a> <a id="x:361" class="idref" href="#x:361"><span class="id" title="binder">x</span></a> <a id="y:362" class="idref" href="#y:362"><span class="id" title="binder">y</span></a>} (<a id="p:363" class="idref" href="#p:363"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:362"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="u:364" class="idref" href="#u:364"><span class="id" title="binder">u</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:364"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:363"><span class="id" title="variable">p</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#u:364"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:362"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:364"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:360"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:364"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:364"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:362"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">Hu</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty_spec"><span class="id" title="axiom">VSet.empty_spec</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hu'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">u</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <span class="id" title="var">p</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span>|<span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_3"><span class="id" title="lemma">VSetFact.add_3</span></a> <span class="id" title="var">Hx</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">_</span> <span class="id" title="var">Hu'</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>. 2: <span class="id" title="var">eassumption</span>. 2: <span class="id" title="tactic">exact</span> <span class="id" title="var">IHp</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_remove"><span class="id" title="lemma">DisjointAdd_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>. 2: <span class="id" title="tactic">exact</span> <span class="id" title="var">IHp</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_split" class="idref" href="#WeightedGraph.weight_split"><span class="id" title="lemma">weight_split</span></a> {<a id="s:365" class="idref" href="#s:365"><span class="id" title="binder">s</span></a> <a id="x:366" class="idref" href="#x:366"><span class="id" title="binder">x</span></a> <a id="y:367" class="idref" href="#y:367"><span class="id" title="binder">y</span></a>} (<a id="p:368" class="idref" href="#p:368"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:365"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:366"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:367"><span class="id" title="variable">y</span></a>) {<a id="u:369" class="idref" href="#u:369"><span class="id" title="binder">u</span></a> <a id="Hu:370" class="idref" href="#Hu:370"><span class="id" title="binder">Hu</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:368"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:369"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hu:370"><span class="id" title="variable">Hu</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:368"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:369"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hu:370"><span class="id" title="variable">Hu</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:368"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hu</span>|<span class="id" title="var">Hu</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.empty_iff"><span class="id" title="lemma">VSetFact.empty_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span>|<span class="id" title="var">X</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.add_assoc"><span class="id" title="lemma">Z.add_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Fixpoint&nbsp;split&nbsp;{s&nbsp;x&nbsp;y}&nbsp;(p&nbsp;:&nbsp;SPath&nbsp;s&nbsp;x&nbsp;y)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;SPath&nbsp;(VSet.remove&nbsp;y&nbsp;s)&nbsp;x&nbsp;y&nbsp;*&nbsp;SPath&nbsp;s&nbsp;y&nbsp;y&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;p&nbsp;with&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;spath_refl&nbsp;s&nbsp;x&nbsp;=&gt;&nbsp;(spath_refl&nbsp;_&nbsp;x,&nbsp;spath_refl&nbsp;_&nbsp;x)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;spath_step&nbsp;s&nbsp;s'&nbsp;x0&nbsp;y0&nbsp;z0&nbsp;H&nbsp;e&nbsp;p0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;match&nbsp;V.eq_dec&nbsp;x0&nbsp;z0&nbsp;with&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;left&nbsp;pp&nbsp;=&gt;&nbsp;(eq_rect&nbsp;_&nbsp;(SPath&nbsp;_&nbsp;_)&nbsp;(spath_refl&nbsp;_&nbsp;_)&nbsp;_&nbsp;pp,&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eq_rect&nbsp;_&nbsp;(fun&nbsp;x&nbsp;=&gt;&nbsp;SPath&nbsp;_&nbsp;x&nbsp;_)&nbsp;(spath_step&nbsp;H&nbsp;e&nbsp;p0)&nbsp;_&nbsp;pp)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;right&nbsp;pp&nbsp;=&gt;&nbsp;(spath_step&nbsp;(DisjointAdd_remove&nbsp;H&nbsp;pp)&nbsp;e&nbsp;(split&nbsp;p0).1,&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SPath_sub&nbsp;(DisjointAdd_Subset&nbsp;H)&nbsp;(split&nbsp;p0).2)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;end.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;Lemma&nbsp;weight_split&nbsp;{s&nbsp;x&nbsp;y}&nbsp;(p&nbsp;:&nbsp;SPath&nbsp;s&nbsp;x&nbsp;y)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;sweight&nbsp;(split&nbsp;p).1&nbsp;+&nbsp;sweight&nbsp;(split&nbsp;p).2&nbsp;=&nbsp;sweight&nbsp;p.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;p.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;simpl.&nbsp;destruct&nbsp;(V.eq_dec&nbsp;x&nbsp;z).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;destruct&nbsp;e0;&nbsp;cbn.&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;cbn.&nbsp;rewrite&nbsp;weight_SPath_sub;&nbsp;lia.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.split'" class="idref" href="#WeightedGraph.split'"><span class="id" title="definition">split'</span></a> {<a id="s:371" class="idref" href="#s:371"><span class="id" title="binder">s</span></a> <a id="x:372" class="idref" href="#x:372"><span class="id" title="binder">x</span></a> <a id="y:373" class="idref" href="#y:373"><span class="id" title="binder">y</span></a>} (<a id="p:374" class="idref" href="#p:374"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:371"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:372"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:373"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:373"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:371"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:372"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:373"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:371"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:373"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:373"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:374"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:373"><span class="id" title="variable">y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_split'" class="idref" href="#WeightedGraph.weight_split'"><span class="id" title="lemma">weight_split'</span></a> {<a id="s:375" class="idref" href="#s:375"><span class="id" title="binder">s</span></a> <a id="x:376" class="idref" href="#x:376"><span class="id" title="binder">x</span></a> <a id="y:377" class="idref" href="#y:377"><span class="id" title="binder">y</span></a>} (<a id="p:378" class="idref" href="#p:378"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:375"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:376"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:377"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split'"><span class="id" title="definition">split'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:378"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split'"><span class="id" title="definition">split'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:378"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:378"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split'"><span class="id" title="definition">split'</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_split"><span class="id" title="lemma">weight_split</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.spath_one" class="idref" href="#WeightedGraph.spath_one"><span class="id" title="definition">spath_one</span></a> {<a id="s:379" class="idref" href="#s:379"><span class="id" title="binder">s</span></a> <a id="x:380" class="idref" href="#x:380"><span class="id" title="binder">x</span></a> <a id="y:381" class="idref" href="#y:381"><span class="id" title="binder">y</span></a> <a id="k:382" class="idref" href="#k:382"><span class="id" title="binder">k</span></a>} (<a id="Hx:383" class="idref" href="#Hx:383"><span class="id" title="binder">Hx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:380"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:379"><span class="id" title="variable">s</span></a>) (<a id="Hk:384" class="idref" href="#Hk:384"><span class="id" title="binder">Hk</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:380"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:382"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:381"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:379"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:380"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:381"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. 3: <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_remove1"><span class="id" title="lemma">DisjointAdd_remove1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.simplify_aux1" class="idref" href="#WeightedGraph.simplify_aux1"><span class="id" title="lemma">simplify_aux1</span></a> {<a id="s0:385" class="idref" href="#s0:385"><span class="id" title="binder">s0</span></a> <a id="s1:386" class="idref" href="#s1:386"><span class="id" title="binder">s1</span></a> <a id="s2:387" class="idref" href="#s2:387"><span class="id" title="binder">s2</span></a>} (<a id="H:388" class="idref" href="#H:388"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:385"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:386"><span class="id" title="variable">s1</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:387"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:385"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:387"><span class="id" title="variable">s2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_2"><span class="id" title="lemma">VSetFact.union_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.simplify_aux2" class="idref" href="#WeightedGraph.simplify_aux2"><span class="id" title="lemma">simplify_aux2</span></a> {<a id="s0:389" class="idref" href="#s0:389"><span class="id" title="binder">s0</span></a> <a id="x:390" class="idref" href="#x:390"><span class="id" title="binder">x</span></a>} (<a id="Hx:391" class="idref" href="#Hx:391"><span class="id" title="binder">Hx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:390"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:389"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="s1:392" class="idref" href="#s1:392"><span class="id" title="binder">s1</span></a> <a id="s2:393" class="idref" href="#s2:393"><span class="id" title="binder">s2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:394" class="idref" href="#Hs:394"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:389"><span class="id" title="variable">s0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:390"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:392"><span class="id" title="variable">s1</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:393"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:389"><span class="id" title="variable">s0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:392"><span class="id" title="variable">s1</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:393"><span class="id" title="variable">s2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [|<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union_spec"><span class="id" title="axiom">VSet.union_spec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union_spec"><span class="id" title="axiom">VSet.union_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_2"><span class="id" title="lemma">VSetFact.add_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.simplify_aux3" class="idref" href="#WeightedGraph.simplify_aux3"><span class="id" title="lemma">simplify_aux3</span></a> {<a id="s0:395" class="idref" href="#s0:395"><span class="id" title="binder">s0</span></a> <a id="s1:396" class="idref" href="#s1:396"><span class="id" title="binder">s1</span></a> <a id="s2:397" class="idref" href="#s2:397"><span class="id" title="binder">s2</span></a> <a id="x:398" class="idref" href="#x:398"><span class="id" title="binder">x</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:399" class="idref" href="#Hs:399"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:395"><span class="id" title="variable">s0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:398"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:396"><span class="id" title="variable">s1</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:397"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:398"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:395"><span class="id" title="variable">s0</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:396"><span class="id" title="variable">s1</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:397"><span class="id" title="variable">s2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [|<span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_add"><span class="id" title="lemma">VSetProp.union_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_sym"><span class="id" title="lemma">VSetProp.union_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_add"><span class="id" title="lemma">VSetProp.union_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_m"><span class="id" title="instance">VSetFact.add_m</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_sym"><span class="id" title="lemma">VSetProp.union_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.simplify" class="idref" href="#WeightedGraph.simplify"><span class="id" title="definition">simplify</span></a> {<a id="s:400" class="idref" href="#s:400"><span class="id" title="binder">s</span></a> <a id="x:401" class="idref" href="#x:401"><span class="id" title="binder">x</span></a> <a id="y:402" class="idref" href="#y:402"><span class="id" title="binder">y</span></a>} (<a id="q:403" class="idref" href="#q:403"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:402"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:401"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="p:404" class="idref" href="#p:404"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:400"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:401"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:402"><span class="id" title="variable">y</span></a>) {<a id="s':405" class="idref" href="#s':405"><span class="id" title="binder">s'</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:400"><span class="id" title="variable">s</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:403"><span class="id" title="variable">q</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#s':405"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="x':406" class="idref" href="#x':406"><span class="id" title="binder">x'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':405"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x':406"><span class="id" title="variable">x'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x':406"><span class="id" title="variable">x'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:403"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="keyword">fun</span> <a id="p:409" class="idref" href="#p:409"><span class="id" title="binder">p</span></a> <a id="s':410" class="idref" href="#s':410"><span class="id" title="binder">s'</span></a> <a id="Hs:411" class="idref" href="#Hs:411"><span class="id" title="binder">Hs</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:401"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify_aux1"><span class="id" title="lemma">simplify_aux1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:411"><span class="id" title="variable">Hs</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#p:409"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">q</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:412" class="idref" href="#p:412"><span class="id" title="binder">p</span></a> <a id="s':413" class="idref" href="#s':413"><span class="id" title="binder">s'</span></a> <a id="Hs:414" class="idref" href="#Hs:414"><span class="id" title="binder">Hs</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:402"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:400"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span> <span class="id" title="keyword">return</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:402"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:400"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#X:415"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="XX:416" class="idref" href="#XX:416"><span class="id" title="binder">XX</span></a> ⇒ <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">p2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split'"><span class="id" title="definition">split'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:412"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">p2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#y:402"><span class="id" title="variable">y</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify_aux1"><span class="id" title="lemma">simplify_aux1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:414"><span class="id" title="variable">Hs</span></a>) <span class="id" title="var">p2</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#simplify:407"><span class="id" title="definition">simplify</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:403"><span class="id" title="variable">q</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_end"><span class="id" title="definition">add_end</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_remove1"><span class="id" title="lemma">DisjointAdd_remove1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_2"><span class="id" title="lemma">VSetFact.mem_2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#XX:416"><span class="id" title="variable">XX</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify_aux2"><span class="id" title="lemma">simplify_aux2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#XX:416"><span class="id" title="variable">XX</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:414"><span class="id" title="variable">Hs</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="XX:417" class="idref" href="#XX:417"><span class="id" title="binder">XX</span></a> ⇒ (<a class="idref" href="MetaCoq.Utils.wGraph.html#simplify:407"><span class="id" title="definition">simplify</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:403"><span class="id" title="variable">q</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_end"><span class="id" title="definition">add_end</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:412"><span class="id" title="variable">p</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">p2</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p2'"><span class="id" title="notation">XX</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify_aux3"><span class="id" title="lemma">simplify_aux3</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:414"><span class="id" title="variable">Hs</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_simplify" class="idref" href="#WeightedGraph.weight_simplify"><span class="id" title="lemma">weight_simplify</span></a> {<a id="s:418" class="idref" href="#s:418"><span class="id" title="binder">s</span></a> <a id="x:419" class="idref" href="#x:419"><span class="id" title="binder">x</span></a> <a id="y:420" class="idref" href="#y:420"><span class="id" title="binder">y</span></a>} <a id="q:421" class="idref" href="#q:421"><span class="id" title="binder">q</span></a> (<a id="p:422" class="idref" href="#p:422"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:418"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:419"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:420"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> {<a id="s':423" class="idref" href="#s':423"><span class="id" title="binder">s'</span></a>} <a id="Hs:424" class="idref" href="#Hs:424"><span class="id" title="binder">Hs</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:421"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:422"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify"><span class="id" title="definition">simplify</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:421"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:422"><span class="id" title="variable">p</span></a> (<span class="id" title="var">s'</span>:=<a class="idref" href="MetaCoq.Utils.wGraph.html#s':423"><span class="id" title="variable">s'</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#Hs:424"><span class="id" title="variable">Hs</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">).π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">F0</span> := <a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)); <span class="id" title="var">clearbody</span> <span class="id" title="var">F0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">F1</span> := @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_2"><span class="id" title="lemma">VSetFact.mem_2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">F1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">F2</span> := @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify_aux2"><span class="id" title="lemma">simplify_aux2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">F2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split'"><span class="id" title="definition">split'</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">p2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb_lt"><span class="id" title="lemma">Z.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_add_end"><span class="id" title="lemma">weight_add_end</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_split'"><span class="id" title="lemma">weight_split'</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb_ge"><span class="id" title="lemma">Z.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_add_end"><span class="id" title="lemma">weight_add_end</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.succs" class="idref" href="#WeightedGraph.succs"><span class="id" title="definition">succs</span></a> (<a id="x:425" class="idref" href="#x:425"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <a id="l:427" class="idref" href="#l:427"><span class="id" title="binder">l</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="e:426" class="idref" href="#e:426"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:426"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:425"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.elements"><span class="id" title="definition">EdgeSet.elements</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="e:428" class="idref" href="#e:428"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#e:428"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..w'"><span class="id" title="notation">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:428"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#l:427"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;lsp&nbsp;=&nbsp;longest&nbsp;simple&nbsp;path&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;the&nbsp;list&nbsp;of&nbsp;authorized&nbsp;intermediate&nbsp;nodes&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;lsp0&nbsp;(a::l)&nbsp;x&nbsp;y&nbsp;=&nbsp;max&nbsp;(lsp0&nbsp;l&nbsp;x&nbsp;y)&nbsp;(lsp0&nbsp;l&nbsp;x&nbsp;a&nbsp;+&nbsp;lsp0&nbsp;l&nbsp;a&nbsp;y)&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.lsp00" class="idref" href="#WeightedGraph.lsp00"><span class="id" title="definition">lsp00</span></a> <a id="fuel:429" class="idref" href="#fuel:429"><span class="id" title="binder">fuel</span></a> (<a id="s:430" class="idref" href="#s:430"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a>) (<a id="x:431" class="idref" href="#x:431"><span class="id" title="binder">x</span></a> <a id="z:432" class="idref" href="#z:432"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">Nbar.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="base:434" class="idref" href="#base:434"><span class="id" title="binder">base</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:431"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:432"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#fuel:429"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0%<span class="id" title="var">nat</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#base:434"><span class="id" title="variable">base</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">Datatypes.S</span></a> <a class="idref" href="MetaCoq.Utils.MCUtils.html#fuel"><span class="id" title="definition">fuel</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:431"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:430"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ds:439" class="idref" href="#ds:439"><span class="id" title="binder">ds</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> '<a id="pat:438" class="idref" href="#pat:438"><span class="id" title="binder">(</span></a><a id="pat:438" class="idref" href="#pat:438"><span class="id" title="binder">n</span></a><a id="pat:438" class="idref" href="#pat:438"><span class="id" title="binder">,</span></a> <a id="pat:438" class="idref" href="#pat:438"><span class="id" title="binder">y</span></a><a id="pat:438" class="idref" href="#pat:438"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:437"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#lsp00:433"><span class="id" title="definition">lsp00</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#fuel:429"><span class="id" title="variable">fuel</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:431"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:430"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#y:436"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:432"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">nbar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.succs"><span class="id" title="definition">succs</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:431"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">Nbar.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#ds:439"><span class="id" title="variable">ds</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#base:434"><span class="id" title="variable">base</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#base:434"><span class="id" title="variable">base</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.lsp0" class="idref" href="#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a id="s:440" class="idref" href="#s:440"><span class="id" title="binder">s</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp00"><span class="id" title="definition">lsp00</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:440"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s:440"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp0_eq" class="idref" href="#WeightedGraph.lsp0_eq"><span class="id" title="lemma">lsp0_eq</span></a> <a id="s:441" class="idref" href="#s:441"><span class="id" title="binder">s</span></a> <a id="x:442" class="idref" href="#x:442"><span class="id" title="binder">x</span></a> <a id="z:443" class="idref" href="#z:443"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:441"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:442"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:443"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="base:444" class="idref" href="#base:444"><span class="id" title="binder">base</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:442"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:443"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:442"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:441"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ds:448" class="idref" href="#ds:448"><span class="id" title="binder">ds</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:447" class="idref" href="#pat:447"><span class="id" title="binder">(</span></a><a id="pat:447" class="idref" href="#pat:447"><span class="id" title="binder">n</span></a><a id="pat:447" class="idref" href="#pat:447"><span class="id" title="binder">,</span></a> <a id="pat:447" class="idref" href="#pat:447"><span class="id" title="binder">y</span></a><a id="pat:447" class="idref" href="#pat:447"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:446"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:442"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:441"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#y:445"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:443"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">nbar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.succs"><span class="id" title="definition">succs</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:442"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">Nbar.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#ds:448"><span class="id" title="variable">ds</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#base:444"><span class="id" title="variable">base</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#base:444"><span class="id" title="variable">base</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a>. <span class="id" title="tactic">set</span> (<span class="id" title="var">fuel</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">fuel</span>); [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">fuel</span>. <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">fuel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.cardinal_inv_1"><span class="id" title="lemma">VSetProp.cardinal_inv_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetProp.FM.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>); [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">List.map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">y</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H'</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">fuel</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_cardinal_1"><span class="id" title="lemma">VSetProp.remove_cardinal_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;lsp&nbsp;=&nbsp;longest&nbsp;simple&nbsp;path&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;the&nbsp;list&nbsp;of&nbsp;authorized&nbsp;intermediate&nbsp;nodes&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;lsp0&nbsp;(a::l)&nbsp;x&nbsp;y&nbsp;=&nbsp;max&nbsp;(lsp0&nbsp;l&nbsp;x&nbsp;y)&nbsp;(lsp0&nbsp;l&nbsp;x&nbsp;a&nbsp;+&nbsp;lsp0&nbsp;l&nbsp;a&nbsp;y)&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.lsp00_fast" class="idref" href="#WeightedGraph.lsp00_fast"><span class="id" title="definition">lsp00_fast</span></a> <a id="fuel:449" class="idref" href="#fuel:449"><span class="id" title="binder">fuel</span></a> (<a id="s:450" class="idref" href="#s:450"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a>) (<a id="x:451" class="idref" href="#x:451"><span class="id" title="binder">x</span></a> <a id="z:452" class="idref" href="#z:452"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">Nbar.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="base:454" class="idref" href="#base:454"><span class="id" title="binder">base</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:451"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:452"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#fuel:449"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0%<span class="id" title="var">nat</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#base:454"><span class="id" title="variable">base</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">Datatypes.S</span></a> <a class="idref" href="MetaCoq.Utils.MCUtils.html#fuel"><span class="id" title="definition">fuel</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:451"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:450"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:456" class="idref" href="#s:456"><span class="id" title="binder">s</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:451"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:450"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold"><span class="id" title="definition">EdgeSet.fold</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> '<a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">(</span></a><a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">src</span></a><a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">,</span></a> <a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">w</span></a><a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">,</span></a> <a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">tgt</span></a><a id="pat:460" class="idref" href="#pat:460"><span class="id" title="binder">)</span></a> <a id="acc:461" class="idref" href="#acc:461"><span class="id" title="binder">acc</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#src:459"><span class="id" title="variable">src</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:451"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">Nbar.max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:461"><span class="id" title="variable">acc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#w:458"><span class="id" title="variable">w</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#lsp00_fast:453"><span class="id" title="definition">lsp00_fast</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#fuel:449"><span class="id" title="variable">fuel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:456"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#tgt:457"><span class="id" title="variable">tgt</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:452"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:461"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">nbar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#base:454"><span class="id" title="variable">base</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#base:454"><span class="id" title="variable">base</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.fold_left_map" class="idref" href="#WeightedGraph.fold_left_map"><span class="id" title="lemma">fold_left_map</span></a> {<a id="A:462" class="idref" href="#A:462"><span class="id" title="binder">A</span></a> <a id="B:463" class="idref" href="#B:463"><span class="id" title="binder">B</span></a> <a id="C:464" class="idref" href="#C:464"><span class="id" title="binder">C</span></a>} (<a id="f:465" class="idref" href="#f:465"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#A:462"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:463"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#A:462"><span class="id" title="variable">A</span></a>) (<a id="g:466" class="idref" href="#g:466"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#C:464"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:463"><span class="id" title="variable">B</span></a>) <a id="l:467" class="idref" href="#l:467"><span class="id" title="binder">l</span></a> <a id="acc:468" class="idref" href="#acc:468"><span class="id" title="binder">acc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:465"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#g:466"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:467"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:468"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:469" class="idref" href="#acc:469"><span class="id" title="binder">acc</span></a> <a id="x:470" class="idref" href="#x:470"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#f:465"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:469"><span class="id" title="variable">acc</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#g:466"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:470"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#l:467"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:468"><span class="id" title="variable">acc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.fold_left_filter" class="idref" href="#WeightedGraph.fold_left_filter"><span class="id" title="lemma">fold_left_filter</span></a> {<a id="A:471" class="idref" href="#A:471"><span class="id" title="binder">A</span></a> <a id="B:472" class="idref" href="#B:472"><span class="id" title="binder">B</span></a>} (<a id="f:473" class="idref" href="#f:473"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#A:471"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:472"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#A:471"><span class="id" title="variable">A</span></a>) (<a id="g:474" class="idref" href="#g:474"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#B:472"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="l:475" class="idref" href="#l:475"><span class="id" title="binder">l</span></a> <a id="acc:476" class="idref" href="#acc:476"><span class="id" title="binder">acc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:473"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#g:474"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:475"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:476"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="acc:477" class="idref" href="#acc:477"><span class="id" title="binder">acc</span></a> <a id="x:478" class="idref" href="#x:478"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#g:474"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:478"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:473"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:477"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:478"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:477"><span class="id" title="variable">acc</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#l:475"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:476"><span class="id" title="variable">acc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>) ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WeightedGraph.fold_left_proper" class="idref" href="#WeightedGraph.fold_left_proper"><span class="id" title="instance">fold_left_proper</span></a> {<a id="A:479" class="idref" href="#A:479"><span class="id" title="binder">A</span></a> <a id="B:480" class="idref" href="#B:480"><span class="id" title="binder">B</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#50c236bc22b68b42aab5a050cb4c4c6d"><span class="id" title="notation">`=2`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#50c236bc22b68b42aab5a050cb4c4c6d"><span class="id" title="notation">`=2`</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#A:479"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:480"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">hfg</span> <span class="id" title="var">x</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span> |- × ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">hfg</span> <span class="id" title="var">acc</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">IHx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.fold_left_equiv" class="idref" href="#WeightedGraph.fold_left_equiv"><span class="id" title="lemma">fold_left_equiv</span></a> {<a id="A:481" class="idref" href="#A:481"><span class="id" title="binder">A</span></a> <a id="B:482" class="idref" href="#B:482"><span class="id" title="binder">B</span></a> <a id="C:483" class="idref" href="#C:483"><span class="id" title="binder">C</span></a>} (<a id="f:484" class="idref" href="#f:484"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#A:481"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:482"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#A:481"><span class="id" title="variable">A</span></a>) (<a id="g:485" class="idref" href="#g:485"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#A:481"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#C:483"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#A:481"><span class="id" title="variable">A</span></a>) (<a id="h:486" class="idref" href="#h:486"><span class="id" title="binder">h</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#C:483"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:482"><span class="id" title="variable">B</span></a>) <a id="l:487" class="idref" href="#l:487"><span class="id" title="binder">l</span></a> <a id="l':488" class="idref" href="#l':488"><span class="id" title="binder">l'</span></a> <a id="acc:489" class="idref" href="#acc:489"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="acc:490" class="idref" href="#acc:490"><span class="id" title="binder">acc</span></a> <a id="x:491" class="idref" href="#x:491"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#f:484"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:490"><span class="id" title="variable">acc</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#h:486"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:491"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#g:485"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:490"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:491"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#l:487"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#h:486"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l':488"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:484"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:487"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:489"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#g:485"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l':488"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:489"><span class="id" title="variable">acc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hfg</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">acc</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_left_map"><span class="id" title="lemma">fold_left_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_left_proper"><span class="id" title="instance">fold_left_proper</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">hfg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp00_optim" class="idref" href="#WeightedGraph.lsp00_optim"><span class="id" title="lemma">lsp00_optim</span></a> <a id="fuel:492" class="idref" href="#fuel:492"><span class="id" title="binder">fuel</span></a> <a id="s:493" class="idref" href="#s:493"><span class="id" title="binder">s</span></a> <a id="x:494" class="idref" href="#x:494"><span class="id" title="binder">x</span></a> <a id="z:495" class="idref" href="#z:495"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp00_fast"><span class="id" title="definition">lsp00_fast</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#fuel:492"><span class="id" title="variable">fuel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:493"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:494"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:495"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp00"><span class="id" title="definition">lsp00</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#fuel:492"><span class="id" title="variable">fuel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:493"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:494"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:495"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">fuel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>, <span class="id" title="var">x</span>, <span class="id" title="var">z</span> |- *; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_spec"><span class="id" title="lemma">EdgeSet.fold_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_left_map"><span class="id" title="lemma">fold_left_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.succs"><span class="id" title="definition">succs</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_left_map"><span class="id" title="lemma">fold_left_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_left_filter"><span class="id" title="lemma">fold_left_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.fold_left_proper"><span class="id" title="instance">fold_left_proper</span></a> ⇒ <span class="id" title="var">acc</span> [[<span class="id" title="var">src</span> <span class="id" title="var">w</span>] <span class="id" title="var">tgt</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#is_left"><span class="id" title="definition">is_left</span></a> ⇒ //. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHfuel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.lsp_fast" class="idref" href="#WeightedGraph.lsp_fast"><span class="id" title="definition">lsp_fast</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp00_fast"><span class="id" title="definition">lsp00_fast</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Equations&nbsp;lsp0&nbsp;(s&nbsp;:&nbsp;VSet.t)&nbsp;(x&nbsp;z&nbsp;:&nbsp;V.t)&nbsp;:&nbsp;Nbar.t&nbsp;by&nbsp;wf&nbsp;(VSet.cardinal&nbsp;s)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;lsp0&nbsp;s&nbsp;x&nbsp;z&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;let&nbsp;base&nbsp;:=&nbsp;if&nbsp;V.eq_dec&nbsp;x&nbsp;z&nbsp;then&nbsp;Some&nbsp;0&nbsp;else&nbsp;None&nbsp;in&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;match&nbsp;VSet.mem&nbsp;x&nbsp;s&nbsp;as&nbsp;X&nbsp;return&nbsp;VSet.mem&nbsp;x&nbsp;s&nbsp;=&nbsp;X&nbsp;-&gt;&nbsp;_&nbsp;with&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;true&nbsp;=&gt;&nbsp;fun&nbsp;XX&nbsp;=&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ds&nbsp;:=&nbsp;List.map&nbsp;(fun&nbsp;'(n,&nbsp;y)&nbsp;=&gt;&nbsp;Some&nbsp;n&nbsp;+&nbsp;lsp0&nbsp;(VSet.remove&nbsp;x&nbsp;s)&nbsp;y&nbsp;z)*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(succs&nbsp;x)&nbsp;in&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List.fold_left&nbsp;Nbar.max&nbsp;ds&nbsp;base&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;false&nbsp;=&gt;&nbsp;fun&nbsp;_&nbsp;=&gt;&nbsp;base&nbsp;end&nbsp;eq_refl.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Next&nbsp;Obligation.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;apply&nbsp;VSet.mem_spec&nbsp;in&nbsp;XX.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;pose&nbsp;proof&nbsp;(VSetProp.remove_cardinal_1&nbsp;XX).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;lia.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.lsp" class="idref" href="#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_optim" class="idref" href="#WeightedGraph.lsp_optim"><span class="id" title="lemma">lsp_optim</span></a> <a id="x:496" class="idref" href="#x:496"><span class="id" title="binder">x</span></a> <a id="y:497" class="idref" href="#y:497"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_fast"><span class="id" title="definition">lsp_fast</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:496"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:497"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:496"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:497"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_fast"><span class="id" title="definition">lsp_fast</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp00_optim"><span class="id" title="lemma">lsp00_optim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp0_VSet_Equal" class="idref" href="#WeightedGraph.lsp0_VSet_Equal"><span class="id" title="lemma">lsp0_VSet_Equal</span></a> {<a id="s:498" class="idref" href="#s:498"><span class="id" title="binder">s</span></a> <a id="s':499" class="idref" href="#s':499"><span class="id" title="binder">s'</span></a> <a id="x:500" class="idref" href="#x:500"><span class="id" title="binder">x</span></a> <a id="y:501" class="idref" href="#y:501"><span class="id" title="binder">y</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:498"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':499"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:498"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:500"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:501"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':499"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:500"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:501"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Equal_cardinal"><span class="id" title="lemma">VSetProp.Equal_cardinal</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">n</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> <span class="id" title="var">s'</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">H</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_m"><span class="id" title="instance">VSetFact.mem_m</span></a>. 2: <span class="id" title="tactic">reflexivity</span>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">m</span> <span class="id" title="var">z</span>]; <span class="id" title="var">cbn</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_m"><span class="id" title="instance">VSetFact.remove_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp0_spec_le" class="idref" href="#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> {<a id="s:502" class="idref" href="#s:502"><span class="id" title="binder">s</span></a> <a id="x:503" class="idref" href="#x:503"><span class="id" title="binder">x</span></a> <a id="y:504" class="idref" href="#y:504"><span class="id" title="binder">y</span></a>} (<a id="p:505" class="idref" href="#p:505"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:502"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:503"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:504"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:505"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:502"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:503"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:504"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_eq"><span class="id" title="lemma">lsp0_eq</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x</span>); [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s0</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> ?<span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<span class="id" title="var">nbar</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>: (<span class="id" title="keyword">∀</span> <a id="l:508" class="idref" href="#l:508"><span class="id" title="binder">l</span></a> <a id="acc:509" class="idref" href="#acc:509"><span class="id" title="binder">acc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:507"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <span class="id" title="var">F</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:506"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#acc:507"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">nbar</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">apply</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">ee</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>, <span class="id" title="var">d</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.fold_max_le'"><span class="id" title="lemma">Nbar.fold_max_le'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.succs"><span class="id" title="definition">succs</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> -[<span class="id" title="var">lsp0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>) <span class="id" title="var">s0</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">d.p1</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove_spec"><span class="id" title="axiom">VSet.remove_spec</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_VSet_Equal"><span class="id" title="lemma">lsp0_VSet_Equal</span></a> <span class="id" title="var">XX</span>); <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.elements_spec1"><span class="id" title="lemma">EdgeSet.elements_spec1</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x</span>); [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp0_spec_eq" class="idref" href="#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> {<a id="s:510" class="idref" href="#s:510"><span class="id" title="binder">s</span></a> <a id="x:511" class="idref" href="#x:511"><span class="id" title="binder">x</span></a> <a id="y:512" class="idref" href="#y:512"><span class="id" title="binder">y</span></a>} <a id="n:513" class="idref" href="#n:513"><span class="id" title="binder">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:510"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:511"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:512"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:513"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="p:514" class="idref" href="#p:514"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:510"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:511"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:512"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:514"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:513"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">c</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> <span class="id" title="var">s</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.cardinal"><span class="id" title="axiom">VSet.cardinal</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">c</span>; <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.Wf_nat.html#lt_wf_ind"><span class="id" title="lemma">Wf_nat.lt_wf_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_eq"><span class="id" title="lemma">lsp0_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">lsp0</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.fold_max_In"><span class="id" title="lemma">fold_max_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x'</span> <span class="id" title="var">n'</span>] [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.remove"><span class="id" title="axiom">VSet.remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">n'</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">intros</span> <span class="id" title="var">ee</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nn</span> <span class="id" title="var">ee</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ee</span>. 3: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">ee</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p1</span> <span class="id" title="var">Hp1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.succs"><span class="id" title="definition">succs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">x''</span> <span class="id" title="var">n''</span>] <span class="id" title="var">y''</span>] [<span class="id" title="var">H2</span> <span class="id" title="var">H2'</span>]]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H2</span> <span class="id" title="var">H2'</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x''</span> <span class="id" title="var">x</span>); [<span class="id" title="tactic">subst</span>|<span class="id" title="tactic">discriminate</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>. 2: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_1"><span class="id" title="lemma">VSetFact.remove_1</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Add_remove"><span class="id" title="lemma">VSetProp.Add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.elements_spec1"><span class="id" title="lemma">EdgeSet.elements_spec1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">).</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#:::x_'.p1'"><span class="id" title="notation">p1</span></a>, <a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hx</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.remove_cardinal_1"><span class="id" title="lemma">VSetProp.remove_cardinal_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp0_spec_eq0" class="idref" href="#WeightedGraph.lsp0_spec_eq0"><span class="id" title="lemma">lsp0_spec_eq0</span></a> {<a id="s:515" class="idref" href="#s:515"><span class="id" title="binder">s</span></a> <a id="x:516" class="idref" href="#x:516"><span class="id" title="binder">x</span></a>} <a id="n:517" class="idref" href="#n:517"><span class="id" title="binder">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:515"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:516"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:516"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:517"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:517"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lspeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspeq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.correct_labelling_PathOf" class="idref" href="#WeightedGraph.correct_labelling_PathOf"><span class="id" title="lemma">correct_labelling_PathOf</span></a> <a id="l:518" class="idref" href="#l:518"><span class="id" title="binder">l</span></a> (<a id="Hl:519" class="idref" href="#Hl:519"><span class="id" title="binder">Hl</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:518"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="x:520" class="idref" href="#x:520"><span class="id" title="binder">x</span></a> <a id="y:521" class="idref" href="#y:521"><span class="id" title="binder">y</span></a> (<a id="p:522" class="idref" href="#p:522"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:520"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:521"><span class="id" title="variable">y</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:518"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:520"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:522"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:518"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:521"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.correct_labelling_lsp" class="idref" href="#WeightedGraph.correct_labelling_lsp"><span class="id" title="lemma">correct_labelling_lsp</span></a> {<a id="x:523" class="idref" href="#x:523"><span class="id" title="binder">x</span></a> <a id="y:524" class="idref" href="#y:524"><span class="id" title="binder">y</span></a> <a id="n:525" class="idref" href="#n:525"><span class="id" title="binder">n</span></a>} (<a id="e:526" class="idref" href="#e:526"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:523"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:524"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:525"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:527" class="idref" href="#l:527"><span class="id" title="binder">l</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:527"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:527"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:523"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:525"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:527"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:524"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_PathOf"><span class="id" title="lemma">correct_labelling_PathOf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:= <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>, <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_labelling" class="idref" href="#WeightedGraph.acyclic_labelling"><span class="id" title="lemma">acyclic_labelling</span></a> <a id="l:528" class="idref" href="#l:528"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:528"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_PathOf"><span class="id" title="lemma">correct_labelling_PathOf</span></a> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp0_triangle_inequality" class="idref" href="#WeightedGraph.lsp0_triangle_inequality"><span class="id" title="lemma">lsp0_triangle_inequality</span></a> {<a id="HG:529" class="idref" href="#HG:529"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} <a id="s:530" class="idref" href="#s:530"><span class="id" title="binder">s</span></a> <a id="x:531" class="idref" href="#x:531"><span class="id" title="binder">x</span></a> <a id="y1:532" class="idref" href="#y1:532"><span class="id" title="binder">y1</span></a> <a id="y2:533" class="idref" href="#y2:533"><span class="id" title="binder">y2</span></a> <a id="n:534" class="idref" href="#n:534"><span class="id" title="binder">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="He:535" class="idref" href="#He:535"><span class="id" title="binder">He</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#y1:532"><span class="id" title="variable">y1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:534"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y2:533"><span class="id" title="variable">y2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hy:536" class="idref" href="#Hy:536"><span class="id" title="binder">Hy</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y1:532"><span class="id" title="variable">y1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:530"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:530"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:531"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y1:532"><span class="id" title="variable">y1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:534"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:530"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:531"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y2:533"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y1</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split'"><span class="id" title="definition">split'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">Hp12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_split'"><span class="id" title="lemma">weight_split'</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp12</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_end"><span class="id" title="definition">add_end</span></a> <span class="id" title="var">p1</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">He</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_add_end"><span class="id" title="lemma">weight_add_end</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="var">p2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HG</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HG</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p2</span>)). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_remove1"><span class="id" title="lemma">DisjointAdd_remove1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.is_nonpos" class="idref" href="#WeightedGraph.is_nonpos"><span class="id" title="definition">is_nonpos</span></a> <a id="n:537" class="idref" href="#n:537"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:537"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span> ⇒ (<span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e"><span class="id" title="notation">&lt;=?</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.is_nonpos_spec" class="idref" href="#WeightedGraph.is_nonpos_spec"><span class="id" title="lemma">is_nonpos_spec</span></a> <a id="n:539" class="idref" href="#n:539"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_nonpos"><span class="id" title="definition">is_nonpos</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:539"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="z:540" class="idref" href="#z:540"><span class="id" title="binder">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:539"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:540"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:540"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_nonpos"><span class="id" title="definition">is_nonpos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">le</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">le</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">z</span> [-&gt; <span class="id" title="var">le</span>]]. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.is_nonpos_nbar" class="idref" href="#WeightedGraph.is_nonpos_nbar"><span class="id" title="lemma">is_nonpos_nbar</span></a> <a id="n:541" class="idref" href="#n:541"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_nonpos"><span class="id" title="definition">is_nonpos</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:541"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#n:541"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">z</span> [-&gt; <span class="id" title="var">le</span>]]%<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_nonpos_spec"><span class="id" title="lemma">is_nonpos_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.lsp0_sub" class="idref" href="#WeightedGraph.lsp0_sub"><span class="id" title="definition">lsp0_sub</span></a> {<a id="s:542" class="idref" href="#s:542"><span class="id" title="binder">s</span></a> <a id="s':543" class="idref" href="#s':543"><span class="id" title="binder">s'</span></a> <a id="x:544" class="idref" href="#x:544"><span class="id" title="binder">x</span></a> <a id="y:545" class="idref" href="#y:545"><span class="id" title="binder">y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:542"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':543"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:542"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:544"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:545"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':543"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:544"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:545"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a> <span class="id" title="var">Hs</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.snodes_Subset" class="idref" href="#WeightedGraph.snodes_Subset"><span class="id" title="definition">snodes_Subset</span></a> {<a id="s:546" class="idref" href="#s:546"><span class="id" title="binder">s</span></a> <a id="x:547" class="idref" href="#x:547"><span class="id" title="binder">x</span></a> <a id="y:548" class="idref" href="#y:548"><span class="id" title="binder">y</span></a>} (<a id="p:549" class="idref" href="#p:549"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:546"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:547"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:548"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:549"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s:546"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_empty"><span class="id" title="lemma">VSetProp.subset_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_add_3"><span class="id" title="lemma">VSetProp.subset_add_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.reduce" class="idref" href="#WeightedGraph.reduce"><span class="id" title="definition">reduce</span></a> {<a id="s:550" class="idref" href="#s:550"><span class="id" title="binder">s</span></a> <a id="x:551" class="idref" href="#x:551"><span class="id" title="binder">x</span></a> <a id="y:552" class="idref" href="#y:552"><span class="id" title="binder">y</span></a>} (<a id="p:553" class="idref" href="#p:553"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:550"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:551"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:552"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:553"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:551"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:552"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes_Subset"><span class="id" title="definition">snodes_Subset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.simplify2" class="idref" href="#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> {<a id="x:554" class="idref" href="#x:554"><span class="id" title="binder">x</span></a> <a id="z:555" class="idref" href="#z:555"><span class="id" title="binder">z</span></a>} (<a id="p:556" class="idref" href="#p:556"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:554"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:555"><span class="id" title="variable">z</span></a>) :  <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:556"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:554"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:555"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <span class="id" title="var">IHp</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_2"><span class="id" title="lemma">VSetFact.mem_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>. 2: <span class="id" title="tactic">exact</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hx</span>)<a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_add_2"><span class="id" title="lemma">VSetProp.subset_add_2</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. 2: <span class="id" title="var">eassumption</span>. 2: <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reduce"><span class="id" title="definition">reduce</span></a> <span class="id" title="var">IHp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_s_m"><span class="id" title="instance">VSetFact.add_s_m</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes_Subset"><span class="id" title="definition">snodes_Subset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_reduce" class="idref" href="#WeightedGraph.weight_reduce"><span class="id" title="lemma">weight_reduce</span></a> {<a id="s:557" class="idref" href="#s:557"><span class="id" title="binder">s</span></a> <a id="x:558" class="idref" href="#x:558"><span class="id" title="binder">x</span></a> <a id="y:559" class="idref" href="#y:559"><span class="id" title="binder">y</span></a>} (<a id="p:560" class="idref" href="#p:560"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:557"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:558"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:559"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reduce"><span class="id" title="definition">reduce</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:560"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:560"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reduce"><span class="id" title="definition">reduce</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_simplify2" class="idref" href="#WeightedGraph.weight_simplify2"><span class="id" title="lemma">weight_simplify2</span></a> {<a id="HG:561" class="idref" href="#HG:561"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:562" class="idref" href="#x:562"><span class="id" title="binder">x</span></a> <a id="z:563" class="idref" href="#z:563"><span class="id" title="binder">z</span></a>} (<a id="p:564" class="idref" href="#p:564"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:562"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:563"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:564"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:564"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">F0</span> := @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_2"><span class="id" title="lemma">VSetFact.mem_2</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>)) <span class="id" title="var">x</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">F0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">F1</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>)) <span class="id" title="var">x</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">F1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_split"><span class="id" title="lemma">weight_split</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> (<span class="id" title="var">F0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> (<span class="id" title="var">F0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)))) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0); [|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HG</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">q1</span>))). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HG</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>)); [|<span class="id" title="var">lia</span>]. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_reduce"><span class="id" title="lemma">weight_reduce</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="HI:565" class="idref" href="#HI:565"><span class="id" title="binder">HI</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.nodes_subset" class="idref" href="#WeightedGraph.nodes_subset"><span class="id" title="lemma">nodes_subset</span></a> {<a id="x:566" class="idref" href="#x:566"><span class="id" title="binder">x</span></a> <a id="y:567" class="idref" href="#y:567"><span class="id" title="binder">y</span></a>} (<a id="p:568" class="idref" href="#p:568"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:566"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:567"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:568"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_empty"><span class="id" title="lemma">VSetProp.subset_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_add_3"><span class="id" title="lemma">VSetProp.subset_add_3</span></a>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.simplify2'" class="idref" href="#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> {<a id="x:569" class="idref" href="#x:569"><span class="id" title="binder">x</span></a> <a id="z:570" class="idref" href="#z:570"><span class="id" title="binder">z</span></a>} (<a id="p:571" class="idref" href="#p:571"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:569"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:570"><span class="id" title="variable">z</span></a>) :  <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:569"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:570"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>. 2: <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2"><span class="id" title="definition">simplify2</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes_subset"><span class="id" title="lemma">nodes_subset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_simplify2'" class="idref" href="#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> {<a id="HG:572" class="idref" href="#HG:572"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:573" class="idref" href="#x:573"><span class="id" title="binder">x</span></a> <a id="z:574" class="idref" href="#z:574"><span class="id" title="binder">z</span></a>} (<a id="p:575" class="idref" href="#p:575"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:573"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:574"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:575"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:575"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2"><span class="id" title="lemma">weight_simplify2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_s" class="idref" href="#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> {<a id="HG:576" class="idref" href="#HG:576"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} <a id="x:577" class="idref" href="#x:577"><span class="id" title="binder">x</span></a> (<a id="Hx:578" class="idref" href="#Hx:578"><span class="id" title="binder">Hx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:577"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:579" class="idref" href="#n:579"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:577"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:579"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:579"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_pathOf"><span class="id" title="method">source_pathOf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hx</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> [<span class="id" title="var">w</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_pathOf"><span class="id" title="method">source_pathOf</span></a> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> [<span class="id" title="var">w</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.SPath_In" class="idref" href="#WeightedGraph.SPath_In"><span class="id" title="lemma">SPath_In</span></a> {<a id="s:580" class="idref" href="#s:580"><span class="id" title="binder">s</span></a> <a id="x:581" class="idref" href="#x:581"><span class="id" title="binder">x</span></a> <a id="y:582" class="idref" href="#y:582"><span class="id" title="binder">y</span></a>} (<a id="p:583" class="idref" href="#p:583"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:580"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:581"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:582"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:583"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:581"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:580"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.SPath_In'" class="idref" href="#WeightedGraph.SPath_In'"><span class="id" title="lemma">SPath_In'</span></a> {<a id="s:584" class="idref" href="#s:584"><span class="id" title="binder">s</span></a> <a id="x:585" class="idref" href="#x:585"><span class="id" title="binder">x</span></a> <a id="y:586" class="idref" href="#y:586"><span class="id" title="binder">y</span></a>} (<a id="p:587" class="idref" href="#p:587"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:584"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:585"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:586"><span class="id" title="variable">y</span></a>) (<a id="H:588" class="idref" href="#H:588"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:585"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:586"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.PathOf_In" class="idref" href="#WeightedGraph.PathOf_In"><span class="id" title="lemma">PathOf_In</span></a> {<a id="x:589" class="idref" href="#x:589"><span class="id" title="binder">x</span></a> <a id="y:590" class="idref" href="#y:590"><span class="id" title="binder">y</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:590"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:589"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:590"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:589"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">ine</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_lsp0_xx" class="idref" href="#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a> {<a id="HG:591" class="idref" href="#HG:591"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} <a id="s:592" class="idref" href="#s:592"><span class="id" title="binder">s</span></a> <a id="x:593" class="idref" href="#x:593"><span class="id" title="binder">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:592"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:593"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:593"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>); [|<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq0"><span class="id" title="lemma">lsp0_spec_eq0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HG</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p</span>)). <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;don't&nbsp;care&nbsp;about&nbsp;the&nbsp;default&nbsp;value&nbsp;here:&nbsp;lsp&nbsp;is&nbsp;defined&nbsp;everywhere&nbsp;starting&nbsp;from&nbsp;the&nbsp;source.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.to_label" class="idref" href="#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a id="z:594" class="idref" href="#z:594"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:594"><span class="id" title="variable">z</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.PArith.BinPos.html#Pos.to_nat"><span class="id" title="definition">Pos.to_nat</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ 0%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Z_of_to_label" class="idref" href="#WeightedGraph.Z_of_to_label"><span class="id" title="lemma">Z_of_to_label</span></a> (<a id="z:596" class="idref" href="#z:596"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:596"><span class="id" title="variable">z</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:596"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:596"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCArith.html#Z_of_pos_alt"><span class="id" title="lemma">Z_of_pos_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Z_of_to_label_s" class="idref" href="#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> {<a id="HG:597" class="idref" href="#HG:597"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} <a id="x:598" class="idref" href="#x:598"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:598"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:599" class="idref" href="#n:599"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:598"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:599"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:599"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:598"><span class="id" title="variable">x</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:599"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> <span class="id" title="var">x</span> <span class="id" title="var">inx</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hm</span> <span class="id" title="var">Hpos</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label"><span class="id" title="lemma">Z_of_to_label</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpos</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_correctness" class="idref" href="#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a> {<a id="HG:600" class="idref" href="#HG:600"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> (<span class="id" title="keyword">fun</span> <a id="x:601" class="idref" href="#x:601"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:601"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">x</span> <span class="id" title="var">n</span>] <span class="id" title="var">y</span>] <span class="id" title="var">He</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="H:603" class="idref" href="#H:603"><span class="id" title="binder">H</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_triangle_inequality"><span class="id" title="lemma">lsp0_triangle_inequality</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">He</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">_</span>); [|<span class="id" title="var">clearbody</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">He</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">xl</span> [<span class="id" title="var">eq</span> [<span class="id" title="var">pos</span> -&gt;]]]; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">He</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">yl</span> [<span class="id" title="var">eq'</span> [<span class="id" title="var">ylpos</span> -&gt;]]]; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">eq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">He</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_codistance" class="idref" href="#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> {<a id="HG:604" class="idref" href="#HG:604"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} <a id="x:605" class="idref" href="#x:605"><span class="id" title="binder">x</span></a> <a id="y:606" class="idref" href="#y:606"><span class="id" title="binder">y</span></a> <a id="z:607" class="idref" href="#z:607"><span class="id" title="binder">z</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:605"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:606"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:606"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:607"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:605"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:607"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>]. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">y</span> <span class="id" title="var">z</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>]. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p1</span> <span class="id" title="var">Hp1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hm</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p2</span> <span class="id" title="var">Hp2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p1</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p2</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p1</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">p2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_concat"><span class="id" title="lemma">weight_concat</span></a>, &lt;- !<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">erewrite</span> <span class="id" title="var">Hp1</span>, <span class="id" title="var">Hp2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;two&nbsp;largest&nbsp;simple&nbsp;pathOf&nbsp;between&nbsp;nodes&nbsp;in&nbsp;both&nbsp;directions&nbsp;bound&nbsp;each&nbsp;other.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_sym" class="idref" href="#WeightedGraph.lsp_sym"><span class="id" title="lemma">lsp_sym</span></a> {<a id="HG:608" class="idref" href="#HG:608"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:609" class="idref" href="#x:609"><span class="id" title="binder">x</span></a> <a id="y:610" class="idref" href="#y:610"><span class="id" title="binder">y</span></a> <a id="n:611" class="idref" href="#n:611"><span class="id" title="binder">n</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:609"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:610"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:611"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:610"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:609"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#n:611"><span class="id" title="variable">n</span></a>))%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">lspyx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lspyx</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">pi</span> <span class="id" title="var">Hpi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hn</span> <span class="id" title="var">lspyx</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hp</span> -<span class="id" title="var">Hpi</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify"><span class="id" title="lemma">weight_simplify</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">pi</span>) <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify"><span class="id" title="definition">simplify</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> <span class="id" title="var">loop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">HG</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">loop</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="var">Hp</span> <span class="id" title="var">Hpi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb"><span class="id" title="definition">Z.ltb</span></a> 0 (<span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">ltb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb_lt"><span class="id" title="lemma">Z.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ltb</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">ltb</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ltb_nlt"><span class="id" title="lemma">Z.ltb_nlt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ltb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.le_Some_lsp" class="idref" href="#WeightedGraph.le_Some_lsp"><span class="id" title="lemma">le_Some_lsp</span></a> {<a id="n:612" class="idref" href="#n:612"><span class="id" title="binder">n</span></a> <a id="x:613" class="idref" href="#x:613"><span class="id" title="binder">x</span></a> <a id="y:614" class="idref" href="#y:614"><span class="id" title="binder">y</span></a>} : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:612"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:613"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:614"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k:615" class="idref" href="#k:615"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:613"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:614"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:615"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:612"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:615"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;There&nbsp;can&nbsp;be&nbsp;no&nbsp;universe&nbsp;lower&nbsp;than&nbsp;the&nbsp;source:&nbsp;all&nbsp;pathOf&nbsp;to&nbsp;the&nbsp;source&nbsp;have&nbsp;null&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;negative&nbsp;weight.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.source_bottom" class="idref" href="#WeightedGraph.source_bottom"><span class="id" title="lemma">source_bottom</span></a> {<a id="HG:616" class="idref" href="#HG:616"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:617" class="idref" href="#x:617"><span class="id" title="binder">x</span></a>} (<a id="p:618" class="idref" href="#p:618"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:617"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:618"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf_In"><span class="id" title="lemma">PathOf_In</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_vertex"><span class="id" title="method">source_vertex</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lx</span> [<span class="id" title="var">lsx</span> <span class="id" title="var">w</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> <span class="id" title="var">p</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">sp</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">sp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.le_Some_lsp"><span class="id" title="lemma">le_Some_lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">xs</span> [<span class="id" title="var">lxs</span> <span class="id" title="var">wxs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lxs</span> <span class="id" title="var">lsx</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a> /=. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_to_s" class="idref" href="#WeightedGraph.lsp_to_s"><span class="id" title="lemma">lsp_to_s</span></a> {<a id="HG:619" class="idref" href="#HG:619"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:620" class="idref" href="#x:620"><span class="id" title="binder">x</span></a>} (<a id="Hx:621" class="idref" href="#Hx:621"><span class="id" title="binder">Hx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:620"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)) {<a id="n:622" class="idref" href="#n:622"><span class="id" title="binder">n</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:620"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:622"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:622"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span> [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_bottom"><span class="id" title="lemma">source_bottom</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_xx_acyclic" class="idref" href="#WeightedGraph.lsp_xx_acyclic"><span class="id" title="lemma">lsp_xx_acyclic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.For_all"><span class="id" title="definition">VSet.For_all</span></a> (<span class="id" title="keyword">fun</span> <a id="x:623" class="idref" href="#x:623"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:623"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:623"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop'"><span class="id" title="definition">acyclic_no_loop'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">assert</span> (<span class="id" title="var">hw</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> ((<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="Hq:625" class="idref" href="#Hq:625"><span class="id" title="binder">Hq</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify"><span class="id" title="lemma">weight_simplify</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">hw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_sym"><span class="id" title="lemma">VSetProp.union_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.union_subset_equal"><span class="id" title="lemma">VSetProp.union_subset_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes_subset"><span class="id" title="lemma">nodes_subset</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> ?<span class="id" title="var">qq</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <span class="id" title="var">qq</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">Hq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> <span class="id" title="var">q</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q</span>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0)%<span class="id" title="var">nbar</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_In"><span class="id" title="lemma">SPath_In</span></a> <span class="id" title="var">q</span>). <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.VSet_Forall_reflect" class="idref" href="#WeightedGraph.VSet_Forall_reflect"><span class="id" title="lemma">VSet_Forall_reflect</span></a> <a id="P:626" class="idref" href="#P:626"><span class="id" title="binder">P</span></a> <a id="f:627" class="idref" href="#f:627"><span class="id" title="binder">f</span></a> (<a id="Hf:629" class="idref" href="#Hf:629"><span class="id" title="binder">Hf</span></a> : <span class="id" title="keyword">∀</span> <a id="x:628" class="idref" href="#x:628"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#P:626"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:628"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#f:627"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:628"><span class="id" title="variable">x</span></a>)) <a id="s:630" class="idref" href="#s:630"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.For_all"><span class="id" title="definition">VSet.For_all</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#P:626"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:630"><span class="id" title="variable">s</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all"><span class="id" title="axiom">VSet.for_all</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:627"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:630"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.for_all_iff"><span class="id" title="lemma">VSetFact.for_all_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCUtils.html#iff_forall"><span class="id" title="lemma">iff_forall</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCUtils.html#iff_forall"><span class="id" title="lemma">iff_forall</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect_iff"><span class="id" title="lemma">reflect_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.reflect_logically_equiv" class="idref" href="#WeightedGraph.reflect_logically_equiv"><span class="id" title="lemma">reflect_logically_equiv</span></a> {<a id="A:631" class="idref" href="#A:631"><span class="id" title="binder">A</span></a> <a id="B:632" class="idref" href="#B:632"><span class="id" title="binder">B</span></a>} (<a id="H:633" class="idref" href="#H:633"><span class="id" title="binder">H</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#A:631"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:632"><span class="id" title="variable">B</span></a>) <a id="f:634" class="idref" href="#f:634"><span class="id" title="binder">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#B:632"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:634"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#A:631"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:634"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.is_acyclic" class="idref" href="#WeightedGraph.is_acyclic"><span class="id" title="definition">is_acyclic</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all"><span class="id" title="axiom">VSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="x:635" class="idref" href="#x:635"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:635"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:635"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab131"></a><h2 class="section">Main results about acyclicity</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_caract1" class="idref" href="#WeightedGraph.acyclic_caract1"><span class="id" title="lemma">acyclic_caract1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l:636" class="idref" href="#l:636"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:636"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HG</span>; <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">l</span> <span class="id" title="var">Hl</span>]; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_labelling"><span class="id" title="lemma">acyclic_labelling</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_caract2" class="idref" href="#WeightedGraph.acyclic_caract2"><span class="id" title="lemma">acyclic_caract2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.For_all"><span class="id" title="definition">VSet.For_all</span></a> (<span class="id" title="keyword">fun</span> <a id="x:637" class="idref" href="#x:637"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:637"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:637"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">G</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">HG</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop_loop'"><span class="id" title="lemma">acyclic_no_loop_loop'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx_acyclic"><span class="id" title="lemma">lsp_xx_acyclic</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lemma&nbsp;acyclic_caract3&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;:&nbsp;acyclic_no_loop&nbsp;&lt;-&gt;&nbsp;acyclic_well_founded.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;split.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;intro.&nbsp;eapply&nbsp;acyclic_labelling.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;now&nbsp;eapply&nbsp;lsp_correctness.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;apply&nbsp;acyclic_wf_no_loop.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.is_acyclic_spec" class="idref" href="#WeightedGraph.is_acyclic_spec"><span class="id" title="lemma">is_acyclic_spec</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_acyclic"><span class="id" title="definition">is_acyclic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_caract2"><span class="id" title="lemma">acyclic_caract2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.for_all_iff"><span class="id" title="lemma">VSetFact.for_all_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCUtils.html#iff_forall"><span class="id" title="lemma">iff_forall</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCUtils.html#iff_forall"><span class="id" title="lemma">iff_forall</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="keyword">as</span> [[]|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Zle_opp" class="idref" href="#WeightedGraph.Zle_opp"><span class="id" title="lemma">Zle_opp</span></a> {<a id="n:638" class="idref" href="#n:638"><span class="id" title="binder">n</span></a> <a id="m:639" class="idref" href="#m:639"><span class="id" title="binder">m</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:638"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:639"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:639"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:638"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Zle_opp'" class="idref" href="#WeightedGraph.Zle_opp'"><span class="id" title="lemma">Zle_opp'</span></a> {<a id="n:640" class="idref" href="#n:640"><span class="id" title="binder">n</span></a> <a id="m:641" class="idref" href="#m:641"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#n:640"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:641"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#m:641"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:640"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_xx" class="idref" href="#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> {<a id="HG:642" class="idref" href="#HG:642"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:643" class="idref" href="#x:643"><span class="id" title="binder">x</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:643"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:643"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.edge_pathOf" class="idref" href="#WeightedGraph.edge_pathOf"><span class="id" title="definition">edge_pathOf</span></a> {<a id="e:644" class="idref" href="#e:644"><span class="id" title="binder">e</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:644"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:644"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:644"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> (<span class="id" title="var">y</span> := <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a>)). <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..w'"><span class="id" title="notation">w</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span> <span class="id" title="var">w</span>] <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Z_of_to_label_pos" class="idref" href="#WeightedGraph.Z_of_to_label_pos"><span class="id" title="lemma">Z_of_to_label_pos</span></a> <a id="x:645" class="idref" href="#x:645"><span class="id" title="binder">x</span></a> : 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:645"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:645"><span class="id" title="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:645"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label"><span class="id" title="lemma">Z_of_to_label</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec"><span class="id" title="lemma">Z.leb_spec</span></a> 0 <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.to_label_max" class="idref" href="#WeightedGraph.to_label_max"><span class="id" title="lemma">to_label_max</span></a> <a id="x:646" class="idref" href="#x:646"><span class="id" title="binder">x</span></a> <a id="y:647" class="idref" href="#y:647"><span class="id" title="binder">y</span></a> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:646"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">nbar</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:646"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:647"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max"><span class="id" title="definition">Nat.max</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:646"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:647"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. 2:<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj"><span class="id" title="lemma">Nat2Z.inj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_max"><span class="id" title="lemma">Nat2Z.inj_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">to_label</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_pos"><span class="id" title="lemma">Z_of_to_label_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_pos"><span class="id" title="lemma">Z_of_to_label_pos</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label"><span class="id" title="lemma">Z_of_to_label</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec"><span class="id" title="lemma">Z.leb_spec</span></a> 0 <span class="id" title="var">z0</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_pos"><span class="id" title="lemma">Z_of_to_label_pos</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_from_source" class="idref" href="#WeightedGraph.lsp_from_source"><span class="id" title="lemma">lsp_from_source</span></a> {<a id="HG:648" class="idref" href="#HG:648"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:649" class="idref" href="#x:649"><span class="id" title="binder">x</span></a>} {<a id="n:650" class="idref" href="#n:650"><span class="id" title="binder">n</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:649"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:650"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:650"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_In'"><span class="id" title="lemma">SPath_In'</span></a> <span class="id" title="var">x0</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">lspeq</span> <span class="id" title="var">w</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lspeq</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_to_source" class="idref" href="#WeightedGraph.lsp_to_source"><span class="id" title="lemma">lsp_to_source</span></a> {<a id="HG:651" class="idref" href="#HG:651"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:652" class="idref" href="#x:652"><span class="id" title="binder">x</span></a> <a id="z:653" class="idref" href="#z:653"><span class="id" title="binder">z</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:652"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:653"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:653"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">z</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_bottom"><span class="id" title="lemma">source_bottom</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_source_max" class="idref" href="#WeightedGraph.lsp_source_max"><span class="id" title="lemma">lsp_source_max</span></a> {<a id="HG:654" class="idref" href="#HG:654"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a>} {<a id="x:655" class="idref" href="#x:655"><span class="id" title="binder">x</span></a> <a id="y:656" class="idref" href="#y:656"><span class="id" title="binder">y</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:655"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:656"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:656"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:655"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:655"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inx</span> <span class="id" title="var">iny</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">zl</span> [<span class="id" title="var">eq</span> [<span class="id" title="var">pos</span> <span class="id" title="var">zof</span>]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">yx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span> <span class="id" title="var">yx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> <span class="id" title="var">y</span> <span class="id" title="var">iny</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ly</span> [<span class="id" title="var">lspy</span> <span class="id" title="var">neg</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspy</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.is_acyclic_correct" class="idref" href="#WeightedGraph.is_acyclic_correct"><span class="id" title="lemma">is_acyclic_correct</span></a> : <a class="idref" href="MetaCoq.Utils.ReflectEq.html#reflectProp"><span class="id" title="inductive">reflectProp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_acyclic"><span class="id" title="definition">is_acyclic</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#reflect_reflectProp"><span class="id" title="lemma">reflect_reflectProp</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reflect_logically_equiv"><span class="id" title="lemma">reflect_logically_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_caract2"><span class="id" title="lemma">acyclic_caract2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.VSet_Forall_reflect"><span class="id" title="lemma">VSet_Forall_reflect</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.graph"><span class="id" title="section">graph</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Unused&nbsp;as&nbsp;far&nbsp;as&nbsp;I&nbsp;can&nbsp;tell&nbsp;+&nbsp;introduce&nbsp;an&nbsp;equality&nbsp;constraint&nbsp;and&nbsp;not&nbsp;inequality..&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;add_edges&nbsp;G&nbsp;e&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;add_edge&nbsp;(add_edge&nbsp;G&nbsp;e)&nbsp;(opp_edge&nbsp;e).&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> {<span class="id" title="var">G</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> {<span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.Subgraph1" class="idref" href="#WeightedGraph.Subgraph1"><span class="id" title="module">Subgraph1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.Subgraph1.graph2" class="idref" href="#WeightedGraph.Subgraph1.graph2"><span class="id" title="section">graph2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G:657" class="idref" href="#G:657"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) {<a id="HI:658" class="idref" href="#HI:658"><span class="id" title="binder">HI</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:657"><span class="id" title="variable">G</span></a>} {<a id="HG:659" class="idref" href="#HG:659"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:657"><span class="id" title="variable">G</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="y_0:660" class="idref" href="#y_0:660"><span class="id" title="binder">y_0</span></a> <a id="x_0:661" class="idref" href="#x_0:661"><span class="id" title="binder">x_0</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>) (<a id="Vx:662" class="idref" href="#Vx:662"><span class="id" title="binder">Vx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x_0:661"><span class="id" title="variable">x_0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Vy:663" class="idref" href="#Vy:663"><span class="id" title="binder">Vy</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y_0:660"><span class="id" title="variable">y_0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="K:664" class="idref" href="#K:664"><span class="id" title="binder">K</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hxs:665" class="idref" href="#Hxs:665"><span class="id" title="binder">Hxs</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x_0:661"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y_0:660"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#K:664"><span class="id" title="variable">K</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Subgraph1.G'" class="idref" href="#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.add"><span class="id" title="definition">EdgeSet.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Subgraph1.to_G'" class="idref" href="#WeightedGraph.Subgraph1.to_G'"><span class="id" title="definition">to_G'</span></a> {<a id="u:666" class="idref" href="#u:666"><span class="id" title="binder">u</span></a> <a id="v:667" class="idref" href="#v:667"><span class="id" title="binder">v</span></a>} (<a id="q:668" class="idref" href="#q:668"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:666"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:667"><span class="id" title="variable">v</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:666"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:667"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.to_G'_weight" class="idref" href="#WeightedGraph.Subgraph1.to_G'_weight"><span class="id" title="lemma">to_G'_weight</span></a> {<a id="u:669" class="idref" href="#u:669"><span class="id" title="binder">u</span></a> <a id="v:670" class="idref" href="#v:670"><span class="id" title="binder">v</span></a>} (<a id="p:671" class="idref" href="#p:671"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:669"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:670"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.to_G'"><span class="id" title="definition">to_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:671"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:671"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Subgraph1.from_G'_path" class="idref" href="#WeightedGraph.Subgraph1.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> {<a id="u:672" class="idref" href="#u:672"><span class="id" title="binder">u</span></a> <a id="v:673" class="idref" href="#v:673"><span class="id" title="binder">v</span></a>} (<a id="q:674" class="idref" href="#q:674"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:672"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:673"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:672"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:673"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:672"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:673"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">q</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.from_G'_path_weight" class="idref" href="#WeightedGraph.Subgraph1.from_G'_path_weight"><span class="id" title="lemma">from_G'_path_weight</span></a> {<a id="u:675" class="idref" href="#u:675"><span class="id" title="binder">u</span></a> <a id="v:676" class="idref" href="#v:676"><span class="id" title="binder">v</span></a>} (<a id="q:677" class="idref" href="#q:677"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:675"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:676"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:677"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q'</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:677"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">q2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:677"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">HI</span> <span class="id" title="var">HG</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">He</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q2</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.Hxs"><span class="id" title="variable">Hxs</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Subgraph1.from_G'" class="idref" href="#WeightedGraph.Subgraph1.from_G'"><span class="id" title="definition">from_G'</span></a> {<a id="S:678" class="idref" href="#S:678"><span class="id" title="binder">S</span></a> <a id="u:679" class="idref" href="#u:679"><span class="id" title="binder">u</span></a> <a id="v:680" class="idref" href="#v:680"><span class="id" title="binder">v</span></a>} (<a id="q:681" class="idref" href="#q:681"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:678"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:679"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:680"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:678"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:679"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:680"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:678"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:679"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:678"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:680"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">q</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>; [|<span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.from_G'_weight" class="idref" href="#WeightedGraph.Subgraph1.from_G'_weight"><span class="id" title="lemma">from_G'_weight</span></a> {<a id="S:682" class="idref" href="#S:682"><span class="id" title="binder">S</span></a> <a id="u:683" class="idref" href="#u:683"><span class="id" title="binder">u</span></a> <a id="v:684" class="idref" href="#v:684"><span class="id" title="binder">v</span></a>} (<a id="q:685" class="idref" href="#q:685"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:682"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:683"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:684"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'"><span class="id" title="definition">from_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:685"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q'</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:685"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">q2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:685"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">HI</span> <span class="id" title="var">HG</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Edge.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">He</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hle</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.Hxs"><span class="id" title="variable">Hxs</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.lsp_pathOf" class="idref" href="#WeightedGraph.Subgraph1.lsp_pathOf"><span class="id" title="lemma">lsp_pathOf</span></a> {<a id="x:686" class="idref" href="#x:686"><span class="id" title="binder">x</span></a> <a id="y:687" class="idref" href="#y:687"><span class="id" title="binder">y</span></a>} (<a id="p:688" class="idref" href="#p:688"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:686"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:687"><span class="id" title="variable">y</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:689" class="idref" href="#n:689"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:686"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:687"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:689"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:688"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:689"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">ineq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ineq</span>. <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ineq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="WeightedGraph.Subgraph1.HI'" class="idref" href="#WeightedGraph.Subgraph1.HI'"><span class="id" title="instance">HI'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He</span>|<span class="id" title="var">He</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>. <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_pathOf"><span class="id" title="method">source_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> [<span class="id" title="var">w</span>]]]. <span class="id" title="var">sq</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.to_G'"><span class="id" title="definition">to_G'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.to_G'_weight"><span class="id" title="lemma">to_G'_weight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="WeightedGraph.Subgraph1.HG'" class="idref" href="#WeightedGraph.Subgraph1.HG'"><span class="id" title="instance">HG'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_caract2"><span class="id" title="lemma">acyclic_caract2</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a>) <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">x</span>); [|<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'_weight"><span class="id" title="lemma">from_G'_weight</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">s0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.HG"><span class="id" title="variable">HG</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">s0</span>)). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hle</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p0</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p0</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.Hxs"><span class="id" title="variable">Hxs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify2'"><span class="id" title="lemma">weight_simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q2</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_concat"><span class="id" title="lemma">weight_concat</span></a> - !<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.lsp_G'_yx" class="idref" href="#WeightedGraph.Subgraph1.lsp_G'_yx"><span class="id" title="lemma">lsp_G'_yx</span></a> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="MetaCoq.Utils.MCEquality.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">fun</span> <a id="K:691" class="idref" href="#K:691"><span class="id" title="binder">K</span></a> ⇒ (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#K:690"><span class="id" title="variable">K</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nbar</span>) <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_one"><span class="id" title="definition">spath_one</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.correct_labelling_lsp_G'" class="idref" href="#WeightedGraph.Subgraph1.correct_labelling_lsp_G'"><span class="id" title="lemma">correct_labelling_lsp_G'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">XX.p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.Subgraph1.sto_G'" class="idref" href="#WeightedGraph.Subgraph1.sto_G'"><span class="id" title="definition">sto_G'</span></a> {<a id="S:692" class="idref" href="#S:692"><span class="id" title="binder">S</span></a> <a id="u:693" class="idref" href="#u:693"><span class="id" title="binder">u</span></a> <a id="v:694" class="idref" href="#v:694"><span class="id" title="binder">v</span></a>} (<a id="p:695" class="idref" href="#p:695"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:692"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:693"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:694"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:692"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:693"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:694"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">p</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.sto_G'_weight" class="idref" href="#WeightedGraph.Subgraph1.sto_G'_weight"><span class="id" title="lemma">sto_G'_weight</span></a> {<a id="S:696" class="idref" href="#S:696"><span class="id" title="binder">S</span></a> <a id="u:697" class="idref" href="#u:697"><span class="id" title="binder">u</span></a> <a id="v:698" class="idref" href="#v:698"><span class="id" title="binder">v</span></a>} (<a id="p:699" class="idref" href="#p:699"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:696"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:697"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:698"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.sto_G'"><span class="id" title="definition">sto_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:699"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:699"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.lsp_G'_incr" class="idref" href="#WeightedGraph.Subgraph1.lsp_G'_incr"><span class="id" title="lemma">lsp_G'_incr</span></a> <a id="x:700" class="idref" href="#x:700"><span class="id" title="binder">x</span></a> <a id="y:701" class="idref" href="#y:701"><span class="id" title="binder">y</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:700"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:701"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:700"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:701"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="var">cbn</span>; [|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kxy</span> <span class="id" title="var">Hkxy</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hkxy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pxy</span> <span class="id" title="var">Hkxy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.sto_G'"><span class="id" title="definition">sto_G'</span></a> <span class="id" title="var">pxy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.sto_G'_weight"><span class="id" title="lemma">sto_G'_weight</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.lsp_G'_sx" class="idref" href="#WeightedGraph.Subgraph1.lsp_G'_sx"><span class="id" title="lemma">lsp_G'_sx</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat_l"><span class="id" title="definition">plus_le_compat_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.lsp_G'_yx"><span class="id" title="lemma">lsp_G'_yx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.Subgraph1.lsp_G'_spec_left" class="idref" href="#WeightedGraph.Subgraph1.lsp_G'_spec_left"><span class="id" title="lemma">lsp_G'_spec_left</span></a> <a id="x:702" class="idref" href="#x:702"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:702"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:702"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.K"><span class="id" title="variable">K</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:702"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_antisymm"><span class="id" title="lemma">Nbar.le_antisymm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <span class="id" title="var">x</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hk</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p'</span> <span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'_weight"><span class="id" title="lemma">from_G'_weight</span></a> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">p'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span>|[<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.lsp_pathOf"><span class="id" title="lemma">lsp_pathOf</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">x0x</span> [<span class="id" title="var">lspx0x</span> <span class="id" title="var">wp2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wp2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspx0x</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.lsp_pathOf"><span class="id" title="lemma">lsp_pathOf</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">y0y0</span> [<span class="id" title="var">lspy0</span> <span class="id" title="var">wp1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wp1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lspy0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">lspy0</span>; <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_lub"><span class="id" title="definition">max_lub</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.lsp_G'_incr"><span class="id" title="lemma">lsp_G'_incr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.lsp_G'_yx"><span class="id" title="lemma">lsp_G'_yx</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.le_Some_lsp"><span class="id" title="lemma">le_Some_lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y0x0</span> [-&gt; <span class="id" title="var">w</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.lsp_G'_incr"><span class="id" title="lemma">lsp_G'_incr</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2.x_0"><span class="id" title="variable">x_0</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.le_Some_lsp"><span class="id" title="lemma">le_Some_lsp</span></a> ⇒ [<span class="id" title="var">x0x</span> [-&gt; <span class="id" title="var">w'</span>]]. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1.graph2"><span class="id" title="section">graph2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subgraph1"><span class="id" title="module">Subgraph1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.subgraph" class="idref" href="#WeightedGraph.subgraph"><span class="id" title="section">subgraph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G:703" class="idref" href="#G:703"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) {<a id="HI:704" class="idref" href="#HI:704"><span class="id" title="binder">HI</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:703"><span class="id" title="variable">G</span></a>} {<a id="HG:705" class="idref" href="#HG:705"><span class="id" title="binder">HG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:703"><span class="id" title="variable">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.subgraph.subgraph2" class="idref" href="#WeightedGraph.subgraph.subgraph2"><span class="id" title="section">subgraph2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="y_0:706" class="idref" href="#y_0:706"><span class="id" title="binder">y_0</span></a> <a id="x_0:707" class="idref" href="#x_0:707"><span class="id" title="binder">x_0</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>) (<a id="Vx:708" class="idref" href="#Vx:708"><span class="id" title="binder">Vx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x_0:707"><span class="id" title="variable">x_0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Vy:709" class="idref" href="#Vy:709"><span class="id" title="binder">Vy</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y_0:706"><span class="id" title="variable">y_0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hxs:710" class="idref" href="#Hxs:710"><span class="id" title="binder">Hxs</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x_0:707"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y_0:706"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="K:711" class="idref" href="#K:711"><span class="id" title="binder">K</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="WeightedGraph.G'" class="idref" href="#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add"><span class="id" title="definition">EdgeSet.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.to_G'" class="idref" href="#WeightedGraph.to_G'"><span class="id" title="definition">to_G'</span></a> {<a id="u:712" class="idref" href="#u:712"><span class="id" title="binder">u</span></a> <a id="v:713" class="idref" href="#v:713"><span class="id" title="binder">v</span></a>} (<a id="q:714" class="idref" href="#q:714"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:712"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:713"><span class="id" title="variable">v</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:712"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:713"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. 2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.to_G'_weight" class="idref" href="#WeightedGraph.to_G'_weight"><span class="id" title="lemma">to_G'_weight</span></a> {<a id="u:715" class="idref" href="#u:715"><span class="id" title="binder">u</span></a> <a id="v:716" class="idref" href="#v:716"><span class="id" title="binder">v</span></a>} (<a id="p:717" class="idref" href="#p:717"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:715"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:716"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_G'"><span class="id" title="definition">to_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:717"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:717"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.from_G'_path" class="idref" href="#WeightedGraph.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> {<a id="u:718" class="idref" href="#u:718"><span class="id" title="binder">u</span></a> <a id="v:719" class="idref" href="#v:719"><span class="id" title="binder">v</span></a>} (<a id="q:720" class="idref" href="#q:720"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:718"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:719"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:718"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:719"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:718"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:719"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">q</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.from_G'_path_weight" class="idref" href="#WeightedGraph.from_G'_path_weight"><span class="id" title="lemma">from_G'_path_weight</span></a> {<a id="u:721" class="idref" href="#u:721"><span class="id" title="binder">u</span></a> <a id="v:722" class="idref" href="#v:722"><span class="id" title="binder">v</span></a>} (<a id="q:723" class="idref" href="#q:723"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:721"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:722"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:723"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:723"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q'</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">q2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <span class="id" title="var">q2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">HI</span> <span class="id" title="var">HG</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">He</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="XX:725" class="idref" href="#XX:725"><span class="id" title="binder">XX</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.Hxs"><span class="id" title="variable">Hxs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'_path"><span class="id" title="definition">from_G'_path</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.from_G'" class="idref" href="#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> {<a id="S:726" class="idref" href="#S:726"><span class="id" title="binder">S</span></a> <a id="u:727" class="idref" href="#u:727"><span class="id" title="binder">u</span></a> <a id="v:728" class="idref" href="#v:728"><span class="id" title="binder">v</span></a>} (<a id="q:729" class="idref" href="#q:729"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:726"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:727"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:728"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:726"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:727"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:728"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:726"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:727"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:726"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:728"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">q</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> <span class="id" title="var">IHq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHq</span>|<span class="id" title="var">IHq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_3"><span class="id" title="lemma">EdgeSetFact.add_3</span></a> <span class="id" title="var">XX</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>; [|<span class="id" title="tactic">exact</span> <span class="id" title="var">IHq</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.from_G'_weight" class="idref" href="#WeightedGraph.from_G'_weight"><span class="id" title="lemma">from_G'_weight</span></a> {<a id="S:730" class="idref" href="#S:730"><span class="id" title="binder">S</span></a> <a id="u:731" class="idref" href="#u:731"><span class="id" title="binder">u</span></a> <a id="v:732" class="idref" href="#v:732"><span class="id" title="binder">v</span></a>} (<a id="q:733" class="idref" href="#q:733"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:730"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:731"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:732"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:733"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:733"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q'</span> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">q2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">HI</span> <span class="id" title="var">HG</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.eq_dec"><span class="id" title="axiom">Edge.eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">XX</span>|<span class="id" title="var">XX</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#fst_eq"><span class="id" title="definition">fst_eq</span></a> <span class="id" title="var">XX</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#snd_eq"><span class="id" title="definition">snd_eq</span></a> <span class="id" title="var">XX</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">He</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="XX:735" class="idref" href="#XX:735"><span class="id" title="binder">XX</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">q1</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.Hxs"><span class="id" title="variable">Hxs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'</span>|[<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_pathOf" class="idref" href="#WeightedGraph.lsp_pathOf"><span class="id" title="lemma">lsp_pathOf</span></a> {<a id="x:736" class="idref" href="#x:736"><span class="id" title="binder">x</span></a> <a id="y:737" class="idref" href="#y:737"><span class="id" title="binder">y</span></a>} (<a id="p:738" class="idref" href="#p:738"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:736"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:737"><span class="id" title="variable">y</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:739" class="idref" href="#n:739"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:736"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:737"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:739"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">ineq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ineq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="WeightedGraph.HI'" class="idref" href="#WeightedGraph.HI'"><span class="id" title="instance">HI'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He</span>|<span class="id" title="var">He</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>. <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_pathOf"><span class="id" title="method">source_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> [<span class="id" title="var">w</span>]]]. <span class="id" title="var">sq</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_G'"><span class="id" title="definition">to_G'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_G'_weight"><span class="id" title="lemma">to_G'_weight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="WeightedGraph.HG'" class="idref" href="#WeightedGraph.HG'"><span class="id" title="instance">HG'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_caract2"><span class="id" title="lemma">acyclic_caract2</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a>) <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">x</span>); [|<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'_weight"><span class="id" title="lemma">from_G'_weight</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">s0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HG"><span class="id" title="variable">HG</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">s0</span>)). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="XX:741" class="idref" href="#XX:741"><span class="id" title="binder">XX</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p0</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p0</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>))) <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.Hxs"><span class="id" title="variable">Hxs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_G'_yx" class="idref" href="#WeightedGraph.lsp_G'_yx"><span class="id" title="lemma">lsp_G'_yx</span></a> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="MetaCoq.Utils.MCEquality.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">fun</span> <a id="K:743" class="idref" href="#K:743"><span class="id" title="binder">K</span></a> ⇒ (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#K:742"><span class="id" title="variable">K</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nbar</span>) <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_one"><span class="id" title="definition">spath_one</span></a>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_G'_sx" class="idref" href="#WeightedGraph.lsp_G'_sx"><span class="id" title="lemma">lsp_G'_sx</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat_l"><span class="id" title="definition">plus_le_compat_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_yx"><span class="id" title="lemma">lsp_G'_yx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.correct_labelling_lsp_G'" class="idref" href="#WeightedGraph.correct_labelling_lsp_G'"><span class="id" title="lemma">correct_labelling_lsp_G'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">XX.p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.sto_G'" class="idref" href="#WeightedGraph.sto_G'"><span class="id" title="definition">sto_G'</span></a> {<a id="S:744" class="idref" href="#S:744"><span class="id" title="binder">S</span></a> <a id="u:745" class="idref" href="#u:745"><span class="id" title="binder">u</span></a> <a id="v:746" class="idref" href="#v:746"><span class="id" title="binder">v</span></a>} (<a id="p:747" class="idref" href="#p:747"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:744"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:745"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:746"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:744"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:745"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:746"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">p</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.sto_G'_weight" class="idref" href="#WeightedGraph.sto_G'_weight"><span class="id" title="lemma">sto_G'_weight</span></a> {<a id="S:748" class="idref" href="#S:748"><span class="id" title="binder">S</span></a> <a id="u:749" class="idref" href="#u:749"><span class="id" title="binder">u</span></a> <a id="v:750" class="idref" href="#v:750"><span class="id" title="binder">v</span></a>} (<a id="p:751" class="idref" href="#p:751"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#S:748"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:749"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:750"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sto_G'"><span class="id" title="definition">sto_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:751"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:751"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_G'_incr" class="idref" href="#WeightedGraph.lsp_G'_incr"><span class="id" title="lemma">lsp_G'_incr</span></a> <a id="x:752" class="idref" href="#x:752"><span class="id" title="binder">x</span></a> <a id="y:753" class="idref" href="#y:753"><span class="id" title="binder">y</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:752"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:753"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:752"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:753"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="var">cbn</span>; [|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kxy</span> <span class="id" title="var">Hkxy</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hkxy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pxy</span> <span class="id" title="var">Hkxy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sto_G'"><span class="id" title="definition">sto_G'</span></a> <span class="id" title="var">pxy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sto_G'_weight"><span class="id" title="lemma">sto_G'_weight</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_G'_spec_left" class="idref" href="#WeightedGraph.lsp_G'_spec_left"><span class="id" title="lemma">lsp_G'_spec_left</span></a> <a id="x:754" class="idref" href="#x:754"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:754"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max"><span class="id" title="definition">max</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:754"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:754"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_antisymm"><span class="id" title="lemma">Nbar.le_antisymm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.y_0"><span class="id" title="variable">y_0</span></a> <span class="id" title="var">x</span>); [|<span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hk</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p'</span> <span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'_weight"><span class="id" title="lemma">from_G'_weight</span></a> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="var">p'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span>|[<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_le'"><span class="id" title="definition">max_le'</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">p1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a>)) <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">p2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HG"><span class="id" title="variable">HG</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p1</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="x:757" class="idref" href="#x:757"><span class="id" title="binder">x</span></a> <a id="n:758" class="idref" href="#n:758"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#n:756"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:756"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:755"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:755"><span class="id" title="variable">x</span></a>). <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.max_lub"><span class="id" title="definition">max_lub</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_incr"><span class="id" title="lemma">lsp_G'_incr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.x_0"><span class="id" title="variable">x_0</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hk</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="MetaCoq.Utils.MCEquality.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">fun</span> <a id="K:760" class="idref" href="#K:760"><span class="id" title="binder">K</span></a> ⇒ (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#K:759"><span class="id" title="variable">K</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nbar</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">p'</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sto_G'"><span class="id" title="definition">sto_G'</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.split"><span class="id" title="definition">split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p1</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from_G'"><span class="id" title="definition">from_G'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p1</span>|[<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p1</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>; <span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.Hxs"><span class="id" title="variable">Hxs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2.K"><span class="id" title="variable">K</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reduce"><span class="id" title="definition">reduce</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_reduce"><span class="id" title="lemma">weight_reduce</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sto_G'_weight"><span class="id" title="lemma">sto_G'_weight</span></a> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2-3: <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_remove_3"><span class="id" title="lemma">VSetProp.subset_remove_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subset_add_3"><span class="id" title="lemma">VSetProp.subset_add_3</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes_Subset"><span class="id" title="definition">snodes_Subset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.subgraph2"><span class="id" title="section">subgraph2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.SPath_sets" class="idref" href="#WeightedGraph.SPath_sets"><span class="id" title="lemma">SPath_sets</span></a> {<a id="s:761" class="idref" href="#s:761"><span class="id" title="binder">s</span></a> <a id="x:762" class="idref" href="#x:762"><span class="id" title="binder">x</span></a> <a id="y:763" class="idref" href="#y:763"><span class="id" title="binder">y</span></a>} (<a id="p:764" class="idref" href="#p:764"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:761"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:762"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:763"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#x:762"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:763"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:762"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:761"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHp</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> {<span class="id" title="var">G</span> <span class="id" title="var">x</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> {<span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WeightedGraph.PathOf_add_end" class="idref" href="#WeightedGraph.PathOf_add_end"><span class="id" title="definition">PathOf_add_end</span></a> {<a id="x:765" class="idref" href="#x:765"><span class="id" title="binder">x</span></a> <a id="y:766" class="idref" href="#y:766"><span class="id" title="binder">y</span></a> <a id="z:767" class="idref" href="#z:767"><span class="id" title="binder">z</span></a>} (<a id="p:768" class="idref" href="#p:768"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:765"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:766"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:766"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:767"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:765"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:767"><span class="id" title="variable">z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:768"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="e:771" class="idref" href="#e:771"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:771"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e'</span> <span class="id" title="var">p'</span> ⇒ <span class="id" title="keyword">fun</span> <a id="e:772" class="idref" href="#e:772"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">e'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#PathOf_add_end:769"><span class="id" title="definition">PathOf_add_end</span></a> <span class="id" title="var">p'</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:772"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.PathOf_add_end_weight" class="idref" href="#WeightedGraph.PathOf_add_end_weight"><span class="id" title="lemma">PathOf_add_end_weight</span></a> {<a id="x:773" class="idref" href="#x:773"><span class="id" title="binder">x</span></a> <a id="y:774" class="idref" href="#y:774"><span class="id" title="binder">y</span></a> <a id="z:775" class="idref" href="#z:775"><span class="id" title="binder">z</span></a>} (<a id="p:776" class="idref" href="#p:776"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:773"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:774"><span class="id" title="variable">y</span></a>) (<a id="e:777" class="idref" href="#e:777"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:774"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:775"><span class="id" title="variable">z</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf_add_end"><span class="id" title="definition">PathOf_add_end</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:776"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:777"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:776"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:777"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHp</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.negbe" class="idref" href="#WeightedGraph.negbe"><span class="id" title="lemma">negbe</span></a> {<a id="b:778" class="idref" href="#b:778"><span class="id" title="binder">b</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b:778"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b:778"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.In_nodes_app_end" class="idref" href="#WeightedGraph.In_nodes_app_end"><span class="id" title="lemma">In_nodes_app_end</span></a> {<a id="x:779" class="idref" href="#x:779"><span class="id" title="binder">x</span></a> <a id="y:780" class="idref" href="#y:780"><span class="id" title="binder">y</span></a> <a id="z:781" class="idref" href="#z:781"><span class="id" title="binder">z</span></a>} (<a id="p:782" class="idref" href="#p:782"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:779"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:780"><span class="id" title="variable">y</span></a>) (<a id="e:783" class="idref" href="#e:783"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:780"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:781"><span class="id" title="variable">z</span></a>) <a id="i:784" class="idref" href="#i:784"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#i:784"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf_add_end"><span class="id" title="definition">PathOf_add_end</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:782"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:783"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#i:784"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:782"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#i:784"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:780"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.pathOf_add_end_simpl" class="idref" href="#WeightedGraph.pathOf_add_end_simpl"><span class="id" title="lemma">pathOf_add_end_simpl</span></a> {<a id="x:785" class="idref" href="#x:785"><span class="id" title="binder">x</span></a> <a id="y:786" class="idref" href="#y:786"><span class="id" title="binder">y</span></a> <a id="z:787" class="idref" href="#z:787"><span class="id" title="binder">z</span></a>} (<a id="p:788" class="idref" href="#p:788"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:785"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:786"><span class="id" title="variable">y</span></a>) (<a id="e:789" class="idref" href="#e:789"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:786"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:787"><span class="id" title="variable">z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_simple"><span class="id" title="definition">is_simple</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:788"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:786"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:788"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.is_simple"><span class="id" title="definition">is_simple</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf_add_end"><span class="id" title="definition">PathOf_add_end</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:788"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:789"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [<span class="id" title="var">nmen</span> <span class="id" title="var">iss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHp</span> <span class="id" title="var">e</span> <span class="id" title="var">iss</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>%<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.negbe"><span class="id" title="lemma">negbe</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.negbe"><span class="id" title="lemma">negbe</span></a>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In_nodes_app_end"><span class="id" title="lemma">In_nodes_app_end</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inn</span> | -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.negbe"><span class="id" title="lemma">negbe</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">nmen</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">elim</span> <span class="id" title="var">nmen</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>. <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.negbe"><span class="id" title="lemma">negbe</span></a> ⇒ <span class="id" title="var">nmem</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">nmem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a>. <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.leq_vertices_caract0" class="idref" href="#WeightedGraph.leq_vertices_caract0"><span class="id" title="lemma">leq_vertices_caract0</span></a> {<a id="n:790" class="idref" href="#n:790"><span class="id" title="binder">n</span></a> <a id="x:791" class="idref" href="#x:791"><span class="id" title="binder">x</span></a> <a id="y:792" class="idref" href="#y:792"><span class="id" title="binder">y</span></a>} (<a id="Vy:793" class="idref" href="#Vy:793"><span class="id" title="binder">Vy</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:792"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leq_vertices"><span class="id" title="definition">leq_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:790"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:791"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:792"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:790"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:791"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:792"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Vx</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Vx</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Vx</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Vx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">K</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e"><span class="id" title="notation">&lt;=?</span></a> 0)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>))%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">l</span> := <span class="id" title="keyword">fun</span> <a id="z:795" class="idref" href="#z:795"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:794"><span class="id" title="variable">z</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">K</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#z:794"><span class="id" title="variable">z</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="XX:797" class="idref" href="#XX:797"><span class="id" title="binder">XX</span></a> := <span class="id" title="var">Hle</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vx</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vx</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vx</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">clearbody</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>]; [|<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">zl</span> [<span class="id" title="var">eq</span> [<span class="id" title="var">pos</span> <span class="id" title="var">zof</span>]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zof</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>, <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec"><span class="id" title="lemma">Z.leb_spec</span></a> <span class="id" title="var">n</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_add"><span class="id" title="lemma">Nat2Z.inj_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zof</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">y</span> <span class="id" title="var">Vy</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ly</span> [<span class="id" title="var">Hly</span> [<span class="id" title="var">Hpos</span> <span class="id" title="var">Hlab</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Vx</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lx</span> [<span class="id" title="var">Hlx</span> [<span class="id" title="var">poskx</span> <span class="id" title="var">Hlab'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">xy</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">xs</span> <span class="id" title="var">Hly</span> <span class="id" title="var">xy</span> /=. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp_G'"><span class="id" title="lemma">Subgraph1.correct_labelling_lsp_G'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xy</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tas</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">G'</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">Subgraph1.G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HI'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <span class="id" title="var">G'</span>). { <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HI'"><span class="id" title="instance">Subgraph1.HI'</span></a>; <span class="id" title="var">tas</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">_</span> <span class="id" title="var">XX</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HG'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <span class="id" title="var">G'</span>). { <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HG'"><span class="id" title="instance">Subgraph1.HG'</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">K</span>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>)%<span class="id" title="var">nbar</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_yx"><span class="id" title="lemma">Subgraph1.lsp_G'_yx</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vy</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.le_Some_lsp"><span class="id" title="lemma">le_Some_lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">yx</span> [<span class="id" title="var">lspyx</span> <span class="id" title="var">lekyx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">_</span> <span class="id" title="var">Vx</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">kx'</span> [<span class="id" title="var">Hkx'</span> [<span class="id" title="var">kx'pos</span> <span class="id" title="var">zofx'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zofx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">_</span> <span class="id" title="var">Vy</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ky'</span> [<span class="id" title="var">Hky'</span> [<span class="id" title="var">ky'pos</span> <span class="id" title="var">zofy'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hky'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zofy'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_spec_left"><span class="id" title="lemma">Subgraph1.lsp_G'_spec_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Vx</span> <span class="id" title="var">Vy</span> <span class="id" title="var">_</span> <span class="id" title="var">xy</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspyx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_sym"><span class="id" title="lemma">lsp_sym</span></a> <span class="id" title="var">_</span> <span class="id" title="var">xy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">yx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">yx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <span class="id" title="var">G'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hky'</span> <span class="id" title="var">lspyx</span> <span class="id" title="var">Hkx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> (<span class="id" title="var">K</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e"><span class="id" title="notation">&lt;=?</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <span class="id" title="var">lx</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">ly</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <span class="id" title="var">lx</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">ly</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp_G'"><span class="id" title="lemma">correct_labelling_lsp_G'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xs</span> <span class="id" title="var">K</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tas</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">G'</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HI'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <span class="id" title="var">G'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HI'"><span class="id" title="instance">HI'</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">_</span> <span class="id" title="var">XX</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">K</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>)%<span class="id" title="var">nbar</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_yx"><span class="id" title="lemma">lsp_G'_yx</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HG'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <span class="id" title="var">G'</span>). { <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HG'"><span class="id" title="instance">HG'</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">_</span> <span class="id" title="var">Vx</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">kx'</span> [<span class="id" title="var">Hkx'</span> [<span class="id" title="var">kx'pos</span> <span class="id" title="var">zofx'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkx'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zofx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">_</span> <span class="id" title="var">Vy</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ky'</span> [<span class="id" title="var">Hky'</span> [<span class="id" title="var">ky'pos</span> <span class="id" title="var">zofy'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hky'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zofy'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hle''</span> : <span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <span class="id" title="var">ky'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ky'</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">K</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)%<span class="id" title="var">nbar</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HH</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_spec_left"><span class="id" title="lemma">lsp_G'_spec_left</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">xs</span> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hky'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.eq_max"><span class="id" title="lemma">eq_max</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hky'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hky'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hk</span>|<span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hly</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">XX</span> <span class="id" title="var">ky'pos</span> <span class="id" title="var">Hk</span> <span class="id" title="var">Hle''</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec"><span class="id" title="lemma">Z.leb_spec</span></a> <span class="id" title="var">n</span> 0); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_PathOf"><span class="id" title="lemma">correct_labelling_PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>, <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_vset_in" class="idref" href="#WeightedGraph.lsp_vset_in"><span class="id" title="lemma">lsp_vset_in</span></a> {<a id="s:798" class="idref" href="#s:798"><span class="id" title="binder">s</span></a> <a id="x:799" class="idref" href="#x:799"><span class="id" title="binder">x</span></a> <a id="y:800" class="idref" href="#y:800"><span class="id" title="binder">y</span></a> <a id="n:801" class="idref" href="#n:801"><span class="id" title="binder">n</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:798"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:799"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:800"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:801"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#n:801"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:799"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:800"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:800"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHx0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">sw</span> -&gt;]|<span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">specialize</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Ht</span>]. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.leq_vertices_caract" class="idref" href="#WeightedGraph.leq_vertices_caract"><span class="id" title="lemma">leq_vertices_caract</span></a> {<a id="n:802" class="idref" href="#n:802"><span class="id" title="binder">n</span></a> <a id="x:803" class="idref" href="#x:803"><span class="id" title="binder">x</span></a> <a id="y:804" class="idref" href="#y:804"><span class="id" title="binder">y</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leq_vertices"><span class="id" title="definition">leq_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:802"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:803"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:804"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:804"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:802"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:803"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:804"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#n:802"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:803"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:804"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:802"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:803"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">y</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Vy</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Vy</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leq_vertices_caract0"><span class="id" title="lemma">leq_vertices_caract0</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Vy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">nneg</span> : <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> (<span class="id" title="var">K</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">l</span> := <span class="id" title="keyword">fun</span> <a id="z:806" class="idref" href="#z:806"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:805"><span class="id" title="variable">z</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">K</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#z:805"><span class="id" title="variable">z</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="XX:808" class="idref" href="#XX:808"><span class="id" title="binder">XX</span></a> := <span class="id" title="var">Hle</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vy</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">clearbody</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [?|?]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">intuition</span>|<span class="id" title="var">lia</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)); [<span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">enough</span> (<span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">wp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">inx</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">inx</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">HI</span> <span class="id" title="var">HG</span> <span class="id" title="var">H0</span> <span class="id" title="var">p</span> <span class="id" title="var">wp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depind</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wp</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">_</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">mem</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp_G'"><span class="id" title="lemma">Subgraph1.correct_labelling_lsp_G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">mem</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_vertex"><span class="id" title="method">source_vertex</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">G'</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">Subgraph1.G'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">z</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HI'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <span class="id" title="var">G'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HI'"><span class="id" title="instance">Subgraph1.HI'</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HG'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <span class="id" title="var">G'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HG'"><span class="id" title="instance">Subgraph1.HG'</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">l</span> := <span class="id" title="keyword">fun</span> <a id="v:810" class="idref" href="#v:810"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:809"><span class="id" title="variable">v</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#v:809"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vy</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">_</span> <span class="id" title="var">XX</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">y</span>); [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lx</span> [<span class="id" title="var">lspx</span> <span class="id" title="var">wx</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_pos"><span class="id" title="lemma">Z_of_to_label_pos</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">enough</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <span class="id" title="var">G'</span>) <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">z</span>)). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_G'_spec_left"><span class="id" title="lemma">Subgraph1.lsp_G'_spec_left</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_vertex"><span class="id" title="method">source_vertex</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_s"><span class="id" title="lemma">lsp_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">mem</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lx'</span> [<span class="id" title="var">lspx'</span> <span class="id" title="var">w</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">z</span>))%<span class="id" title="var">nbar</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspx'</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lspx'</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_sym"><span class="id" title="lemma">lsp_sym</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lx</span>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hxs</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Vx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Vx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)) ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">K</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp_G'"><span class="id" title="lemma">correct_labelling_lsp_G'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hxs</span> <span class="id" title="var">K</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tas</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">G'</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.G'"><span class="id" title="definition">G'</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">K</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HI'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <span class="id" title="var">G'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HI'"><span class="id" title="instance">HI'</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HG'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <span class="id" title="var">G'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.HG'"><span class="id" title="instance">HG'</span></a>; <span class="id" title="var">tas</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">l</span> := <span class="id" title="keyword">fun</span> <a id="z:812" class="idref" href="#z:812"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:811"><span class="id" title="variable">z</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#z:811"><span class="id" title="variable">z</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">l</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vy</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_lsp0_xx"><span class="id" title="lemma">acyclic_lsp0_xx</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hle</span> <span class="id" title="var">_</span> <span class="id" title="var">XX</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [?|?]; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="YY:814" class="idref" href="#YY:814"><span class="id" title="binder">YY</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">G'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">G'</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">x</span> ?[<span class="id" title="var">XX</span>] <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">K</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">XX</span>]: <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_remove1"><span class="id" title="lemma">DisjointAdd_remove1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_spec"><span class="id" title="lemma">EdgeSet.add_spec</span></a>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">YY</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">YY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0"><span class="id" title="definition">lsp0</span></a> <span class="id" title="var">G'</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">YY</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">YY</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">kx</span> <span class="id" title="var">Hkx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">YY</span>, <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label"><span class="id" title="lemma">Z_of_to_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">YY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec"><span class="id" title="lemma">Z.leb_spec</span></a> 0 <span class="id" title="var">kx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">K</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Vx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">K</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">l</span> := <span class="id" title="keyword">fun</span> <a id="z:816" class="idref" href="#z:816"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:815"><span class="id" title="variable">z</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 0%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:815"><span class="id" title="variable">z</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#z:815"><span class="id" title="variable">z</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">let</span> <a id="XX:818" class="idref" href="#XX:818"><span class="id" title="binder">XX</span></a> := <span class="id" title="var">Hle</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vy</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Vx</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vx</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a>, <span class="id" title="var">Vx</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.HI"><span class="id" title="variable">HI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">clearbody</span> <span class="id" title="var">XX</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [?|?]; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [?|?]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="var">lia</span>|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">e</span> [<span class="id" title="var">Hxy</span>|<span class="id" title="var">Hxs</span>]] <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)); [|<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hxs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hk</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_PathOf"><span class="id" title="lemma">correct_labelling_PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">Hl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>, <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.leqb_vertices" class="idref" href="#WeightedGraph.leqb_vertices"><span class="id" title="definition">leqb_vertices</span></a> <a id="z:819" class="idref" href="#z:819"><span class="id" title="binder">z</span></a> <a id="x:820" class="idref" href="#x:820"><span class="id" title="binder">x</span></a> <a id="y:821" class="idref" href="#y:821"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:821"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#is_left"><span class="id" title="definition">is_left</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_dec"><span class="id" title="lemma">Nbar.le_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:819"><span class="id" title="variable">z</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_fast"><span class="id" title="definition">lsp_fast</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:820"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:821"><span class="id" title="variable">y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb"><span class="id" title="definition">Z.leb</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:819"><span class="id" title="variable">z</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:820"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:821"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_dec"><span class="id" title="lemma">Nbar.le_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:819"><span class="id" title="variable">z</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_fast"><span class="id" title="definition">lsp_fast</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:820"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">bool</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.leqb_vertices_correct" class="idref" href="#WeightedGraph.leqb_vertices_correct"><span class="id" title="lemma">leqb_vertices_correct</span></a> <a id="n:822" class="idref" href="#n:822"><span class="id" title="binder">n</span></a> <a id="x:823" class="idref" href="#x:823"><span class="id" title="binder">x</span></a> <a id="y:824" class="idref" href="#y:824"><span class="id" title="binder">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leq_vertices"><span class="id" title="definition">leq_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:822"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:823"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:824"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leqb_vertices"><span class="id" title="definition">leqb_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:822"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:823"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:824"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HG</span> <span class="id" title="var">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leq_vertices_caract"><span class="id" title="lemma">leq_vertices_caract</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.leqb_vertices"><span class="id" title="definition">leqb_vertices</span></a> !<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_optim"><span class="id" title="lemma">lsp_optim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">y</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_dec"><span class="id" title="lemma">le_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#andb_and"><span class="id" title="lemma">andb_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms_Prop.html#and_iff_morphism"><span class="id" title="instance">Morphisms_Prop.and_iff_morphism</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_le"><span class="id" title="lemma">Z.leb_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_true_iff"><span class="id" title="lemma">orb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms_Prop.html#or_iff_morphism"><span class="id" title="instance">Morphisms_Prop.or_iff_morphism</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#V.eq_dec"><span class="id" title="axiom">V.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_dec"><span class="id" title="lemma">le_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph.G"><span class="id" title="variable">G</span></a>))); <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph"><span class="id" title="section">subgraph</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.edge_map" class="idref" href="#WeightedGraph.edge_map"><span class="id" title="definition">edge_map</span></a> (<a id="f:825" class="idref" href="#f:825"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a>) (<a id="es:826" class="idref" href="#es:826"><span class="id" title="binder">es</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">EdgeSet.t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">EdgeSet.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.of_list"><span class="id" title="definition">EdgeSetProp.of_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:825"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_list"><span class="id" title="definition">EdgeSetProp.to_list</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#es:826"><span class="id" title="variable">es</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.edge_map_spec1" class="idref" href="#WeightedGraph.edge_map_spec1"><span class="id" title="lemma">edge_map_spec1</span></a> <a id="f:827" class="idref" href="#f:827"><span class="id" title="binder">f</span></a> <a id="es:828" class="idref" href="#es:828"><span class="id" title="binder">es</span></a> : <span class="id" title="keyword">∀</span> <a id="e:829" class="idref" href="#e:829"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:829"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#es:828"><span class="id" title="variable">es</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#f:827"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:829"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map"><span class="id" title="definition">edge_map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:827"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#es:828"><span class="id" title="variable">es</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.elements_spec1"><span class="id" title="lemma">EdgeSet.elements_spec1</span></a>/<a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.of_list_1"><span class="id" title="lemma">EdgeSetProp.of_list_1</span></a>; <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.edge_map_spec2" class="idref" href="#WeightedGraph.edge_map_spec2"><span class="id" title="lemma">edge_map_spec2</span></a> <a id="f:830" class="idref" href="#f:830"><span class="id" title="binder">f</span></a> <a id="es:831" class="idref" href="#es:831"><span class="id" title="binder">es</span></a> <a id="e:832" class="idref" href="#e:832"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:832"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map"><span class="id" title="definition">edge_map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:830"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#es:831"><span class="id" title="variable">es</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:833" class="idref" href="#e0:833"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:832"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:830"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e0:833"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e0:833"><span class="id" title="variable">e0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#es:831"><span class="id" title="variable">es</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.of_list_1"><span class="id" title="lemma">EdgeSetProp.of_list_1</span></a>/<a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">x</span> [&lt;- /<a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.elements_spec1"><span class="id" title="lemma">EdgeSet.elements_spec1</span></a> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ [? [-&gt;]]; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec1"><span class="id" title="lemma">edge_map_spec1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.diff" class="idref" href="#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> (<a id="l:834" class="idref" href="#l:834"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a>) <a id="x:835" class="idref" href="#x:835"><span class="id" title="binder">x</span></a> <a id="y:836" class="idref" href="#y:836"><span class="id" title="binder">y</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:834"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:836"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:834"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:835"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.relabel" class="idref" href="#WeightedGraph.relabel"><span class="id" title="definition">relabel</span></a> (<a id="G:837" class="idref" href="#G:837"><span class="id" title="binder">G</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) (<a id="l:838" class="idref" href="#l:838"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:837"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map"><span class="id" title="definition">edge_map</span></a> (<span class="id" title="keyword">fun</span> <a id="e:839" class="idref" href="#e:839"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#e:839"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:838"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:839"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:839"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:839"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:837"><span class="id" title="variable">G</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:837"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.relabel_weight" class="idref" href="#WeightedGraph.relabel_weight"><span class="id" title="lemma">relabel_weight</span></a> <a id="G:840" class="idref" href="#G:840"><span class="id" title="binder">G</span></a> <a id="l:841" class="idref" href="#l:841"><span class="id" title="binder">l</span></a> (<a id="Gl:842" class="idref" href="#Gl:842"><span class="id" title="binder">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel"><span class="id" title="definition">relabel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:840"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:841"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:843" class="idref" href="#x:843"><span class="id" title="binder">x</span></a> <a id="y:844" class="idref" href="#y:844"><span class="id" title="binder">y</span></a> (<a id="p:845" class="idref" href="#p:845"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Gl:842"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:843"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:844"><span class="id" title="variable">y</span></a>), <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:845"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:841"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:844"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:841"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:843"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">elim</span> ⇒ [?/=|??? [? /= /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec2"><span class="id" title="lemma">edge_map_spec2</span></a> [?[[=]????]]] ? -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.relabel_lsp" class="idref" href="#WeightedGraph.relabel_lsp"><span class="id" title="lemma">relabel_lsp</span></a> <a id="G:846" class="idref" href="#G:846"><span class="id" title="binder">G</span></a> <a id="l:847" class="idref" href="#l:847"><span class="id" title="binder">l</span></a> (<a id="Gl:848" class="idref" href="#Gl:848"><span class="id" title="binder">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel"><span class="id" title="definition">relabel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:846"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:847"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:849" class="idref" href="#x:849"><span class="id" title="binder">x</span></a> <a id="y:850" class="idref" href="#y:850"><span class="id" title="binder">y</span></a> <a id="n:851" class="idref" href="#n:851"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Gl:848"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:849"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:850"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:851"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:851"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:847"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:850"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#l:847"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:849"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ??? /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> [<span class="id" title="var">p</span> &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_weight"><span class="id" title="lemma">relabel_weight</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_relabel" class="idref" href="#WeightedGraph.acyclic_relabel"><span class="id" title="lemma">acyclic_relabel</span></a> <a id="G:852" class="idref" href="#G:852"><span class="id" title="binder">G</span></a> <a id="l:853" class="idref" href="#l:853"><span class="id" title="binder">l</span></a> (<a id="Gl:854" class="idref" href="#Gl:854"><span class="id" title="binder">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel"><span class="id" title="definition">relabel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:852"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:853"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:852"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:853"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Gl:854"><span class="id" title="variable">Gl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">HGl</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_weight"><span class="id" title="lemma">relabel_weight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">acG</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_labelling"><span class="id" title="lemma">acyclic_labelling</span></a> <span class="id" title="var">G</span> <span class="id" title="var">l</span> <span class="id" title="var">HGl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xx0</span> := @<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> <span class="id" title="var">G</span> <span class="id" title="var">acG</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp"><span class="id" title="lemma">correct_labelling_lsp</span></a> <span class="id" title="var">G</span> <span class="id" title="var">xx0</span> <span class="id" title="var">l</span> <span class="id" title="var">HGl</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.relabel_path" class="idref" href="#WeightedGraph.relabel_path"><span class="id" title="definition">relabel_path</span></a> <a id="G:855" class="idref" href="#G:855"><span class="id" title="binder">G</span></a> <a id="l:856" class="idref" href="#l:856"><span class="id" title="binder">l</span></a> (<a id="Gl:857" class="idref" href="#Gl:857"><span class="id" title="binder">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel"><span class="id" title="definition">relabel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:855"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:856"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="x:858" class="idref" href="#x:858"><span class="id" title="binder">x</span></a> <a id="y:859" class="idref" href="#y:859"><span class="id" title="binder">y</span></a>}, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:855"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:858"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:859"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Gl:857"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:858"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:859"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">elim</span>⇒ {<span class="id" title="var">x</span> <span class="id" title="var">y</span>}[<span class="id" title="var">x</span>| <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> <span class="id" title="var">ih</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="var">l</span> <span class="id" title="var">y</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="var">l</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec1"><span class="id" title="lemma">edge_map_spec1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.invariants_relabel" class="idref" href="#WeightedGraph.invariants_relabel"><span class="id" title="lemma">invariants_relabel</span></a> <a id="G:860" class="idref" href="#G:860"><span class="id" title="binder">G</span></a> <a id="l:861" class="idref" href="#l:861"><span class="id" title="binder">l</span></a> (<a id="Gl:862" class="idref" href="#Gl:862"><span class="id" title="binder">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel"><span class="id" title="definition">relabel</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:860"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:861"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:860"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:861"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:860"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Gl:862"><span class="id" title="variable">Gl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">sG0</span> <span class="id" title="var">_</span>] [<span class="id" title="var">edgeG</span> <span class="id" title="var">sG</span> <span class="id" title="var">wG</span>] ; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec2"><span class="id" title="lemma">edge_map_spec2</span></a> [<span class="id" title="var">e'</span> [-&gt; ?]]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">edgeG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: <span class="id" title="var">sG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">xin</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">wG</span> <span class="id" title="var">x</span> <span class="id" title="var">xin</span>)=&gt; [[<span class="id" title="var">p</span> <span class="id" title="var">h</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_path"><span class="id" title="definition">relabel_path</span></a> <span class="id" title="var">G</span> <span class="id" title="var">l</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_weight"><span class="id" title="lemma">relabel_weight</span></a> <span class="id" title="var">sG0</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.relabel_map" class="idref" href="#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a> <a id="G1:863" class="idref" href="#G1:863"><span class="id" title="binder">G1</span></a> <a id="l:864" class="idref" href="#l:864"><span class="id" title="binder">l</span></a> (<a id="e:865" class="idref" href="#e:865"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">Edge.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:865"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:863"><span class="id" title="variable">G1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#e:865"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:864"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:865"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:865"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:865"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:865"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.relabel_on" class="idref" href="#WeightedGraph.relabel_on"><span class="id" title="definition">relabel_on</span></a> (<a id="G1:866" class="idref" href="#G1:866"><span class="id" title="binder">G1</span></a> <a id="G2:867" class="idref" href="#G2:867"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) (<a id="l:868" class="idref" href="#l:868"><span class="id" title="binder">l</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:867"><span class="id" title="variable">G2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map"><span class="id" title="definition">edge_map</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:866"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:868"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:867"><span class="id" title="variable">G2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:867"><span class="id" title="variable">G2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_inverse" class="idref" href="#WeightedGraph.weight_inverse"><span class="id" title="lemma">weight_inverse</span></a> <a id="G:869" class="idref" href="#G:869"><span class="id" title="binder">G</span></a> <a id="x:870" class="idref" href="#x:870"><span class="id" title="binder">x</span></a> <a id="y:871" class="idref" href="#y:871"><span class="id" title="binder">y</span></a> (<a id="p:872" class="idref" href="#p:872"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:869"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:870"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:871"><span class="id" title="variable">y</span></a>) (<a id="q:873" class="idref" href="#q:873"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:869"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:871"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:870"><span class="id" title="variable">x</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:869"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:872"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:873"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /(<span class="id" title="var">_</span> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.concat"><span class="id" title="definition">concat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)); <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_concat"><span class="id" title="lemma">weight_concat</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.sweight_inverse" class="idref" href="#WeightedGraph.sweight_inverse"><span class="id" title="lemma">sweight_inverse</span></a> {<a id="G:874" class="idref" href="#G:874"><span class="id" title="binder">G</span></a> <a id="x:875" class="idref" href="#x:875"><span class="id" title="binder">x</span></a> <a id="y:876" class="idref" href="#y:876"><span class="id" title="binder">y</span></a> <a id="s:877" class="idref" href="#s:877"><span class="id" title="binder">s</span></a> <a id="s':878" class="idref" href="#s':878"><span class="id" title="binder">s'</span></a>} (<a id="p:879" class="idref" href="#p:879"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:874"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:877"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:875"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:876"><span class="id" title="variable">y</span></a>) (<a id="q:880" class="idref" href="#q:880"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:874"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':878"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:876"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:875"><span class="id" title="variable">x</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:874"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:879"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:880"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">acG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_inverse"><span class="id" title="lemma">weight_inverse</span></a> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q</span>) <span class="id" title="var">acG</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.acyclic_no_sloop" class="idref" href="#WeightedGraph.acyclic_no_sloop"><span class="id" title="definition">acyclic_no_sloop</span></a> <a id="G:881" class="idref" href="#G:881"><span class="id" title="binder">G</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:882" class="idref" href="#x:882"><span class="id" title="binder">x</span></a> <a id="s:883" class="idref" href="#s:883"><span class="id" title="binder">s</span></a> (<a id="p:884" class="idref" href="#p:884"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:881"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:883"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:882"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:882"><span class="id" title="variable">x</span></a>), <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:884"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_no_loop_sloop" class="idref" href="#WeightedGraph.acyclic_no_loop_sloop"><span class="id" title="lemma">acyclic_no_loop_sloop</span></a> <a id="G:885" class="idref" href="#G:885"><span class="id" title="binder">G</span></a> (<a id="invG:886" class="idref" href="#invG:886"><span class="id" title="binder">invG</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:885"><span class="id" title="variable">G</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:885"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_sloop"><span class="id" title="definition">acyclic_no_sloop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:885"><span class="id" title="variable">G</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop_loop'"><span class="id" title="lemma">acyclic_no_loop_loop'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">acG</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">wp</span>. <span class="id" title="tactic">apply</span>: (<span class="id" title="var">acG</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_pathOf"><span class="id" title="definition">to_pathOf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_weight"><span class="id" title="lemma">sweight_weight</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">acG</span> <span class="id" title="var">x</span> [<span class="id" title="var">p</span> <span class="id" title="var">wp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">rx</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">G</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">hsupp</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <span class="id" title="var">G</span> <span class="id" title="var">p</span>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.nodes"><span class="id" title="definition">nodes</span></a> <span class="id" title="var">G</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.empty_union_1"><span class="id" title="lemma">VSetProp.empty_union_1</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty_spec"><span class="id" title="axiom">VSet.empty_spec</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify"><span class="id" title="definition">simplify</span></a> <span class="id" title="var">G</span> <span class="id" title="var">p</span> <span class="id" title="var">rx</span> <span class="id" title="var">hsupp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<span class="id" title="var">acG</span> <span class="id" title="var">s0</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s0</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_simplify"><span class="id" title="lemma">weight_simplify</span></a> <span class="id" title="var">G</span> <span class="id" title="var">p</span> <span class="id" title="var">rx</span> <span class="id" title="var">hsupp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<span class="id" title="var">rx</span> /<span class="id" title="var">s0</span> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_add4" class="idref" href="#WeightedGraph.DisjointAdd_add4"><span class="id" title="lemma">DisjointAdd_add4</span></a> <a id="x:887" class="idref" href="#x:887"><span class="id" title="binder">x</span></a> <a id="s1:888" class="idref" href="#s1:888"><span class="id" title="binder">s1</span></a> <a id="s2:889" class="idref" href="#s2:889"><span class="id" title="binder">s2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:887"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:888"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:889"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:887"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:888"><span class="id" title="variable">s1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:887"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:889"><span class="id" title="variable">s2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">addx</span> <span class="id" title="var">xnotins1</span>]. <span class="id" title="tactic">split</span>⇒ // <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ [?|/<span class="id" title="var">addx</span> //]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<span class="id" title="var">addx</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.DisjointAdd_In" class="idref" href="#WeightedGraph.DisjointAdd_In"><span class="id" title="lemma">DisjointAdd_In</span></a> {<a id="x:890" class="idref" href="#x:890"><span class="id" title="binder">x</span></a> <a id="s1:891" class="idref" href="#s1:891"><span class="id" title="binder">s1</span></a> <a id="s2:892" class="idref" href="#s2:892"><span class="id" title="binder">s2</span></a>} : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:890"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:891"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:892"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:890"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:892"><span class="id" title="variable">s2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">h</span> <span class="id" title="var">_</span>]; <span class="id" title="tactic">apply</span>/<span class="id" title="var">h</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.reroot_spath_aux1" class="idref" href="#WeightedGraph.reroot_spath_aux1"><span class="id" title="lemma">reroot_spath_aux1</span></a> {<a id="x:893" class="idref" href="#x:893"><span class="id" title="binder">x</span></a> <a id="s0:894" class="idref" href="#s0:894"><span class="id" title="binder">s0</span></a> <a id="s1:895" class="idref" href="#s1:895"><span class="id" title="binder">s1</span></a> <a id="s2:896" class="idref" href="#s2:896"><span class="id" title="binder">s2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:893"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:895"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:896"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:896"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:894"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:895"><span class="id" title="variable">s1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:893"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:894"><span class="id" title="variable">s0</span></a>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:896"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:894"><span class="id" title="variable">s0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">disjadd</span> <span class="id" title="var">dijs20</span> ? /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union_spec"><span class="id" title="axiom">VSet.union_spec</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">move</span>⇒ /(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_Subset"><span class="id" title="lemma">DisjointAdd_Subset</span></a> <span class="id" title="var">disjadd</span>) ?; <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union_spec"><span class="id" title="axiom">VSet.union_spec</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a>[-&gt;|?]; <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union_spec"><span class="id" title="axiom">VSet.union_spec</span></a>; [<span class="id" title="tactic">left</span>| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_In"><span class="id" title="lemma">DisjointAdd_In</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.reroot_spath_aux2" class="idref" href="#WeightedGraph.reroot_spath_aux2"><span class="id" title="lemma">reroot_spath_aux2</span></a> {<a id="x:897" class="idref" href="#x:897"><span class="id" title="binder">x</span></a> <a id="s0:898" class="idref" href="#s0:898"><span class="id" title="binder">s0</span></a> <a id="s1:899" class="idref" href="#s1:899"><span class="id" title="binder">s1</span></a> <a id="s2:900" class="idref" href="#s2:900"><span class="id" title="binder">s2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:897"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:899"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:900"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:900"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:898"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:897"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:898"><span class="id" title="variable">s0</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:897"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:898"><span class="id" title="variable">s0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">disjadd</span> <span class="id" title="var">disj20</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_add2"><span class="id" title="lemma">DisjointAdd_add2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ?:= <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd_In"><span class="id" title="lemma">DisjointAdd_In</span></a> <span class="id" title="var">disjadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">xins'</span>; <span class="id" title="tactic">apply</span>: (<span class="id" title="var">disj20</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.reroot_spath_aux3" class="idref" href="#WeightedGraph.reroot_spath_aux3"><span class="id" title="lemma">reroot_spath_aux3</span></a> {<a id="x:901" class="idref" href="#x:901"><span class="id" title="binder">x</span></a> <a id="s0:902" class="idref" href="#s0:902"><span class="id" title="binder">s0</span></a> <a id="s1:903" class="idref" href="#s1:903"><span class="id" title="binder">s1</span></a> <a id="s2:904" class="idref" href="#s2:904"><span class="id" title="binder">s2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:901"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:903"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:904"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:904"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:902"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:903"><span class="id" title="variable">s1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:901"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s0:902"><span class="id" title="variable">s0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">disjadd</span> <span class="id" title="var">disj20</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">disj0'</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s0</span> <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint_DisjointAdd"><span class="id" title="lemma">Disjoint_DisjointAdd</span></a>; <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ? /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a> [<span class="id" title="var">ins0</span>] /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">eq</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ins0</span>; <span class="id" title="tactic">case</span>: <span class="id" title="var">disjadd</span>⇒ <span class="id" title="var">_</span> /(<span class="id" title="var">_</span> <span class="id" title="var">ins0</span>)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ?; <span class="id" title="tactic">apply</span>: <span class="id" title="var">disj0'</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.reroot_spath_aux" class="idref" href="#WeightedGraph.reroot_spath_aux"><span class="id" title="definition">reroot_spath_aux</span></a> <a id="G:905" class="idref" href="#G:905"><span class="id" title="binder">G</span></a> <a id="s:906" class="idref" href="#s:906"><span class="id" title="binder">s</span></a> <a id="x:907" class="idref" href="#x:907"><span class="id" title="binder">x</span></a> <a id="z:908" class="idref" href="#z:908"><span class="id" title="binder">z</span></a> (<a id="p:909" class="idref" href="#p:909"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:905"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:906"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:907"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:908"><span class="id" title="variable">z</span></a>) <a id="y:910" class="idref" href="#y:910"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:910"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:905"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:909"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s':911" class="idref" href="#s':911"><span class="id" title="binder">s'</span></a> (<a id="q:912" class="idref" href="#q:912"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:905"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':911"><span class="id" title="variable">s'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:908"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:907"><span class="id" title="variable">x</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:906"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':911"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c:913" class="idref" href="#c:913"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:905"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union"><span class="id" title="axiom">VSet.union</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:906"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':911"><span class="id" title="variable">s'</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#y:910"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:910"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#c:913"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:909"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:912"><span class="id" title="variable">q</span></a> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span>⇒ {<span class="id" title="var">x</span> <span class="id" title="var">z</span>}[<span class="id" title="var">s0</span> <span class="id" title="var">x</span>|<span class="id" title="var">s0</span> <span class="id" title="var">s1</span> <span class="id" title="var">x</span> <span class="id" title="var">y'</span> <span class="id" title="var">z</span> <span class="id" title="var">disj01</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span> <span class="id" title="var">ih</span>] /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.empty_iff"><span class="id" title="lemma">VSetFact.empty_iff</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.eq_dec"><span class="id" title="axiom">VSet.E.eq_dec</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>)=&gt; [-&gt;| <span class="id" title="var">neq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">_</span> <span class="id" title="var">s'</span> <span class="id" title="var">q</span> <span class="id" title="var">disj'</span>; <span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sconcat"><span class="id" title="definition">sconcat</span></a> <span class="id" title="var">G</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">G</span> <span class="id" title="var">s0</span> <span class="id" title="var">s1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">disj01</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span>) <span class="id" title="var">disj'</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_sconcat"><span class="id" title="lemma">sweight_sconcat</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.test_add_In"><span class="id" title="lemma">VSetDecide.MSetDecideTestCases.test_add_In</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">neq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">yinp</span> <span class="id" title="var">s'</span> <span class="id" title="var">q</span> <span class="id" title="var">disj'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">ih</span> <span class="id" title="var">yinp</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_end"><span class="id" title="definition">add_end</span></a> <span class="id" title="var">G</span> <span class="id" title="var">q</span> <span class="id" title="var">e</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reroot_spath_aux2"><span class="id" title="lemma">reroot_spath_aux2</span></a> <span class="id" title="var">disj01</span> <span class="id" title="var">disj'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reroot_spath_aux3"><span class="id" title="lemma">reroot_spath_aux3</span></a> <span class="id" title="var">disj01</span> <span class="id" title="var">disj'</span>))=&gt; [<span class="id" title="var">ihc</span> <span class="id" title="var">ihw</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ihc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reroot_spath_aux1"><span class="id" title="lemma">reroot_spath_aux1</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a> <span class="id" title="var">ihw</span> /= <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_add_end"><span class="id" title="lemma">weight_add_end</span></a>;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.reroot_spath" class="idref" href="#WeightedGraph.reroot_spath"><span class="id" title="lemma">reroot_spath</span></a> <a id="G:914" class="idref" href="#G:914"><span class="id" title="binder">G</span></a> <a id="s:915" class="idref" href="#s:915"><span class="id" title="binder">s</span></a> <a id="x:916" class="idref" href="#x:916"><span class="id" title="binder">x</span></a> (<a id="p:917" class="idref" href="#p:917"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:914"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:915"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:916"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:916"><span class="id" title="variable">x</span></a>) <a id="y:918" class="idref" href="#y:918"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:918"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:914"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:917"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="c:919" class="idref" href="#c:919"><span class="id" title="binder">c</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:914"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:915"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:918"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:918"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#c:919"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:917"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">yinp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">rx</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">G</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">disj</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> <span class="id" title="var">s</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>⇒ ? /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a> [<span class="id" title="var">_</span>] /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty_spec"><span class="id" title="axiom">VSet.empty_spec</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reroot_spath_aux"><span class="id" title="definition">reroot_spath_aux</span></a> <span class="id" title="var">G</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> <span class="id" title="var">yinp</span> <span class="id" title="var">_</span> <span class="id" title="var">rx</span> <span class="id" title="var">disj</span>)=&gt; <span class="id" title="var">c</span> <span class="id" title="var">wc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ? /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.union_spec"><span class="id" title="axiom">VSet.union_spec</span></a> [//|/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty_spec"><span class="id" title="axiom">VSet.empty_spec</span></a>[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a> <span class="id" title="var">wc</span> /<span class="id" title="var">rx</span> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.MapSPath" class="idref" href="#WeightedGraph.MapSPath"><span class="id" title="section">MapSPath</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="G1:920" class="idref" href="#G1:920"><span class="id" title="binder">G1</span></a> <a id="G2:921" class="idref" href="#G2:921"><span class="id" title="binder">G2</span></a>} (<a id="on_edge:924" class="idref" href="#on_edge:924"><span class="id" title="binder">on_edge</span></a> : <span class="id" title="keyword">∀</span> <a id="x:922" class="idref" href="#x:922"><span class="id" title="binder">x</span></a> <a id="y:923" class="idref" href="#y:923"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:920"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:922"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:923"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:921"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:922"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:923"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="WeightedGraph.map_path" class="idref" href="#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> {<a id="x:925" class="idref" href="#x:925"><span class="id" title="binder">x</span></a> <a id="y:926" class="idref" href="#y:926"><span class="id" title="binder">y</span></a>} (<a id="p:927" class="idref" href="#p:927"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:925"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:926"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:929"><span class="id" title="variable">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_refl"><span class="id" title="constructor">pathOf_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:932"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y':933"><span class="id" title="variable">y'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:934"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:930"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:931"><span class="id" title="variable">p</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.pathOf_step"><span class="id" title="constructor">pathOf_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y'</span> <span class="id" title="var">z</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#map_path:928"><span class="id" title="definition">map_path</span></a> <span class="id" title="var">p</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.weight_map_path1" class="idref" href="#WeightedGraph.weight_map_path1"><span class="id" title="definition">weight_map_path1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="weight_on_edge:938" class="idref" href="#weight_on_edge:938"><span class="id" title="binder">weight_on_edge</span></a> : <span class="id" title="keyword">∀</span> <a id="x:935" class="idref" href="#x:935"><span class="id" title="binder">x</span></a> <a id="y:936" class="idref" href="#y:936"><span class="id" title="binder">y</span></a> <a id="e:937" class="idref" href="#e:937"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:935"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:936"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:937"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:937"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:939" class="idref" href="#x:939"><span class="id" title="binder">x</span></a> <a id="y:940" class="idref" href="#y:940"><span class="id" title="binder">y</span></a> (<a id="p:941" class="idref" href="#p:941"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:939"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:940"><span class="id" title="variable">y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:941"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:941"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>; <span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">simp</span> <span class="id" title="var">map_path</span>; <span class="id" title="var">cbn</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ??? <span class="id" title="var">e</span> ?; <span class="id" title="tactic">move</span>: (<span class="id" title="var">weight_on_edge</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.weight_map_path2" class="idref" href="#WeightedGraph.weight_map_path2"><span class="id" title="definition">weight_map_path2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="weight_on_edge:945" class="idref" href="#weight_on_edge:945"><span class="id" title="binder">weight_on_edge</span></a> : <span class="id" title="keyword">∀</span> <a id="x:942" class="idref" href="#x:942"><span class="id" title="binder">x</span></a> <a id="y:943" class="idref" href="#y:943"><span class="id" title="binder">y</span></a> <a id="e:944" class="idref" href="#e:944"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:942"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:943"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:944"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:944"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:946" class="idref" href="#x:946"><span class="id" title="binder">x</span></a> <a id="y:947" class="idref" href="#y:947"><span class="id" title="binder">y</span></a> (<a id="p:948" class="idref" href="#p:948"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:946"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:947"><span class="id" title="variable">y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:948"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:948"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>; <span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">simp</span> <span class="id" title="var">map_path</span>; <span class="id" title="var">cbn</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ??? <span class="id" title="var">e</span> ?; <span class="id" title="tactic">move</span>: (<span class="id" title="var">weight_on_edge</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="WeightedGraph.map_spath" class="idref" href="#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> {<a id="s:949" class="idref" href="#s:949"><span class="id" title="binder">s</span></a> <a id="x:950" class="idref" href="#x:950"><span class="id" title="binder">x</span></a> <a id="y:951" class="idref" href="#y:951"><span class="id" title="binder">y</span></a>} (<a id="p:952" class="idref" href="#p:952"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:949"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:950"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:951"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:954"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:955"><span class="id" title="variable">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:959"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:960"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:961"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y':962"><span class="id" title="variable">y'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:963"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#d:956"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:957"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:958"><span class="id" title="variable">p</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">x</span> <span class="id" title="var">y'</span> <span class="id" title="var">z</span> <span class="id" title="var">d</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#map_spath:953"><span class="id" title="definition">map_spath</span></a> <span class="id" title="var">p</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.weight_map_spath1" class="idref" href="#WeightedGraph.weight_map_spath1"><span class="id" title="definition">weight_map_spath1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="weight_on_edge:967" class="idref" href="#weight_on_edge:967"><span class="id" title="binder">weight_on_edge</span></a> : <span class="id" title="keyword">∀</span> <a id="x:964" class="idref" href="#x:964"><span class="id" title="binder">x</span></a> <a id="y:965" class="idref" href="#y:965"><span class="id" title="binder">y</span></a> <a id="e:966" class="idref" href="#e:966"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:964"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:965"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:966"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:966"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:968" class="idref" href="#s:968"><span class="id" title="binder">s</span></a> <a id="x:969" class="idref" href="#x:969"><span class="id" title="binder">x</span></a> <a id="y:970" class="idref" href="#y:970"><span class="id" title="binder">y</span></a> (<a id="p:971" class="idref" href="#p:971"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:968"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:969"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:970"><span class="id" title="variable">y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:971"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:971"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>; <span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">simp</span> <span class="id" title="var">map_spath</span>; <span class="id" title="var">cbn</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ?????? <span class="id" title="var">e</span> ?; <span class="id" title="tactic">move</span>: (<span class="id" title="var">weight_on_edge</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.weight_map_spath2" class="idref" href="#WeightedGraph.weight_map_spath2"><span class="id" title="definition">weight_map_spath2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="weight_on_edge:975" class="idref" href="#weight_on_edge:975"><span class="id" title="binder">weight_on_edge</span></a> : <span class="id" title="keyword">∀</span> <a id="x:972" class="idref" href="#x:972"><span class="id" title="binder">x</span></a> <a id="y:973" class="idref" href="#y:973"><span class="id" title="binder">y</span></a> <a id="e:974" class="idref" href="#e:974"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:972"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:973"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:974"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:974"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:976" class="idref" href="#s:976"><span class="id" title="binder">s</span></a> <a id="x:977" class="idref" href="#x:977"><span class="id" title="binder">x</span></a> <a id="y:978" class="idref" href="#y:978"><span class="id" title="binder">y</span></a> (<a id="p:979" class="idref" href="#p:979"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:976"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:977"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:978"><span class="id" title="variable">y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:979"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:979"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>; <span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">simp</span> <span class="id" title="var">map_spath</span>; <span class="id" title="var">cbn</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ?????? <span class="id" title="var">e</span> ?; <span class="id" title="tactic">move</span>: (<span class="id" title="var">weight_on_edge</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.lsp_map_path2" class="idref" href="#WeightedGraph.lsp_map_path2"><span class="id" title="definition">lsp_map_path2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vsub:980" class="idref" href="#vsub:980"><span class="id" title="binder">vsub</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G2"><span class="id" title="variable">G2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="weight_on_edge:984" class="idref" href="#weight_on_edge:984"><span class="id" title="binder">weight_on_edge</span></a> : <span class="id" title="keyword">∀</span> <a id="x:981" class="idref" href="#x:981"><span class="id" title="binder">x</span></a> <a id="y:982" class="idref" href="#y:982"><span class="id" title="binder">y</span></a> <a id="e:983" class="idref" href="#e:983"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.on_edge"><span class="id" title="variable">on_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:981"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:982"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:983"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:983"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:985" class="idref" href="#x:985"><span class="id" title="binder">x</span></a> <a id="y:986" class="idref" href="#y:986"><span class="id" title="binder">y</span></a>, (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:985"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:986"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:985"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:986"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">E1</span> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">E1</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> [<span class="id" title="var">p</span> <span class="id" title="var">wp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ge_le"><span class="id" title="lemma">Z.ge_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">wp</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_SPath_sub"><span class="id" title="definition">weight_SPath_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_map_spath2"><span class="id" title="definition">weight_map_spath2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.MapSPath"><span class="id" title="section">MapSPath</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_edge" class="idref" href="#WeightedGraph.lsp_edge"><span class="id" title="lemma">lsp_edge</span></a> <a id="G:987" class="idref" href="#G:987"><span class="id" title="binder">G</span></a> `{<a id="H:988" class="idref" href="#H:988"><span class="id" title="binder">invariants</span></a> <a id="H:988" class="idref" href="#H:988"><span class="id" title="binder">G</span></a>} {<a id="x:989" class="idref" href="#x:989"><span class="id" title="binder">x</span></a> <a id="y:990" class="idref" href="#y:990"><span class="id" title="binder">y</span></a>} (<a id="e:991" class="idref" href="#e:991"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:987"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:989"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:990"><span class="id" title="variable">y</span></a>) : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:991"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:987"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:989"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:990"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xin</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <span class="id" title="var">G</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">l</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a> <span class="id" title="var">G</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_one"><span class="id" title="definition">spath_one</span></a> <span class="id" title="var">G</span> <span class="id" title="var">xin</span> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.FirstVertexIn" class="idref" href="#WeightedGraph.FirstVertexIn"><span class="id" title="section">FirstVertexIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G1:992" class="idref" href="#G1:992"><span class="id" title="binder">G1</span></a> <a id="G2:993" class="idref" href="#G2:993"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Equations</span> <a id="WeightedGraph.first_in" class="idref" href="#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> {<a id="s:994" class="idref" href="#s:994"><span class="id" title="binder">s</span></a> <a id="x:995" class="idref" href="#x:995"><span class="id" title="binder">x</span></a> <a id="y:996" class="idref" href="#y:996"><span class="id" title="binder">y</span></a>} (<a id="p:997" class="idref" href="#p:997"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:994"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:995"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:996"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">spath_refl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_refl"><span class="id" title="constructor">_</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:999"><span class="id" title="variable">z</span></a> ⇒ <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spath_step"><span class="id" title="constructor">spath_step</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s1:1003"><span class="id" title="variable">s1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s2:1004"><span class="id" title="variable">s2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x0:1005"><span class="id" title="variable">x0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y0:1006"><span class="id" title="variable">y0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z0:1007"><span class="id" title="variable">z0</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#d:1000"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1001"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#q:1002"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">x0</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G1"><span class="id" title="variable">G1</span></a>) ⇒ {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#first_in:998"><span class="id" title="definition">first_in</span></a> <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.first_in_in" class="idref" href="#WeightedGraph.first_in_in"><span class="id" title="lemma">first_in_in</span></a> {<a id="s:1028" class="idref" href="#s:1028"><span class="id" title="binder">s</span></a> <a id="x:1029" class="idref" href="#x:1029"><span class="id" title="binder">x</span></a> <a id="y:1030" class="idref" href="#y:1030"><span class="id" title="binder">y</span></a>} (<a id="p:1031" class="idref" href="#p:1031"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1028"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1029"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1030"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1030"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1031"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G1"><span class="id" title="variable">G1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ???????? /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.first_in_first" class="idref" href="#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> {<a id="s:1032" class="idref" href="#s:1032"><span class="id" title="binder">s</span></a> <a id="x:1033" class="idref" href="#x:1033"><span class="id" title="binder">x</span></a> <a id="y:1034" class="idref" href="#y:1034"><span class="id" title="binder">y</span></a>} (<a id="p:1035" class="idref" href="#p:1035"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1032"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1033"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1034"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1033"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1035"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1033"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ????????? /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.not_mem_iff"><span class="id" title="lemma">VSetDecide.F.not_mem_iff</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.FirstVertexIn"><span class="id" title="section">FirstVertexIn</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.RelabelOn" class="idref" href="#WeightedGraph.RelabelOn"><span class="id" title="section">RelabelOn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <a id="G1:1036" class="idref" href="#G1:1036"><span class="id" title="binder">G1</span></a> <a id="G2:1037" class="idref" href="#G2:1037"><span class="id" title="binder">G2</span></a> <a id="l:1038" class="idref" href="#l:1038"><span class="id" title="binder">l</span></a> (<a id="Gl:1039" class="idref" href="#Gl:1039"><span class="id" title="binder">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on"><span class="id" title="definition">relabel_on</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1036"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1037"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:1038"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:1040" class="idref" href="#H:1040"><span class="id" title="binder">invariants</span></a> <a id="H:1040" class="idref" href="#H:1040"><span class="id" title="binder">G1</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="preserves_edges:1042" class="idref" href="#preserves_edges:1042"><span class="id" title="binder">preserves_edges</span></a>: <span class="id" title="keyword">∀</span> <a id="e:1041" class="idref" href="#e:1041"><span class="id" title="binder">e</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1041"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1041"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.from1" class="idref" href="#WeightedGraph.from1"><span class="id" title="definition">from1</span></a> [<a id="x:1043" class="idref" href="#x:1043"><span class="id" title="binder">x</span></a> <a id="y:1044" class="idref" href="#y:1044"><span class="id" title="binder">y</span></a>] : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1043"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1044"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1043"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1044"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a>; <span class="id" title="tactic">move</span>: <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_spec"><span class="id" title="lemma">EdgeSet.mem_spec</span></a> → //=).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Gl</span>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on"><span class="id" title="definition">relabel_on</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec1"><span class="id" title="lemma">edge_map_spec1</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.preserves_edges"><span class="id" title="variable">preserves_edges</span></a>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.from2" class="idref" href="#WeightedGraph.from2"><span class="id" title="definition">from2</span></a> [<a id="x:1045" class="idref" href="#x:1045"><span class="id" title="binder">x</span></a> <a id="y:1046" class="idref" href="#y:1046"><span class="id" title="binder">y</span></a>] : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1045"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1046"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1045"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1046"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_spec"><span class="id" title="lemma">EdgeSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from1"><span class="id" title="definition">from1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">E</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">).π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a> <span class="id" title="var">E</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Gl</span>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on"><span class="id" title="definition">relabel_on</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec1"><span class="id" title="lemma">edge_map_spec1</span></a>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="HGl:1047" class="idref" href="#HGl:1047"><span class="id" title="binder">HGl</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:1048" class="idref" href="#H0:1048"><span class="id" title="binder">invariants</span></a> <a id="H0:1048" class="idref" href="#H0:1048"><span class="id" title="binder">G2</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H1:1049" class="idref" href="#H1:1049"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H1:1049" class="idref" href="#H1:1049"><span class="id" title="binder">G2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="embed:1052" class="idref" href="#embed:1052"><span class="id" title="binder">embed</span></a> : <span class="id" title="keyword">∀</span> <a id="v1:1050" class="idref" href="#v1:1050"><span class="id" title="binder">v1</span></a> <a id="v2:1051" class="idref" href="#v2:1051"><span class="id" title="binder">v2</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v1:1050"><span class="id" title="variable">v1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v2:1051"><span class="id" title="variable">v2</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v1:1050"><span class="id" title="variable">v1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v2:1051"><span class="id" title="variable">v2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v1:1050"><span class="id" title="variable">v1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v2:1051"><span class="id" title="variable">v2</span></a>)%<span class="id" title="var">nbar</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.relabel_on_lsp_G1" class="idref" href="#WeightedGraph.relabel_on_lsp_G1"><span class="id" title="lemma">relabel_on_lsp_G1</span></a> {<a id="x:1053" class="idref" href="#x:1053"><span class="id" title="binder">x</span></a> <a id="y:1054" class="idref" href="#y:1054"><span class="id" title="binder">y</span></a> <a id="w:1055" class="idref" href="#w:1055"><span class="id" title="binder">w</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#w:1055"><span class="id" title="variable">w</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1053"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1054"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#w:1055"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1053"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1054"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HGl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Elsp</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [<span class="id" title="var">n</span> /=|]; <span class="id" title="var">last</span> <span class="id" title="tactic">move</span>⇒ [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">h</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp"><span class="id" title="lemma">correct_labelling_lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">Elsp</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.HGl"><span class="id" title="variable">HGl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">h</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.relabel_on_lsp_G2" class="idref" href="#WeightedGraph.relabel_on_lsp_G2"><span class="id" title="lemma">relabel_on_lsp_G2</span></a> {<a id="x:1056" class="idref" href="#x:1056"><span class="id" title="binder">x</span></a> <a id="y:1057" class="idref" href="#y:1057"><span class="id" title="binder">y</span></a> <a id="w:1058" class="idref" href="#w:1058"><span class="id" title="binder">w</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1056"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1057"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#w:1058"><span class="id" title="variable">w</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1056"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1057"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#w:1058"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1056"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1057"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">HGl</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hx</span> <span class="id" title="var">hy</span> <span class="id" title="var">le1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_trans"><span class="id" title="instance">le_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">le1</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.embed"><span class="id" title="variable">embed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hx</span> <span class="id" title="var">hy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on_lsp_G1"><span class="id" title="lemma">relabel_on_lsp_G1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_from1" class="idref" href="#WeightedGraph.weight_from1"><span class="id" title="lemma">weight_from1</span></a> [<a id="x:1059" class="idref" href="#x:1059"><span class="id" title="binder">x</span></a> <a id="y:1060" class="idref" href="#y:1060"><span class="id" title="binder">y</span></a>] (<a id="e:1061" class="idref" href="#e:1061"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1059"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1060"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from1"><span class="id" title="definition">from1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1061"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1061"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">HGl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.le_ge"><span class="id" title="lemma">Z.le_ge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on_lsp_G1"><span class="id" title="lemma">relabel_on_lsp_G1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_edge"><span class="id" title="lemma">lsp_edge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.weight_from2" class="idref" href="#WeightedGraph.weight_from2"><span class="id" title="lemma">weight_from2</span></a> [<a id="x:1062" class="idref" href="#x:1062"><span class="id" title="binder">x</span></a> <a id="y:1063" class="idref" href="#y:1063"><span class="id" title="binder">y</span></a>] (<a id="e:1064" class="idref" href="#e:1064"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1062"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1063"><span class="id" title="variable">y</span></a>) : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from2"><span class="id" title="definition">from2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1064"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">).π1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1064"><span class="id" title="variable">e</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">HGl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_spec"><span class="id" title="lemma">EdgeSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_from1"><span class="id" title="lemma">weight_from1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">E</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.relabel_on_invariants" class="idref" href="#WeightedGraph.relabel_on_invariants"><span class="id" title="lemma">relabel_on_invariants</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">HGl</span> <span class="id" title="var">preserves_edges</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec2"><span class="id" title="lemma">edge_map_spec2</span></a> [<span class="id" title="var">e0</span> [-&gt;]] /(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a>)[??].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a>; <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_vertex"><span class="id" title="method">source_vertex</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> /(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_pathOf"><span class="id" title="method">source_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">x</span>) [[<span class="id" title="var">p</span> [<span class="id" title="var">wp</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from2"><span class="id" title="definition">from2</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ge_le"><span class="id" title="lemma">Z.ge_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_map_path2"><span class="id" title="definition">weight_map_path2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_from2"><span class="id" title="lemma">weight_from2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.sweight_relabel_on_G1" class="idref" href="#WeightedGraph.sweight_relabel_on_G1"><span class="id" title="lemma">sweight_relabel_on_G1</span></a> {<a id="s:1065" class="idref" href="#s:1065"><span class="id" title="binder">s</span></a> <a id="x:1066" class="idref" href="#x:1066"><span class="id" title="binder">x</span></a> <a id="y:1067" class="idref" href="#y:1067"><span class="id" title="binder">y</span></a>} (<a id="p:1068" class="idref" href="#p:1068"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1065"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1066"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1067"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1067"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:1069" class="idref" href="#n:1069"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1066"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1068"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1069"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1068"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1069"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1068"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1067"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">HGl</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">yin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">move</span>: <span class="id" title="var">e</span> ⇒ [<span class="id" title="var">w</span> /= <span class="id" title="var">h</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: {-}(<span class="id" title="var">h</span>) ⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec2"><span class="id" title="lemma">edge_map_spec2</span></a> [<span class="id" title="var">e0</span> [+ <span class="id" title="var">e0G2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a>; <span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 0; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ [=] ???; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_spec"><span class="id" title="lemma">EdgeSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x0</span> ?]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">E</span>)=&gt; [] /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> → ? /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 0; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">IHp</span> <span class="id" title="var">yin</span>)=&gt; [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>⇒ [=] &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">lc</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span> <span class="id" title="var">w0</span>] <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">lbw</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_edge"><span class="id" title="lemma">lsp_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">w0</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">e0G2</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">IHp</span> <span class="id" title="var">yin</span>) <span class="id" title="var">lc</span>⇒ [<span class="id" title="var">w1</span> []] → /= <span class="id" title="var">wpb</span> + [=] ???; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: {<span class="id" title="var">lbw</span>}(<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">lbw</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_refl"><span class="id" title="instance">le_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">w1</span>)))=&gt; /= <span class="id" title="var">le1</span> <span class="id" title="var">le2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: {<span class="id" title="var">le1</span> <span class="id" title="var">le2</span>}(<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_trans"><span class="id" title="instance">le_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">le1</span> <span class="id" title="var">le2</span>)=&gt; <span class="id" title="var">le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Ex</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">s</span> <span class="id" title="var">_</span>)=&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> 0; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Ex</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a>⇒ <span class="id" title="var">sin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on_lsp_G2"><span class="id" title="lemma">relabel_on_lsp_G2</span></a> (<span class="id" title="var">sin</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_in"><span class="id" title="lemma">first_in_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <span class="id" title="var">p</span> <span class="id" title="var">yin</span>) <span class="id" title="var">le</span>)=&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">wpb</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">le</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">E2</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [<span class="id" title="var">n</span> /=|]; <span class="id" title="var">last</span> <span class="id" title="tactic">move</span>⇒ [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">le</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">wpb</span> <span class="id" title="var">le</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.sweight_relabel_on_G2" class="idref" href="#WeightedGraph.sweight_relabel_on_G2"><span class="id" title="lemma">sweight_relabel_on_G2</span></a> {<a id="s:1070" class="idref" href="#s:1070"><span class="id" title="binder">s</span></a> <a id="x:1071" class="idref" href="#x:1071"><span class="id" title="binder">x</span></a> <a id="y:1072" class="idref" href="#y:1072"><span class="id" title="binder">y</span></a>} (<a id="p:1073" class="idref" href="#p:1073"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1070"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1071"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1072"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Disjoint"><span class="id" title="definition">Disjoint</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1073"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1073"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1071"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1072"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>⇒ /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">disj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_trans"><span class="id" title="instance">le_trans</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> ?<span class="id" title="var">y</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">e</span>⇒ [<span class="id" title="var">w</span>]. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Gl</span>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on"><span class="id" title="definition">relabel_on</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edge_map_spec2"><span class="id" title="lemma">edge_map_spec2</span></a> [[[<span class="id" title="var">s</span> <span class="id" title="var">w'</span>] <span class="id" title="var">t</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_map"><span class="id" title="definition">relabel_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E0</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>: <span class="id" title="var">E0</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.mem_spec"><span class="id" title="lemma">EdgeSet.mem_spec</span></a> /(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">_</span>) [<span class="id" title="var">sin</span> ?] [] [=] ???.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">apply</span>: (<span class="id" title="var">disj</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a>; <span class="id" title="tactic">split</span>⇒ //; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_1"><span class="id" title="lemma">VSetFact.add_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ [] [=] ??? <span class="id" title="var">e2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_edge"><span class="id" title="lemma">lsp_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">w'</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">e2</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">v</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a> [??]; <span class="id" title="tactic">apply</span>: (<span class="id" title="var">disj</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a>; <span class="id" title="tactic">split</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.add_2"><span class="id" title="lemma">VSetFact.add_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.acyclic_relabel_on" class="idref" href="#WeightedGraph.acyclic_relabel_on"><span class="id" title="lemma">acyclic_relabel_on</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_sloop"><span class="id" title="definition">acyclic_no_sloop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">HGl</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">wp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.choose"><span class="id" title="axiom">VSet.choose</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter"><span class="id" title="axiom">VSet.inter</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.snodes"><span class="id" title="definition">snodes</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>))) ⇒ [<span class="id" title="var">y</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">E</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.choose_spec1"><span class="id" title="axiom">VSet.choose_spec1</span></a>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.inter_spec"><span class="id" title="axiom">VSet.inter_spec</span></a> [<span class="id" title="var">yinp</span> <span class="id" title="var">yin1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reroot_spath"><span class="id" title="lemma">reroot_spath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> <span class="id" title="var">yinp</span>)=&gt; [<span class="id" title="var">q</span> <span class="id" title="var">wq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_relabel_on_G1"><span class="id" title="lemma">sweight_relabel_on_G1</span></a> <span class="id" title="var">q</span> <span class="id" title="var">yin1</span>)=&gt; [? []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> // <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a>⇒ [=] &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">wq</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">wp</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">E</span> <span class="id" title="var">wp</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.choose_spec2"><span class="id" title="axiom">VSet.choose_spec2</span></a> /(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_relabel_on_G2"><span class="id" title="lemma">sweight_relabel_on_G2</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Derive</span> <span class="id" title="var">Subterm</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Wellfounded.Transitive_Closure.html#wf_clos_trans"><span class="id" title="lemma">Transitive_Closure.wf_clos_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [[<span class="id" title="var">s0</span> [<span class="id" title="var">x0</span> <span class="id" title="var">y0</span>/=]] <span class="id" title="var">p0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>⇒ -[[<span class="id" title="var">s1</span> [<span class="id" title="var">x1</span> <span class="id" title="var">y1</span>/=]] <span class="id" title="var">p1</span>] <span class="id" title="var">h</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>⇒ -[[<span class="id" title="var">s1</span> [<span class="id" title="var">x1</span> <span class="id" title="var">y1</span>/=]] <span class="id" title="var">p1</span>] <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">IHp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">sig0</span> := <span class="id" title="constructor">sigmaI</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">sig1</span> := <span class="id" title="constructor">sigmaI</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → // : <span class="id" title="var">sig0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sig1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {}/<span class="id" title="var">sig0</span> {}/<span class="id" title="var">sig1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sig_pack"><span class="id" title="definition">SPath_sig_pack</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="p:1088" class="idref" href="#p:1088"><span class="id" title="binder">p</span></a> : (@<span class="id" title="record">sigma</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="s':1082" class="idref" href="#s':1082"><span class="id" title="binder">s'</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="record">sigma</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:1083" class="idref" href="#x:1083"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="record">sigma</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="y:1084" class="idref" href="#y:1084"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="record">sigma</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="z:1085" class="idref" href="#z:1085"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="record">sigma</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1075"><span class="id" title="variable">x</span></a> <span class="id" title="var">s0</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':1074"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d:1086" class="idref" href="#d:1086"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.DisjointAdd"><span class="id" title="definition">DisjointAdd</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1075"><span class="id" title="variable">x</span></a> <span class="id" title="var">s0</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#s':1074"><span class="id" title="variable">s'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="record">sigma</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <span class="id" title="var">G</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1075"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1076"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="e:1087" class="idref" href="#e:1087"><span class="id" title="binder">e</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <span class="id" title="var">G</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1075"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1076"><span class="id" title="variable">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <span class="id" title="var">G</span> <span class="id" title="var">s0</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1076"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1077"><span class="id" title="variable">z</span></a>))))))) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">sigmaI</span> (<span class="id" title="keyword">fun</span> <a id="x:1089" class="idref" href="#x:1089"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <span class="id" title="var">G</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1081"><span class="id" title="variable">x</span></a>) (<span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1081"><span class="id" title="variable">x</span></a>)) (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1081"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="projection">pr1</span> := <span class="id" title="var">s0</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">pr2</span> := <span class="id" title="constructor">sigmaI</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1080"><span class="id" title="variable">p</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1080"><span class="id" title="variable">p</span></a>)))) |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1080"><span class="id" title="variable">p</span></a>))))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.spathG1_lsp_Gl" class="idref" href="#WeightedGraph.spathG1_lsp_Gl"><span class="id" title="lemma">spathG1_lsp_Gl</span></a> <a id="x:1090" class="idref" href="#x:1090"><span class="id" title="binder">x</span></a> <a id="y:1091" class="idref" href="#y:1091"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1090"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1091"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1090"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1091"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1090"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1091"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">preserves_edges</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">vsub</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">q</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath_sub"><span class="id" title="definition">SPath_sub</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <span class="id" title="var">vsub</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_spath"><span class="id" title="definition">map_spath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from1"><span class="id" title="definition">from1</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_le"><span class="id" title="lemma">lsp0_spec_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a>) <span class="id" title="var">vsub</span> @<span class="id" title="var">q</span>⇒ <span class="id" title="var">V0</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>⇒ <span class="id" title="var">s1</span> <span class="id" title="var">vsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">map_spath</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">map_spath</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">vsub'</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">vsub'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">IHp</span> <span class="id" title="var">_</span> <span class="id" title="var">vsub'</span>) ⇒ /= -&gt;; <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_Gl_upperbound_G1" class="idref" href="#WeightedGraph.lsp_Gl_upperbound_G1"><span class="id" title="lemma">lsp_Gl_upperbound_G1</span></a>  <a id="x:1092" class="idref" href="#x:1092"><span class="id" title="binder">x</span></a> <a id="y:1093" class="idref" href="#y:1093"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1092"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1093"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:1094" class="idref" href="#n:1094"><span class="id" title="binder">n</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1092"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1093"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1094"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1094"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1092"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1093"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">HGl</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">xin</span> <span class="id" title="var">yin</span> <span class="id" title="var">n</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> [<span class="id" title="var">p</span> &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">bound</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight_relabel_on_G1"><span class="id" title="lemma">sweight_relabel_on_G1</span></a> <span class="id" title="var">p</span> <span class="id" title="var">yin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">bound</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> // <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> ⇒ -[?] [[=]] &lt;- //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.lsp_Gl_between_G1" class="idref" href="#WeightedGraph.lsp_Gl_between_G1"><span class="id" title="lemma">lsp_Gl_between_G1</span></a> <a id="x:1095" class="idref" href="#x:1095"><span class="id" title="binder">x</span></a> <a id="y:1096" class="idref" href="#y:1096"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G2"><span class="id" title="variable">G2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.PathOf"><span class="id" title="inductive">PathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1095"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1096"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1095"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1096"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1095"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1096"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1095"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1096"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">HGl</span> <span class="id" title="var">embed</span> <span class="id" title="var">preserves_edges</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">vsub</span> <span class="id" title="var">p</span> <span class="id" title="var">xin</span> <span class="id" title="var">yin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">q</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.simplify2'"><span class="id" title="definition">simplify2'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">lb</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.spathG1_lsp_Gl"><span class="id" title="lemma">spathG1_lsp_Gl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">vsub</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">lb</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">Elsp</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [<span class="id" title="var">w</span>|]; <span class="id" title="var">last</span> <span class="id" title="tactic">move</span>⇒ [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">ub</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_Gl_upperbound_G1"><span class="id" title="lemma">lsp_Gl_upperbound_G1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xin</span> <span class="id" title="var">yin</span> <span class="id" title="var">_</span> <span class="id" title="var">Elsp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /= ?; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelOn"><span class="id" title="section">RelabelOn</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="WeightedGraph.subgraph" class="idref" href="#WeightedGraph.subgraph"><span class="id" title="record">subgraph</span></a> (<a id="G1:1097" class="idref" href="#G1:1097"><span class="id" title="binder">G1</span></a> <a id="G2:1098" class="idref" href="#G2:1098"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) : <span class="id" title="keyword">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.vertices_sub" class="idref" href="#WeightedGraph.vertices_sub"><span class="id" title="projection">vertices_sub</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Subset"><span class="id" title="definition">VSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1097"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1098"><span class="id" title="variable">G2</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.edges_sub" class="idref" href="#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Subset"><span class="id" title="definition">EdgeSet.Subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1097"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1098"><span class="id" title="variable">G2</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.same_src" class="idref" href="#WeightedGraph.same_src"><span class="id" title="projection">same_src</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1097"><span class="id" title="variable">G1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1098"><span class="id" title="variable">G2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.subgraph_on_edge" class="idref" href="#WeightedGraph.subgraph_on_edge"><span class="id" title="definition">subgraph_on_edge</span></a> {<a id="G1:1103" class="idref" href="#G1:1103"><span class="id" title="binder">G1</span></a> <a id="G2:1104" class="idref" href="#G2:1104"><span class="id" title="binder">G2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph"><span class="id" title="record">subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1103"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1104"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:1105" class="idref" href="#x:1105"><span class="id" title="binder">x</span></a> <a id="y:1106" class="idref" href="#y:1106"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1103"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1105"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1106"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1104"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1105"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1106"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">embed</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">w</span> <span class="id" title="var">ine</span>]; <span class="id" title="tactic">∃</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">embed</span> <span class="id" title="var">_</span> <span class="id" title="var">ine</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.subgraph_acyclic" class="idref" href="#WeightedGraph.subgraph_acyclic"><span class="id" title="lemma">subgraph_acyclic</span></a> <a id="G1:1107" class="idref" href="#G1:1107"><span class="id" title="binder">G1</span></a> <a id="G2:1108" class="idref" href="#G2:1108"><span class="id" title="binder">G2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph"><span class="id" title="record">subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1107"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1108"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1108"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1107"><span class="id" title="variable">G1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">sub</span> <span class="id" title="var">acG2</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span>: <span class="id" title="var">acG2</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.map_path"><span class="id" title="definition">map_path</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph_on_edge"><span class="id" title="definition">subgraph_on_edge</span></a> <span class="id" title="var">sub</span>) <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.ge_le"><span class="id" title="lemma">Z.ge_le</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_map_path2"><span class="id" title="definition">weight_map_path2</span></a>⇒ ?? [??] /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="WeightedGraph.full_subgraph" class="idref" href="#WeightedGraph.full_subgraph"><span class="id" title="record">full_subgraph</span></a> (<a id="G1:1109" class="idref" href="#G1:1109"><span class="id" title="binder">G1</span></a> <a id="G2:1110" class="idref" href="#G2:1110"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) : <span class="id" title="keyword">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.is_subgraph" class="idref" href="#WeightedGraph.is_subgraph"><span class="id" title="projection">is_subgraph</span></a> :&gt; <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph"><span class="id" title="record">subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1109"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1110"><span class="id" title="variable">G2</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="WeightedGraph.lsp_dominate" class="idref" href="#WeightedGraph.lsp_dominate"><span class="id" title="projection">lsp_dominate</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="v1:1113" class="idref" href="#v1:1113"><span class="id" title="binder">v1</span></a> <a id="v2:1114" class="idref" href="#v2:1114"><span class="id" title="binder">v2</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v1:1113"><span class="id" title="variable">v1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1109"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v2:1114"><span class="id" title="variable">v2</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1109"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1110"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v1:1113"><span class="id" title="variable">v1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v2:1114"><span class="id" title="variable">v2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1109"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v1:1113"><span class="id" title="variable">v1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v2:1114"><span class="id" title="variable">v2</span></a>)%<span class="id" title="var">nbar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Unset</span> <span class="id" title="var">Program</span> <span class="id" title="var">Cases</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">program</span>, <span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="WeightedGraph.reflectEq_vertices" class="idref" href="#WeightedGraph.reflectEq_vertices"><span class="id" title="instance">reflectEq_vertices</span></a> : <a class="idref" href="MetaCoq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.t"><span class="id" title="axiom">VSet.E.t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.ReflectEq.html#Build_ReflectEq"><span class="id" title="constructor">Build_ReflectEq</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.t"><span class="id" title="axiom">VSet.E.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:1116" class="idref" href="#x:1116"><span class="id" title="binder">x</span></a> <a id="y:1117" class="idref" href="#y:1117"><span class="id" title="binder">y</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.compare"><span class="id" title="axiom">VSet.E.compare</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1116"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1117"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.compare_spec"><span class="id" title="axiom">VSet.E.compare_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) ⇒ [-&gt;||].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.ReflectEq.html#reflectP"><span class="id" title="constructor">reflectP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">p</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.ReflectEq.html#reflectF"><span class="id" title="constructor">reflectF</span></a>⇒ <span class="id" title="var">eq</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">p</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">have</span> := (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#irreflexivity"><span class="id" title="definition">irreflexivity</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#StrictOrder_Irreflexive"><span class="id" title="method">StrictOrder_Irreflexive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.E.lt_strorder"><span class="id" title="axiom">VSet.E.lt_strorder</span></a>) <span class="id" title="var">y</span>)=&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">program</span>, <span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="WeightedGraph.reflectEq_Z" class="idref" href="#WeightedGraph.reflectEq_Z"><span class="id" title="instance">reflectEq_Z</span></a> : <a class="idref" href="MetaCoq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.ReflectEq.html#Build_ReflectEq"><span class="id" title="constructor">Build_ReflectEq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb"><span class="id" title="definition">Z.eqb</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#reflect_reflectProp"><span class="id" title="lemma">reflect_reflectProp</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_spec"><span class="id" title="lemma">Z.eqb_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="WeightedGraph.reflectEq_nbar" class="idref" href="#WeightedGraph.reflectEq_nbar"><span class="id" title="instance">reflectEq_nbar</span></a>: <a class="idref" href="MetaCoq.Utils.ReflectEq.html#ReflectEq"><span class="id" title="class">ReflectEq</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.t"><span class="id" title="definition">Nbar.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.Utils.ReflectEq.html#reflect_option"><span class="id" title="instance">reflect_option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reflectEq_Z"><span class="id" title="instance">reflectEq_Z</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.IsFullSubgraph" class="idref" href="#WeightedGraph.IsFullSubgraph"><span class="id" title="module">IsFullSubgraph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.IsFullSubgraph.Border" class="idref" href="#WeightedGraph.IsFullSubgraph.Border"><span class="id" title="section">Border</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G1:1118" class="idref" href="#G1:1118"><span class="id" title="binder">G1</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) (<a id="ext:1119" class="idref" href="#ext:1119"><span class="id" title="binder">ext</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.t"><span class="id" title="definition">EdgeSet.t</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.IsFullSubgraph.add_from_orig" class="idref" href="#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a> <a id="v:1120" class="idref" href="#v:1120"><span class="id" title="binder">v</span></a> <a id="s:1121" class="idref" href="#s:1121"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1120"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add"><span class="id" title="axiom">VSet.add</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1120"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1121"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1121"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.IsFullSubgraph.fold_fun" class="idref" href="#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a> <a id="e:1122" class="idref" href="#e:1122"><span class="id" title="binder">e</span></a> <a id="s:1123" class="idref" href="#s:1123"><span class="id" title="binder">s</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#e:1122"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#e:1122"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1123"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.IsFullSubgraph.border_set" class="idref" href="#WeightedGraph.IsFullSubgraph.border_set"><span class="id" title="definition">border_set</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.fold"><span class="id" title="definition">EdgeSet.fold</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.ext"><span class="id" title="variable">ext</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty"><span class="id" title="axiom">VSet.empty</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.EdgeSet_fold_spec_right2" class="idref" href="#WeightedGraph.IsFullSubgraph.EdgeSet_fold_spec_right2"><span class="id" title="lemma">EdgeSet_fold_spec_right2</span></a> (<a id="s:1124" class="idref" href="#s:1124"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.t"><span class="id" title="definition">EdgeSet.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:1125" class="idref" href="#i:1125"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a>) (<a id="f:1126" class="idref" href="#f:1126"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elt"><span class="id" title="definition">EdgeSet.elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.t"><span class="id" title="axiom">VSet.t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.SetoidList.html#transpose"><span class="id" title="definition">transpose</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:1126"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#f:1126"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.fold"><span class="id" title="definition">EdgeSet.fold</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:1126"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1124"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#i:1125"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#f:1126"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#i:1125"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elements"><span class="id" title="definition">EdgeSet.elements</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1124"><span class="id" title="variable">s</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">trf</span> <span class="id" title="var">prpf</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.fold_spec"><span class="id" title="lemma">EdgeSet.fold_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: {<span class="id" title="var">s</span>}(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elements"><span class="id" title="definition">EdgeSet.elements</span></a> <span class="id" title="var">s</span>)=&gt; // <span class="id" title="var">x</span> <span class="id" title="var">l</span> /= &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> <span class="id" title="var">i</span>⇒ //= <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">ih</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="keyword">∀</span> <a id="l:1130" class="idref" href="#l:1130"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="a:1131" class="idref" href="#a:1131"><span class="id" title="binder">a</span></a> <a id="e:1132" class="idref" href="#e:1132"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1129"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#a:1128"><span class="id" title="variable">a</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#l:1127"><span class="id" title="variable">l</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">ih</span> <span class="id" title="var">trf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">prpf</span>; <span class="id" title="tactic">elim</span>⇒ //= ?? <span class="id" title="var">ih</span> ?? → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.add_from_orig_spec" class="idref" href="#WeightedGraph.IsFullSubgraph.add_from_orig_spec"><span class="id" title="lemma">add_from_orig_spec</span></a> <a id="x:1133" class="idref" href="#x:1133"><span class="id" title="binder">x</span></a> <a id="v:1134" class="idref" href="#v:1134"><span class="id" title="binder">v</span></a> <a id="s:1135" class="idref" href="#s:1135"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1133"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1134"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1135"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:1133"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1134"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1133"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.G1"><span class="id" title="variable">G1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1133"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1135"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">E</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> ?; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.add_spec"><span class="id" title="axiom">VSet.add_spec</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">E</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.VSetFact.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.fold_fun_spec" class="idref" href="#WeightedGraph.IsFullSubgraph.fold_fun_spec"><span class="id" title="lemma">fold_fun_spec</span></a> <a id="x:1136" class="idref" href="#x:1136"><span class="id" title="binder">x</span></a> <a id="e:1137" class="idref" href="#e:1137"><span class="id" title="binder">e</span></a> <a id="s:1138" class="idref" href="#s:1138"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1136"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1137"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1138"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:1136"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1137"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1136"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1137"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1136"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.G1"><span class="id" title="variable">G1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1136"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1138"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig_spec"><span class="id" title="lemma">add_from_orig_spec</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ [[??]|[[??]|?]]; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ [[[?|?] ?]| ?]; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.Equal"><span class="id" title="definition">VSet.Equal</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ? [[??]?] → ??; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [] [] → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.border_set_spec" class="idref" href="#WeightedGraph.IsFullSubgraph.border_set_spec"><span class="id" title="lemma">border_set_spec</span></a> <a id="x:1139" class="idref" href="#x:1139"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1139"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set"><span class="id" title="definition">border_set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e:1140" class="idref" href="#e:1140"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1140"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.ext"><span class="id" title="variable">ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:1139"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1140"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1139"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1140"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1139"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.G1"><span class="id" title="variable">G1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> &lt;- :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e:1141" class="idref" href="#e:1141"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1141"><span class="id" title="variable">e</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elements"><span class="id" title="definition">EdgeSet.elements</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.ext"><span class="id" title="variable">ext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1141"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1141"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.G1"><span class="id" title="variable">G1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e:1142" class="idref" href="#e:1142"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1142"><span class="id" title="variable">e</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.ext"><span class="id" title="variable">ext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1142"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#e:1142"><span class="id" title="variable">e</span></a>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..t'"><span class="id" title="notation">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border.G1"><span class="id" title="variable">G1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">split</span>; <span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">e</span> [? ?]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">split</span>⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elements_spec1"><span class="id" title="lemma">EdgeSet.elements_spec1</span></a>/<a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.MCList.html#InA_In_eq"><span class="id" title="lemma">InA_In_eq</span></a>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elements_spec1"><span class="id" title="lemma">EdgeSet.elements_spec1</span></a>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set"><span class="id" title="definition">border_set</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.EdgeSet_fold_spec_right2"><span class="id" title="lemma">EdgeSet_fold_spec_right2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="tactic">move</span>⇒ [[<span class="id" title="var">xs</span> ?] <span class="id" title="var">xt</span>] [[<span class="id" title="var">ys</span> ?] <span class="id" title="var">yt</span>] ?; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun"><span class="id" title="definition">fold_fun</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.add_from_orig"><span class="id" title="definition">add_from_orig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">xt</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">ys</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">yt</span> <span class="id" title="var">_</span>)=&gt; [] [] [] []; <span class="id" title="tactic">try</span> <span class="id" title="var">sets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.elements"><span class="id" title="definition">EdgeSet.elements</span></a> <span class="id" title="var">_</span>)=&gt; [| <span class="id" title="var">e</span> <span class="id" title="var">es</span> <span class="id" title="var">ih</span>] /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.empty_spec"><span class="id" title="axiom">VSet.empty_spec</span></a> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [? [[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.fold_fun_spec"><span class="id" title="lemma">fold_fun_spec</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>⇒ [?|]; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<span class="id" title="var">ih</span> [<span class="id" title="var">e0</span> [? ?]]; <span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">split</span>=&gt;//; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>⇒ [<span class="id" title="var">e0</span> [[-&gt;|?] ?]]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>/ <span class="id" title="var">ih</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">split</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.Border"><span class="id" title="section">Border</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.IsFullSubgraph.LspBoundExtendBorder" class="idref" href="#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder"><span class="id" title="section">LspBoundExtendBorder</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G1:1143" class="idref" href="#G1:1143"><span class="id" title="binder">G1</span></a> <a id="G2:1144" class="idref" href="#G2:1144"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) `{<a id="H:1145" class="idref" href="#H:1145"><span class="id" title="binder">invariants</span></a> <a id="H:1145" class="idref" href="#H:1145"><span class="id" title="binder">G1</span></a>} (<a id="ext:1146" class="idref" href="#ext:1146"><span class="id" title="binder">ext</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.diff"><span class="id" title="definition">EdgeSet.diff</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1144"><span class="id" title="variable">G2</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1143"><span class="id" title="variable">G1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs" class="idref" href="#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a> := (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set"><span class="id" title="definition">border_set</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.ext"><span class="id" title="variable">ext</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.spath_on_border" class="idref" href="#WeightedGraph.IsFullSubgraph.spath_on_border"><span class="id" title="lemma">spath_on_border</span></a> <a id="s:1147" class="idref" href="#s:1147"><span class="id" title="binder">s</span></a> <a id="x:1148" class="idref" href="#x:1148"><span class="id" title="binder">x</span></a> <a id="y:1149" class="idref" href="#y:1149"><span class="id" title="binder">y</span></a> <a id="z:1150" class="idref" href="#z:1150"><span class="id" title="binder">z</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="eo:1151" class="idref" href="#eo:1151"><span class="id" title="binder">eo</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeOf"><span class="id" title="definition">EdgeOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1148"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1149"><span class="id" title="variable">y</span></a>) (<a id="p:1152" class="idref" href="#p:1152"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1147"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1149"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1150"><span class="id" title="variable">z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1148"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1150"><span class="id" title="variable">z</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.In"><span class="id" title="definition">EdgeSet.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#x:1148"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#eo:1151"><span class="id" title="variable">eo</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1149"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1148"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1152"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hx</span> <span class="id" title="var">hz</span> <span class="id" title="var">heo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">he</span> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.In"><span class="id" title="definition">EdgeSet.In</span></a> <span class="id" title="var">e</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.ext"><span class="id" title="variable">ext</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.diff_3"><span class="id" title="lemma">EdgeSetFact.diff_3</span></a>⇒ //; <span class="id" title="tactic">exact</span> (<span class="id" title="var">eo</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set_spec"><span class="id" title="lemma">border_set_spec</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>⇒ //; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: {<span class="id" title="var">hx</span>}<span class="id" title="var">x</span> {<span class="id" title="var">eo</span>}(<span class="id" title="var">eo</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>) <span class="id" title="var">hz</span> {<span class="id" title="var">heo</span>}@<span class="id" title="var">e</span> <span class="id" title="var">he</span>; <span class="id" title="tactic">clear</span> -<span class="id" title="var">p</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_funelim</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">p</span>)=&gt; [????? <span class="id" title="var">e</span> ?|???????? /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> ???? <span class="id" title="var">e</span> ?|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set_spec"><span class="id" title="lemma">border_set_spec</span></a>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ ?????? <span class="id" title="var">e</span> ? <span class="id" title="var">ih</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.VSetFact.not_mem_iff"><span class="id" title="lemma">VSetFact.not_mem_iff</span></a> <span class="id" title="var">h</span> ? ? ???.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">ih</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.diff_3"><span class="id" title="lemma">EdgeSetFact.diff_3</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> [+ <span class="id" title="var">_</span>] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.sweight_bound0" class="idref" href="#WeightedGraph.IsFullSubgraph.sweight_bound0"><span class="id" title="lemma">sweight_bound0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:1153" class="idref" href="#H0:1153"><span class="id" title="binder">invariants</span></a> <a id="H0:1153" class="idref" href="#H0:1153"><span class="id" title="binder">G2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:1154" class="idref" href="#H1:1154"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H1:1154" class="idref" href="#H1:1154"><span class="id" title="binder">G1</span></a>, <a id="H2:1155" class="idref" href="#H2:1155"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H2:1155" class="idref" href="#H2:1155"><span class="id" title="binder">G2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:1158" class="idref" href="#h:1158"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="x:1156" class="idref" href="#x:1156"><span class="id" title="binder">x</span></a> <a id="y:1157" class="idref" href="#y:1157"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1156"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1157"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1156"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1157"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1156"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1157"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="s:1159" class="idref" href="#s:1159"><span class="id" title="binder">s</span></a> <a id="x:1160" class="idref" href="#x:1160"><span class="id" title="binder">x</span></a> <a id="y:1161" class="idref" href="#y:1161"><span class="id" title="binder">y</span></a> (<a id="p:1162" class="idref" href="#p:1162"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.SPath"><span class="id" title="inductive">SPath</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#s:1159"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1160"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1161"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1161"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.sweight"><span class="id" title="definition">sweight</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1162"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1160"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1162"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#p:1162"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1161"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: {<span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}<span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ ??? /=; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> // 2!<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ ?? <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> ? <span class="id" title="var">e</span> <span class="id" title="var">q</span> <span class="id" title="var">ih</span> <span class="id" title="var">hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Ee</span> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.mem"><span class="id" title="definition">EdgeSet.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.mem_spec"><span class="id" title="lemma">EdgeSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ee</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ee</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hx</span> <span class="id" title="var">hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">hx</span>)=&gt; /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> → /=; <span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">ih</span> <span class="id" title="var">hz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> // 2!<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_edge"><span class="id" title="lemma">lsp_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">Ee</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [?|] [?|] [?|]//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSetFact.not_mem_iff"><span class="id" title="lemma">EdgeSetFact.not_mem_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ee</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_edge"><span class="id" title="lemma">lsp_edge</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Ex</span> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem"><span class="id" title="axiom">VSet.mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="var">simp</span> <span class="id" title="var">first_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_0_l"><span class="id" title="lemma">add_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">ih</span> <span class="id" title="var">hz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.mem_spec"><span class="id" title="axiom">VSet.mem_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.spath_on_border"><span class="id" title="lemma">spath_on_border</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">q</span> <span class="id" title="var">Ex</span> <span class="id" title="var">hz</span> <span class="id" title="var">Ee</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hx'</span> <span class="id" title="var">hf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in"><span class="id" title="definition">first_in</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">q</span>) <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_finite"><span class="id" title="lemma">add_finite</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_assoc"><span class="id" title="definition">add_assoc</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">h</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_finite"><span class="id" title="lemma">add_finite</span></a> -<a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_assoc"><span class="id" title="definition">add_assoc</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.plus_le_compat"><span class="id" title="definition">plus_le_compat</span></a>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">ih</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.lsp_bound_extend_border" class="idref" href="#WeightedGraph.IsFullSubgraph.lsp_bound_extend_border"><span class="id" title="lemma">lsp_bound_extend_border</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:1163" class="idref" href="#H0:1163"><span class="id" title="binder">invariants</span></a> <a id="H0:1163" class="idref" href="#H0:1163"><span class="id" title="binder">G2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:1164" class="idref" href="#H1:1164"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H1:1164" class="idref" href="#H1:1164"><span class="id" title="binder">G1</span></a>, <a id="H2:1165" class="idref" href="#H2:1165"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H2:1165" class="idref" href="#H2:1165"><span class="id" title="binder">G2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:1168" class="idref" href="#h:1168"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">∀</span> <a id="x:1166" class="idref" href="#x:1166"><span class="id" title="binder">x</span></a> <a id="y:1167" class="idref" href="#y:1167"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1166"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1167"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.bs"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1166"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1167"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1166"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1167"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="x:1169" class="idref" href="#x:1169"><span class="id" title="binder">x</span></a> <a id="y:1170" class="idref" href="#y:1170"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1169"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1170"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1169"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1170"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1169"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1170"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hx</span> <span class="id" title="var">hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder.G2"><span class="id" title="variable">G2</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">E</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_spec_eq"><span class="id" title="lemma">lsp0_spec_eq</span></a> [<span class="id" title="var">p</span> <span class="id" title="var">hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hb</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.sweight_bound0"><span class="id" title="lemma">sweight_bound0</span></a> <span class="id" title="var">h</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">hb</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hp</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.first_in_first"><span class="id" title="lemma">first_in_first</span></a> // <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_0_l"><span class="id" title="lemma">add_0_l</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.LspBoundExtendBorder"><span class="id" title="section">LspBoundExtendBorder</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.IsFullSubgraph.is_full_extension" class="idref" href="#WeightedGraph.IsFullSubgraph.is_full_extension"><span class="id" title="definition">is_full_extension</span></a> (<a id="G1:1171" class="idref" href="#G1:1171"><span class="id" title="binder">G1</span></a> <a id="G2:1172" class="idref" href="#G2:1172"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ext:1173" class="idref" href="#ext:1173"><span class="id" title="binder">ext</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.diff"><span class="id" title="definition">EdgeSet.diff</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1172"><span class="id" title="variable">G2</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1171"><span class="id" title="variable">G1</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="bs:1174" class="idref" href="#bs:1174"><span class="id" title="binder">bs</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set"><span class="id" title="definition">border_set</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1171"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#ext:1173"><span class="id" title="variable">ext</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all"><span class="id" title="axiom">VSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="x:1175" class="idref" href="#x:1175"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all"><span class="id" title="axiom">VSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="y:1176" class="idref" href="#y:1176"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1171"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1175"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1176"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1172"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1175"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1176"><span class="id" title="variable">y</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#bs:1174"><span class="id" title="variable">bs</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#bs:1174"><span class="id" title="variable">bs</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.lsp_eq_is_full_extension" class="idref" href="#WeightedGraph.IsFullSubgraph.lsp_eq_is_full_extension"><span class="id" title="lemma">lsp_eq_is_full_extension</span></a> (<a id="G1:1177" class="idref" href="#G1:1177"><span class="id" title="binder">G1</span></a> <a id="G2:1178" class="idref" href="#G2:1178"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.full_subgraph"><span class="id" title="record">full_subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1177"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1178"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_extension"><span class="id" title="definition">is_full_extension</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1177"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1178"><span class="id" title="variable">G2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hsub</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_extension"><span class="id" title="definition">is_full_extension</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">bs</span> := (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set"><span class="id" title="definition">border_set</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <span class="id" title="keyword">∀</span> <a id="x:1180" class="idref" href="#x:1180"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1179"><span class="id" title="variable">x</span></a> <span class="id" title="var">bs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1179"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <span class="id" title="var">G1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>⇒ ? /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.border_set_spec"><span class="id" title="lemma">border_set_spec</span></a> [? [<span class="id" title="var">_</span> [//]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a>⇒ <span class="id" title="var">x</span> /<span class="id" title="var">H</span> <span class="id" title="var">hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a>⇒ <span class="id" title="var">y</span> /<span class="id" title="var">H</span> <span class="id" title="var">hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">ReflectEq.eqb_spec</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_antisymm"><span class="id" title="lemma">le_antisymm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_dominate"><span class="id" title="projection">lsp_dominate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_map_path2"><span class="id" title="definition">lsp_map_path2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph_on_edge"><span class="id" title="definition">subgraph_on_edge</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.vertices_sub"><span class="id" title="projection">vertices_sub</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">hsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ ??[??] /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.is_full_extension_lsp_dominate" class="idref" href="#WeightedGraph.IsFullSubgraph.is_full_extension_lsp_dominate"><span class="id" title="lemma">is_full_extension_lsp_dominate</span></a> (<a id="G1:1181" class="idref" href="#G1:1181"><span class="id" title="binder">G1</span></a> <a id="G2:1182" class="idref" href="#G2:1182"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:1183" class="idref" href="#H:1183"><span class="id" title="binder">invariants</span></a> <a id="H:1183" class="idref" href="#H:1183"><span class="id" title="binder">G1</span></a>, <a id="H0:1184" class="idref" href="#H0:1184"><span class="id" title="binder">invariants</span></a> <a id="H0:1184" class="idref" href="#H0:1184"><span class="id" title="binder">G2</span></a>, <a id="H1:1185" class="idref" href="#H1:1185"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H1:1185" class="idref" href="#H1:1185"><span class="id" title="binder">G2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph"><span class="id" title="record">subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1181"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1182"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_extension"><span class="id" title="definition">is_full_extension</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1181"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1182"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:1186" class="idref" href="#x:1186"><span class="id" title="binder">x</span></a> <a id="y:1187" class="idref" href="#y:1187"><span class="id" title="binder">y</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1186"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1181"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1187"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1181"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1182"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1186"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1187"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1181"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1186"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1187"><span class="id" title="variable">y</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">hsub</span> <span class="id" title="var">ext</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">acG1</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph_acyclic"><span class="id" title="lemma">subgraph_acyclic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hsub</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.lsp_bound_extend_border"><span class="id" title="lemma">lsp_bound_extend_border</span></a>⇒ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">hx</span> <span class="id" title="var">hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ext</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a>/(<span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">hx</span>)/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a>/(<span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /(@<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">ReflectEq.eqb_spec</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reflectEq_nbar"><span class="id" title="instance">reflectEq_nbar</span></a>) -&gt;; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.is_full_extension_spec" class="idref" href="#WeightedGraph.IsFullSubgraph.is_full_extension_spec"><span class="id" title="lemma">is_full_extension_spec</span></a> (<a id="G1:1188" class="idref" href="#G1:1188"><span class="id" title="binder">G1</span></a> <a id="G2:1189" class="idref" href="#G2:1189"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:1190" class="idref" href="#H:1190"><span class="id" title="binder">invariants</span></a> <a id="H:1190" class="idref" href="#H:1190"><span class="id" title="binder">G1</span></a>, <a id="H0:1191" class="idref" href="#H0:1191"><span class="id" title="binder">invariants</span></a> <a id="H0:1191" class="idref" href="#H0:1191"><span class="id" title="binder">G2</span></a>, <a id="H1:1192" class="idref" href="#H1:1192"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H1:1192" class="idref" href="#H1:1192"><span class="id" title="binder">G2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph"><span class="id" title="record">subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1188"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1189"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_extension"><span class="id" title="definition">is_full_extension</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1188"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1189"><span class="id" title="variable">G2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.full_subgraph"><span class="id" title="record">full_subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1188"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1189"><span class="id" title="variable">G2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">sub</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">ext</span>; <span class="id" title="tactic">constructor</span>⇒ //; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_extension_lsp_dominate"><span class="id" title="lemma">is_full_extension_lsp_dominate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.lsp_eq_is_full_extension"><span class="id" title="lemma">lsp_eq_is_full_extension</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Remove&nbsp;?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Defined&nbsp;for&nbsp;completeness,&nbsp;but&nbsp;clearly&nbsp;not&nbsp;what&nbsp;should&nbsp;be&nbsp;used&nbsp;in&nbsp;practice&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.IsFullSubgraph.is_full_subgraph" class="idref" href="#WeightedGraph.IsFullSubgraph.is_full_subgraph"><span class="id" title="definition">is_full_subgraph</span></a> (<a id="G1:1193" class="idref" href="#G1:1193"><span class="id" title="binder">G1</span></a> <a id="G2:1194" class="idref" href="#G2:1194"><span class="id" title="binder">G2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.subset"><span class="id" title="axiom">VSet.subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1193"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1194"><span class="id" title="variable">G2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.subset"><span class="id" title="definition">EdgeSet.subset</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1193"><span class="id" title="variable">G1</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.E"><span class="id" title="definition">E</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1194"><span class="id" title="variable">G2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1193"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1194"><span class="id" title="variable">G2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all"><span class="id" title="axiom">VSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="x:1195" class="idref" href="#x:1195"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all"><span class="id" title="axiom">VSet.for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="y:1196" class="idref" href="#y:1196"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1193"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1195"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1196"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.ReflectEq.html#12489c9c79e91749bd1f337dd0c899e9"><span class="id" title="notation">==</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1194"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1195"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1196"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1193"><span class="id" title="variable">G1</span></a>)) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1193"><span class="id" title="variable">G1</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.IsFullSubgraph.is_full_subgraph_spec" class="idref" href="#WeightedGraph.IsFullSubgraph.is_full_subgraph_spec"><span class="id" title="lemma">is_full_subgraph_spec</span></a> <a id="G1:1197" class="idref" href="#G1:1197"><span class="id" title="binder">G1</span></a> <a id="G2:1198" class="idref" href="#G2:1198"><span class="id" title="binder">G2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_subgraph"><span class="id" title="definition">is_full_subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1197"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1198"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.full_subgraph"><span class="id" title="record">full_subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1197"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1198"><span class="id" title="variable">G2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph.is_full_subgraph"><span class="id" title="definition">is_full_subgraph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.subset_spec"><span class="id" title="axiom">VSet.subset_spec</span></a> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.subset_spec"><span class="id" title="lemma">EdgeSet.subset_spec</span></a> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /(@<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">ReflectEq.eqb_spec</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reflectEq_vertices"><span class="id" title="instance">reflectEq_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>⇒ // <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">inv1</span> <span class="id" title="var">inv2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">h</span> <span class="id" title="var">v1</span> <span class="id" title="var">inv1</span>)=&gt; /<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">v2</span>  <span class="id" title="var">inv2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /(@<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">ReflectEq.eqb_spec</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.reflectEq_nbar"><span class="id" title="instance">reflectEq_nbar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_refl"><span class="id" title="instance">le_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">sub</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>;<span class="id" title="tactic">split</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.subset_spec"><span class="id" title="axiom">VSet.subset_spec</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.vertices_sub"><span class="id" title="projection">vertices_sub</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.EdgeSet.subset_spec"><span class="id" title="lemma">EdgeSet.subset_spec</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_specT"><span class="id" title="lemma">eqb_specT</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.same_src"><span class="id" title="projection">same_src</span></a> ; <span class="id" title="tactic">exact</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a>⇒ <span class="id" title="var">x</span> <span class="id" title="var">hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.for_all_spec"><span class="id" title="axiom">VSet.for_all_spec</span></a>⇒ <span class="id" title="var">y</span> <span class="id" title="var">hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_specT"><span class="id" title="lemma">eqb_specT</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.le_antisymm"><span class="id" title="lemma">le_antisymm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_dominate"><span class="id" title="projection">lsp_dominate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_map_path2"><span class="id" title="definition">lsp_map_path2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.subgraph_on_edge"><span class="id" title="definition">subgraph_on_edge</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.vertices_sub"><span class="id" title="projection">vertices_sub</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span>⇒ ??[??] /=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.IsFullSubgraph"><span class="id" title="module">IsFullSubgraph</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.ExtendLabelling" class="idref" href="#WeightedGraph.ExtendLabelling"><span class="id" title="section">ExtendLabelling</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <a id="G1:1199" class="idref" href="#G1:1199"><span class="id" title="binder">G1</span></a> <a id="G2:1200" class="idref" href="#G2:1200"><span class="id" title="binder">G2</span></a> `{<a id="H:1201" class="idref" href="#H:1201"><span class="id" title="binder">invariants</span></a> <a id="H:1201" class="idref" href="#H:1201"><span class="id" title="binder">G1</span></a>, <a id="H0:1202" class="idref" href="#H0:1202"><span class="id" title="binder">invariants</span></a> <a id="H0:1202" class="idref" href="#H0:1202"><span class="id" title="binder">G2</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <a id="l:1203" class="idref" href="#l:1203"><span class="id" title="binder">l</span></a> (<a id="HGl:1204" class="idref" href="#HGl:1204"><span class="id" title="binder">HGl</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:1203"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="embed:1205" class="idref" href="#embed:1205"><span class="id" title="binder">embed</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.full_subgraph"><span class="id" title="record">full_subgraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="acG2:1206" class="idref" href="#acG2:1206"><span class="id" title="binder">acG2</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="WeightedGraph.ExtendLabelling.Gl" class="idref" href="#WeightedGraph.ExtendLabelling.Gl"><span class="id" title="variable">Gl</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on"><span class="id" title="definition">relabel_on</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="WeightedGraph.ExtendLabelling.l'" class="idref" href="#WeightedGraph.ExtendLabelling.l'"><span class="id" title="variable">l'</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.Gl"><span class="id" title="variable">Gl</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.Gl"><span class="id" title="variable">Gl</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.extends_labelling" class="idref" href="#WeightedGraph.extends_labelling"><span class="id" title="lemma">extends_labelling</span></a> <a id="x:1207" class="idref" href="#x:1207"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1207"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1207"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1207"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Gl</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">HGl</span> <span class="id" title="var">acG2</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">xin1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_pathOf"><span class="id" title="method">source_pathOf</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xin1</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">lsp_eq</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_Gl_between_G1"><span class="id" title="lemma">lsp_Gl_between_G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.HGl"><span class="id" title="variable">HGl</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_dominate"><span class="id" title="projection">lsp_dominate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.vertices_sub"><span class="id" title="projection">vertices_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.source_vertex"><span class="id" title="method">source_vertex</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a>) <span class="id" title="var">xin1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.HGl"><span class="id" title="variable">HGl</span></a>⇒ [<span class="id" title="var">ls</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l'"><span class="id" title="variable">l'</span></a>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.Gl"><span class="id" title="variable">Gl</span></a> /= -(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.same_src"><span class="id" title="projection">same_src</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>) <span class="id" title="var">lsp_eq</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.diff"><span class="id" title="definition">diff</span></a> <span class="id" title="var">ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> <span class="id" title="var">x</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj"><span class="id" title="lemma">Nat2Z.inj</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label"><span class="id" title="lemma">Z_of_to_label</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Zorder.html#Zle_0_nat"><span class="id" title="lemma">Zle_0_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> <span class="id" title="var">x</span>))=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.leb_spec0"><span class="id" title="lemma">Z.leb_spec0</span></a> → //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.relabel_on_correct_labelling" class="idref" href="#WeightedGraph.relabel_on_correct_labelling"><span class="id" title="lemma">relabel_on_correct_labelling</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.Gl"><span class="id" title="variable">Gl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l'"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">HGl</span> <span class="id" title="var">acG2</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">invGl</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on_invariants"><span class="id" title="lemma">relabel_on_invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.HGl"><span class="id" title="variable">HGl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">acGl</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_relabel_on"><span class="id" title="lemma">acyclic_relabel_on</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.HGl"><span class="id" title="variable">HGl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_dominate"><span class="id" title="projection">lsp_dominate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop_sloop"><span class="id" title="lemma">acyclic_no_loop_sloop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.extends_correct_labelling" class="idref" href="#WeightedGraph.extends_correct_labelling"><span class="id" title="lemma">extends_correct_labelling</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l'"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Gl</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">HGl</span> <span class="id" title="var">acG2</span> <span class="id" title="var">embed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.relabel_on_correct_labelling"><span class="id" title="lemma">relabel_on_correct_labelling</span></a> ⇒ [<span class="id" title="var">sGl</span> <span class="id" title="var">eGl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [[<span class="id" title="var">s</span> <span class="id" title="var">w</span>] <span class="id" title="var">t</span>] <span class="id" title="var">ein</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">e'</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.from2"><span class="id" title="definition">from2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">ein</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> (<span class="id" title="var">eGl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e'</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">e'</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.weight_from2"><span class="id" title="lemma">weight_from2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G1"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.G2"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.l"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_sub"><span class="id" title="projection">edges_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.embed"><span class="id" title="variable">embed</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling.HGl"><span class="id" title="variable">HGl</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">ein</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">l0</span> <span class="id" title="var">g</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.ExtendLabelling"><span class="id" title="section">ExtendLabelling</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.to_label_to_nat" class="idref" href="#WeightedGraph.to_label_to_nat"><span class="id" title="lemma">to_label_to_nat</span></a> <a id="n:1208" class="idref" href="#n:1208"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1208"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#n:1208"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="WeightedGraph.RelabelWrtEdge" class="idref" href="#WeightedGraph.RelabelWrtEdge"><span class="id" title="module">RelabelWrtEdge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.RelabelWrtEdge.RelabelWrtEdge" class="idref" href="#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge"><span class="id" title="section">RelabelWrtEdge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <a id="G:1209" class="idref" href="#G:1209"><span class="id" title="binder">G</span></a> `{<a id="invG:1210" class="idref" href="#invG:1210"><span class="id" title="binder">invG</span></a>:<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.invariants"><span class="id" title="class">invariants</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:1209"><span class="id" title="variable">G</span></a>} `{<a id="acG:1211" class="idref" href="#acG:1211"><span class="id" title="binder">acG</span></a>:<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.acyclic_no_loop"><span class="id" title="class">acyclic_no_loop</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G:1209"><span class="id" title="variable">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling" class="idref" href="#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling"><span class="id" title="section">BuildLabelling</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <a id="l:1212" class="idref" href="#l:1212"><span class="id" title="binder">l</span></a> (<a id="Hl:1213" class="idref" href="#Hl:1213"><span class="id" title="binder">Hl</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l:1212"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> <a id="x:1214" class="idref" href="#x:1214"><span class="id" title="binder">x</span></a> (<a id="k:1215" class="idref" href="#k:1215"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="d:1216" class="idref" href="#d:1216"><span class="id" title="binder">d</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#k:1215"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1214"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hk:1217" class="idref" href="#Hk:1217"><span class="id" title="binder">Hk</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1214"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#d:1216"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0)%<span class="id" title="var">nbar</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.RelabelWrtEdge.r" class="idref" href="#WeightedGraph.RelabelWrtEdge.r"><span class="id" title="definition">r</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="z:1218" class="idref" href="#z:1218"><span class="id" title="binder">z</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max"><span class="id" title="definition">Nat.max</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.l"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1218"><span class="id" title="variable">z</span></a>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1218"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.d"><span class="id" title="variable">d</span></a>)%<span class="id" title="var">nbar</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.r_correct" class="idref" href="#WeightedGraph.RelabelWrtEdge.r_correct"><span class="id" title="lemma">r_correct</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.r"><span class="id" title="definition">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Hk</span> <span class="id" title="var">Hl</span> <span class="id" title="var">acG</span> <span class="id" title="var">invG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.Hl"><span class="id" title="variable">Hl</span></a> ⇒ <span class="id" title="var">Hl0</span> <span class="id" title="var">Hledge</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.r"><span class="id" title="definition">r</span></a> <span class="id" title="var">Hl0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max_0_l"><span class="id" title="lemma">Nat.max_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.Hk"><span class="id" title="variable">Hk</span></a>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">nbar</span>⇒ [[|?|?]|] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">e</span> <span class="id" title="var">he</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.r"><span class="id" title="definition">r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">u</span> := (<span class="id" title="var">u</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max"><span class="id" title="definition">Nat.max</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#u:1219"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max_dec"><span class="id" title="lemma">Nat.max_dec</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.l"><span class="id" title="variable">l</span></a> <span class="id" title="var">e</span>..<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.:::x_'..s'"><span class="id" title="notation">s</span></a>) <span class="id" title="var">u</span>) ⇒ [-&gt;|/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#a686f16c7fee28a2e0daca8726c6780b"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#a686f16c7fee28a2e0daca8726c6780b"><span class="id" title="notation">dup</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#a686f16c7fee28a2e0daca8726c6780b"><span class="id" title="notation">]</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max_r_iff"><span class="id" title="lemma">Nat.max_r_iff</span></a> <span class="id" title="var">ule</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">Hledge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#inj_le"><span class="id" title="definition">inj_le</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.edges_vertices"><span class="id" title="method">edges_vertices</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">e</span> <span class="id" title="var">he</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">hs</span> <span class="id" title="var">ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span> <span class="id" title="var">w</span>] <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">h</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp0_triangle_inequality"><span class="id" title="lemma">lsp0_triangle_inequality</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.x"><span class="id" title="variable">x</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">w</span> <span class="id" title="var">he</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">h</span> <span class="id" title="var">ule</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.d"><span class="id" title="variable">d</span></a>/<span class="id" title="var">u</span> -/(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.x"><span class="id" title="variable">x</span></a> <span class="id" title="var">s</span>) -/(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.x"><span class="id" title="variable">x</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hledge</span> <span class="id" title="var">_</span> <span class="id" title="var">he</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span> -[<span class="id" title="var">to_label</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#inj_le"><span class="id" title="definition">inj_le</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_l"><span class="id" title="lemma">Nat.le_max_l</span></a>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">etransitivity</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#inj_le"><span class="id" title="definition">inj_le</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.le_max_r"><span class="id" title="lemma">Nat.le_max_r</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.x"><span class="id" title="variable">x</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.x"><span class="id" title="variable">x</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">E</span> <span class="id" title="var">h</span>⇒ // ? [?|//].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling.d"><span class="id" title="variable">d</span></a> 2!<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label_to_nat"><span class="id" title="lemma">to_label_to_nat</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.BuildLabelling"><span class="id" title="section">BuildLabelling</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs" class="idref" href="#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs"><span class="id" title="section">RelabelCoefs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="x:1220" class="idref" href="#x:1220"><span class="id" title="binder">x</span></a> <a id="y:1221" class="idref" href="#y:1221"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a>) (<a id="hx:1222" class="idref" href="#hx:1222"><span class="id" title="binder">hx</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1220"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>)) (<a id="hy:1223" class="idref" href="#hy:1223"><span class="id" title="binder">hy</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1221"><span class="id" title="variable">y</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="nxy:1224" class="idref" href="#nxy:1224"><span class="id" title="binder">nxy</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="hxy:1225" class="idref" href="#hxy:1225"><span class="id" title="binder">hxy</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1220"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#y:1221"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#nxy:1224"><span class="id" title="variable">nxy</span></a>)%<span class="id" title="var">nbar</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.RelabelWrtEdge.stdl" class="idref" href="#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.labelling"><span class="id" title="definition">labelling</span></a> := (<span class="id" title="keyword">fun</span> <a id="x:1226" class="idref" href="#x:1226"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#V.t"><span class="id" title="axiom">V.t</span></a> ⇒ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#x:1226"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.RelabelWrtEdge.dxy" class="idref" href="#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.nxy"><span class="id" title="variable">nxy</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.dxy_bound" class="idref" href="#WeightedGraph.RelabelWrtEdge.dxy_bound"><span class="id" title="lemma">dxy_bound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">acG</span> <span class="id" title="var">hx</span> <span class="id" title="var">hxy</span> <span class="id" title="var">hy</span> <span class="id" title="var">invG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hx"><span class="id" title="variable">hx</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">nx</span> [<span class="id" title="var">eqlspx</span> [<span class="id" title="var">nxpos</span> <span class="id" title="var">eqnx</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hy"><span class="id" title="variable">hy</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ny</span> [<span class="id" title="var">eqlspy</span> [<span class="id" title="var">nypos</span> <span class="id" title="var">eqny</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_add"><span class="id" title="lemma">Nat2Z.inj_add</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_finite"><span class="id" title="lemma">add_finite</span></a> <span class="id" title="var">eqnx</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#Nbar.add_assoc"><span class="id" title="definition">add_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <span class="id" title="var">eqnx</span> <span class="id" title="var">eqny</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>)) <span class="id" title="var">H</span> <span class="id" title="var">H0</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.micromega.ZifyInst.html#of_nat_to_nat_eq"><span class="id" title="lemma">ZifyInst.of_nat_to_nat_eq</span></a> <span class="id" title="var">eqlspy</span> <span class="id" title="var">eqlspx</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hxy"><span class="id" title="variable">hxy</span></a>. <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>)=&gt; // ?. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WeightedGraph.RelabelWrtEdge.l'" class="idref" href="#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.r"><span class="id" title="definition">r</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.l'_correct" class="idref" href="#WeightedGraph.RelabelWrtEdge.l'_correct"><span class="id" title="lemma">l'_correct</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">acG</span> <span class="id" title="var">hx</span> <span class="id" title="var">hxy</span> <span class="id" title="var">hy</span> <span class="id" title="var">invG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.r_correct"><span class="id" title="lemma">r_correct</span></a>; [<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_correctness"><span class="id" title="lemma">lsp_correctness</span></a> | <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy_bound"><span class="id" title="lemma">dxy_bound</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.to_label_add" class="idref" href="#WeightedGraph.RelabelWrtEdge.to_label_add"><span class="id" title="lemma">to_label_add</span></a> <a id="z:1227" class="idref" href="#z:1227"><span class="id" title="binder">z</span></a> <a id="k:1228" class="idref" href="#k:1228"><span class="id" title="binder">k</span></a> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1227"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">nbar</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z:1227"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:1228"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#z:1227"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#efacf087d3b72c5bf33faf37f59aa519"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#k:1228"><span class="id" title="variable">k</span></a>))%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">z</span>⇒ [[|?|?]|] //=; <span class="id" title="tactic">case</span>: <span class="id" title="var">k</span>⇒ //=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.to_label_mon" class="idref" href="#WeightedGraph.RelabelWrtEdge.to_label_mon"><span class="id" title="lemma">to_label_mon</span></a> <a id="z1:1229" class="idref" href="#z1:1229"><span class="id" title="binder">z1</span></a> <a id="z2:1230" class="idref" href="#z2:1230"><span class="id" title="binder">z2</span></a> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#z1:1229"><span class="id" title="variable">z1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z2:1230"><span class="id" title="variable">z2</span></a>)%<span class="id" title="var">nbar</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z1:1229"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label"><span class="id" title="definition">to_label</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#z2:1230"><span class="id" title="variable">z2</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="keyword">Type</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">z1</span> <span class="id" title="var">z2</span>⇒ [[|?|?]|] [[|?|?]|] //=; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.l'_on_x" class="idref" href="#WeightedGraph.RelabelWrtEdge.l'_on_x"><span class="id" title="lemma">l'_on_x</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">acG</span> <span class="id" title="var">hx</span> <span class="id" title="var">invG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hx"><span class="id" title="variable">hx</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">nx</span> [<span class="id" title="var">eqlspx</span> [<span class="id" title="var">nxpos</span> <span class="id" title="var">eqnx</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a>/<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.r"><span class="id" title="definition">r</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_xx"><span class="id" title="lemma">lsp_xx</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.to_label_to_nat"><span class="id" title="lemma">to_label_to_nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max_r"><span class="id" title="lemma">max_r</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.l'_on_y" class="idref" href="#WeightedGraph.RelabelWrtEdge.l'_on_y"><span class="id" title="lemma">l'_on_y</span></a> : <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">acG</span> <span class="id" title="var">hx</span> <span class="id" title="var">hxy</span> <span class="id" title="var">hy</span> <span class="id" title="var">invG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max_l"><span class="id" title="lemma">max_l</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.to_label_mon"><span class="id" title="lemma">to_label_mon</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>); <span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hxy"><span class="id" title="variable">hxy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hx"><span class="id" title="variable">hx</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">nx</span> [<span class="id" title="var">eqlspx</span> [<span class="id" title="var">nxpos</span> <span class="id" title="var">eqnx</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hy"><span class="id" title="variable">hy</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ny</span> [<span class="id" title="var">eqlspy</span> [<span class="id" title="var">nypos</span> <span class="id" title="var">eqny</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_add"><span class="id" title="lemma">Nat2Z.inj_add</span></a> <span class="id" title="var">eqnx</span> <span class="id" title="var">eqny</span> <span class="id" title="var">eqlspx</span> <span class="id" title="var">eqlspy</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [?|] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.RelabelWrtEdge.l'_diff" class="idref" href="#WeightedGraph.RelabelWrtEdge.l'_diff"><span class="id" title="lemma">l'_diff</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'"><span class="id" title="definition">l'</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.nxy"><span class="id" title="variable">nxy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">acG</span> <span class="id" title="var">hx</span> <span class="id" title="var">hxy</span> <span class="id" title="var">hy</span> <span class="id" title="var">invG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hx"><span class="id" title="variable">hx</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">nx</span> [<span class="id" title="var">eqlspx</span> [<span class="id" title="var">nxpos</span> <span class="id" title="var">eqnx</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.Z_of_to_label_s"><span class="id" title="lemma">Z_of_to_label_s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hy"><span class="id" title="variable">hy</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ny</span> [<span class="id" title="var">eqlspy</span> [<span class="id" title="var">nypos</span> <span class="id" title="var">eqny</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp_codistance"><span class="id" title="lemma">lsp_codistance</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.s"><span class="id" title="definition">s</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.x"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.y"><span class="id" title="variable">y</span></a>); <span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs.hxy"><span class="id" title="variable">hxy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'_on_x"><span class="id" title="lemma">l'_on_x</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.l'_on_y"><span class="id" title="lemma">l'_on_y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_add"><span class="id" title="lemma">Nat2Z.inj_add</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.dxy"><span class="id" title="definition">dxy</span></a> /<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.stdl"><span class="id" title="definition">stdl</span></a> <span class="id" title="var">eqnx</span> <span class="id" title="var">eqny</span> <span class="id" title="var">eqlspx</span> <span class="id" title="var">eqlspy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">E</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [?|] //=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge.RelabelCoefs"><span class="id" title="section">RelabelCoefs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge.RelabelWrtEdge"><span class="id" title="section">RelabelWrtEdge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.RelabelWrtEdge"><span class="id" title="module">RelabelWrtEdge</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WeightedGraph.labelling_ext_lsp" class="idref" href="#WeightedGraph.labelling_ext_lsp"><span class="id" title="lemma">labelling_ext_lsp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="G1:1231" class="idref" href="#G1:1231"><span class="id" title="binder">G1</span></a> <a id="G2:1232" class="idref" href="#G2:1232"><span class="id" title="binder">G2</span></a>  `{<a id="H:1233" class="idref" href="#H:1233"><span class="id" title="binder">acyclic_no_loop</span></a> <a id="H:1233" class="idref" href="#H:1233"><span class="id" title="binder">G1</span></a>} `{<a id="H0:1234" class="idref" href="#H0:1234"><span class="id" title="binder">invariants</span></a> <a id="H0:1234" class="idref" href="#H0:1234"><span class="id" title="binder">G1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hext:1238" class="idref" href="#hext:1238"><span class="id" title="binder">hext</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:1235" class="idref" href="#l1:1235"><span class="id" title="binder">l1</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1231"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l1:1235"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l2:1236" class="idref" href="#l2:1236"><span class="id" title="binder">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling"><span class="id" title="definition">correct_labelling</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1232"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l2:1236"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="v:1237" class="idref" href="#v:1237"><span class="id" title="binder">v</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1237"><span class="id" title="variable">v</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1231"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l1:1235"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1237"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#l2:1236"><span class="id" title="variable">l2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#v:1237"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="vx:1239" class="idref" href="#vx:1239"><span class="id" title="binder">vx</span></a> <a id="vy:1240" class="idref" href="#vy:1240"><span class="id" title="binder">vy</span></a>, <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#vx:1239"><span class="id" title="variable">vx</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1231"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet.In"><span class="id" title="axiom">VSet.In</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#vy:1240"><span class="id" title="variable">vy</span></a> (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.V"><span class="id" title="definition">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1231"><span class="id" title="variable">G1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G2:1232"><span class="id" title="variable">G2</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#vx:1239"><span class="id" title="variable">vx</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#vy:1240"><span class="id" title="variable">vy</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#G1:1231"><span class="id" title="variable">G1</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#vx:1239"><span class="id" title="variable">vx</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#vy:1240"><span class="id" title="variable">vy</span></a>)%<span class="id" title="var">nbar</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">vx</span> <span class="id" title="var">vy</span> <span class="id" title="var">hvx</span> <span class="id" title="var">hvy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">eqlsp2</span> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [<span class="id" title="var">nxy2</span>|//].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">n</span> := <span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G1</span> <span class="id" title="var">vx</span> <span class="id" title="var">vy</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<span class="id" title="var">nxy2</span>  <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hbound</span> : (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">G1</span> <span class="id" title="var">vx</span> <span class="id" title="var">vy</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#b4db5b9b772ded2e616e7ae7000f8531"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">nbar</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">case</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; //; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hl</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.l'_correct"><span class="id" title="lemma">RelabelWrtEdge.l'_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">vx</span> <span class="id" title="var">vy</span> <span class="id" title="var">hvx</span> <span class="id" title="var">hvy</span> <span class="id" title="var">_</span> <span class="id" title="var">hbound</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">hext</span> <span class="id" title="var">_</span> <span class="id" title="var">hl</span>)=&gt; [<span class="id" title="var">l'</span> [<span class="id" title="var">hl'</span> <span class="id" title="var">ll'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hdiff</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.l'_diff"><span class="id" title="lemma">RelabelWrtEdge.l'_diff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">vx</span> <span class="id" title="var">vy</span> <span class="id" title="var">hvx</span> <span class="id" title="var">hvy</span> <span class="id" title="var">_</span> <span class="id" title="var">hbound</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">hdiff</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ll'</span> // <span class="id" title="var">ll'</span> // /<span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">h</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.correct_labelling_lsp"><span class="id" title="lemma">correct_labelling_lsp</span></a> <span class="id" title="var">G2</span> <span class="id" title="var">eqlsp2</span> <span class="id" title="var">l'</span> <span class="id" title="var">hl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">eqlsp1</span>: (<a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph.lsp"><span class="id" title="definition">lsp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt; [<span class="id" title="var">nxy1</span>|]; <span class="id" title="tactic">first</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph"><span class="id" title="module">WeightedGraph</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="WeightedGraphSig" class="idref" href="#WeightedGraphSig"><span class="id" title="module">WeightedGraphSig</span></a> (<span class="id" title="var">V</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Structures.Orders.html#UsualOrderedType"><span class="id" title="module">UsualOrderedType</span></a>) (<span class="id" title="var">VSet</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.MSets.MSetInterface.html#S"><span class="id" title="module">MSetInterface.S</span></a> <span class="id" title="keyword">with</span> <span class="id" title="keyword">Module</span> <span class="id" title="var">E</span> := <a class="idref" href="MetaCoq.Utils.wGraph.html#V"><span class="id" title="module">V</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Structures.Equalities.html#Nop"><span class="id" title="module">Nop</span></a> &lt;+ <a class="idref" href="MetaCoq.Utils.wGraph.html#WeightedGraph"><span class="id" title="module">WeightedGraph</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#V"><span class="id" title="module">V</span></a> <a class="idref" href="MetaCoq.Utils.wGraph.html#VSet"><span class="id" title="module">VSet</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
