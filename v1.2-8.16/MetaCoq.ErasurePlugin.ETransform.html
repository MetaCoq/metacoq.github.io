<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.ErasurePlugin.ETransform</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.Environment.html#"><span class="id" title="library">Environment</span></a> <a class="idref" href="MetaCoq.Common.Transform.html#"><span class="id" title="library">Transform</span></a> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#"><span class="id" title="library">BasicAst</span></a> <a class="idref" href="MetaCoq.Common.uGraph.html#"><span class="id" title="library">uGraph</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <a class="idref" href="MetaCoq.Template.Pretty.html#"><span class="id" title="library">Pretty</span></a> <a class="idref" href="MetaCoq.Template.Typing.html#"><span class="id" title="library">Typing</span></a> <a class="idref" href="MetaCoq.Template.WcbvEval.html#"><span class="id" title="library">WcbvEval</span></a> <a class="idref" href="MetaCoq.Template.EtaExpand.html#"><span class="id" title="library">EtaExpand</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#"><span class="id" title="library">PCUICProgram</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnvSN.html#"><span class="id" title="library">PCUICWeakeningEnvSN</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "+notation-overridden".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.SafeChecker</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICErrors.html#"><span class="id" title="library">PCUICErrors</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#"><span class="id" title="library">PCUICWfEnv</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#"><span class="id" title="library">PCUICWfEnvImpl</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <a class="idref" href="MetaCoq.Erasure.EAstUtils.html#"><span class="id" title="library">EAstUtils</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#"><span class="id" title="library">ErasureFunction</span></a> <a class="idref" href="MetaCoq.Erasure.ErasureCorrectness.html#"><span class="id" title="library">ErasureCorrectness</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#"><span class="id" title="library">Extract</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#"><span class="id" title="library">EOptimizePropDiscr</span></a> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#"><span class="id" title="library">ERemoveParams</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#"><span class="id" title="library">EProgram</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.TemplatePCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICTransform.html#"><span class="id" title="library">PCUICTransform</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a> (<span class="id" title="var">term</span>) <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#"><span class="id" title="module">PCUICProgram</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICTransform.html#"><span class="id" title="module">PCUICTransform</span></a> (<span class="id" title="var">eval_pcuic_program</span>) <a class="idref" href="MetaCoq.Erasure.Extract.html#"><span class="id" title="module">Extract</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#"><span class="id" title="module">EProgram</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EAst.html#"><span class="id" title="module">EAst</span></a> <a class="idref" href="MetaCoq.Common.Transform.html#Transform"><span class="id" title="module">Transform</span></a> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#"><span class="id" title="module">ERemoveParams</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EEnvMap.html#"><span class="id" title="module">EEnvMap</span></a> <a class="idref" href="MetaCoq.Erasure.EGlobalEnv.html#"><span class="id" title="module">EGlobalEnv</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#"><span class="id" title="module">EWellformed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="build_wf_env_from_env" class="idref" href="#build_wf_env_from_env"><span class="id" title="definition">build_wf_env_from_env</span></a> {<a id="cf:1" class="idref" href="#cf:1"><span class="id" title="binder">cf</span></a> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#global_env_map"><span class="id" title="record">global_env_map</span></a>) (<a id="9c77acedd153c05882e0fedfeff8f884" class="idref" href="#9c77acedd153c05882e0fedfeff8f884"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#wf_env"><span class="id" title="record">wf_env</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#wf_env_reference"><span class="id" title="projection">wf_env_reference</span></a> := {| <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_env"><span class="id" title="projection">trans_env_env</span></a>); <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_wf"><span class="id" title="projection">reference_impl_wf</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#9c77acedd153c05882e0fedfeff8f884"><span class="id" title="variable">wfΣ</span></a> |} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#wf_env_map"><span class="id" title="projection">wf_env_map</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_map"><span class="id" title="projection">trans_env_map</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#wf_env_map_repr"><span class="id" title="projection">wf_env_map_repr</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#trans_env_repr"><span class="id" title="projection">trans_env_repr</span></a>);<br/>
&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="NormalizationIn_erase_pcuic_program_1" class="idref" href="#NormalizationIn_erase_pcuic_program_1"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_1</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;:= (@<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">PCUICSN.NormalizationIn</span></a> (<span class="id" title="var">cf</span>:=<a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) (<span class="id" title="keyword">no</span>:=<a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">PCUICSN.extraction_normalizing</span></a>) <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="NormalizationIn_erase_pcuic_program_2" class="idref" href="#NormalizationIn_erase_pcuic_program_2"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_2</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;:= (@<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnvSN.html#normalizationInAdjustUniversesIn"><span class="id" title="class">PCUICWeakeningEnvSN.normalizationInAdjustUniversesIn</span></a> (<span class="id" title="var">cf</span>:=<a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) (<span class="id" title="keyword">no</span>:=<a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">PCUICSN.extraction_normalizing</span></a>) <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;Where&nbsp;should&nbsp;this&nbsp;go?&nbsp;*)</span><br/>
#[<span class="id" title="var">local</span>]<br/>
<span class="id" title="keyword">Lemma</span> <a id="reference_impl_env_iter_pop_eq'" class="idref" href="#reference_impl_env_iter_pop_eq'"><span class="id" title="lemma">reference_impl_env_iter_pop_eq'</span></a><br/>
&nbsp;&nbsp;(<a id="cf:4" class="idref" href="#cf:4"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;(<a id="no:5" class="idref" href="#no:5"><span class="id" title="binder">no</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">PCUICSN.extraction_normalizing</span></a>)<br/>
&nbsp;&nbsp;{<a id="guard:6" class="idref" href="#guard:6"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="wfe:7" class="idref" href="#wfe:7"><span class="id" title="binder">wfe</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#wf_env"><span class="id" title="record">wf_env</span></a>)<br/>
&nbsp;&nbsp;(<a id="n:8" class="idref" href="#n:8"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="X':9" class="idref" href="#X':9"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">ErasureFunction.iter</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:8"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:7"><span class="id" title="variable">wfe</span></a>)<br/>
&nbsp;&nbsp;(<a id="wfe':10" class="idref" href="#wfe':10"><span class="id" title="binder">wfe'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">ErasureFunction.iter</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_pop"><span class="id" title="definition">reference_pop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:8"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:7"><span class="id" title="variable">wfe</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#X':9"><span class="id" title="variable">X'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe':10"><span class="id" title="variable">wfe'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">X'</span> <span class="id" title="var">wfe'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wfe</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfe</span> <span class="id" title="keyword">as</span> [[[? [|[]]]]]; <span class="id" title="tactic">cbv</span> [<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optim_pop"><span class="id" title="definition">optim_pop</span></a>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>]<br/>
<span class="id" title="keyword">Lemma</span> <a id="reference_impl_env_iter_pop_eq" class="idref" href="#reference_impl_env_iter_pop_eq"><span class="id" title="lemma">reference_impl_env_iter_pop_eq</span></a><br/>
&nbsp;&nbsp;(<a id="cf:11" class="idref" href="#cf:11"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>)<br/>
&nbsp;&nbsp;(<a id="no:12" class="idref" href="#no:12"><span class="id" title="binder">no</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">PCUICSN.extraction_normalizing</span></a>)<br/>
&nbsp;&nbsp;{<a id="guard:13" class="idref" href="#guard:13"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>}<br/>
&nbsp;&nbsp;(<a id="wfe:14" class="idref" href="#wfe:14"><span class="id" title="binder">wfe</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#wf_env"><span class="id" title="record">wf_env</span></a>)<br/>
&nbsp;&nbsp;(<a id="n:15" class="idref" href="#n:15"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="X':16" class="idref" href="#X':16"><span class="id" title="binder">X'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">ErasureFunction.iter</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:15"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:14"><span class="id" title="variable">wfe</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#X':16"><span class="id" title="variable">X'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">PCUICAst.PCUICEnvironment.universes</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.universes"><span class="id" title="projection">PCUICAst.PCUICEnvironment.universes</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:14"><span class="id" title="variable">wfe</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:15"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:14"><span class="id" title="variable">wfe</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">PCUICAst.PCUICEnvironment.retroknowledge</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.retroknowledge"><span class="id" title="projection">PCUICAst.PCUICEnvironment.retroknowledge</span></a> (<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#reference_impl_env"><span class="id" title="projection">reference_impl_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:14"><span class="id" title="variable">wfe</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">X'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wfe</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">wfe</span> <span class="id" title="keyword">as</span> [[[? [|[]]]]]; <span class="id" title="tactic">cbv</span> [<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optim_pop"><span class="id" title="definition">optim_pop</span></a>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="erase_pcuic_program_normalization_helper" class="idref" href="#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a><br/>
&nbsp;&nbsp;(<a id="cf:17" class="idref" href="#cf:17"><span class="id" title="binder">cf</span></a> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) (<a id="no:18" class="idref" href="#no:18"><span class="id" title="binder">no</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#extraction_normalizing"><span class="id" title="instance">PCUICSN.extraction_normalizing</span></a>)<br/>
&nbsp;&nbsp;{<a id="guard:19" class="idref" href="#guard:19"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>} (<a id="p:20" class="idref" href="#p:20"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#pcuic_program"><span class="id" title="definition">pcuic_program</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:21" class="idref" href="#normalization_in:21"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#NormalizationIn_erase_pcuic_program_1"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a>}<br/>
&nbsp;&nbsp;{<a id="normalization_in_adjust_universes:22" class="idref" href="#normalization_in_adjust_universes:22"><span class="id" title="binder">normalization_in_adjust_universes</span></a> : <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#NormalizationIn_erase_pcuic_program_2"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_2</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a>}<br/>
&nbsp;&nbsp;(<a id="cf08c5ced949193fdc5dcea4b35ea32e" class="idref" href="#cf08c5ced949193fdc5dcea4b35ea32e"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> (<span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> <a id="wfe:24" class="idref" href="#wfe:24"><span class="id" title="binder">wfe</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#build_wf_env_from_env"><span class="id" title="definition">build_wf_env_from_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaCoq.Utils.MCSquash.html#map_squash"><span class="id" title="lemma">map_squash</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext_wf"><span class="id" title="lemma">PCUICTyping.wf_ext_wf</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#cf08c5ced949193fdc5dcea4b35ea32e"><span class="id" title="variable">wfΣ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> (<span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:25" class="idref" href="#n:25"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:25"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="kn:26" class="idref" href="#kn:26"><span class="id" title="binder">kn</span></a> <a id="cb:27" class="idref" href="#cb:27"><span class="id" title="binder">cb</span></a> <a id="pf:28" class="idref" href="#pf:28"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">hd_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:25"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#kn:26"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">PCUICAst.PCUICEnvironment.ConstantDecl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#cb:27"><span class="id" title="variable">cb</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b45015ea779d7a6908b541de791ac941" class="idref" href="#b45015ea779d7a6908b541de791ac941"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICAst.PCUICEnvironment.global_env_ext</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> @<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:24"><span class="id" title="variable">wfe</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">PCUICAst.PCUICEnvironment.cst_universes</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#cb:27"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#pf:28"><span class="id" title="variable">pf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">PCUICSN.NormalizationIn</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> <a id="wfe:30" class="idref" href="#wfe:30"><span class="id" title="binder">wfe</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#build_wf_env_from_env"><span class="id" title="definition">build_wf_env_from_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaCoq.Utils.MCSquash.html#map_squash"><span class="id" title="lemma">map_squash</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext_wf"><span class="id" title="lemma">PCUICTyping.wf_ext_wf</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#cf08c5ced949193fdc5dcea4b35ea32e"><span class="id" title="variable">wfΣ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> (<span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:31" class="idref" href="#n:31"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:31"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">let</span> <a id="X':32" class="idref" href="#X':32"><span class="id" title="binder">X'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#iter"><span class="id" title="definition">ErasureFunction.iter</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_pop_decls"><span class="id" title="method">abstract_pop_decls</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:31"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:30"><span class="id" title="variable">wfe</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="kn:33" class="idref" href="#kn:33"><span class="id" title="binder">kn</span></a> <a id="cb:34" class="idref" href="#cb:34"><span class="id" title="binder">cb</span></a> <a id="pf:35" class="idref" href="#pf:35"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">hd_error</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#n:31"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:20"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#kn:33"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ConstantDecl"><span class="id" title="constructor">PCUICAst.PCUICEnvironment.ConstantDecl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#cb:34"><span class="id" title="variable">cb</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="Xext:36" class="idref" href="#Xext:36"><span class="id" title="binder">Xext</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a> <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">extraction_checker_flags</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#X':32"><span class="id" title="variable">X'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.cst_universes"><span class="id" title="projection">PCUICAst.PCUICEnvironment.cst_universes</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#cb:34"><span class="id" title="variable">cb</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#pf:35"><span class="id" title="variable">pf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="01696af10e39986da2e9d1f22eb04999" class="idref" href="#01696af10e39986da2e9d1f22eb04999"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICAst.PCUICEnvironment.global_env_ext</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">∼</span></a><a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#bac0a333394e2541f259f5481a301f86"><span class="id" title="notation">_ext</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#Xext:36"><span class="id" title="variable">Xext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">PCUICSN.NormalizationIn</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#01696af10e39986da2e9d1f22eb04999"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- ?<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> ?<span class="id" title="var">B</span> ⇒ <span class="id" title="tactic">cut</span> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>); [ <span class="id" title="tactic">tauto</span> | ] <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">zeta</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">∀</span> <a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#squash"><span class="id" title="record">squash</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">B</span>, <span class="id" title="var">H'</span> : ?<span class="id" title="var">A</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">H'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">PCUICSN.NormalizationIn</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">revert</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">normalization_in_adjust_universes</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> [<a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">PCUICSN.NormalizationIn</span></a>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICAst.PCUICEnvironment.lookup_env</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global_Some_iff_In_NoDup"><span class="id" title="lemma">PCUICAst.PCUICEnvironment.lookup_global_Some_iff_In_NoDup</span></a> -?<a class="idref" href="MetaCoq.Utils.MCList.html#hd_error_skipn_iff_In"><span class="id" title="lemma">hd_error_skipn_iff_In</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#NoDup_on_global_decls"><span class="id" title="lemma">PCUICAst.NoDup_on_global_decls</span></a>, <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eexists</span>; <span class="id" title="var">eassumption</span> ]. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICSN.html#NormalizationIn"><span class="id" title="class">PCUICSN.NormalizationIn</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">revert</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#reference_impl_env_iter_pop_eq"><span class="id" title="lemma">reference_impl_env_iter_pop_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#reference_impl_env_iter_pop_eq"><span class="id" title="lemma">reference_impl_env_iter_pop_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">normalization_in_adjust_universes</span> <span class="id" title="tactic">in</span> <span class="id" title="var">normalization_in</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="var">multimatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">H</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_env"><span class="id" title="definition">PCUICAst.PCUICEnvironment.lookup_env</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lookup_global_Some_iff_In_NoDup"><span class="id" title="lemma">PCUICAst.PCUICEnvironment.lookup_global_Some_iff_In_NoDup</span></a> -?<a class="idref" href="MetaCoq.Utils.MCList.html#hd_error_skipn_iff_In"><span class="id" title="lemma">hd_error_skipn_iff_In</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#NoDup_on_global_decls"><span class="id" title="lemma">PCUICAst.NoDup_on_global_decls</span></a>, <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eexists</span>; <span class="id" title="var">eassumption</span> ]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">normalization_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWeakeningEnvSN.html#weakening_env_normalization_in"><span class="id" title="lemma">PCUICWeakeningEnvSN.weakening_env_normalization_in</span></a>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">refine</span> (@<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext_wf"><span class="id" title="lemma">PCUICTyping.wf_ext_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extends_decls_extends"><span class="id" title="instance">PCUICAst.PCUICEnvironment.extends_decls_extends</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.strictly_extends_decls_extends_decls"><span class="id" title="instance">PCUICAst.PCUICEnvironment.strictly_extends_decls_extends_decls</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="erase_pcuic_program" class="idref" href="#erase_pcuic_program"><span class="id" title="definition">erase_pcuic_program</span></a> {<a id="guard:40" class="idref" href="#guard:40"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>} (<a id="p:41" class="idref" href="#p:41"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#pcuic_program"><span class="id" title="definition">pcuic_program</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:42" class="idref" href="#normalization_in:42"><span class="id" title="binder">normalization_in</span></a> : <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#NormalizationIn_erase_pcuic_program_1"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a>}<br/>
&nbsp;&nbsp;{<a id="normalization_in_adjust_universes:43" class="idref" href="#normalization_in_adjust_universes:43"><span class="id" title="binder">normalization_in_adjust_universes</span></a> : <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#NormalizationIn_erase_pcuic_program_2"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_2</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a>}<br/>
&nbsp;&nbsp;(<a id="6e94498633c235c1fbcc9b543d023c7e" class="idref" href="#6e94498633c235c1fbcc9b543d023c7e"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext"><span class="id" title="class">PCUICTyping.wf_ext</span></a> (<span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;(<a id="wt:46" class="idref" href="#wt:46"><span class="id" title="binder">wt</span></a> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:45" class="idref" href="#T:45"><span class="id" title="binder">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing"><span class="id" title="inductive">PCUICTyping.typing</span></a> (<span class="id" title="var">H</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#T:45"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) : <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="wfe:47" class="idref" href="#wfe:47"><span class="id" title="binder">wfe</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#build_wf_env_from_env"><span class="id" title="definition">build_wf_env_from_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1.1</span></a> (<a class="idref" href="MetaCoq.Utils.MCSquash.html#map_squash"><span class="id" title="lemma">map_squash</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_ext_wf"><span class="id" title="lemma">PCUICTyping.wf_ext_wf</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#6e94498633c235c1fbcc9b543d023c7e"><span class="id" title="variable">wfΣ</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="wfext:48" class="idref" href="#wfext:48"><span class="id" title="binder">wfext</span></a> := @<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnv.html#abstract_make_wf_env_ext"><span class="id" title="definition">abstract_make_wf_env_ext</span></a> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:47"><span class="id" title="variable">wfe</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">ErasureFunction.erase</span></a> (<span class="id" title="var">normalization_in</span>:=<span class="id" title="var">_</span>) <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfext:48"><span class="id" title="variable">wfext</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="bee78f44e79dd1f39e7aa3afe03ef2db" class="idref" href="#bee78f44e79dd1f39e7aa3afe03ef2db"><span class="id" title="binder">Σ</span></a> <a id="0170232837e3524581d01df000f30bae" class="idref" href="#0170232837e3524581d01df000f30bae"><span class="id" title="binder">wfΣ</span></a> ⇒ <span class="id" title="keyword">let</span> '(<a class="idref" href="MetaCoq.Utils.MCSquash.html#sq"><span class="id" title="constructor">sq</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">T</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">ty</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>) := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wt:46"><span class="id" title="variable">wt</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#iswelltyped"><span class="id" title="constructor">PCUICTyping.iswelltyped</span></a> <span class="id" title="var">ty</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="8c1c1745d8246e72b40a14314bc0c42a" class="idref" href="#8c1c1745d8246e72b40a14314bc0c42a"><span class="id" title="binder">Σ'</span></a> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">ErasureFunction.erase_global_fast</span></a> (<span class="id" title="var">normalization_in</span>:=<span class="id" title="var">_</span>) <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#t:52"><span class="id" title="variable">t</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wfe:47"><span class="id" title="variable">wfe</span></a> (<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:41"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.declarations"><span class="id" title="projection">PCUICAst.PCUICEnvironment.declarations</span></a>)) <span class="id" title="var">_</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.make"><span class="id" title="definition">EEnvMap.GlobalContextMap.make</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#8c1c1745d8246e72b40a14314bc0c42a"><span class="id" title="variable">Σ'</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#t:52"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_glob_fresh"><span class="id" title="lemma">wf_glob_fresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast_wf_glob"><span class="id" title="lemma">ErasureFunction.erase_global_fast_wf_glob</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.Extract.html#"><span class="id" title="module">Extract</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erase_program" class="idref" href="#erase_program"><span class="id" title="definition">erase_program</span></a> {<a id="guard:54" class="idref" href="#guard:54"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>} (<a id="p:55" class="idref" href="#p:55"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#pcuic_program"><span class="id" title="definition">pcuic_program</span></a>)<br/>
&nbsp;&nbsp;{<a id="normalization_in:56" class="idref" href="#normalization_in:56"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in_adjust_universes:57" class="idref" href="#normalization_in_adjust_universes:57"><span class="id" title="binder">normalization_in_adjust_universes</span></a>}<br/>
&nbsp;&nbsp;(<a id="wtp:58" class="idref" href="#wtp:58"><span class="id" title="binder">wtp</span></a> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#wt_pcuic_program"><span class="id" title="definition">wt_pcuic_program</span></a> (<span class="id" title="var">cf</span>:=<a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:55"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program"><span class="id" title="definition">erase_pcuic_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#guard:54"><span class="id" title="variable">guard</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:55"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#normalization_in:56"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#normalization_in_adjust_universes:57"><span class="id" title="variable">normalization_in_adjust_universes</span></a> (<a class="idref" href="MetaCoq.Utils.MCSquash.html#map_squash"><span class="id" title="lemma">map_squash</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wtp:58"><span class="id" title="variable">wtp</span></a>) (<a class="idref" href="MetaCoq.Utils.MCSquash.html#map_squash"><span class="id" title="lemma">map_squash</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wtp:58"><span class="id" title="variable">wtp</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_erase_program" class="idref" href="#expanded_erase_program"><span class="id" title="lemma">expanded_erase_program</span></a> {<a id="guard:59" class="idref" href="#guard:59"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>} <a id="p:60" class="idref" href="#p:60"><span class="id" title="binder">p</span></a> {<a id="normalization_in:61" class="idref" href="#normalization_in:61"><span class="id" title="binder">normalization_in</span></a> <a id="normalization_in_adjust_universes:62" class="idref" href="#normalization_in_adjust_universes:62"><span class="id" title="binder">normalization_in_adjust_universes</span></a>} (<a id="wtp:63" class="idref" href="#wtp:63"><span class="id" title="binder">wtp</span></a> : <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#wt_pcuic_program"><span class="id" title="definition">wt_pcuic_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded_pcuic_program"><span class="id" title="definition">PCUICEtaExpand.expanded_pcuic_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_eprogram_env"><span class="id" title="definition">EEtaExpandedFix.expanded_eprogram_env</span></a> (@<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#guard:59"><span class="id" title="variable">guard</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#normalization_in:61"><span class="id" title="variable">normalization_in</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#normalization_in_adjust_universes:62"><span class="id" title="variable">normalization_in_adjust_universes</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#wtp:63"><span class="id" title="variable">wtp</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">etaenv</span> <span class="id" title="var">etat</span>]. <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a>, <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program"><span class="id" title="definition">erase_pcuic_program</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#expanded_erase_global_fast"><span class="id" title="lemma">ErasureFunction.expanded_erase_global_fast</span></a>, <span class="id" title="var">etaenv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#expanded_erase_fast"><span class="id" title="lemma">ErasureFunction.expanded_erase_fast</span></a> (<span class="id" title="var">X_type</span>:=<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">etat</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expanded_eprogram_env_expanded_eprogram_cstrs" class="idref" href="#expanded_eprogram_env_expanded_eprogram_cstrs"><span class="id" title="lemma">expanded_eprogram_env_expanded_eprogram_cstrs</span></a> <a id="p:64" class="idref" href="#p:64"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_eprogram_env"><span class="id" title="definition">EEtaExpandedFix.expanded_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:64"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:64"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ [] <span class="id" title="var">etaenv</span> <span class="id" title="var">etat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#isEtaExpFix_env_isEtaExp_env"><span class="id" title="lemma">EEtaExpanded.isEtaExpFix_env_isEtaExp_env</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_global_env_isEtaExp_env"><span class="id" title="lemma">EEtaExpandedFix.expanded_global_env_isEtaExp_env</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#isEtaExpFix_isEtaExp"><span class="id" title="lemma">EEtaExpanded.isEtaExpFix_isEtaExp</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_isEtaExp"><span class="id" title="lemma">EEtaExpandedFix.expanded_isEtaExp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">eauto</span> ].<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="erase_transform" class="idref" href="#erase_transform"><span class="id" title="definition">erase_transform</span></a> {<a id="guard:65" class="idref" href="#guard:65"><span class="id" title="binder">guard</span></a> : <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#abstract_guard_impl"><span class="id" title="class">abstract_guard_impl</span></a>} : <a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#pcuic_program"><span class="id" title="definition">pcuic_program</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICTransform.html#eval_pcuic_program"><span class="id" title="definition">eval_pcuic_program</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#default_wcbv_flags"><span class="id" title="definition">EWcbvEval.default_wcbv_flags</span></a>) :=<br/>
&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "erasure";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:66" class="idref" href="#p:66"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICProgram.html#wt_pcuic_program"><span class="id" title="definition">wt_pcuic_program</span></a> (<span class="id" title="var">cf</span> := <a class="idref" href="MetaCoq.Common.config.html#extraction_checker_flags"><span class="id" title="instance">config.extraction_checker_flags</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:66"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCSquash.html#2403cb4f4230cf3f6910dd7542d09118"><span class="id" title="notation">∥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEtaExpand.html#expanded_pcuic_program"><span class="id" title="definition">PCUICEtaExpand.expanded_pcuic_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:66"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#NormalizationIn_erase_pcuic_program_1"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:66"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#NormalizationIn_erase_pcuic_program_2"><span class="id" title="abbreviation">NormalizationIn_erase_pcuic_program_2</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:66"><span class="id" title="variable">p</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:67" class="idref" href="#p:67"><span class="id" title="binder">p</span></a> <a id="hp:68" class="idref" href="#hp:68"><span class="id" title="binder">hp</span></a> := <span class="id" title="keyword">let</span> <a id="nhs:69" class="idref" href="#nhs:69"><span class="id" title="binder">nhs</span></a> := <a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#hp:68"><span class="id" title="variable">hp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#guard:65"><span class="id" title="variable">guard</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:67"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#nhs:69"><span class="id" title="variable">nhs</span></a>) (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#nhs:69"><span class="id" title="variable">nhs</span></a>) (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#hp:68"><span class="id" title="variable">hp</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:70" class="idref" href="#p:70"><span class="id" title="binder">p</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#53e4c1e546d9b20e029d981f761726c2"><span class="id" title="notation">[/\</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:70"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#53e4c1e546d9b20e029d981f761726c2"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_eprogram_env"><span class="id" title="definition">EEtaExpandedFix.expanded_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:70"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#53e4c1e546d9b20e029d981f761726c2"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:71" class="idref" href="#g:71"><span class="id" title="binder">g</span></a> <a id="g':72" class="idref" href="#g':72"><span class="id" title="binder">g'</span></a> <a id="v:73" class="idref" href="#v:73"><span class="id" title="binder">v</span></a> <a id="v':74" class="idref" href="#v':74"><span class="id" title="binder">v'</span></a> := <span class="id" title="keyword">let</span> <a id="5e616d60b6019fd1fcdddd9ee38e237a" class="idref" href="#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="binder">Σ</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#g:71"><span class="id" title="variable">g</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">;;;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:73"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">⇝</span></a><a class="idref" href="MetaCoq.Erasure.Extract.html#0343a91997e2a7c4174c89d27a2fb981"><span class="id" title="notation">ℇ</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':74"><span class="id" title="variable">v'</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">erase_program</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">p</span> (<span class="id" title="var">wtp</span>&amp;<span class="id" title="var">etap</span>&amp;?&amp;?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a>, <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program"><span class="id" title="definition">erase_pcuic_program</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">egf</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast"><span class="id" title="definition">ErasureFunction.erase_global_fast</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ef</span> := <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase"><span class="id" title="definition">ErasureFunction.erase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">egf</span> <span class="id" title="var">ef</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">injection</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">intros</span> &lt;- &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_fast_wf_glob"><span class="id" title="lemma">ErasureFunction.erase_global_fast_wf_glob</span></a>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_wellformed_fast"><span class="id" title="lemma">ErasureFunction.erase_wellformed_fast</span></a> (<span class="id" title="var">X_type</span>:=<a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a>)); <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#expanded_erase_program"><span class="id" title="lemma">expanded_erase_program</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">guard</span> <span class="id" title="var">p</span> <span class="id" title="var">v</span> [[<span class="id" title="keyword">wf</span> [<span class="id" title="var">T</span> [<span class="id" title="var">HT1</span> <span class="id" title="var">HT2</span>]]]]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICTransform.html#eval_pcuic_program"><span class="id" title="definition">eval_pcuic_program</span></a>, <a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">edestruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program_normalization_helper"><span class="id" title="lemma">erase_pcuic_program_normalization_helper</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">ev</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_program"><span class="id" title="definition">erase_program</span></a>, <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#erase_pcuic_program"><span class="id" title="definition">erase_pcuic_program</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">injection</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> &lt;- &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">wf</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Σ'</span> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#build_wf_env_from_env"><span class="id" title="definition">build_wf_env_from_env</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ev'</span> :<span class="id" title="keyword">∀</span> <a id="2aea6aca3fbbaf8871675cbb17479035" class="idref" href="#2aea6aca3fbbaf8871675cbb17479035"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env"><span class="id" title="record">PCUICAst.PCUICEnvironment.global_env</span></a>, <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#dc7ebab8fccb13fa48a380efa87778ee"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Σ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWcbvEval.html#eval"><span class="id" title="inductive">PCUICWcbvEval.eval</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#dc7ebab8fccb13fa48a380efa87778ee"><span class="id" title="variable">Σ0</span></a> <span class="id" title="var">t</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_correct"><span class="id" title="lemma">ErasureFunction.erase_correct</span></a> <a class="idref" href="MetaCoq.SafeChecker.PCUICWfEnvImpl.html#optimized_abstract_env_impl"><span class="id" title="definition">optimized_abstract_env_impl</span></a> <span class="id" title="var">Σ'</span> <span class="id" title="var">Σ</span><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.Erasure.EAstUtils.html#term_global_deps"><span class="id" title="definition">EAstUtils.term_global_deps</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">ev'</span>.<br/>
&nbsp;&nbsp;4:{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaCoq.Erasure.ErasureFunction.html#erase_global_deps_fast_spec"><span class="id" title="lemma">ErasureFunction.erase_global_deps_fast_spec</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">trea</span>.<br/>
&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.Kernames.html#KernameSet.subset_spec"><span class="id" title="lemma">Kernames.KernameSet.subset_spec</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ev'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v'</span> [<span class="id" title="var">he</span> [<span class="id" title="var">hev</span>]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sq</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">hev</span>. <span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">Σ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">multimatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#reference_impl_env_iter_pop_eq"><span class="id" title="lemma">reference_impl_env_iter_pop_eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#reference_impl_env_iter_pop_eq"><span class="id" title="lemma">reference_impl_env_iter_pop_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
</div>

<div class="doc">
This transformation is the identity on terms but changes the evaluation relation to one
    where fixpoints are not guarded. It requires eta-expanded fixpoints and evaluation
    to use the guarded fixpoint rule as a precondition. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#"><span class="id" title="module">EWcbvEval</span></a> (<span class="id" title="var">WcbvFlags</span>, <span class="id" title="var">with_prop_case</span>, <span class="id" title="var">with_guarded_fix</span>).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="guarded_to_unguarded_fix" class="idref" href="#guarded_to_unguarded_fix"><span class="id" title="definition">guarded_to_unguarded_fix</span></a> {<a id="fl:78" class="idref" href="#fl:78"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">EWcbvEval.WcbvFlags</span></a>} {<a id="wcon:79" class="idref" href="#wcon:79"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">EWcbvEval.with_constructor_as_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="efl:80" class="idref" href="#efl:80"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} (<a id="wguard:81" class="idref" href="#wguard:81"><span class="id" title="binder">wguard</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_guarded_fix"><span class="id" title="method">with_guarded_fix</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:78"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> (<a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#switch_unguarded_fix"><span class="id" title="definition">EWcbvEval.switch_unguarded_fix</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:78"><span class="id" title="variable">fl</span></a>)) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "switching to unguarded fixpoints";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:83" class="idref" href="#p:83"><span class="id" title="binder">p</span></a> <a id="pre:84" class="idref" href="#pre:84"><span class="id" title="binder">pre</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:83"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:82" class="idref" href="#p:82"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:80"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:82"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_eprogram_env"><span class="id" title="definition">EEtaExpandedFix.expanded_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:82"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:85" class="idref" href="#p:85"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:80"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:85"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_eprogram_env"><span class="id" title="definition">EEtaExpandedFix.expanded_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:85"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:86" class="idref" href="#g:86"><span class="id" title="binder">g</span></a> <a id="g':87" class="idref" href="#g':87"><span class="id" title="binder">g'</span></a> <a id="v:88" class="idref" href="#v:88"><span class="id" title="binder">v</span></a> <a id="v':89" class="idref" href="#v':89"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':89"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:88"><span class="id" title="variable">v</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">efl</span> <span class="id" title="var">wguard</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] <span class="id" title="var">v</span> [<span class="id" title="var">wfp</span> [<span class="id" title="var">etae</span> <span class="id" title="var">etat</span>]]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">ev</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#eval_opt_to_target"><span class="id" title="lemma">EEtaExpandedFix.eval_opt_to_target</span></a> ⇒ //. <span class="id" title="tactic">auto</span>. 2:<span class="id" title="tactic">apply</span> <span class="id" title="var">wfp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_global_env_isEtaExp_env"><span class="id" title="lemma">EEtaExpandedFix.expanded_global_env_isEtaExp_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpandedFix.html#expanded_isEtaExp"><span class="id" title="lemma">EEtaExpandedFix.expanded_isEtaExp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="rebuild_wf_env" class="idref" href="#rebuild_wf_env"><span class="id" title="definition">rebuild_wf_env</span></a> {<a id="efl:90" class="idref" href="#efl:90"><span class="id" title="binder">efl</span></a>} (<a id="p:91" class="idref" href="#p:91"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a>) (<a id="hwf:92" class="idref" href="#hwf:92"><span class="id" title="binder">hwf</span></a> : <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:90"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:91"><span class="id" title="variable">p</span></a>): <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.EEnvMap.html#GlobalContextMap.make"><span class="id" title="definition">GlobalContextMap.make</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:91"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_glob_fresh"><span class="id" title="lemma">wf_glob_fresh</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:91"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#hwf:92"><span class="id" title="variable">hwf</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:91"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="rebuild_wf_env_transform" class="idref" href="#rebuild_wf_env_transform"><span class="id" title="definition">rebuild_wf_env_transform</span></a> {<a id="fl:93" class="idref" href="#fl:93"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">EWcbvEval.WcbvFlags</span></a>} {<a id="efl:94" class="idref" href="#efl:94"><span class="id" title="binder">efl</span></a>} (<a id="with_exp:95" class="idref" href="#with_exp:95"><span class="id" title="binder">with_exp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:93"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:93"><span class="id" title="variable">fl</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "rebuilding environment lookup table";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:96" class="idref" href="#p:96"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:94"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#with_exp:95"><span class="id" title="variable">with_exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:96"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:97" class="idref" href="#p:97"><span class="id" title="binder">p</span></a> <a id="pre:98" class="idref" href="#pre:98"><span class="id" title="binder">pre</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#rebuild_wf_env"><span class="id" title="definition">rebuild_wf_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:97"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#pre:98"><span class="id" title="variable">pre</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:99" class="idref" href="#p:99"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:94"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:99"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#with_exp:95"><span class="id" title="variable">with_exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:99"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:100" class="idref" href="#g:100"><span class="id" title="binder">g</span></a> <a id="g':101" class="idref" href="#g':101"><span class="id" title="binder">g'</span></a> <a id="v:102" class="idref" href="#v:102"><span class="id" title="binder">v</span></a> <a id="v':103" class="idref" href="#v':103"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:102"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':103"><span class="id" title="variable">v'</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">fl</span> <span class="id" title="var">efl</span> [] <span class="id" title="var">input</span> [<span class="id" title="keyword">wf</span> <span class="id" title="var">exp</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">fl</span> <span class="id" title="var">efl</span> [] <span class="id" title="var">input</span> <span class="id" title="var">v</span> [] <span class="id" title="var">ev</span> <span class="id" title="var">p'</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="remove_params_optimization" class="idref" href="#remove_params_optimization"><span class="id" title="definition">remove_params_optimization</span></a> {<a id="fl:104" class="idref" href="#fl:104"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">EWcbvEval.WcbvFlags</span></a>} {<a id="wcon:105" class="idref" href="#wcon:105"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">EWcbvEval.with_constructor_as_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>}<br/>
&nbsp;&nbsp;(<a id="efl:106" class="idref" href="#efl:106"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:104"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:104"><span class="id" title="variable">fl</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "stripping constructor parameters";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:108" class="idref" href="#p:108"><span class="id" title="binder">p</span></a> <a id="pre:109" class="idref" href="#pre:109"><span class="id" title="binder">pre</span></a> := <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_program"><span class="id" title="definition">ERemoveParams.strip_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:108"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:107" class="idref" href="#p:107"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:106"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:107"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:110" class="idref" href="#p:110"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> (<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#switch_no_params"><span class="id" title="definition">switch_no_params</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:106"><span class="id" title="variable">efl</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:110"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:110"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:111" class="idref" href="#g:111"><span class="id" title="binder">g</span></a> <a id="g':112" class="idref" href="#g':112"><span class="id" title="binder">g'</span></a> <a id="v:113" class="idref" href="#v:113"><span class="id" title="binder">v</span></a> <a id="v':114" class="idref" href="#v':114"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':114"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip"><span class="id" title="definition">ERemoveParams.strip</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#g:111"><span class="id" title="variable">g</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:113"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">efl</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] [<span class="id" title="var">wfp</span> <span class="id" title="var">etap</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">ERemoveParams.strip</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_program_wf"><span class="id" title="lemma">ERemoveParams.strip_program_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_program_expanded"><span class="id" title="lemma">ERemoveParams.strip_program_expanded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span>⇒ ? <span class="id" title="var">wcon</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] /= <span class="id" title="var">v</span> [[<span class="id" title="var">wfe</span> <span class="id" title="var">wft</span>] <span class="id" title="var">etap</span>] [<span class="id" title="var">ev</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_eval"><span class="id" title="lemma">ERemoveParams.strip_eval</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span> ⇒ /= //. <span class="id" title="var">now</span> <span class="id" title="var">sq</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">etap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed_closed_env"><span class="id" title="lemma">wellformed_closed_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed_closed"><span class="id" title="lemma">wellformed_closed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">etap</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="remove_params_fast_optimization" class="idref" href="#remove_params_fast_optimization"><span class="id" title="definition">remove_params_fast_optimization</span></a> (<a id="fl:115" class="idref" href="#fl:115"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">EWcbvEval.WcbvFlags</span></a>) {<a id="wcon:116" class="idref" href="#wcon:116"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">EWcbvEval.with_constructor_as_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>}<br/>
&nbsp;&nbsp;(<a id="efl:117" class="idref" href="#efl:117"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:115"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:115"><span class="id" title="variable">fl</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "stripping constructor parameters (faster?)";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:119" class="idref" href="#p:119"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#Fast.strip_env"><span class="id" title="definition">ERemoveParams.Fast.strip_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:119"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#Fast.strip"><span class="id" title="definition">ERemoveParams.Fast.strip</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:119"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:119"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:118" class="idref" href="#p:118"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:117"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:118"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:118"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:120" class="idref" href="#p:120"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> (<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#switch_no_params"><span class="id" title="definition">switch_no_params</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:117"><span class="id" title="variable">efl</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:120"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:120"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:121" class="idref" href="#g:121"><span class="id" title="binder">g</span></a> <a id="g':122" class="idref" href="#g':122"><span class="id" title="binder">g'</span></a> <a id="v:123" class="idref" href="#v:123"><span class="id" title="binder">v</span></a> <a id="v':124" class="idref" href="#v':124"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':124"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip"><span class="id" title="definition">ERemoveParams.strip</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#g:121"><span class="id" title="variable">g</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:123"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">efl</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] [<span class="id" title="var">wfp</span> <span class="id" title="var">etap</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">ERemoveParams.strip</span>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#Fast.strip_fast"><span class="id" title="lemma">ERemoveParams.Fast.strip_fast</span></a> -<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#Fast.strip_env_fast"><span class="id" title="lemma">ERemoveParams.Fast.strip_env_fast</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_program_wf"><span class="id" title="lemma">ERemoveParams.strip_program_wf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_program_expanded"><span class="id" title="lemma">ERemoveParams.strip_program_expanded</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Σ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span>⇒ ? <span class="id" title="var">wcon</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] /= <span class="id" title="var">v</span> [[<span class="id" title="var">wfe</span> <span class="id" title="var">wft</span>] <span class="id" title="var">etap</span>] [<span class="id" title="var">ev</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#Fast.strip_fast"><span class="id" title="lemma">ERemoveParams.Fast.strip_fast</span></a> -<a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#Fast.strip_env_fast"><span class="id" title="lemma">ERemoveParams.Fast.strip_env_fast</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.ERemoveParams.html#strip_eval"><span class="id" title="lemma">ERemoveParams.strip_eval</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">sq</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">etap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed_closed_env"><span class="id" title="lemma">wellformed_closed_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed_closed"><span class="id" title="lemma">wellformed_closed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">etap</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#"><span class="id" title="module">EOptimizePropDiscr</span></a> <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#"><span class="id" title="module">EWcbvEval</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="optimize_prop_discr_optimization" class="idref" href="#optimize_prop_discr_optimization"><span class="id" title="definition">optimize_prop_discr_optimization</span></a> {<a id="fl:125" class="idref" href="#fl:125"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">WcbvFlags</span></a>} {<a id="wcon:126" class="idref" href="#wcon:126"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">with_constructor_as_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="efl:127" class="idref" href="#efl:127"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>} {<a id="hastrel:128" class="idref" href="#hastrel:128"><span class="id" title="binder">hastrel</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">has_tRel</span></a>} {<a id="hastbox:129" class="idref" href="#hastbox:129"><span class="id" title="binder">hastbox</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">has_tBox</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:125"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a> (<a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#disable_prop_cases"><span class="id" title="definition">disable_prop_cases</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:125"><span class="id" title="variable">fl</span></a>)) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "optimize_prop_discr";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:131" class="idref" href="#p:131"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> := <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_program"><span class="id" title="definition">optimize_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:131"><span class="id" title="variable">p</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:130" class="idref" href="#p:130"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:127"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:130"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:130"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:132" class="idref" href="#p:132"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:127"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:132"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:132"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:133" class="idref" href="#g:133"><span class="id" title="binder">g</span></a> <a id="g':134" class="idref" href="#g':134"><span class="id" title="binder">g'</span></a> <a id="v:135" class="idref" href="#v:135"><span class="id" title="binder">v</span></a> <a id="v':136" class="idref" href="#v':136"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':136"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize"><span class="id" title="definition">EOptimizePropDiscr.optimize</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#g:133"><span class="id" title="variable">g</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:135"><span class="id" title="variable">v</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">efl</span> <span class="id" title="var">hastrel</span> <span class="id" title="var">hastbox</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] [<span class="id" title="var">wfp</span> <span class="id" title="var">etap</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_program_wf"><span class="id" title="definition">optimize_program_wf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_program_expanded"><span class="id" title="definition">optimize_program_expanded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">efl</span> <span class="id" title="var">hastrel</span> <span class="id" title="var">hastbox</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] /= <span class="id" title="var">v</span> [<span class="id" title="var">wfe</span> <span class="id" title="var">wft</span>] [<span class="id" title="var">ev</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EOptimizePropDiscr.html#optimize_correct"><span class="id" title="lemma">EOptimizePropDiscr.optimize_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed_closed_env"><span class="id" title="lemma">wellformed_closed_env</span></a>, <span class="id" title="var">wfe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#wellformed_closed"><span class="id" title="lemma">wellformed_closed</span></a>, <span class="id" title="var">wfe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#"><span class="id" title="library">EInlineProjections</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="inline_projections_optimization" class="idref" href="#inline_projections_optimization"><span class="id" title="definition">inline_projections_optimization</span></a> {<a id="fl:137" class="idref" href="#fl:137"><span class="id" title="binder">fl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#WcbvFlags"><span class="id" title="class">WcbvFlags</span></a>} {<a id="wcon:138" class="idref" href="#wcon:138"><span class="id" title="binder">wcon</span></a> : <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#with_constructor_as_block"><span class="id" title="method">EWcbvEval.with_constructor_as_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} (<a id="efl:139" class="idref" href="#efl:139"><span class="id" title="binder">efl</span></a> := <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#switch_no_params"><span class="id" title="definition">switch_no_params</span></a> <a class="idref" href="MetaCoq.Erasure.EWellformed.html#all_env_flags"><span class="id" title="definition">all_env_flags</span></a>)<br/>
&nbsp;&nbsp;{<a id="hastrel:140" class="idref" href="#hastrel:140"><span class="id" title="binder">hastrel</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tRel"><span class="id" title="method">has_tRel</span></a>} {<a id="hastbox:141" class="idref" href="#hastbox:141"><span class="id" title="binder">hastbox</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tBox"><span class="id" title="method">has_tBox</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:137"><span class="id" title="variable">fl</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#fl:137"><span class="id" title="variable">fl</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "primitive projection inlining";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:143" class="idref" href="#p:143"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> := <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#optimize_program"><span class="id" title="definition">EInlineProjections.optimize_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:143"><span class="id" title="variable">p</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:142" class="idref" href="#p:142"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:139"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:142"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:142"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:144" class="idref" href="#p:144"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> (<a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#disable_projections_env_flag"><span class="id" title="definition">disable_projections_env_flag</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:139"><span class="id" title="variable">efl</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:144"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:144"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:145" class="idref" href="#g:145"><span class="id" title="binder">g</span></a> <a id="g':146" class="idref" href="#g':146"><span class="id" title="binder">g'</span></a> <a id="v:147" class="idref" href="#v:147"><span class="id" title="binder">v</span></a> <a id="v':148" class="idref" href="#v':148"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':148"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#optimize"><span class="id" title="definition">EInlineProjections.optimize</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#g:145"><span class="id" title="variable">g</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:147"><span class="id" title="variable">v</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">efl</span> <span class="id" title="var">hastrel</span> <span class="id" title="var">hastbox</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] [<span class="id" title="var">wfp</span> <span class="id" title="var">etap</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#optimize_program_wf"><span class="id" title="definition">optimize_program_wf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#optimize_program_expanded"><span class="id" title="definition">optimize_program_expanded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">fl</span> <span class="id" title="var">wcon</span> <span class="id" title="var">hastrel</span> <span class="id" title="var">hastbox</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] /= <span class="id" title="var">v</span> [<span class="id" title="var">wfe</span> <span class="id" title="var">wft</span>] [<span class="id" title="var">ev</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EInlineProjections.html#optimize_correct"><span class="id" title="lemma">EInlineProjections.optimize_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">red</span>. <span class="id" title="var">sq</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">wfe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wfe</span>. <span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#"><span class="id" title="library">EConstructorsAsBlocks</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="constructors_as_blocks_transformation" class="idref" href="#constructors_as_blocks_transformation"><span class="id" title="definition">constructors_as_blocks_transformation</span></a> (<a id="efl:149" class="idref" href="#efl:149"><span class="id" title="binder">efl</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#EEnvFlags"><span class="id" title="class">EEnvFlags</span></a>)<br/>
&nbsp;&nbsp;{<a id="has_app:150" class="idref" href="#has_app:150"><span class="id" title="binder">has_app</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_tApp"><span class="id" title="method">has_tApp</span></a>} {<a id="has_pars:151" class="idref" href="#has_pars:151"><span class="id" title="binder">has_pars</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#has_cstr_params"><span class="id" title="method">has_cstr_params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} {<a id="has_cstrblocks:152" class="idref" href="#has_cstrblocks:152"><span class="id" title="binder">has_cstrblocks</span></a> : <a class="idref" href="MetaCoq.Erasure.EWellformed.html#cstr_as_blocks"><span class="id" title="method">cstr_as_blocks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.t"><span class="id" title="record">Transform.t</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram_env"><span class="id" title="definition">eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EProgram.html#eprogram"><span class="id" title="definition">eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> <a class="idref" href="MetaCoq.Erasure.EAst.html#term"><span class="id" title="inductive">EAst.term</span></a> (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram_env"><span class="id" title="definition">eval_eprogram_env</span></a> <a class="idref" href="MetaCoq.Erasure.EWcbvEval.html#target_wcbv_flags"><span class="id" title="definition">target_wcbv_flags</span></a>) (<a class="idref" href="MetaCoq.Erasure.EProgram.html#eval_eprogram"><span class="id" title="definition">eval_eprogram</span></a> <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#block_wcbv_flags"><span class="id" title="definition">block_wcbv_flags</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="MetaCoq.Common.Transform.html#Transform.name"><span class="id" title="projection">name</span></a> := "transforming to constuctors as blocks";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.transform"><span class="id" title="projection">transform</span></a> <a id="p:154" class="idref" href="#p:154"><span class="id" title="binder">p</span></a> <span class="id" title="var">_</span> := <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#transform_blocks_program"><span class="id" title="definition">EConstructorsAsBlocks.transform_blocks_program</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:154"><span class="id" title="variable">p</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.pre"><span class="id" title="projection">pre</span></a> <a id="p:153" class="idref" href="#p:153"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram_env"><span class="id" title="definition">wf_eprogram_env</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:149"><span class="id" title="variable">efl</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:153"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:153"><span class="id" title="variable">p</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.post"><span class="id" title="projection">post</span></a> <a id="p:155" class="idref" href="#p:155"><span class="id" title="binder">p</span></a> := <a class="idref" href="MetaCoq.Erasure.EProgram.html#wf_eprogram"><span class="id" title="definition">wf_eprogram</span></a> (<a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#switch_cstr_as_blocks"><span class="id" title="definition">switch_cstr_as_blocks</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#efl:149"><span class="id" title="variable">efl</span></a>) <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#p:155"><span class="id" title="variable">p</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Transform.html#Transform.obseq"><span class="id" title="projection">obseq</span></a> <a id="g:156" class="idref" href="#g:156"><span class="id" title="binder">g</span></a> <a id="g':157" class="idref" href="#g':157"><span class="id" title="binder">g'</span></a> <a id="v:158" class="idref" href="#v:158"><span class="id" title="binder">v</span></a> <a id="v':159" class="idref" href="#v':159"><span class="id" title="binder">v'</span></a> := <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v':159"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#transform_blocks"><span class="id" title="definition">EConstructorsAsBlocks.transform_blocks</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#g:156"><span class="id" title="variable">g</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.ErasurePlugin.ETransform.html#v:158"><span class="id" title="variable">v</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">efl</span> <span class="id" title="var">hasapp</span> <span class="id" title="var">haspars</span> <span class="id" title="var">hascstrs</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] [] [<span class="id" title="var">wftp</span> <span class="id" title="var">wft</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">etap</span> <span class="id" title="var">etat</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#transform_wf_global"><span class="id" title="lemma">transform_wf_global</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#transform_wellformed"><span class="id" title="lemma">transform_wellformed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">efl</span> <span class="id" title="var">hasapp</span> <span class="id" title="var">haspars</span> <span class="id" title="var">hascstrs</span> [<span class="id" title="var">Σ</span> <span class="id" title="var">t</span>] /= <span class="id" title="var">v</span> [[<span class="id" title="var">wfe1</span> <span class="id" title="var">wfe2</span>] <span class="id" title="var">wft</span>] [<span class="id" title="var">ev</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Erasure.EEtaExpanded.html#expanded_eprogram_env_cstrs"><span class="id" title="definition">EEtaExpanded.expanded_eprogram_env_cstrs</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wft</span>. <span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> // [<span class="id" title="var">e1</span> <span class="id" title="var">e2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">transform_blocks</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Erasure.EConstructorsAsBlocks.html#transform_blocks_eval"><span class="id" title="lemma">transform_blocks_eval</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
