<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8.html#"><span class="id" title="library">Utf8</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#"><span class="id" title="library">CRelationClasses</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Equations.Type</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Relation</span> <span class="id" title="library">Relation_Properties</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#"><span class="id" title="library">PCUICReduction</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#"><span class="id" title="library">PCUICCasesContexts</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICTactics.html#"><span class="id" title="library">PCUICTactics</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICWeakeningConv.html#"><span class="id" title="library">PCUICWeakeningConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningTyp.html#"><span class="id" title="library">PCUICWeakeningTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="library">PCUICTyping</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#"><span class="id" title="library">PCUICGlobalEnv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#"><span class="id" title="library">PCUICClosedTyp</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICGeneration.html#"><span class="id" title="library">PCUICGeneration</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#"><span class="id" title="library">PCUICConversion</span></a> <span class="comment">(*&nbsp;Needs&nbsp;transitivity&nbsp;of&nbsp;cumulativity&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#"><span class="id" title="library">PCUICValidity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICArities.html#"><span class="id" title="library">PCUICArities</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#"><span class="id" title="library">PCUICInversion</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#"><span class="id" title="library">PCUICInductiveInversion</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#"><span class="id" title="library">PCUICCases</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#"><span class="id" title="library">PCUICWellScopedCumulativity</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#"><span class="id" title="library">PCUICSpine</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#"><span class="id" title="library">PCUICSR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#"><span class="id" title="library">PCUICSafeLemmata</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#"><span class="id" title="library">PCUICInductives</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#"><span class="id" title="library">PCUICInductiveInversion</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden".<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Template.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="MetaCoq.Template.TypingWf.html#"><span class="id" title="library">TypingWf</span></a> <a class="idref" href="MetaCoq.Template.UnivSubst.html#"><span class="id" title="library">UnivSubst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TermEquality.html#"><span class="id" title="library">TermEquality</span></a> <a class="idref" href="MetaCoq.Template.LiftSubst.html#"><span class="id" title="library">LiftSubst</span></a> <a class="idref" href="MetaCoq.Template.Reduction.html#"><span class="id" title="library">Reduction</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "+notation_overridden".<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.TemplatePCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#"><span class="id" title="library">PCUICToTemplate</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.monad_utils.html#MCMonadNotation"><span class="id" title="module">MCMonadNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>. <span class="comment">(*&nbsp;Use&nbsp;{cf}&nbsp;to&nbsp;parameterize&nbsp;by&nbsp;checker_flags&nbsp;where&nbsp;needed&nbsp;*)</span><br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations.Prop.DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
</div>

<div class="doc">
Translation from PCUIC back to template-coq terms.

<div class="paragraph"> </div>

  This translation is not direct due to two peculiarities of template-coq's syntax:
<ul class="doclist">
<li> applications are n-ary and not all terms are well-formed, so we have to
    use an induction on the size of derivations to transform the binary applications
    into n-ary ones.

</li>
<li> The representation of cases in template-coq is "compact" in the sense that
    the predicate and branches contexts do not appear in the syntax of terms but can
    be canonically rebuilt on-demand, as long as the environment has a declaration for the
    inductive type. In contrast, PCUIC has these contexts explicitely present in terms,
    so that the theory of reduction (confluence) and conversion do not need to rely on any
    such well-formedness arguments about the global environment, considerably simplifying the theory:
    For example one couldn't do recursive calls on such "rebuilt" contexts using simple structural
    recursion, the new contexts having no structural relation to the terms at hand.

<div class="paragraph"> </div>

    This means that.Common-Coq's `red1` reduction of cases requires well-formedness conditions
    not readily available in PCUIC's. We solve this conundrum using subject reduction: indeed
    cumulativity is always called starting with two well-sorted types, and we can hence show
    that every one-step reduction in a PCUIC cumulativity derivation goes from a well-typed term
    to a well-typed term. We can hence prove that.Common-Coq's `red1` reductions follow from the
    untyped PCUIC reduction when restricted to well-typed terms (which have many more invariants).
    We actually just need the term to be reduced to be well-typed to show that the interpretation
    preserves one-step reduction in <span class="inlinecode"><span class="id" title="var">trans_red1</span>}</span>.

</li>
</ul>

<div class="paragraph"> </div>

 Source = PCUIC, Target = Coq 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="S" class="idref" href="#S"><span class="id" title="module">S</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="SE" class="idref" href="#SE"><span class="id" title="module">SE</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment"><span class="id" title="module">PCUICEnvironment</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="ST" class="idref" href="#ST"><span class="id" title="module">ST</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="module">PCUICTyping</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="T" class="idref" href="#T"><span class="id" title="module">T</span></a> := <a class="idref" href="MetaCoq.Template.Ast.html#"><span class="id" title="module">Template.Ast</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="TT" class="idref" href="#TT"><span class="id" title="module">TT</span></a> := <a class="idref" href="MetaCoq.Template.Typing.html#"><span class="id" title="module">Template.Typing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="SL" class="idref" href="#SL"><span class="id" title="module">SL</span></a> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="module">PCUICLiftSubst</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="TL" class="idref" href="#TL"><span class="id" title="module">TL</span></a> := <a class="idref" href="MetaCoq.Template.LiftSubst.html#"><span class="id" title="module">Template.LiftSubst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_list</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> ?<a class="idref" href="MetaCoq.Utils.MCProd.html#compose_on_snd"><span class="id" title="lemma">compose_on_snd</span></a> ?<a class="idref" href="MetaCoq.Common.BasicAst.html#compose_map_def"><span class="id" title="lemma">compose_map_def</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">solve_all</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapOne" class="idref" href="#mapOne"><span class="id" title="lemma">mapOne</span></a> {<a id="X:1" class="idref" href="#X:1"><span class="id" title="binder">X</span></a> <a id="Y:2" class="idref" href="#Y:2"><span class="id" title="binder">Y</span></a>} (<a id="f:3" class="idref" href="#f:3"><span class="id" title="binder">f</span></a>:<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#X:1"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Y:2"><span class="id" title="variable">Y</span></a>) <a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:3"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:4"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:3"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:4"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_app" class="idref" href="#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> <a id="a66eb0e7c85ea280f33904e5ac83af54" class="idref" href="#a66eb0e7c85ea280f33904e5ac83af54"><span class="id" title="binder">Γ</span></a> <a id="b678146ccad37efbf79e1ef5fce260c8" class="idref" href="#b678146ccad37efbf79e1ef5fce260c8"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a66eb0e7c85ea280f33904e5ac83af54"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b678146ccad37efbf79e1ef5fce260c8"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a66eb0e7c85ea280f33904e5ac83af54"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b678146ccad37efbf79e1ef5fce260c8"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="forget_types_map_context" class="idref" href="#forget_types_map_context"><span class="id" title="lemma">forget_types_map_context</span></a> {<a id="term:7" class="idref" href="#term:7"><span class="id" title="binder">term</span></a> <a id="term':8" class="idref" href="#term':8"><span class="id" title="binder">term'</span></a>} (<a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#term':8"><span class="id" title="variable">term'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#term:7"><span class="id" title="variable">term</span></a>) <a id="ctx:10" class="idref" href="#ctx:10"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ctx:10"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ctx:10"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_map_context"><span class="id" title="lemma">map_map_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lift" class="idref" href="#trans_lift"><span class="id" title="lemma">trans_lift</span></a> (<a id="t:11" class="idref" href="#t:11"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#term"><span class="id" title="inductive">S.term</span></a>) <a id="n:12" class="idref" href="#n:12"><span class="id" title="binder">n</span></a> <a id="k:13" class="idref" href="#k:13"><span class="id" title="binder">k</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift"><span class="id" title="definition">S.lift</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:12"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:13"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:11"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift"><span class="id" title="definition">T.lift</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:12"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:13"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:11"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#mkAppMkApps"><span class="id" title="lemma">AstUtils.mkAppMkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mapOne"><span class="id" title="lemma">mapOne</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_mkApps"><span class="id" title="lemma">TL.lift_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_predicate"><span class="id" title="definition">T.map_predicate</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">PCUICAst.map_predicate</span></a> /= /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> /=; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#forget_types_map_context"><span class="id" title="lemma">forget_types_map_context</span></a> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types_length"><span class="id" title="lemma">forget_types_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_branch"><span class="id" title="definition">T.map_branch</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types_length"><span class="id" title="lemma">forget_types_length</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context_length"><span class="id" title="lemma">map_context_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">solve_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_fst" class="idref" href="#on_fst"><span class="id" title="definition">on_fst</span></a> {<a id="A:14" class="idref" href="#A:14"><span class="id" title="binder">A</span></a> <a id="B:15" class="idref" href="#B:15"><span class="id" title="binder">B</span></a> <a id="C:16" class="idref" href="#C:16"><span class="id" title="binder">C</span></a>} (<a id="f:17" class="idref" href="#f:17"><span class="id" title="binder">f</span></a>:<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:14"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#C:16"><span class="id" title="variable">C</span></a>) (<a id="p:18" class="idref" href="#p:18"><span class="id" title="binder">p</span></a>:<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:14"><span class="id" title="variable">A</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:15"><span class="id" title="variable">B</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:17"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:18"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:18"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="trans_def" class="idref" href="#trans_def"><span class="id" title="definition">trans_def</span></a> (<a id="decl:19" class="idref" href="#decl:19"><span class="id" title="binder">decl</span></a>:<a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>) : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">dname</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">dtype</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">dbody</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">rarg</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_ext_levels" class="idref" href="#trans_global_ext_levels"><span class="id" title="lemma">trans_global_ext_levels</span></a> <a id="f8cd4500ff4fee5cd966dfeb97ee3847" class="idref" href="#f8cd4500ff4fee5cd966dfeb97ee3847"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_levels"><span class="id" title="definition">S.global_ext_levels</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f8cd4500ff4fee5cd966dfeb97ee3847"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_levels"><span class="id" title="definition">T.global_ext_levels</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f8cd4500ff4fee5cd966dfeb97ee3847"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_global_ext_constraints" class="idref" href="#trans_global_ext_constraints"><span class="id" title="lemma">trans_global_ext_constraints</span></a> <a id="c3655209f64c4a3ac42c320568dce6f3" class="idref" href="#c3655209f64c4a3ac42c320568dce6f3"><span class="id" title="binder">Σ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_constraints"><span class="id" title="definition">S.global_ext_constraints</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c3655209f64c4a3ac42c320568dce6f3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_constraints"><span class="id" title="definition">T.global_ext_constraints</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c3655209f64c4a3ac42c320568dce6f3"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mem_level_set" class="idref" href="#trans_mem_level_set"><span class="id" title="lemma">trans_mem_level_set</span></a> <a id="l:22" class="idref" href="#l:22"><span class="id" title="binder">l</span></a> <a id="3eadb2a0aeaeef49bd6cd27b7316c266" class="idref" href="#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:22"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_levels"><span class="id" title="definition">S.global_ext_levels</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.mem"><span class="id" title="definition">LevelSet.mem</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:22"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_levels"><span class="id" title="definition">T.global_ext_levels</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_in_level_set" class="idref" href="#trans_in_level_set"><span class="id" title="lemma">trans_in_level_set</span></a> <a id="l:24" class="idref" href="#l:24"><span class="id" title="binder">l</span></a> <a id="7fd4a516bfc23c1706437f236b640793" class="idref" href="#7fd4a516bfc23c1706437f236b640793"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:24"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_levels"><span class="id" title="definition">S.global_ext_levels</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7fd4a516bfc23c1706437f236b640793"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#LevelSet.In"><span class="id" title="definition">LevelSet.In</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:24"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_levels"><span class="id" title="definition">T.global_ext_levels</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7fd4a516bfc23c1706437f236b640793"><span class="id" title="variable">Σ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lookup" class="idref" href="#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> <a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> <a id="cst:27" class="idref" href="#cst:27"><span class="id" title="binder">cst</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.lookup_env"><span class="id" title="definition">Ast.Env.lookup_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cst:27"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_decl"><span class="id" title="definition">trans_global_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_env"><span class="id" title="definition">SE.lookup_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cst:27"><span class="id" title="variable">cst</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Σ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">univs</span> <span class="id" title="var">Σ</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Σ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">case</span>: <a class="idref" href="MetaCoq.Utils.ReflectEq.html#eqb_spec"><span class="id" title="method">eqb_spec</span></a> ⇒ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΣ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_declared_constant" class="idref" href="#trans_declared_constant"><span class="id" title="lemma">trans_declared_constant</span></a> {<a id="cf:28" class="idref" href="#cf:28"><span class="id" title="binder">cf</span></a>} <a id="b45015ea779d7a6908b541de791ac941" class="idref" href="#b45015ea779d7a6908b541de791ac941"><span class="id" title="binder">Σ</span></a> {<a id="b340fc4a3a0ef34688a43677ef6b054b" class="idref" href="#b340fc4a3a0ef34688a43677ef6b054b"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a>} <a id="cst:31" class="idref" href="#cst:31"><span class="id" title="binder">cst</span></a> <a id="decl:32" class="idref" href="#decl:32"><span class="id" title="binder">decl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constant"><span class="id" title="definition">S.declared_constant</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cst:31"><span class="id" title="variable">cst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:32"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constant"><span class="id" title="definition">T.declared_constant</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b45015ea779d7a6908b541de791ac941"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cst:31"><span class="id" title="variable">cst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:32"><span class="id" title="variable">decl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_constant_to_gen"><span class="id" title="lemma">declared_constant_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_constant_from_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_constant_from_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constant"><span class="id" title="definition">T.declared_constant</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constant_gen"><span class="id" title="definition">T.declared_constant_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constant"><span class="id" title="definition">S.declared_constant</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constant_gen"><span class="id" title="definition">S.declared_constant_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_constraintSet_in" class="idref" href="#trans_constraintSet_in"><span class="id" title="lemma">trans_constraintSet_in</span></a> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a> <a id="c9c14b58eeeaee559bef0d4f884fa28f" class="idref" href="#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="binder">Σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSet.In"><span class="id" title="definition">ConstraintSet.In</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:33"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_constraints"><span class="id" title="definition">S.global_ext_constraints</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#ConstraintSet.In"><span class="id" title="definition">ConstraintSet.In</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:33"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_constraints"><span class="id" title="definition">T.global_ext_constraints</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_global_ext_constraints"><span class="id" title="lemma">trans_global_ext_constraints</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_consistent_instance_ext" class="idref" href="#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a> {<a id="cf:35" class="idref" href="#cf:35"><span class="id" title="binder">cf</span></a>} <a id="06f02a2e1ae1dbc558fdd78ca814765d" class="idref" href="#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="binder">Σ</span></a> <a id="decl:37" class="idref" href="#decl:37"><span class="id" title="binder">decl</span></a> <a id="u:38" class="idref" href="#u:38"><span class="id" title="binder">u</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#consistent_instance_ext"><span class="id" title="definition">S.consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:37"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:38"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#consistent_instance_ext"><span class="id" title="definition">T.consistent_instance_ext</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#06f02a2e1ae1dbc558fdd78ca814765d"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:37"><span class="id" title="variable">decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:38"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#consistent_instance_ext"><span class="id" title="definition">S.consistent_instance_ext</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#consistent_instance"><span class="id" title="definition">consistent_instance</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#consistent_instance"><span class="id" title="definition">S.consistent_instance</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_declared_inductive" class="idref" href="#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a> {<a id="cf:39" class="idref" href="#cf:39"><span class="id" title="binder">cf</span></a>} <a id="a5fa9249bdc19684169f7ebb302b006b" class="idref" href="#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="binder">Σ</span></a> {<a id="94c35527a6eead1e8057ff6b54e9908f" class="idref" href="#94c35527a6eead1e8057ff6b54e9908f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a>} <a id="ind:42" class="idref" href="#ind:42"><span class="id" title="binder">ind</span></a> <a id="mdecl:43" class="idref" href="#mdecl:43"><span class="id" title="binder">mdecl</span></a> <a id="idecl:44" class="idref" href="#idecl:44"><span class="id" title="binder">idecl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_inductive"><span class="id" title="definition">S.declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:42"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:43"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:44"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_inductive"><span class="id" title="definition">T.declared_inductive</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:42"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:43"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:44"><span class="id" title="variable">idecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#TemplateDeclarationTyping.declared_inductive_from_gen"><span class="id" title="lemma">Typing.TemplateDeclarationTyping.declared_inductive_from_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_minductive"><span class="id" title="definition">T.declared_minductive</span></a>,<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_minductive_gen"><span class="id" title="definition">T.declared_minductive_gen</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_minductive"><span class="id" title="definition">S.declared_minductive</span></a>,<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_minductive_gen"><span class="id" title="definition">S.declared_minductive_gen</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_declared_constructor" class="idref" href="#trans_declared_constructor"><span class="id" title="lemma">trans_declared_constructor</span></a> {<a id="cf:45" class="idref" href="#cf:45"><span class="id" title="binder">cf</span></a>} <a id="f850f5b668e843742fbd7a0a15104996" class="idref" href="#f850f5b668e843742fbd7a0a15104996"><span class="id" title="binder">Σ</span></a> {<a id="8dd3882a7638d57fd288df1676c96924" class="idref" href="#8dd3882a7638d57fd288df1676c96924"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f850f5b668e843742fbd7a0a15104996"><span class="id" title="variable">Σ</span></a>} <a id="ind:48" class="idref" href="#ind:48"><span class="id" title="binder">ind</span></a> <a id="mdecl:49" class="idref" href="#mdecl:49"><span class="id" title="binder">mdecl</span></a> <a id="idecl:50" class="idref" href="#idecl:50"><span class="id" title="binder">idecl</span></a> <a id="cdecl:51" class="idref" href="#cdecl:51"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constructor"><span class="id" title="definition">S.declared_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f850f5b668e843742fbd7a0a15104996"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:48"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:49"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:50"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:51"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_constructor"><span class="id" title="definition">T.declared_constructor</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f850f5b668e843742fbd7a0a15104996"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:48"><span class="id" title="variable">ind</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:49"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:50"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:51"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mkApps" class="idref" href="#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> <a id="args:53" class="idref" href="#args:53"><span class="id" title="binder">args</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">PCUICAst.mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:53"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:52"><span class="id" title="variable">t</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:53"><span class="id" title="variable">args</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> [<span class="id" title="var">map</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.Template.AstUtils.html#mkApps_mkApp"><span class="id" title="lemma">AstUtils.mkApps_mkApp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decl_type" class="idref" href="#trans_decl_type"><span class="id" title="lemma">trans_decl_type</span></a> <a id="decl:54" class="idref" href="#decl:54"><span class="id" title="binder">decl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:54"><span class="id" title="variable">decl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:54"><span class="id" title="variable">decl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst" class="idref" href="#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a id="xs:55" class="idref" href="#xs:55"><span class="id" title="binder">xs</span></a> <a id="k:56" class="idref" href="#k:56"><span class="id" title="binder">k</span></a> <a id="t:57" class="idref" href="#t:57"><span class="id" title="binder">t</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst"><span class="id" title="definition">S.subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xs:55"><span class="id" title="variable">xs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:56"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:57"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst"><span class="id" title="definition">T.subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xs:55"><span class="id" title="variable">xs</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:56"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:57"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">cbn</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a>;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_forall"><span class="id" title="lemma">All_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t1</span>);<span class="id" title="var">cbn</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#mkApp_mkApps"><span class="id" title="lemma">AstUtils.mkApp_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_predicate"><span class="id" title="definition">T.map_predicate</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [? [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context_length"><span class="id" title="lemma">map_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_branch"><span class="id" title="definition">T.map_branch</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types_length"><span class="id" title="lemma">forget_types_length</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context_length"><span class="id" title="lemma">map_context_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">m</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst10" class="idref" href="#trans_subst10"><span class="id" title="lemma">trans_subst10</span></a> <a id="u:58" class="idref" href="#u:58"><span class="id" title="binder">u</span></a> <a id="B:59" class="idref" href="#B:59"><span class="id" title="binder">B</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst1"><span class="id" title="definition">S.subst1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:58"><span class="id" title="variable">u</span></a> 0 <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:59"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst10"><span class="id" title="abbreviation">T.subst10</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:58"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:59"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst1"><span class="id" title="definition">S.subst1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_instance" class="idref" href="#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a> <a id="u:60" class="idref" href="#u:60"><span class="id" title="binder">u</span></a> <a id="t:61" class="idref" href="#t:61"><span class="id" title="binder">t</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:60"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:61"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:60"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:61"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>;<span class="id" title="var">cbn</span>;<span class="id" title="tactic">auto</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map_eq"><span class="id" title="lemma">All_map_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span> <span class="id" title="var">IHt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#mkAppMkApps"><span class="id" title="lemma">AstUtils.mkAppMkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.UnivSubst.html#subst_instance_mkApps"><span class="id" title="lemma">subst_instance_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>, <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_predicate"><span class="id" title="definition">T.map_predicate</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_branch"><span class="id" title="definition">T.map_branch</span></a> /=. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">tFixProp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">tFixProp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_instance_ctx" class="idref" href="#trans_subst_instance_ctx"><span class="id" title="lemma">trans_subst_instance_ctx</span></a> <a id="ad797e72248915d9212fa4589483d7f6" class="idref" href="#ad797e72248915d9212fa4589483d7f6"><span class="id" title="binder">Γ</span></a> <a id="u:63" class="idref" href="#u:63"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ad797e72248915d9212fa4589483d7f6"><span class="id" title="variable">Γ@</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:63"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ad797e72248915d9212fa4589483d7f6"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:63"><span class="id" title="variable">u</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /= /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_instance_context"><span class="id" title="instance">SE.subst_instance_context</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_instance_context"><span class="id" title="instance">T.Env.subst_instance_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cst_type" class="idref" href="#trans_cst_type"><span class="id" title="lemma">trans_cst_type</span></a> <a id="decl:64" class="idref" href="#decl:64"><span class="id" title="binder">decl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cst_type"><span class="id" title="projection">SE.cst_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:64"><span class="id" title="variable">decl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.cst_type"><span class="id" title="projection">cst_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constant_body"><span class="id" title="definition">trans_constant_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:64"><span class="id" title="variable">decl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_type" class="idref" href="#trans_ind_type"><span class="id" title="lemma">trans_ind_type</span></a> <a id="idecl:65" class="idref" href="#idecl:65"><span class="id" title="binder">idecl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind_type"><span class="id" title="projection">SE.ind_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:65"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_type"><span class="id" title="projection">ind_type</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:65"><span class="id" title="variable">idecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_type_of_constructor" class="idref" href="#trans_type_of_constructor"><span class="id" title="lemma">trans_type_of_constructor</span></a> <a id="mdecl:66" class="idref" href="#mdecl:66"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:67" class="idref" href="#cdecl:67"><span class="id" title="binder">cdecl</span></a> <a id="ind:68" class="idref" href="#ind:68"><span class="id" title="binder">ind</span></a> <a id="i:69" class="idref" href="#i:69"><span class="id" title="binder">i</span></a> <a id="u:70" class="idref" href="#u:70"><span class="id" title="binder">u</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_of_constructor"><span class="id" title="definition">ST.type_of_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:66"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:67"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:68"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:69"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:70"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_of_constructor"><span class="id" title="definition">TT.type_of_constructor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:66"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:67"><span class="id" title="variable">cdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:68"><span class="id" title="variable">ind</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:69"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:70"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_of_constructor"><span class="id" title="definition">ST.type_of_constructor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_of_constructor"><span class="id" title="definition">TT.type_of_constructor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> [<span class="id" title="var">fst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inds_spec"><span class="id" title="lemma">PCUICCases.inds_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.Ast.html#inds_spec"><span class="id" title="lemma">inds_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> 0 <span class="id" title="keyword">as</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ind_bodies0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHind_bodies0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_dtype" class="idref" href="#trans_dtype"><span class="id" title="lemma">trans_dtype</span></a> <a id="decl:71" class="idref" href="#decl:71"><span class="id" title="binder">decl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:71"><span class="id" title="variable">decl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_def"><span class="id" title="definition">trans_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:71"><span class="id" title="variable">decl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_dbody" class="idref" href="#trans_dbody"><span class="id" title="lemma">trans_dbody</span></a> <a id="decl:72" class="idref" href="#decl:72"><span class="id" title="binder">decl</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:72"><span class="id" title="variable">decl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_def"><span class="id" title="definition">trans_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:72"><span class="id" title="variable">decl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_declared_projection" class="idref" href="#trans_declared_projection"><span class="id" title="lemma">trans_declared_projection</span></a> {<a id="cf:73" class="idref" href="#cf:73"><span class="id" title="binder">cf</span></a>} <a id="0bb1b226b53b6455e93ad6a4d211d8ec" class="idref" href="#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="binder">Σ</span></a> {<a id="585ee31184b6a738d426576933f0141f" class="idref" href="#585ee31184b6a738d426576933f0141f"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>} <a id="p:76" class="idref" href="#p:76"><span class="id" title="binder">p</span></a> <a id="mdecl:77" class="idref" href="#mdecl:77"><span class="id" title="binder">mdecl</span></a> <a id="idecl:78" class="idref" href="#idecl:78"><span class="id" title="binder">idecl</span></a> <a id="cdecl:79" class="idref" href="#cdecl:79"><span class="id" title="binder">cdecl</span></a> <a id="pdecl:80" class="idref" href="#pdecl:80"><span class="id" title="binder">pdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_projection"><span class="id" title="definition">S.declared_projection</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:76"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:77"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:78"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:79"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#pdecl:80"><span class="id" title="variable">pdecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_projection"><span class="id" title="definition">T.declared_projection</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#0bb1b226b53b6455e93ad6a4d211d8ec"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:76"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:77"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:78"><span class="id" title="variable">idecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:79"><span class="id" title="variable">cdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#pdecl:80"><span class="id" title="variable">pdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_constructor"><span class="id" title="lemma">trans_declared_constructor</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pdecl</span>, <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">mdecl</span>;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inv_opt_monad" class="idref" href="#inv_opt_monad"><span class="id" title="lemma">inv_opt_monad</span></a> {<a id="X:81" class="idref" href="#X:81"><span class="id" title="binder">X</span></a> <a id="Y:82" class="idref" href="#Y:82"><span class="id" title="binder">Y</span></a> <a id="Z:83" class="idref" href="#Z:83"><span class="id" title="binder">Z</span></a>} (<a id="f:84" class="idref" href="#f:84"><span class="id" title="binder">f</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#X:81"><span class="id" title="variable">X</span></a>) (<a id="g:85" class="idref" href="#g:85"><span class="id" title="binder">g</span></a>:<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#X:81"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Y:82"><span class="id" title="variable">Y</span></a>) (<a id="h:86" class="idref" href="#h:86"><span class="id" title="binder">h</span></a>:<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#X:81"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Y:82"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Z:83"><span class="id" title="variable">Z</span></a>) <a id="c:87" class="idref" href="#c:87"><span class="id" title="binder">c</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> <a class="idref" href="MetaCoq.Utils.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:84"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.Utils.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a id="y:89" class="idref" href="#y:89"><span class="id" title="binder">y</span></a> <a class="idref" href="MetaCoq.Utils.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:85"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:88"><span class="id" title="variable">x</span></a><a class="idref" href="MetaCoq.Utils.monad_utils.html#6bec7af38cdf877f357faf8f1699c8f9"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#h:86"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:89"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c:87"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:90" class="idref" href="#a:90"><span class="id" title="binder">a</span></a> <a id="b:91" class="idref" href="#b:91"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a:90"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:85"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a:90"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:91"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#h:86"><span class="id" title="variable">h</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a:90"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:91"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c:87"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="var">eqn</span>: ?;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">g</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>: ?;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_destr_arity" class="idref" href="#trans_destr_arity"><span class="id" title="lemma">trans_destr_arity</span></a> <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder">x</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#destArity"><span class="id" title="definition">Ast.destArity</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:92"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">(</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">xs</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">,</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">u</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xs:94"><span class="id" title="variable">xs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:93"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">PCUICAst.destArity</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:92"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_decl"><span class="id" title="abbreviation">SE.context_decl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">xs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_decl"><span class="id" title="abbreviation">context_decl</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <span class="id" title="var">xs</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqxs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xs</span> |- *;<span class="id" title="var">cbn</span>;<span class="id" title="tactic">trivial</span>;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHx2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHx3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">x1</span>);<span class="id" title="var">cbn</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mkProd_or_LetIn" class="idref" href="#trans_mkProd_or_LetIn"><span class="id" title="lemma">trans_mkProd_or_LetIn</span></a> <a id="a:96" class="idref" href="#a:96"><span class="id" title="binder">a</span></a> <a id="t:97" class="idref" href="#t:97"><span class="id" title="binder">t</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mkProd_or_LetIn"><span class="id" title="definition">SE.mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a:96"><span class="id" title="variable">a</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:97"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a:96"><span class="id" title="variable">a</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:97"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [] ?];<span class="id" title="var">cbn</span>;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_it_mkProd_or_LetIn" class="idref" href="#trans_it_mkProd_or_LetIn"><span class="id" title="lemma">trans_it_mkProd_or_LetIn</span></a> <a id="xs:98" class="idref" href="#xs:98"><span class="id" title="binder">xs</span></a> <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#it_mkProd_or_LetIn"><span class="id" title="definition">SE.it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xs:98"><span class="id" title="variable">xs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:99"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xs:98"><span class="id" title="variable">xs</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:99"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span> |- *;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHxs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkProd_or_LetIn"><span class="id" title="lemma">trans_mkProd_or_LetIn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_nth" class="idref" href="#trans_nth"><span class="id" title="lemma">trans_nth</span></a> <a id="n:100" class="idref" href="#n:100"><span class="id" title="binder">n</span></a> <a id="l:101" class="idref" href="#l:101"><span class="id" title="binder">l</span></a> <a id="x:102" class="idref" href="#x:102"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:100"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:101"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:102"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:100"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:101"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:102"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_isLambda" class="idref" href="#trans_isLambda"><span class="id" title="lemma">trans_isLambda</span></a> <a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isLambda"><span class="id" title="definition">T.isLambda</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:103"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isLambda"><span class="id" title="definition">S.isLambda</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:103"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t2</span>); <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbnr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">cbnr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_unfold_fix" class="idref" href="#trans_unfold_fix"><span class="id" title="lemma">trans_unfold_fix</span></a> <a id="mfix:104" class="idref" href="#mfix:104"><span class="id" title="binder">mfix</span></a> <a id="idx:105" class="idref" href="#idx:105"><span class="id" title="binder">idx</span></a> <a id="narg:106" class="idref" href="#narg:106"><span class="id" title="binder">narg</span></a> <a id="fn:107" class="idref" href="#fn:107"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:104"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idx:105"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#narg:106"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fn:107"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#unfold_fix"><span class="id" title="definition">TT.unfold_fix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:104"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idx:105"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#narg:106"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fn:107"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#unfold_fix"><span class="id" title="definition">TT.unfold_fix</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdef</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hdef</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_subst"><span class="id" title="definition">TT.fix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix'</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHmfix</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_unfold_cofix" class="idref" href="#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <a id="mfix:108" class="idref" href="#mfix:108"><span class="id" title="binder">mfix</span></a> <a id="idx:109" class="idref" href="#idx:109"><span class="id" title="binder">idx</span></a> <a id="narg:110" class="idref" href="#narg:110"><span class="id" title="binder">narg</span></a> <a id="fn:111" class="idref" href="#fn:111"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:108"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idx:109"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#narg:110"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fn:111"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#unfold_cofix"><span class="id" title="definition">TT.unfold_cofix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:108"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idx:109"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#narg:110"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fn:111"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#unfold_cofix"><span class="id" title="definition">TT.unfold_cofix</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdef</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;- &lt;-]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cofix_subst"><span class="id" title="definition">TT.cofix_subst</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">mfix'</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHmfix</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_is_constructor" class="idref" href="#trans_is_constructor"><span class="id" title="lemma">trans_is_constructor</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="args:112" class="idref" href="#args:112"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#term"><span class="id" title="inductive">S.term</span></a>) (<a id="narg:113" class="idref" href="#narg:113"><span class="id" title="binder">narg</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#narg:113"><span class="id" title="variable">narg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:112"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#is_constructor"><span class="id" title="definition">TT.is_constructor</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#narg:113"><span class="id" title="variable">narg</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:112"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">args</span> <span class="id" title="var">narg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#is_constructor"><span class="id" title="definition">TT.is_constructor</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> //. <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ //. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#isConstruct_app"><span class="id" title="definition">AstUtils.isConstruct_app</span></a>, <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#isConstruct_app"><span class="id" title="definition">isConstruct_app</span></a>, <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec"><span class="id" title="definition">decompose_app_rec</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec_inv"><span class="id" title="lemma">decompose_app_rec_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">AstUtils.decompose_app_mkApps</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="refine_red1_r" class="idref" href="#refine_red1_r"><span class="id" title="lemma">refine_red1_r</span></a> <a id="ae803507e33f398382020080ee478371" class="idref" href="#ae803507e33f398382020080ee478371"><span class="id" title="binder">Σ</span></a> <a id="799b9f0182e743f0bacfeeb6ad1620c4" class="idref" href="#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="binder">Γ</span></a> <a id="t:116" class="idref" href="#t:116"><span class="id" title="binder">t</span></a> <a id="u:117" class="idref" href="#u:117"><span class="id" title="binder">u</span></a> <a id="u':118" class="idref" href="#u':118"><span class="id" title="binder">u'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:117"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u':118"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ae803507e33f398382020080ee478371"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:116"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:117"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ae803507e33f398382020080ee478371"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:116"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u':118"><span class="id" title="variable">u'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="f1a9983fccb8f06779b2fc55ae6f41b0" class="idref" href="#f1a9983fccb8f06779b2fc55ae6f41b0"><span class="id" title="lemma">refine_red1_Γ</span></a> <a id="a24658b2adcc01e6c41a8c2c40c17df4" class="idref" href="#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="binder">Σ</span></a> <a id="1ed97380d6588f1d970b0e1889e78b16" class="idref" href="#1ed97380d6588f1d970b0e1889e78b16"><span class="id" title="binder">Γ</span></a> <a id="e60028118fcb65588cae1b3b53780664" class="idref" href="#e60028118fcb65588cae1b3b53780664"><span class="id" title="binder">Γ'</span></a> <a id="t:122" class="idref" href="#t:122"><span class="id" title="binder">t</span></a> <a id="u:123" class="idref" href="#u:123"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1ed97380d6588f1d970b0e1889e78b16"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e60028118fcb65588cae1b3b53780664"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1ed97380d6588f1d970b0e1889e78b16"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:123"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e60028118fcb65588cae1b3b53780664"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:123"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">wf_inv</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_inv"><span class="id" title="lemma">WfAst.wf_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">rdest</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_fix_context" class="idref" href="#trans_fix_context"><span class="id" title="lemma">trans_fix_context</span></a> <a id="mfix:124" class="idref" href="#mfix:124"><span class="id" title="binder">mfix</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:124"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">TT.fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:124"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mfix</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">TT.fix_context</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.LiftSubst.html#lift0_p"><span class="id" title="lemma">lift0_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift0_p"><span class="id" title="lemma">SL.lift0_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.vass"><span class="id" title="definition">vass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.vass"><span class="id" title="definition">vass</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> 1 <span class="id" title="keyword">as</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> |- *;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHmfix</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_context" class="idref" href="#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> <a id="k:126" class="idref" href="#k:126"><span class="id" title="binder">k</span></a> <a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_context"><span class="id" title="definition">SE.subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:126"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_context"><span class="id" title="definition">T.Env.subst_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:125"><span class="id" title="variable">s</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:126"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_context_snoc"><span class="id" title="lemma">SE.subst_context_snoc</span></a> /=. <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_context"><span class="id" title="definition">T.Env.subst_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ]<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_context_snoc"><span class="id" title="lemma">SE.subst_context_snoc</span></a> /=. <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_context"><span class="id" title="definition">T.Env.subst_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ]<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_lift_context" class="idref" href="#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a> <a id="n:128" class="idref" href="#n:128"><span class="id" title="binder">n</span></a> <a id="k:129" class="idref" href="#k:129"><span class="id" title="binder">k</span></a> <a id="6d5a25013c15bde3ab5fe007c2c81f34" class="idref" href="#6d5a25013c15bde3ab5fe007c2c81f34"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_context"><span class="id" title="definition">SE.lift_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:128"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:129"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6d5a25013c15bde3ab5fe007c2c81f34"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_context"><span class="id" title="definition">T.Env.lift_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:128"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:129"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6d5a25013c15bde3ab5fe007c2c81f34"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_snoc"><span class="id" title="lemma">PCUICLiftSubst.lift_context_snoc</span></a> /= <a class="idref" href="MetaCoq.Template.TypingWf.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_snoc"><span class="id" title="lemma">PCUICLiftSubst.lift_context_snoc</span></a> /= <a class="idref" href="MetaCoq.Template.TypingWf.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_decl"><span class="id" title="definition">subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_smash_context" class="idref" href="#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <a id="176f8993380a4cc2dc0087cc17e85ccb" class="idref" href="#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="binder">Γ</span></a> <a id="989f03d30900731e9c2b2e43f994e054" class="idref" href="#989f03d30900731e9c2b2e43f994e054"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#smash_context"><span class="id" title="definition">SE.smash_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#989f03d30900731e9c2b2e43f994e054"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#smash_context"><span class="id" title="definition">T.Env.smash_context</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#989f03d30900731e9c2b2e43f994e054"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΔ</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΔ</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="context_assumptions_map" class="idref" href="#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a id="ctx:133" class="idref" href="#ctx:133"><span class="id" title="binder">ctx</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">Ast.Env.context_assumptions</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ctx:133"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions"><span class="id" title="definition">SE.context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ctx:133"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">ctx</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_extended_subst" class="idref" href="#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a> <a id="784d768ae6e85e0848ed43b713b18d98" class="idref" href="#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="binder">Γ</span></a> <a id="n:135" class="idref" href="#n:135"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#extended_subst"><span class="id" title="definition">SE.extended_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:135"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.extended_subst"><span class="id" title="definition">extended_subst</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#784d768ae6e85e0848ed43b713b18d98"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:135"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets_k" class="idref" href="#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a> <a id="8a4c20a6968e87ff6570bb4b66183293" class="idref" href="#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="binder">Γ</span></a> <a id="k:137" class="idref" href="#k:137"><span class="id" title="binder">k</span></a> <a id="T:138" class="idref" href="#T:138"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_k"><span class="id" title="definition">SE.expand_lets_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:137"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:138"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_k"><span class="id" title="definition">T.Env.expand_lets_k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8a4c20a6968e87ff6570bb4b66183293"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:137"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:138"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_k"><span class="id" title="definition">SE.expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets"><span class="id" title="definition">T.Env.expand_lets</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_k"><span class="id" title="definition">T.Env.expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets" class="idref" href="#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> <a id="3f1ad0985b3b15c6f067f772239c78db" class="idref" href="#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="binder">Γ</span></a> <a id="T:140" class="idref" href="#T:140"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets"><span class="id" title="definition">SE.expand_lets</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:140"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets"><span class="id" title="definition">T.Env.expand_lets</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:140"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets"><span class="id" title="definition">SE.expand_lets</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_k"><span class="id" title="definition">SE.expand_lets_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="alpha_eq_trans" class="idref" href="#alpha_eq_trans"><span class="id" title="lemma">alpha_eq_trans</span></a> {<a id="61459e7a87d057bf9d65fc4c1f4660ee" class="idref" href="#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="binder">Γ</span></a> <a id="1a3b200d154a801ce694cfe669154564" class="idref" href="#1a3b200d154a801ce694cfe669154564"><span class="id" title="binder">Δ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1a3b200d154a801ce694cfe669154564"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#61459e7a87d057bf9d65fc4c1f4660ee"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1a3b200d154a801ce694cfe669154564"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> []; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wt" class="idref" href="#wt"><span class="id" title="definition">wt</span></a> {<a id="cf:143" class="idref" href="#cf:143"><span class="id" title="binder">cf</span></a>} <a id="1edcac3d5f3653f51d57fce50ace22de" class="idref" href="#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="binder">Σ</span></a> <a id="730fc85456f9052a2572966249a12cca" class="idref" href="#730fc85456f9052a2572966249a12cca"><span class="id" title="binder">Γ</span></a> <a id="t:146" class="idref" href="#t:146"><span class="id" title="binder">t</span></a> := <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T:147" class="idref" href="#T:147"><span class="id" title="binder">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1edcac3d5f3653f51d57fce50ace22de"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#730fc85456f9052a2572966249a12cca"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:146"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:147"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isType_wt" class="idref" href="#isType_wt"><span class="id" title="lemma">isType_wt</span></a> {<a id="cf:148" class="idref" href="#cf:148"><span class="id" title="binder">cf</span></a>} <a id="61d957dbbf28335ee3a7f14eb0a60f86" class="idref" href="#61d957dbbf28335ee3a7f14eb0a60f86"><span class="id" title="binder">Σ</span></a> <a id="e6a4e757b83d5f28b577435367723d9a" class="idref" href="#e6a4e757b83d5f28b577435367723d9a"><span class="id" title="binder">Γ</span></a> <a id="T:151" class="idref" href="#T:151"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#61d957dbbf28335ee3a7f14eb0a60f86"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e6a4e757b83d5f28b577435367723d9a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:151"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt"><span class="id" title="definition">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#61d957dbbf28335ee3a7f14eb0a60f86"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e6a4e757b83d5f28b577435367723d9a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:151"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> <span class="id" title="var">hs</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">PCUICAst.tSort</span></a> <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isType_wt"><span class="id" title="lemma">isType_wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isType_wt"><span class="id" title="lemma">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isType_wt"><span class="id" title="lemma">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isType_wt"><span class="id" title="lemma">&gt;-&gt;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isType_wt"><span class="id" title="lemma">wt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wtsub" class="idref" href="#wtsub"><span class="id" title="section">wtsub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="cf:152" class="idref" href="#cf:152"><span class="id" title="binder">cf</span></a>} {<a id="7a945b9afea37aaa6ce61e5e6cdd6206" class="idref" href="#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICEnvironment.global_env_ext</span></a>} {<a id="62bf4ce524e557802ed1e7340e063b4c" class="idref" href="#62bf4ce524e557802ed1e7340e063b4c"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="variable">Σ</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wt_subterm" class="idref" href="#wt_subterm"><span class="id" title="definition">wt_subterm</span></a> <a id="6439798080e8461f56cc2db3993e6879" class="idref" href="#6439798080e8461f56cc2db3993e6879"><span class="id" title="binder">Γ</span></a> (<a id="t:156" class="idref" href="#t:156"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="wt:157" class="idref" href="#wt:157"><span class="id" title="binder">wt</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt"><span class="id" title="definition">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:156"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">A</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span>) <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">A</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span>) <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">ty</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="MetaCoq.Utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">b</span><a class="idref" href="MetaCoq.Utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">ty</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">ty</span>) <span class="id" title="var">b'</span><a class="idref" href="MetaCoq.Utils.MCProd.html#bd8134d210bd52bab4e4b61c65bf150a"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">f</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="mdecl:159" class="idref" href="#mdecl:159"><span class="id" title="binder">mdecl</span></a> <a id="idecl:160" class="idref" href="#idecl:160"><span class="id" title="binder">idecl</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ci</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:160"><span class="id" title="variable">idecl</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ci</span>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#ci_npar"><span class="id" title="projection">ci_npar</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_npars"><span class="id" title="projection">ind_npars</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">PCUICEnvironment.ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">PCUICAst.puinst</span></a> <span class="id" title="var">p</span>)<a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:160"><span class="id" title="variable">idecl</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="inductive">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">PCUICCases.ind_predicate_context</span></a> <span class="id" title="var">ci</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:160"><span class="id" title="variable">idecl</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">PCUICAst.pcontext</span></a> <span class="id" title="var">p</span>)<a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_rel"><span class="id" title="definition">wf_local_rel</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>) <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">@[</span></a><span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#spine_subst"><span class="id" title="record">PCUICSpine.spine_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">PCUICAst.pparams</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">PCUICAst.pparams</span></a> <span class="id" title="var">p</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">PCUICEnvironment.smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">PCUICEnvironment.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">PCUICAst.puinst</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">PCUICCases.case_predicate_context</span></a> <span class="id" title="var">ci</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:160"><span class="id" title="variable">idecl</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a> (<span class="id" title="keyword">fun</span> <a id="i:161" class="idref" href="#i:161"><span class="id" title="binder">i</span></a> <a id="cdecl:162" class="idref" href="#cdecl:162"><span class="id" title="binder">cdecl</span></a> <a id="br:163" class="idref" href="#br:163"><span class="id" title="binder">br</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:162"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="inductive">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> <span class="id" title="var">ci</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:162"><span class="id" title="variable">cdecl</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_rel"><span class="id" title="definition">wf_local_rel</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">@[</span></a><span class="id" title="var">p</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="inductive">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">PCUICCases.case_branch_context</span></a> <span class="id" title="var">ci</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:162"><span class="id" title="variable">cdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <span class="id" title="var">p</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">PCUICCases.case_branch_context</span></a> <span class="id" title="var">ci</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:159"><span class="id" title="variable">mdecl</span></a> <span class="id" title="var">p</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:162"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:163"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#5acdc49a53cb0c88d730a6161981a83f"><span class="id" title="notation">]</span></a>) 0 <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:160"><span class="id" title="variable">idecl</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <span class="id" title="var">brs</span><a class="idref" href="MetaCoq.Utils.MCProd.html#1f8246a8b9755a049a26b0af15a9ac60"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="d:165" class="idref" href="#d:165"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:164"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt:157"><span class="id" title="variable">wt</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6439798080e8461f56cc2db3993e6879"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <span class="id" title="var">mfix</span>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:164"><span class="id" title="variable">d</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a>)) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICGeneration.html#"><span class="id" title="module">PCUICGeneration</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#"><span class="id" title="module">PCUICInversion</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="spine_subst_wt" class="idref" href="#spine_subst_wt"><span class="id" title="lemma">spine_subst_wt</span></a> <a id="612ccdfb9614510cc025f5f344f765fe" class="idref" href="#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="binder">Γ</span></a> <a id="args:167" class="idref" href="#args:167"><span class="id" title="binder">args</span></a> <a id="inst:168" class="idref" href="#inst:168"><span class="id" title="binder">inst</span></a> <a id="a48d9d5d237c21c9a14fb29d21e61fd0" class="idref" href="#a48d9d5d237c21c9a14fb29d21e61fd0"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#spine_subst"><span class="id" title="record">PCUICSpine.spine_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:167"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#inst:168"><span class="id" title="variable">inst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a48d9d5d237c21c9a14fb29d21e61fd0"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt"><span class="id" title="definition">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#612ccdfb9614510cc025f5f344f765fe"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#inst:168"><span class="id" title="variable">inst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">clear</span> -<span class="id" title="var">inst_subslet</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">inst_subslet</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wt_inv" class="idref" href="#wt_inv"><span class="id" title="lemma">wt_inv</span></a> {<a id="cf9ed6d8a61ce68e821384f5f41630c7" class="idref" href="#cf9ed6d8a61ce68e821384f5f41630c7"><span class="id" title="binder">Γ</span></a> <a id="t:171" class="idref" href="#t:171"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt"><span class="id" title="definition">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5bdce1f78b3a897e1fc9da7fb2b2f345"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cf9ed6d8a61ce68e821384f5f41630c7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:171"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_subterm"><span class="id" title="definition">wt_subterm</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cf9ed6d8a61ce68e821384f5f41630c7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:171"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">T</span> <span class="id" title="var">h</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Evar"><span class="id" title="lemma">inversion_Evar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Prod"><span class="id" title="lemma">inversion_Prod</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Lambda"><span class="id" title="lemma">inversion_Lambda</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_LetIn"><span class="id" title="lemma">inversion_LetIn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_App"><span class="id" title="lemma">inversion_App</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mdecl</span>&amp;<span class="id" title="var">idecl</span>&amp;<span class="id" title="var">decli</span>&amp;<span class="id" title="var">indices</span>&amp;[]&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tty</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">PCUICValidity.validity</span></a> <span class="id" title="var">scrut_ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#isType_mkApps_Ind_smash"><span class="id" title="lemma">PCUICInductiveInversion.isType_mkApps_Ind_smash</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">tty</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">wf_pred</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#spine_subst_wt"><span class="id" title="lemma">spine_subst_wt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_rev_inv"><span class="id" title="lemma">All_rev_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mdecl</span>, <span class="id" title="var">idecl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_app_inv"><span class="id" title="definition">wf_local_app_inv</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#wf_local_alpha"><span class="id" title="lemma">wf_local_alpha</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#alpha_eq_subst_instance"><span class="id" title="lemma">alpha_eq_subst_instance</span></a>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#wf_ind_predicate"><span class="id" title="lemma">wf_ind_predicate</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_All2_mix_left"><span class="id" title="lemma">All2i_All2_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">brs_ty</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_nth_hyp"><span class="id" title="lemma">All2i_nth_hyp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">brs_ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf_local_app_inv"><span class="id" title="definition">wf_local_app_inv</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#wf_local_alpha"><span class="id" title="lemma">wf_local_alpha</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#alpha_eq_subst_instance"><span class="id" title="lemma">alpha_eq_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">scrut_ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#wf_case_branch_type"><span class="id" title="lemma">wf_case_branch_type</span></a> <span class="id" title="var">ps</span> <span class="id" title="var">_</span> <span class="id" title="var">decli</span> <span class="id" title="var">scrut_ty</span> <span class="id" title="var">wf_pred</span> <span class="id" title="var">pret_ty</span> <span class="id" title="var">conv_pctx</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">X</span>. { <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">a1</span>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductives.html#wf_local_expand_lets"><span class="id" title="lemma">wf_local_expand_lets</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#subst_instance_expand_lets_ctx"><span class="id" title="lemma">subst_instance_expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_subst_context"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_subst_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_inds"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_inds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#subst_instance_id_mdecl"><span class="id" title="lemma">PCUICUnivSubstitutionConv.subst_instance_id_mdecl</span></a>; <span class="id" title="var">tea</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">PCUICCasesContexts.inst_case_branch_context_eq</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Proj"><span class="id" title="lemma">inversion_Proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Fix"><span class="id" title="lemma">inversion_Fix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_prod"><span class="id" title="lemma">All_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">a0</span>). <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_CoFix"><span class="id" title="lemma">inversion_CoFix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_prod"><span class="id" title="lemma">All_prod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">a0</span>). <span class="id" title="tactic">intros</span> ? <span class="id" title="var">h</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wtsub"><span class="id" title="section">wtsub</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">outtimes</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">ih</span> : <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ih</span> <span class="id" title="keyword">as</span> [? ?]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_cumul" class="idref" href="#red1_cumul"><span class="id" title="lemma">red1_cumul</span></a> {<a id="cf:172" class="idref" href="#cf:172"><span class="id" title="binder">cf</span></a>} (<a id="c1c5c8c67a0dc9808d5f39ed656267e7" class="idref" href="#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="pb:174" class="idref" href="#pb:174"><span class="id" title="binder">pb</span></a> <a id="62abbf5bce3aee9ccd3ee50bd268d444" class="idref" href="#62abbf5bce3aee9ccd3ee50bd268d444"><span class="id" title="binder">Γ</span></a> <a id="T:176" class="idref" href="#T:176"><span class="id" title="binder">T</span></a> <a id="U:177" class="idref" href="#U:177"><span class="id" title="binder">U</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#62abbf5bce3aee9ccd3ee50bd268d444"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:176"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:177"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_gen"><span class="id" title="inductive">TT.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c1c5c8c67a0dc9808d5f39ed656267e7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#62abbf5bce3aee9ccd3ee50bd268d444"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#pb:174"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:176"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:177"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 2; <span class="id" title="var">tea</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TermEquality.html#eq_term_refl"><span class="id" title="lemma">TermEquality.eq_term_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.TermEquality.html#leq_term_refl"><span class="id" title="lemma">TermEquality.leq_term_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_cumul_inv" class="idref" href="#red1_cumul_inv"><span class="id" title="lemma">red1_cumul_inv</span></a> {<a id="cf:178" class="idref" href="#cf:178"><span class="id" title="binder">cf</span></a>} (<a id="1e1aaa9c2472685a6034e69f58121c1e" class="idref" href="#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="pb:180" class="idref" href="#pb:180"><span class="id" title="binder">pb</span></a> <a id="bec8080d891bb4c9bb44cd1cc5bbd275" class="idref" href="#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="binder">Γ</span></a> <a id="T:182" class="idref" href="#T:182"><span class="id" title="binder">T</span></a> <a id="U:183" class="idref" href="#U:183"><span class="id" title="binder">U</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:182"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:183"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_gen"><span class="id" title="inductive">TT.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1e1aaa9c2472685a6034e69f58121c1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#pb:180"><span class="id" title="variable">pb</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:183"><span class="id" title="variable">U</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:182"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 3; <span class="id" title="var">tea</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pb</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TermEquality.html#eq_term_refl"><span class="id" title="lemma">TermEquality.eq_term_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TermEquality.html#leq_term_refl"><span class="id" title="lemma">TermEquality.leq_term_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TTconv" class="idref" href="#TTconv"><span class="id" title="definition">TTconv</span></a> {<a id="cf:184" class="idref" href="#cf:184"><span class="id" title="binder">cf</span></a>} (<a id="140a8189dc044d625ce3311ee7ac5019" class="idref" href="#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="f267148128b043d37ae5bc64fa77bae2" class="idref" href="#f267148128b043d37ae5bc64fa77bae2"><span class="id" title="binder">Γ</span></a> : <span class="id" title="definition">relation</span> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="inductive">clos_refl_sym_trans</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#relation_disjunction"><span class="id" title="definition">relation_disjunction</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f267148128b043d37ae5bc64fa77bae2"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.Template.TermEquality.html#eq_term"><span class="id" title="abbreviation">TermEquality.eq_term</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_ext_constraints"><span class="id" title="definition">T.global_ext_constraints</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#140a8189dc044d625ce3311ee7ac5019"><span class="id" title="variable">Σ</span></a>))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_conv" class="idref" href="#red1_conv"><span class="id" title="lemma">red1_conv</span></a> {<a id="cf:187" class="idref" href="#cf:187"><span class="id" title="binder">cf</span></a>} (<a id="714880f5627db3426d84fcf8ef7a9648" class="idref" href="#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) <a id="a21cdd7eafebbe8e81ec0025876def77" class="idref" href="#a21cdd7eafebbe8e81ec0025876def77"><span class="id" title="binder">Γ</span></a> <a id="T:190" class="idref" href="#T:190"><span class="id" title="binder">T</span></a> <a id="U:191" class="idref" href="#U:191"><span class="id" title="binder">U</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a21cdd7eafebbe8e81ec0025876def77"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:190"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:191"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TTconv"><span class="id" title="definition">TTconv</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#714880f5627db3426d84fcf8ef7a9648"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a21cdd7eafebbe8e81ec0025876def77"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:190"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:191"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_expand_lets_ctx" class="idref" href="#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <a id="cfcf9625e6d3f263e97950fc9e914d08" class="idref" href="#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="binder">Γ</span></a> <a id="283489869bcd0cc4c5dd60d09d0659e9" class="idref" href="#283489869bcd0cc4c5dd60d09d0659e9"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_ctx"><span class="id" title="definition">SE.expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#283489869bcd0cc4c5dd60d09d0659e9"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#283489869bcd0cc4c5dd60d09d0659e9"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_ctx"><span class="id" title="definition">SE.expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#expand_lets_k_ctx"><span class="id" title="definition">SE.expand_lets_k_ctx</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_extended_subst"><span class="id" title="lemma">trans_extended_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift_context"><span class="id" title="lemma">trans_lift_context</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_inds" class="idref" href="#trans_inds"><span class="id" title="lemma">trans_inds</span></a> <a id="ind:194" class="idref" href="#ind:194"><span class="id" title="binder">ind</span></a> <a id="u:195" class="idref" href="#u:195"><span class="id" title="binder">u</span></a> <a id="mdecl:196" class="idref" href="#mdecl:196"><span class="id" title="binder">mdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">PCUICAst.inds</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:194"><span class="id" title="variable">ind</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:195"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind_bodies"><span class="id" title="projection">SE.ind_bodies</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:196"><span class="id" title="variable">mdecl</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#inds"><span class="id" title="definition">inds</span></a> (<a class="idref" href="MetaCoq.Common.Kernames.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:194"><span class="id" title="variable">ind</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:195"><span class="id" title="variable">u</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.ind_bodies"><span class="id" title="projection">ind_bodies</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:196"><span class="id" title="variable">mdecl</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inds_spec"><span class="id" title="lemma">PCUICCases.inds_spec</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#inds_spec"><span class="id" title="lemma">inds_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_mapi"><span class="id" title="lemma">map_mapi</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_map"><span class="id" title="lemma">mapi_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_ext"><span class="id" title="lemma">mapi_ext</span></a> ⇒ <span class="id" title="var">n</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context" class="idref" href="#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a> <a id="ci:197" class="idref" href="#ci:197"><span class="id" title="binder">ci</span></a> <a id="mdecl:198" class="idref" href="#mdecl:198"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:199" class="idref" href="#cdecl:199"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:197"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:198"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:199"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:197"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:198"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:199"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context_inst" class="idref" href="#trans_cstr_branch_context_inst"><span class="id" title="lemma">trans_cstr_branch_context_inst</span></a> <a id="ci:200" class="idref" href="#ci:200"><span class="id" title="binder">ci</span></a> <a id="mdecl:201" class="idref" href="#mdecl:201"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:202" class="idref" href="#cdecl:202"><span class="id" title="binder">cdecl</span></a> <a id="i:203" class="idref" href="#i:203"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:200"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:201"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:202"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:203"><span class="id" title="variable">i</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:200"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:201"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:202"><span class="id" title="variable">cdecl</span></a>)<a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:203"><span class="id" title="variable">i</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance_ctx"><span class="id" title="lemma">trans_subst_instance_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_alpha" class="idref" href="#map2_set_binder_name_alpha"><span class="id" title="lemma">map2_set_binder_name_alpha</span></a> (<a id="nas:204" class="idref" href="#nas:204"><span class="id" title="binder">nas</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="d8289e398d1258676618926d2acbbb5d" class="idref" href="#d8289e398d1258676618926d2acbbb5d"><span class="id" title="binder">Δ</span></a> <a id="eefd28703c8ab150bd770b4c4c35d401" class="idref" href="#eefd28703c8ab150bd770b4c4c35d401"><span class="id" title="binder">Δ'</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:207" class="idref" href="#x:207"><span class="id" title="binder">x</span></a> <a id="y:208" class="idref" href="#y:208"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:207"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:208"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:204"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d8289e398d1258676618926d2acbbb5d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d8289e398d1258676618926d2acbbb5d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eefd28703c8ab150bd770b4c4c35d401"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:204"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d8289e398d1258676618926d2acbbb5d"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eefd28703c8ab150bd770b4c4c35d401"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">nas</span>, <span class="id" title="var">hl</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">na</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="eq_names" class="idref" href="#eq_names"><span class="id" title="abbreviation">eq_names</span></a> := (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:209" class="idref" href="#x:209"><span class="id" title="binder">x</span></a> <a id="y:210" class="idref" href="#y:210"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:209"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:210"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_names_subst_context" class="idref" href="#eq_names_subst_context"><span class="id" title="lemma">eq_names_subst_context</span></a> <a id="nas:211" class="idref" href="#nas:211"><span class="id" title="binder">nas</span></a> <a id="5a8dc7e3a6d5df1731c8d68c52569ee1" class="idref" href="#5a8dc7e3a6d5df1731c8d68c52569ee1"><span class="id" title="binder">Γ</span></a> <a id="s:213" class="idref" href="#s:213"><span class="id" title="binder">s</span></a> <a id="k:214" class="idref" href="#k:214"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:211"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5a8dc7e3a6d5df1731c8d68c52569ee1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:211"><span class="id" title="variable">nas</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:213"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:214"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5a8dc7e3a6d5df1731c8d68c52569ee1"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_names_subst_instance" class="idref" href="#eq_names_subst_instance"><span class="id" title="lemma">eq_names_subst_instance</span></a> <a id="nas:215" class="idref" href="#nas:215"><span class="id" title="binder">nas</span></a> <a id="e94552e84324b5892c5ac140d3d1c118" class="idref" href="#e94552e84324b5892c5ac140d3d1c118"><span class="id" title="binder">Γ</span></a> <a id="u:217" class="idref" href="#u:217"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:215"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e94552e84324b5892c5ac140d3d1c118"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:215"><span class="id" title="variable">nas</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:217"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e94552e84324b5892c5ac140d3d1c118"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_alpha_eq" class="idref" href="#map2_set_binder_name_alpha_eq"><span class="id" title="lemma">map2_set_binder_name_alpha_eq</span></a> (<a id="nas:218" class="idref" href="#nas:218"><span class="id" title="binder">nas</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="8527657670004b0efb3cd81b96856797" class="idref" href="#8527657670004b0efb3cd81b96856797"><span class="id" title="binder">Δ</span></a> <a id="7ee751374a5ee642a448feddbf754cb0" class="idref" href="#7ee751374a5ee642a448feddbf754cb0"><span class="id" title="binder">Δ'</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:221" class="idref" href="#x:221"><span class="id" title="binder">x</span></a> <a id="y:222" class="idref" href="#y:222"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:221"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:222"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:218"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7ee751374a5ee642a448feddbf754cb0"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8527657670004b0efb3cd81b96856797"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7ee751374a5ee642a448feddbf754cb0"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:218"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8527657670004b0efb3cd81b96856797"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7ee751374a5ee642a448feddbf754cb0"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hl</span>. <span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">nas</span>, <span class="id" title="var">hl</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_inst_case_branch_context" class="idref" href="#trans_inst_case_branch_context"><span class="id" title="lemma">trans_inst_case_branch_context</span></a> <a id="p:223" class="idref" href="#p:223"><span class="id" title="binder">p</span></a> <a id="br:224" class="idref" href="#br:224"><span class="id" title="binder">br</span></a> <a id="ci:225" class="idref" href="#ci:225"><span class="id" title="binder">ci</span></a> <a id="mdecl:226" class="idref" href="#mdecl:226"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:227" class="idref" href="#cdecl:227"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':228" class="idref" href="#p':228"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">PCUICAst.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:223"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:227"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:224"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:224"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">PCUICAst.bcontext</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:225"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:226"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:227"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:225"><span class="id" title="variable">ci</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:226"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:227"><span class="id" title="variable">cdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p':228"><span class="id" title="variable">p'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">PCUICAst.map_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:224"><span class="id" title="variable">br</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:223"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:224"><span class="id" title="variable">br</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p'</span> <span class="id" title="var">wfbr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_branch_context"><span class="id" title="definition">inst_case_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map2_set_binder_name_alpha_eq"><span class="id" title="lemma">map2_set_binder_name_alpha_eq</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names_subst_context"><span class="id" title="lemma">eq_names_subst_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_left"><span class="id" title="lemma">All2_map_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_refl"><span class="id" title="lemma">All2_refl</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TermEquality.html#alpha_eq_subst_context"><span class="id" title="lemma">alpha_eq_subst_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#alpha_eq_subst_instance"><span class="id" title="lemma">alpha_eq_subst_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#alpha_eq_trans"><span class="id" title="lemma">alpha_eq_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cstr_branch_context_inst"><span class="id" title="lemma">trans_cstr_branch_context_inst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="context_assumptions_map2_set_binder_name" class="idref" href="#context_assumptions_map2_set_binder_name"><span class="id" title="lemma">context_assumptions_map2_set_binder_name</span></a> <a id="nas:229" class="idref" href="#nas:229"><span class="id" title="binder">nas</span></a> <a id="9b8c71965de813378295a9bcb1ad882a" class="idref" href="#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:229"><span class="id" title="variable">nas</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:229"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">nas</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [=]. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="case_branch_context_assumptions" class="idref" href="#case_branch_context_assumptions"><span class="id" title="lemma">case_branch_context_assumptions</span></a> <a id="ind:231" class="idref" href="#ind:231"><span class="id" title="binder">ind</span></a> <a id="mdecl:232" class="idref" href="#mdecl:232"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:233" class="idref" href="#cdecl:233"><span class="id" title="binder">cdecl</span></a> <a id="p:234" class="idref" href="#p:234"><span class="id" title="binder">p</span></a> <a id="br:235" class="idref" href="#br:235"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> <a id="na:236" class="idref" href="#na:236"><span class="id" title="binder">na</span></a> <a id="decl:237" class="idref" href="#decl:237"><span class="id" title="binder">decl</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:236"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:237"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:235"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">bcontext</span></a>) (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:233"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ind:231"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:232"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:233"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:234"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:235"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.cstr_args"><span class="id" title="projection">cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:233"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">case_branch_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hforall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map2_set_binder_name"><span class="id" title="lemma">context_assumptions_map2_set_binder_name</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICTactics.html#lengths"><span class="id" title="definition">lengths</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_length"><span class="id" title="lemma">Forall2_length</span></a> <span class="id" title="var">Hforall</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_subst_context"><span class="id" title="lemma">context_assumptions_subst_context</span></a> ?<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_lift_context"><span class="id" title="lemma">context_assumptions_lift_context</span></a> ?<a class="idref" href="MetaCoq.Template.Ast.html#Env.context_assumptions_subst_instance"><span class="id" title="lemma">context_assumptions_subst_instance</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_ctx"><span class="id" title="definition">expand_lets_ctx</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.expand_lets_k_ctx"><span class="id" title="definition">expand_lets_k_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cstr_branch_context_assumptions" class="idref" href="#cstr_branch_context_assumptions"><span class="id" title="lemma">cstr_branch_context_assumptions</span></a> <a id="ci:238" class="idref" href="#ci:238"><span class="id" title="binder">ci</span></a> <a id="mdecl:239" class="idref" href="#mdecl:239"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:240" class="idref" href="#cdecl:240"><span class="id" title="binder">cdecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions"><span class="id" title="definition">SE.context_assumptions</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:238"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:239"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:240"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions"><span class="id" title="definition">SE.context_assumptions</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cstr_args"><span class="id" title="projection">SE.cstr_args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:240"><span class="id" title="variable">cdecl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">PCUICEnvironment.expand_lets_ctx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k_ctx"><span class="id" title="definition">PCUICEnvironment.expand_lets_k_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_subst_context"><span class="id" title="lemma">SE.context_assumptions_subst_context</span></a> ?<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_lift_context"><span class="id" title="lemma">SE.context_assumptions_lift_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="compare_decls_refl" class="idref" href="#compare_decls_refl"><span class="id" title="instance">compare_decls_refl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="All2_compare_decls_refl" class="idref" href="#All2_compare_decls_refl"><span class="id" title="instance">All2_compare_decls_refl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_refl"><span class="id" title="lemma">All2_refl</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="All2_compare_decls_sym" class="idref" href="#All2_compare_decls_sym"><span class="id" title="instance">All2_compare_decls_sym</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_symP"><span class="id" title="lemma">All2_symP</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> []; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="All2_compare_decls_trans" class="idref" href="#All2_compare_decls_trans"><span class="id" title="instance">All2_compare_decls_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.CRelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_trans"><span class="id" title="lemma">All2_trans</span></a>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> <span class="id" title="var">d''</span> [] <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">now</span> <span class="id" title="var">etransitivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_reln" class="idref" href="#trans_reln"><span class="id" title="lemma">trans_reln</span></a> <a id="l:241" class="idref" href="#l:241"><span class="id" title="binder">l</span></a> <a id="p:242" class="idref" href="#p:242"><span class="id" title="binder">p</span></a> <a id="493adfea75f914d438f8efe09fd76e15" class="idref" href="#493adfea75f914d438f8efe09fd76e15"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#reln"><span class="id" title="definition">SE.reln</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:241"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:242"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#493adfea75f914d438f8efe09fd76e15"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.reln"><span class="id" title="definition">reln</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:241"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:242"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#493adfea75f914d438f8efe09fd76e15"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">Γ</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>, <span class="id" title="var">p</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_to_extended_list" class="idref" href="#trans_to_extended_list"><span class="id" title="lemma">trans_to_extended_list</span></a> <a id="106fc6ce7472546bbf9056f996d95905" class="idref" href="#106fc6ce7472546bbf9056f996d95905"><span class="id" title="binder">Γ</span></a> <a id="n:245" class="idref" href="#n:245"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#to_extended_list_k"><span class="id" title="definition">SE.to_extended_list_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#106fc6ce7472546bbf9056f996d95905"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:245"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#106fc6ce7472546bbf9056f996d95905"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:245"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_reln"><span class="id" title="lemma">trans_reln</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_predicate_context" class="idref" href="#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>  <a id="ci:246" class="idref" href="#ci:246"><span class="id" title="binder">ci</span></a> <a id="mdecl:247" class="idref" href="#mdecl:247"><span class="id" title="binder">mdecl</span></a> <a id="idecl:248" class="idref" href="#idecl:248"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">PCUICCases.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:246"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:247"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:248"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:246"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:247"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:248"><span class="id" title="variable">idecl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">ind_predicate_context</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_to_extended_list"><span class="id" title="lemma">trans_to_extended_list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.to_extended_list"><span class="id" title="definition">Env.to_extended_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_expand_lets_ctx"><span class="id" title="lemma">trans_expand_lets_ctx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_ind_predicate_context_eq" class="idref" href="#trans_ind_predicate_context_eq"><span class="id" title="lemma">trans_ind_predicate_context_eq</span></a> <a id="p:249" class="idref" href="#p:249"><span class="id" title="binder">p</span></a> <a id="ci:250" class="idref" href="#ci:250"><span class="id" title="binder">ci</span></a> <a id="mdecl:251" class="idref" href="#mdecl:251"><span class="id" title="binder">mdecl</span></a> <a id="idecl:252" class="idref" href="#idecl:252"><span class="id" title="binder">idecl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">PCUICAst.pcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:249"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#ind_predicate_context"><span class="id" title="definition">PCUICCases.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:250"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:251"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:252"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="x:253" class="idref" href="#x:253"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#binder_annot"><span class="id" title="record">binder_annot</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>) (<a id="y:254" class="idref" href="#y:254"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_decl"><span class="id" title="abbreviation">Env.context_decl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:253"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:254"><span class="id" title="variable">y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">PCUICAst.pcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:249"><span class="id" title="variable">p</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#ind_predicate_context"><span class="id" title="definition">Ast.ind_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:250"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:251"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:252"><span class="id" title="variable">idecl</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_left"><span class="id" title="lemma">All2_map_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cstr_branch_context_eq" class="idref" href="#trans_cstr_branch_context_eq"><span class="id" title="lemma">trans_cstr_branch_context_eq</span></a> <a id="ci:255" class="idref" href="#ci:255"><span class="id" title="binder">ci</span></a> <a id="mdecl:256" class="idref" href="#mdecl:256"><span class="id" title="binder">mdecl</span></a> <a id="cdecl:257" class="idref" href="#cdecl:257"><span class="id" title="binder">cdecl</span></a> <a id="br:258" class="idref" href="#br:258"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">PCUICAst.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:258"><span class="id" title="variable">br</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">PCUICCases.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:255"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:256"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:257"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="x:259" class="idref" href="#x:259"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#binder_annot"><span class="id" title="record">binder_annot</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>) (<a id="y:260" class="idref" href="#y:260"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.Template.Ast.html#Env.context_decl"><span class="id" title="abbreviation">Env.context_decl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:259"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:260"><span class="id" title="variable">y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">Ast.bcontext</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">PCUICAst.map_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:258"><span class="id" title="variable">br</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#cstr_branch_context"><span class="id" title="definition">Ast.cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:255"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:256"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:257"><span class="id" title="variable">cdecl</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cstr_branch_context"><span class="id" title="lemma">trans_cstr_branch_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_left"><span class="id" title="lemma">All2_map_left</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf" class="idref" href="#trans_wf"><span class="id" title="lemma">trans_wf</span></a> {<a id="cf:261" class="idref" href="#cf:261"><span class="id" title="binder">cf</span></a>} {<a id="48a43f736daee0cd5111b893d90ae5d3" class="idref" href="#48a43f736daee0cd5111b893d90ae5d3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICEnvironment.global_env_ext</span></a>} {<a id="849524874b3f787454f1739e2663c6b7" class="idref" href="#849524874b3f787454f1739e2663c6b7"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#48a43f736daee0cd5111b893d90ae5d3"><span class="id" title="variable">Σ</span></a>} {<a id="24161378f53291012c9800bc196729c5" class="idref" href="#24161378f53291012c9800bc196729c5"><span class="id" title="binder">Γ</span></a> <a id="t:265" class="idref" href="#t:265"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt"><span class="id" title="definition">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#48a43f736daee0cd5111b893d90ae5d3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#24161378f53291012c9800bc196729c5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:265"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.WfAst.html#wf"><span class="id" title="inductive">WfAst.wf</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#48a43f736daee0cd5111b893d90ae5d3"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:265"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">H</span> |- × <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_inv"><span class="id" title="lemma">wt_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.WfAst.html#wf_mkApp"><span class="id" title="lemma">WfAst.wf_mkApp</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [? []]. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_ind_predicate_context_eq"><span class="id" title="lemma">trans_ind_predicate_context_eq</span></a> ⇒ //. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj1"><span class="id" title="definition">proj1</span></a> <span class="id" title="var">d</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#All2i_All2"><span class="id" title="lemma">All2i_All2</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span> [] []. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cstr_branch_context_eq"><span class="id" title="lemma">trans_cstr_branch_context_eq</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">trans_wf</span> : <span class="id" title="keyword">wf</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="red1_alpha_eq" class="idref" href="#red1_alpha_eq"><span class="id" title="lemma">red1_alpha_eq</span></a> <a id="5d61b44cf28aef9a9aecc422be7f8514" class="idref" href="#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="binder">Σ</span></a> <a id="f174c58f184d82c581050ae52fc55293" class="idref" href="#f174c58f184d82c581050ae52fc55293"><span class="id" title="binder">Γ</span></a> <a id="46acb33f95707960828ab3c325ea7f51" class="idref" href="#46acb33f95707960828ab3c325ea7f51"><span class="id" title="binder">Δ</span></a> <a id="T:269" class="idref" href="#T:269"><span class="id" title="binder">T</span></a> <a id="U:270" class="idref" href="#U:270"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f174c58f184d82c581050ae52fc55293"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:269"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:270"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f174c58f184d82c581050ae52fc55293"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#46acb33f95707960828ab3c325ea7f51"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5d61b44cf28aef9a9aecc422be7f8514"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#46acb33f95707960828ab3c325ea7f51"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:269"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:270"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>; <span class="id" title="var">revert</span> <span class="id" title="var">Δ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1_ind_all"><span class="id" title="lemma">TT.red1_ind_all</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">heq</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_nth_error_Some"><span class="id" title="lemma">All2_nth_error_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> [-&gt; <span class="id" title="var">h</span>]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHr</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHr</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHr</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHr</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#fix_red_body"><span class="id" title="constructor">Typing.fix_red_body</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Typing.html#cofix_red_body"><span class="id" title="constructor">Typing.cofix_red_body</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b0</span>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a> ⇒ //. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_map2" class="idref" href="#map_map2"><span class="id" title="lemma">map_map2</span></a> {<a id="A:271" class="idref" href="#A:271"><span class="id" title="binder">A</span></a> <a id="B:272" class="idref" href="#B:272"><span class="id" title="binder">B</span></a> <a id="C:273" class="idref" href="#C:273"><span class="id" title="binder">C</span></a> <a id="D:274" class="idref" href="#D:274"><span class="id" title="binder">D</span></a>} (<a id="f:275" class="idref" href="#f:275"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:271"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:272"><span class="id" title="variable">B</span></a>) (<a id="g:276" class="idref" href="#g:276"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#C:273"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#D:274"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:271"><span class="id" title="variable">A</span></a>) <a id="l:277" class="idref" href="#l:277"><span class="id" title="binder">l</span></a> <a id="l':278" class="idref" href="#l':278"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:275"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:276"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:277"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':278"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:279" class="idref" href="#x:279"><span class="id" title="binder">x</span></a> <a id="y:280" class="idref" href="#y:280"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:275"><span class="id" title="variable">f</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:276"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:279"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:280"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:277"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':278"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_map_map" class="idref" href="#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a> {<a id="A:281" class="idref" href="#A:281"><span class="id" title="binder">A</span></a> <a id="B:282" class="idref" href="#B:282"><span class="id" title="binder">B</span></a> <a id="C:283" class="idref" href="#C:283"><span class="id" title="binder">C</span></a> <a id="D:284" class="idref" href="#D:284"><span class="id" title="binder">D</span></a>} (<a id="f:285" class="idref" href="#f:285"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:281"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:282"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#C:283"><span class="id" title="variable">C</span></a>) (<a id="g:286" class="idref" href="#g:286"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#D:284"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:282"><span class="id" title="variable">B</span></a>) <a id="l:287" class="idref" href="#l:287"><span class="id" title="binder">l</span></a> <a id="l':288" class="idref" href="#l':288"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:289" class="idref" href="#x:289"><span class="id" title="binder">x</span></a> <a id="y:290" class="idref" href="#y:290"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:285"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:289"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:286"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:290"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:287"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':288"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:285"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:287"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:286"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':288"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span> |- *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_set_binder" class="idref" href="#trans_set_binder"><span class="id" title="lemma">trans_set_binder</span></a> <a id="na:291" class="idref" href="#na:291"><span class="id" title="binder">na</span></a> <a id="y:292" class="idref" href="#y:292"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">PCUICEnvironment.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:291"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:292"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:291"><span class="id" title="variable">na</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:292"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na'</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="map2_Proper" class="idref" href="#map2_Proper"><span class="id" title="instance">map2_Proper</span></a> {<a id="A:293" class="idref" href="#A:293"><span class="id" title="binder">A</span></a> <a id="B:294" class="idref" href="#B:294"><span class="id" title="binder">B</span></a> <a id="C:295" class="idref" href="#C:295"><span class="id" title="binder">C</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Morphisms.Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:293"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:294"><span class="id" title="variable">B</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#C:295"><span class="id" title="variable">C</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> ? ? → ? ? →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map2_ext"><span class="id" title="lemma">map2_ext</span></a>, <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_set_binder_name_eq" class="idref" href="#map2_set_binder_name_eq"><span class="id" title="lemma">map2_set_binder_name_eq</span></a> <a id="nas:296" class="idref" href="#nas:296"><span class="id" title="binder">nas</span></a> <a id="68874476d90237de980dc57eba16e37a" class="idref" href="#68874476d90237de980dc57eba16e37a"><span class="id" title="binder">Δ</span></a> <a id="b44334e1e45e10f8d38dee4d95c8dae4" class="idref" href="#b44334e1e45e10f8d38dee4d95c8dae4"><span class="id" title="binder">Δ'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.Template.TermEquality.html#compare_decls"><span class="id" title="inductive">TermEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#68874476d90237de980dc57eba16e37a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b44334e1e45e10f8d38dee4d95c8dae4"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:296"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#68874476d90237de980dc57eba16e37a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:296"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b44334e1e45e10f8d38dee4d95c8dae4"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">nas</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_binder_trans" class="idref" href="#eq_binder_trans"><span class="id" title="lemma">eq_binder_trans</span></a> (<a id="nas:299" class="idref" href="#nas:299"><span class="id" title="binder">nas</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="5b241f4e86de6f070abd231dd15c98b2" class="idref" href="#5b241f4e86de6f070abd231dd15c98b2"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">PCUICEnvironment.context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:301" class="idref" href="#x:301"><span class="id" title="binder">x</span></a> <a id="y:302" class="idref" href="#y:302"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:301"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:302"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:299"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b241f4e86de6f070abd231dd15c98b2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:303" class="idref" href="#x:303"><span class="id" title="binder">x</span></a> <a id="y:304" class="idref" href="#y:304"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:303"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:304"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:299"><span class="id" title="variable">nas</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b241f4e86de6f070abd231dd15c98b2"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map_right"><span class="id" title="lemma">All2_map_right</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_impl"><span class="id" title="lemma">All2_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_set_binder" class="idref" href="#trans_local_set_binder"><span class="id" title="lemma">trans_local_set_binder</span></a> <a id="nas:305" class="idref" href="#nas:305"><span class="id" title="binder">nas</span></a> <a id="2e64a25ceddda6232798f9733e98907f" class="idref" href="#2e64a25ceddda6232798f9733e98907f"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">PCUICEnvironment.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:305"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2e64a25ceddda6232798f9733e98907f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:305"><span class="id" title="variable">nas</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2e64a25ceddda6232798f9733e98907f"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_set_binder"><span class="id" title="lemma">trans_set_binder</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map2_map_map"><span class="id" title="lemma">map2_map_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_eq_binder_lift_context" class="idref" href="#All2_eq_binder_lift_context"><span class="id" title="lemma">All2_eq_binder_lift_context</span></a> (<a id="l:307" class="idref" href="#l:307"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_annot"><span class="id" title="record">binder_annot</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>)) <a id="n:308" class="idref" href="#n:308"><span class="id" title="binder">n</span></a> <a id="k:309" class="idref" href="#k:309"><span class="id" title="binder">k</span></a> (<a id="9a65bf4ad7d36f3ffe676c94fa1431d2" class="idref" href="#9a65bf4ad7d36f3ffe676c94fa1431d2"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">PCUICEnvironment.context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:311" class="idref" href="#x:311"><span class="id" title="binder">x</span></a> <a id="y:312" class="idref" href="#y:312"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:311"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:312"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:307"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9a65bf4ad7d36f3ffe676c94fa1431d2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:313" class="idref" href="#x:313"><span class="id" title="binder">x</span></a> <a id="y:314" class="idref" href="#y:314"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:313"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:314"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:307"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">PCUICEnvironment.lift_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:308"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:309"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9a65bf4ad7d36f3ffe676c94fa1431d2"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_context_snoc"><span class="id" title="lemma">PCUICLiftSubst.lift_context_snoc</span></a> //; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_eq_binder_expand_lets_ctx" class="idref" href="#All2_eq_binder_expand_lets_ctx"><span class="id" title="lemma">All2_eq_binder_expand_lets_ctx</span></a> (<a id="l:315" class="idref" href="#l:315"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#binder_annot"><span class="id" title="record">binder_annot</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#name"><span class="id" title="inductive">name</span></a>)) (<a id="b1780c14b2933d21d0bfac227333b466" class="idref" href="#b1780c14b2933d21d0bfac227333b466"><span class="id" title="binder">Δ</span></a> <a id="b2a4b07ea8860670c7bc3f5c1f1e84b7" class="idref" href="#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">PCUICEnvironment.context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:318" class="idref" href="#x:318"><span class="id" title="binder">x</span></a> <a id="y:319" class="idref" href="#y:319"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:319"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:315"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:320" class="idref" href="#x:320"><span class="id" title="binder">x</span></a> <a id="y:321" class="idref" href="#y:321"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:320"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:321"><span class="id" title="variable">y</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:315"><span class="id" title="variable">l</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_ctx"><span class="id" title="definition">PCUICEnvironment.expand_lets_ctx</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b1780c14b2933d21d0bfac227333b466"><span class="id" title="variable">Δ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#All2_eq_binder_subst_context"><span class="id" title="lemma">All2_eq_binder_subst_context</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All2_eq_binder_lift_context"><span class="id" title="lemma">All2_eq_binder_lift_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_local_set_binder_name_eq" class="idref" href="#trans_local_set_binder_name_eq"><span class="id" title="lemma">trans_local_set_binder_name_eq</span></a> <a id="nas:322" class="idref" href="#nas:322"><span class="id" title="binder">nas</span></a> <a id="5d972de6af38a7699cf2908269ab234f" class="idref" href="#5d972de6af38a7699cf2908269ab234f"><span class="id" title="binder">Γ</span></a> <a id="fca0705199c110e8320e75351c56cedd" class="idref" href="#fca0705199c110e8320e75351c56cedd"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="inductive">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5d972de6af38a7699cf2908269ab234f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fca0705199c110e8320e75351c56cedd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">PCUICEnvironment.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:322"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5d972de6af38a7699cf2908269ab234f"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">PCUICEnvironment.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:322"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fca0705199c110e8320e75351c56cedd"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">nas</span> |- *; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">nas</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map2_trans" class="idref" href="#map2_trans"><span class="id" title="lemma">map2_trans</span></a> <a id="l:325" class="idref" href="#l:325"><span class="id" title="binder">l</span></a> <a id="l':326" class="idref" href="#l':326"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="x:327" class="idref" href="#x:327"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:328" class="idref" href="#y:328"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">PCUICEnvironment.context_decl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">PCUICEnvironment.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:327"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:328"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:325"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':326"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:329" class="idref" href="#x:329"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="y:330" class="idref" href="#y:330"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">PCUICEnvironment.context_decl</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">Ast.Env.set_binder_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:329"><span class="id" title="variable">x</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:330"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:325"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':326"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map2_ext"><span class="id" title="lemma">map2_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_case_predicate_context" class="idref" href="#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> {<a id="cf:331" class="idref" href="#cf:331"><span class="id" title="binder">cf</span></a>} {<a id="aaa9debfb5f0dbd1f80cc56913be71c1" class="idref" href="#aaa9debfb5f0dbd1f80cc56913be71c1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICEnvironment.global_env_ext</span></a>}<br/>
&nbsp;&nbsp;{<a id="8135e68486c21fd0af2043489880b837" class="idref" href="#8135e68486c21fd0af2043489880b837"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#aaa9debfb5f0dbd1f80cc56913be71c1"><span class="id" title="variable">Σ</span></a>} <a id="86e59930b12a0702c03b78eb816bc0d9" class="idref" href="#86e59930b12a0702c03b78eb816bc0d9"><span class="id" title="binder">Γ</span></a> <a id="ci:335" class="idref" href="#ci:335"><span class="id" title="binder">ci</span></a> <a id="mdecl:336" class="idref" href="#mdecl:336"><span class="id" title="binder">mdecl</span></a> <a id="idecl:337" class="idref" href="#idecl:337"><span class="id" title="binder">idecl</span></a> <a id="p:338" class="idref" href="#p:338"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#declared_inductive"><span class="id" title="definition">S.declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#aaa9debfb5f0dbd1f80cc56913be71c1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:335"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:336"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:337"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#consistent_instance_ext"><span class="id" title="definition">S.consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#aaa9debfb5f0dbd1f80cc56913be71c1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">PCUICEnvironment.ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:336"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">PCUICAst.puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="parctx:339" class="idref" href="#parctx:339"><span class="id" title="binder">parctx</span></a> := <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">PCUICEnvironment.ind_params</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:336"><span class="id" title="variable">mdecl</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">PCUICAst.puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#spine_subst"><span class="id" title="record">PCUICSpine.spine_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#aaa9debfb5f0dbd1f80cc56913be71c1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#86e59930b12a0702c03b78eb816bc0d9"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">PCUICAst.pparams</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">PCUICAst.pparams</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">PCUICEnvironment.smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#parctx:339"><span class="id" title="variable">parctx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate"><span class="id" title="definition">wf_predicate</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:336"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:337"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':340" class="idref" href="#p':340"><span class="id" title="binder">p'</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">PCUICAst.map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:335"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:336"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_one_ind_body"><span class="id" title="definition">trans_one_ind_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:337"><span class="id" title="variable">idecl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p':340"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">PCUICCases.case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:335"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:336"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:337"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:338"><span class="id" title="variable">p</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">PCUICCases.case_predicate_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_predicate_context_gen"><span class="id" title="definition">case_predicate_context_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context_gen"><span class="id" title="definition">PCUICCases.case_predicate_context_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_map2"><span class="id" title="lemma">map_map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map2_trans"><span class="id" title="lemma">map2_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICUnivSubstitutionConv.html#map2_map_r"><span class="id" title="lemma">PCUICUnivSubstitutionConv.map2_map_r</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">p'</span> /=. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#forget_types_map_context"><span class="id" title="lemma">forget_types_map_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#pre_case_predicate_context_gen"><span class="id" title="definition">pre_case_predicate_context_gen</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#pre_case_predicate_context_gen"><span class="id" title="definition">PCUICCases.pre_case_predicate_context_gen</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">PCUICCases.inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance_ctx"><span class="id" title="lemma">trans_subst_instance_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_ind_predicate_context"><span class="id" title="lemma">trans_ind_predicate_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="OnOne2All2i_OnOne2All" class="idref" href="#OnOne2All2i_OnOne2All"><span class="id" title="lemma">OnOne2All2i_OnOne2All</span></a> {<a id="A:341" class="idref" href="#A:341"><span class="id" title="binder">A</span></a> <a id="B:342" class="idref" href="#B:342"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l1:343" class="idref" href="#l1:343"><span class="id" title="binder">l1</span></a> <a id="l2:344" class="idref" href="#l2:344"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a>) (<a id="l3:345" class="idref" href="#l3:345"><span class="id" title="binder">l3</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:342"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;(<a id="R1:346" class="idref" href="#R1:346"><span class="id" title="binder">R1</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="R2:347" class="idref" href="#R2:347"><span class="id" title="binder">R2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:342"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<a id="n:348" class="idref" href="#n:348"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="R3:349" class="idref" href="#R3:349"><span class="id" title="binder">R3</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:342"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2"><span class="id" title="inductive">OnOne2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#R1:346"><span class="id" title="variable">R1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l1:343"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l2:344"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#R2:347"><span class="id" title="variable">R2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:348"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l3:345"><span class="id" title="variable">l3</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l1:343"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="n0:350" class="idref" href="#n0:350"><span class="id" title="binder">n0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:351" class="idref" href="#x:351"><span class="id" title="binder">x</span></a> <a id="y:352" class="idref" href="#y:352"><span class="id" title="binder">y</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:341"><span class="id" title="variable">A</span></a>) (<a id="z:353" class="idref" href="#z:353"><span class="id" title="binder">z</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:342"><span class="id" title="variable">B</span></a>), <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#R1:346"><span class="id" title="variable">R1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:352"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#R2:347"><span class="id" title="variable">R2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n0:350"><span class="id" title="variable">n0</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#z:353"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#R3:349"><span class="id" title="variable">R3</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#z:353"><span class="id" title="variable">z</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:352"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#R3:349"><span class="id" title="variable">R3</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l3:345"><span class="id" title="variable">l3</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l1:343"><span class="id" title="variable">l1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l2:344"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">l3</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_length"><span class="id" title="lemma">All2i_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_eq_binder_annot" class="idref" href="#trans_eq_binder_annot"><span class="id" title="lemma">trans_eq_binder_annot</span></a> (<a id="541d8ee8ec154e8bf67b92cdf7050841" class="idref" href="#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) <a id="7cd2a058fe26f4355239003f4074d340" class="idref" href="#7cd2a058fe26f4355239003f4074d340"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> <a id="na:356" class="idref" href="#na:356"><span class="id" title="binder">na</span></a> <a id="decl:357" class="idref" href="#decl:357"><span class="id" title="binder">decl</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:356"><span class="id" title="variable">na</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:357"><span class="id" title="variable">decl</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7cd2a058fe26f4355239003f4074d340"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> <a id="na:358" class="idref" href="#na:358"><span class="id" title="binder">na</span></a> <a id="decl:359" class="idref" href="#decl:359"><span class="id" title="binder">decl</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:358"><span class="id" title="variable">na</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#decl:359"><span class="id" title="variable">decl</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#541d8ee8ec154e8bf67b92cdf7050841"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7cd2a058fe26f4355239003f4074d340"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_context_trans" class="idref" href="#map_context_trans"><span class="id" title="lemma">map_context_trans</span></a> <a id="c33bed169a5c5284844fe9a66a755ce5" class="idref" href="#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c33bed169a5c5284844fe9a66a755ce5"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a>. <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_bcontext" class="idref" href="#trans_bcontext"><span class="id" title="lemma">trans_bcontext</span></a> <a id="br:361" class="idref" href="#br:361"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.Template.Ast.html#bcontext"><span class="id" title="projection">bcontext</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">PCUICAst.map_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:361"><span class="id" title="variable">br</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">PCUICAst.bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:361"><span class="id" title="variable">br</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_context_trans"><span class="id" title="lemma">map_context_trans</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="OnOne2All_map2_map_all" class="idref" href="#OnOne2All_map2_map_all"><span class="id" title="lemma">OnOne2All_map2_map_all</span></a> {<a id="A:362" class="idref" href="#A:362"><span class="id" title="binder">A</span></a> <a id="B:363" class="idref" href="#B:363"><span class="id" title="binder">B</span></a> <a id="I:364" class="idref" href="#I:364"><span class="id" title="binder">I</span></a> <a id="I':365" class="idref" href="#I':365"><span class="id" title="binder">I'</span></a>} {<a id="P:366" class="idref" href="#P:366"><span class="id" title="binder">P</span></a>} {<a id="i:367" class="idref" href="#i:367"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#I:364"><span class="id" title="variable">I</span></a>} {<a id="l:368" class="idref" href="#l:368"><span class="id" title="binder">l</span></a> <a id="l':369" class="idref" href="#l':369"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:362"><span class="id" title="variable">A</span></a>} (<a id="g:370" class="idref" href="#g:370"><span class="id" title="binder">g</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:363"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#I:364"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#I':365"><span class="id" title="variable">I'</span></a>) (<a id="f:371" class="idref" href="#f:371"><span class="id" title="binder">f</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:362"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:363"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> (<span class="id" title="keyword">fun</span> <a id="i:372" class="idref" href="#i:372"><span class="id" title="binder">i</span></a> <a id="x:373" class="idref" href="#x:373"><span class="id" title="binder">x</span></a> <a id="y:374" class="idref" href="#y:374"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:366"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:370"><span class="id" title="variable">g</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:373"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:372"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:373"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:374"><span class="id" title="variable">y</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:367"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:368"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':369"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All"><span class="id" title="inductive">OnOne2All</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:366"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:370"><span class="id" title="variable">g</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:368"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:367"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:368"><span class="id" title="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':369"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map2_length"><span class="id" title="lemma">map2_length</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_red1" class="idref" href="#trans_red1"><span class="id" title="lemma">trans_red1</span></a> {<a id="cf:375" class="idref" href="#cf:375"><span class="id" title="binder">cf</span></a>} (<a id="5c34dc278b900df6cd901de02b5907d8" class="idref" href="#5c34dc278b900df6cd901de02b5907d8"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICEnvironment.global_env_ext</span></a>) {<a id="4c001adb38143b3fe361344030df64e8" class="idref" href="#4c001adb38143b3fe361344030df64e8"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5c34dc278b900df6cd901de02b5907d8"><span class="id" title="variable">Σ</span></a>} <a id="6acb55ebdf34f6fd945d76b481bf4dbc" class="idref" href="#6acb55ebdf34f6fd945d76b481bf4dbc"><span class="id" title="binder">Γ</span></a> <a id="T:379" class="idref" href="#T:379"><span class="id" title="binder">T</span></a> <a id="U:380" class="idref" href="#U:380"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5c34dc278b900df6cd901de02b5907d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6acb55ebdf34f6fd945d76b481bf4dbc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:379"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:380"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt"><span class="id" title="definition">wt</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5c34dc278b900df6cd901de02b5907d8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6acb55ebdf34f6fd945d76b481bf4dbc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:379"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1"><span class="id" title="inductive">TT.red1</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5c34dc278b900df6cd901de02b5907d8"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6acb55ebdf34f6fd945d76b481bf4dbc"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:379"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:380"><span class="id" title="variable">U</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1_ind_all"><span class="id" title="lemma">red1_ind_all</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> <span class="id" title="var">wt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="MetaCoq.Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>] ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_inv"><span class="id" title="lemma">wt_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>; <span class="id" title="var">tea</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">outtimes</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span> ⇒ //. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="var">noconf</span> <span class="id" title="var">H</span> ⇒ //.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Case"><span class="id" title="lemma">inversion_Case</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> [<span class="id" title="var">decli</span> [<span class="id" title="var">indices</span> [[] ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#inversion_mkApps"><span class="id" title="lemma">PCUICValidity.inversion_mkApps</span></a> <span class="id" title="var">scrut_ty</span>) <span class="id" title="keyword">as</span> [? [<span class="id" title="var">hc</span> <span class="id" title="var">hsp</span>]]; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInversion.html#inversion_Construct"><span class="id" title="lemma">inversion_Construct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hc</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mdecl'</span>&amp;<span class="id" title="var">idecl'</span>&amp;<span class="id" title="var">cdecl</span>&amp;<span class="id" title="var">wfΓ</span>&amp;<span class="id" title="var">declc</span>&amp;<span class="id" title="var">cu</span>&amp;<span class="id" title="var">tyc</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">decli_</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="var">decli</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">declc_</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#declared_inductive_to_gen"><span class="id" title="lemma">declared_inductive_to_gen</span></a> <span class="id" title="var">declc</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_inductive_inj"><span class="id" title="lemma">declared_inductive_inj</span></a> <span class="id" title="var">decli_</span> <span class="id" title="var">declc_</span>) <span class="id" title="keyword">as</span> [-&gt; -&gt;]. 2:<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">relativize</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red_iota"><span class="id" title="constructor">TT.red_iota</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">all</span>:<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_constructor"><span class="id" title="lemma">trans_declared_constructor</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_nth_error"><span class="id" title="lemma">All2_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_nth_error_r"><span class="id" title="lemma">All2i_nth_error_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">brs_ty</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">brs_ty</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cdecl'</span> [<span class="id" title="var">Hcdecl</span> [<span class="id" title="var">eq</span> [<span class="id" title="keyword">wf</span> <span class="id" title="var">wf'</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCProd.html#proj2"><span class="id" title="definition">proj2</span></a> <span class="id" title="var">declc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcdecl</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">Hcdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#case_branch_context_assumptions"><span class="id" title="lemma">case_branch_context_assumptions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_eq_binder_annot"><span class="id" title="lemma">trans_eq_binder_annot</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_bcontext"><span class="id" title="lemma">trans_bcontext</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">wf_brs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#alpha_eq_context_assumptions"><span class="id" title="lemma">PCUICCasesContexts.alpha_eq_context_assumptions</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cstr_branch_context_assumptions"><span class="id" title="lemma">cstr_branch_context_assumptions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#iota_red"><span class="id" title="definition">iota_red</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_expand_lets"><span class="id" title="lemma">trans_expand_lets</span></a> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#iota_red"><span class="id" title="definition">TT.iota_red</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#map_skipn"><span class="id" title="lemma">map_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#All2i_nth_error"><span class="id" title="lemma">All2i_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">brs_ty</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>. 2:<span class="id" title="tactic">apply</span> <span class="id" title="var">declc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.Template.TermEquality.html#expand_lets_eq"><span class="id" title="lemma">expand_lets_eq</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_inst_case_branch_context"><span class="id" title="lemma">trans_inst_case_branch_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_nth_error"><span class="id" title="lemma">All2_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wf_brs</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">declc</span>. <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">hnth</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">args</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">elimtype</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">mkApps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red_fix"><span class="id" title="constructor">TT.red_fix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_unfold_fix"><span class="id" title="lemma">trans_unfold_fix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_is_constructor"><span class="id" title="lemma">trans_is_constructor</span></a> (<span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">args</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#is_constructor"><span class="id" title="definition">is_constructor</span></a> <span class="id" title="var">hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red_cofix_case"><span class="id" title="constructor">TT.red_cofix_case</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_unfold_cofix"><span class="id" title="lemma">trans_unfold_cofix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red_cofix_proj"><span class="id" title="constructor">TT.red_cofix_proj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_constant"><span class="id" title="lemma">trans_declared_constant</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">decl</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">cst_body0</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> []; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_inv"><span class="id" title="lemma">wt_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hpars</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_inv"><span class="id" title="lemma">wt_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hpars</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">case_predicate_context</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#red1_alpha_eq"><span class="id" title="lemma">red1_alpha_eq</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">w1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sr</span> <span class="id" title="var">hs</span>]; <span class="id" title="tactic">∃</span> <span class="id" title="var">sr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICContextConversionTyp.html#context_conversion"><span class="id" title="lemma">PCUICContextConversionTyp.context_conversion</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#wf_inst_case_context"><span class="id" title="lemma">PCUICSafeLemmata.wf_inst_case_context</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w2</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#compare_decls_conv"><span class="id" title="lemma">compare_decls_conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>. 2:{ <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#compare_decls_eq_context"><span class="id" title="lemma">compare_decls_eq_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAlpha.html#inst_case_predicate_context_eq"><span class="id" title="lemma">PCUICAlpha.inst_case_predicate_context_eq</span></a> (<span class="id" title="var">ind</span>:=<span class="id" title="var">ci</span>) <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#compare_decls_eq_context"><span class="id" title="lemma">compare_decls_eq_context</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_app"><span class="id" title="lemma">All2_app</span></a>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">d</span> <span class="id" title="var">c0</span> <span class="id" title="var">s</span> <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#alpha_eq_trans"><span class="id" title="lemma">alpha_eq_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_All2"><span class="id" title="lemma">All2_fold_All2</span></a>, <a class="idref" href="MetaCoq.PCUIC.PCUICAlpha.html#inst_case_predicate_context_eq"><span class="id" title="lemma">PCUICAlpha.inst_case_predicate_context_eq</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_All2"><span class="id" title="lemma">All2_fold_All2</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_inv"><span class="id" title="lemma">wt_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hpars</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_inv"><span class="id" title="lemma">wt_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hpars</span> [<span class="id" title="var">mdecl</span> [<span class="id" title="var">idecl</span> []]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branches_contexts"><span class="id" title="definition">case_branches_contexts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#OnOne2All_map2_map_all"><span class="id" title="lemma">OnOne2All_map2_map_all</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2All_map_all"><span class="id" title="lemma">OnOne2All_map_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#OnOne2All2i_OnOne2All"><span class="id" title="lemma">OnOne2All2i_OnOne2All</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">br</span> <span class="id" title="var">br'</span> <span class="id" title="var">ctor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="tactic">red</span> <span class="id" title="var">IHred</span>] <span class="id" title="var">eqctx</span>] [<span class="id" title="var">wfrel</span> <span class="id" title="var">wtbody</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCRelations.html#on_Trel"><span class="id" title="definition">on_Trel</span></a>. <span class="id" title="tactic">split</span> ⇒ //. 2:<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>](<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_inst_case_branch_context"><span class="id" title="lemma">trans_inst_case_branch_context</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">ctor</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w4</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICContextConversionTyp.html#context_conversion"><span class="id" title="lemma">PCUICContextConversionTyp.context_conversion</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#wf_local_alpha"><span class="id" title="lemma">wf_local_alpha</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">pcuic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICSafeLemmata.html#compare_decls_conv"><span class="id" title="lemma">compare_decls_conv</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Template.Reduction.html#red1_mkApp"><span class="id" title="lemma">red1_mkApp</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_wf"><span class="id" title="lemma">trans_wf</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Template.Reduction.html#red1_mkApps_r"><span class="id" title="lemma">red1_mkApps_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_wf"><span class="id" title="lemma">trans_wf</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_wf"><span class="id" title="lemma">trans_wf</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_red_body"><span class="id" title="constructor">TT.fix_red_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCRelations.html#on_Trel"><span class="id" title="definition">on_Trel</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCRelations.html#on_Trel"><span class="id" title="definition">on_Trel</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_fix_context"><span class="id" title="lemma">trans_fix_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cofix_red_body"><span class="id" title="constructor">TT.cofix_red_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_All_mix_left"><span class="id" title="lemma">OnOne2_All_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#OnOne2_map"><span class="id" title="lemma">OnOne2_map</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">noconf</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_fix_context"><span class="id" title="lemma">trans_fix_context</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_R_global_instance" class="idref" href="#trans_R_global_instance"><span class="id" title="lemma">trans_R_global_instance</span></a> <a id="b6b230b5d7cbf35a6992318521f09a19" class="idref" href="#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="binder">Σ</span></a> <a id="Re:382" class="idref" href="#Re:382"><span class="id" title="binder">Re</span></a> <a id="Rle:383" class="idref" href="#Rle:383"><span class="id" title="binder">Rle</span></a> <a id="gref:384" class="idref" href="#gref:384"><span class="id" title="binder">gref</span></a> <a id="napp:385" class="idref" href="#napp:385"><span class="id" title="binder">napp</span></a> <a id="u:386" class="idref" href="#u:386"><span class="id" title="binder">u</span></a> <a id="u':387" class="idref" href="#u':387"><span class="id" title="binder">u'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance"><span class="id" title="abbreviation">PCUICEquality.R_global_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Re:382"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Rle:383"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#gref:384"><span class="id" title="variable">gref</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#napp:385"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:386"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u':387"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TermEquality.html#R_global_instance"><span class="id" title="abbreviation">TermEquality.R_global_instance</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b6b230b5d7cbf35a6992318521f09a19"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Re:382"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Rle:383"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#gref:384"><span class="id" title="variable">gref</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#napp:385"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:386"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u':387"><span class="id" title="variable">u'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">PCUICEquality.R_global_instance</span>, <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#R_global_instance_gen"><span class="id" title="definition">PCUICEquality.R_global_instance_gen</span></a>, <span class="id" title="var">PCUICEquality.global_variance</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">TermEquality.R_global_instance</span>, <span class="id" title="var">TermEquality.global_variance</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">gref</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_inductive"><span class="id" title="definition">S.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_minductive"><span class="id" title="definition">S.lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_inductive_gen"><span class="id" title="definition">S.lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_minductive_gen"><span class="id" title="definition">S.lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_env"><span class="id" title="definition">SE.lookup_env</span></a> ⇒ //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_destr_arity"><span class="id" title="lemma">trans_destr_arity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#destArity"><span class="id" title="definition">PCUICAst.destArity</span></a> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ctx</span> <span class="id" title="var">ps</span>]|] ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">context_assumptions_map</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_constructor"><span class="id" title="definition">S.lookup_constructor</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_inductive"><span class="id" title="definition">S.lookup_inductive</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_minductive"><span class="id" title="definition">S.lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_constructor_gen"><span class="id" title="definition">S.lookup_constructor_gen</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_inductive_gen"><span class="id" title="definition">S.lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_minductive_gen"><span class="id" title="definition">S.lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_constructor"><span class="id" title="definition">lookup_constructor</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive"><span class="id" title="definition">lookup_inductive</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive"><span class="id" title="definition">lookup_minductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#lookup_constructor_gen"><span class="id" title="definition">lookup_constructor_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_inductive_gen"><span class="id" title="definition">lookup_inductive_gen</span></a>, <a class="idref" href="MetaCoq.Template.Ast.html#lookup_minductive_gen"><span class="id" title="definition">lookup_minductive_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_env"><span class="id" title="definition">SE.lookup_env</span></a> ⇒ //; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> ⇒ /= //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_eq_context_gen_eq_binder_annot" class="idref" href="#trans_eq_context_gen_eq_binder_annot"><span class="id" title="lemma">trans_eq_context_gen_eq_binder_annot</span></a> <a id="556728c628d408a5e01834df1b46ba05" class="idref" href="#556728c628d408a5e01834df1b46ba05"><span class="id" title="binder">Γ</span></a> <a id="1dd0b74c279e9bc38a97b772ffb5cd4d" class="idref" href="#1dd0b74c279e9bc38a97b772ffb5cd4d"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_gen"><span class="id" title="abbreviation">eq_context_gen</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#556728c628d408a5e01834df1b46ba05"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1dd0b74c279e9bc38a97b772ffb5cd4d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#eq_binder_annot"><span class="id" title="definition">eq_binder_annot</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#556728c628d408a5e01834df1b46ba05"><span class="id" title="variable">Γ</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_name"><span class="id" title="projection">decl_name</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1dd0b74c279e9bc38a97b772ffb5cd4d"><span class="id" title="variable">Δ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_fold_All2"><span class="id" title="lemma">All2_fold_All2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_map"><span class="id" title="lemma">All2_map</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_eq_term_upto_univ" class="idref" href="#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> {<a id="cf:390" class="idref" href="#cf:390"><span class="id" title="binder">cf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="3cdff63d87fedd9655114b1a289457a9" class="idref" href="#3cdff63d87fedd9655114b1a289457a9"><span class="id" title="binder">Σ</span></a> <a id="Re:392" class="idref" href="#Re:392"><span class="id" title="binder">Re</span></a> <a id="Rle:393" class="idref" href="#Rle:393"><span class="id" title="binder">Rle</span></a> <a id="t:394" class="idref" href="#t:394"><span class="id" title="binder">t</span></a> <a id="u:395" class="idref" href="#u:395"><span class="id" title="binder">u</span></a> <a id="napp:396" class="idref" href="#napp:396"><span class="id" title="binder">napp</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">PCUICEquality.eq_term_upto_univ_napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3cdff63d87fedd9655114b1a289457a9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Re:392"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Rle:393"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#napp:396"><span class="id" title="variable">napp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:394"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:395"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TermEquality.html#eq_term_upto_univ_napp"><span class="id" title="inductive">TermEquality.eq_term_upto_univ_napp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3cdff63d87fedd9655114b1a289457a9"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Re:392"><span class="id" title="variable">Re</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Rle:393"><span class="id" title="variable">Rle</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#napp:396"><span class="id" title="variable">napp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:394"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:395"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Re</span> <span class="id" title="var">Rle</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">napp</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Rle</span>, <span class="id" title="var">napp</span>, <span class="id" title="var">u</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">invs</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">constructor</span> ; <span class="id" title="tactic">auto</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ih</span> : <span class="id" title="keyword">∀</span> <a id="Rle:400" class="idref" href="#Rle:400"><span class="id" title="binder">Rle</span></a> <a id="u:401" class="idref" href="#u:401"><span class="id" title="binder">u</span></a> (<a id="napp:402" class="idref" href="#napp:402"><span class="id" title="binder">napp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ih</span> ; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;1,6,7: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">constructor</span>; <span class="id" title="var">solve_all</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">constructor</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_R_global_instance"><span class="id" title="lemma">trans_R_global_instance</span></a> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Template.TermEquality.html#eq_term_upto_univ_mkApps"><span class="id" title="lemma">TermEquality.eq_term_upto_univ_mkApps</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpars</span> [<span class="id" title="var">Huinst</span> [<span class="id" title="var">Hctx</span> <span class="id" title="var">Hret</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHpars</span> [<span class="id" title="var">IHctx</span> <span class="id" title="var">IHret</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_eq_context_gen_eq_binder_annot"><span class="id" title="lemma">trans_eq_context_gen_eq_binder_annot</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_context_trans"><span class="id" title="lemma">map_context_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="var">solve_all_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_eq_context_gen_eq_binder_annot"><span class="id" title="lemma">trans_eq_context_gen_eq_binder_annot</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_context_trans"><span class="id" title="lemma">map_context_trans</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_leq_term" class="idref" href="#trans_leq_term"><span class="id" title="lemma">trans_leq_term</span></a> {<a id="cf:403" class="idref" href="#cf:403"><span class="id" title="binder">cf</span></a>} <a id="417735c1fbfc2982e5d08bac93a482a0" class="idref" href="#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="binder">Σ</span></a> <a id="dbe527bcb36f13e57445408e7ef51b85" class="idref" href="#dbe527bcb36f13e57445408e7ef51b85"><span class="id" title="binder">ϕ</span></a> <a id="T:406" class="idref" href="#T:406"><span class="id" title="binder">T</span></a> <a id="U:407" class="idref" href="#U:407"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">PCUICEquality.leq_term</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#dbe527bcb36f13e57445408e7ef51b85"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:406"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:407"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.TermEquality.html#leq_term"><span class="id" title="abbreviation">TermEquality.leq_term</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#417735c1fbfc2982e5d08bac93a482a0"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#dbe527bcb36f13e57445408e7ef51b85"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:406"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:407"><span class="id" title="variable">U</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_eq_term_upto_univ"><span class="id" title="lemma">trans_eq_term_upto_univ</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#"><span class="id" title="library">PCUICCumulativity</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wtcumul" class="idref" href="#wtcumul"><span class="id" title="section">wtcumul</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="module">PCUICTyping</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="module">PCUICEquality</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="wt_red1" class="idref" href="#wt_red1"><span class="id" title="record">wt_red1</span></a> {<a id="cf:408" class="idref" href="#cf:408"><span class="id" title="binder">cf</span></a>} (<a id="16060768d66e9644cabedc6a091f368f" class="idref" href="#16060768d66e9644cabedc6a091f368f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICEnvironment.global_env_ext</span></a>) (<a id="72655708bc8c67c421bb2846550533ea" class="idref" href="#72655708bc8c67c421bb2846550533ea"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">PCUICEnvironment.context</span></a>) <a id="T:411" class="idref" href="#T:411"><span class="id" title="binder">T</span></a> <a id="U:412" class="idref" href="#U:412"><span class="id" title="binder">U</span></a> :=<br/>
&nbsp;&nbsp;{ <a id="wt_red1_red1" class="idref" href="#wt_red1_red1"><span class="id" title="projection">wt_red1_red1</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICReduction.html#red1"><span class="id" title="inductive">PCUICReduction.red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#16060768d66e9644cabedc6a091f368f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#72655708bc8c67c421bb2846550533ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:411"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:412"><span class="id" title="variable">U</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="wt_red1_dom" class="idref" href="#wt_red1_dom"><span class="id" title="projection">wt_red1_dom</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#16060768d66e9644cabedc6a091f368f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#72655708bc8c67c421bb2846550533ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:411"><span class="id" title="variable">T</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="wt_red1_codom" class="idref" href="#wt_red1_codom"><span class="id" title="projection">wt_red1_codom</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#16060768d66e9644cabedc6a091f368f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#72655708bc8c67c421bb2846550533ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:412"><span class="id" title="variable">U</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Reserved Notation</span> &quot; Σ ;;; Γ |-- t &lt;= u " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">Γ</span>, <span class="id" title="var">t</span>, <span class="id" title="var">u</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="wt_cumul" class="idref" href="#wt_cumul"><span class="id" title="inductive">wt_cumul</span></a> `{<a id="H:417" class="idref" href="#H:417"><span class="id" title="binder">checker_flags</span></a>} (<a id="606c5999a7516f6b751a94eeb5c5c9f7" class="idref" href="#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="182081a3d26401167eb6aef97e63e86e" class="idref" href="#182081a3d26401167eb6aef97e63e86e"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="wt_cumul_refl" class="idref" href="#wt_cumul_refl"><span class="id" title="constructor">wt_cumul_refl</span></a> <a id="t:422" class="idref" href="#t:422"><span class="id" title="binder">t</span></a> <a id="u:423" class="idref" href="#u:423"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#leq_term"><span class="id" title="abbreviation">leq_term</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#global_ext_constraints"><span class="id" title="definition">global_ext_constraints</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:422"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:423"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">|--</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:422"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:423"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a id="wt_cumul_red_l" class="idref" href="#wt_cumul_red_l"><span class="id" title="constructor">wt_cumul_red_l</span></a> <a id="t:424" class="idref" href="#t:424"><span class="id" title="binder">t</span></a> <a id="u:425" class="idref" href="#u:425"><span class="id" title="binder">u</span></a> <a id="v:426" class="idref" href="#v:426"><span class="id" title="binder">v</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_red1"><span class="id" title="record">wt_red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:424"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#v:426"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">|--</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#v:426"><span class="id" title="variable">v</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:425"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">|--</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:424"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:425"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a id="wt_cumul_red_r" class="idref" href="#wt_cumul_red_r"><span class="id" title="constructor">wt_cumul_red_r</span></a> <a id="t:427" class="idref" href="#t:427"><span class="id" title="binder">t</span></a> <a id="u:428" class="idref" href="#u:428"><span class="id" title="binder">u</span></a> <a id="v:429" class="idref" href="#v:429"><span class="id" title="binder">v</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">|--</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:427"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#v:429"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_red1"><span class="id" title="record">wt_red1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:428"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#v:429"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#606c5999a7516f6b751a94eeb5c5c9f7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">|--</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:427"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:428"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="11ef29f11a7728896091404b94e37210" class="idref" href="#11ef29f11a7728896091404b94e37210"><span class="id" title="notation">&quot;</span></a> Σ ;;; Γ |-- t &lt;= u " := (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_cumul:421"><span class="id" title="inductive">wt_cumul</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>) : <span class="id" title="var">type_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cumul_decorate" class="idref" href="#cumul_decorate"><span class="id" title="lemma">cumul_decorate</span></a> {<a id="cf:430" class="idref" href="#cf:430"><span class="id" title="binder">cf</span></a>} (<a id="790f7a461bb9df3cbf16e2ea7438ce41" class="idref" href="#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) {<a id="1c87d768d4389cb494f9757000cd6243" class="idref" href="#1c87d768d4389cb494f9757000cd6243"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a>} <a id="cf8f9029777cd4b065236931af37085b" class="idref" href="#cf8f9029777cd4b065236931af37085b"><span class="id" title="binder">Γ</span></a> <a id="T:434" class="idref" href="#T:434"><span class="id" title="binder">T</span></a> <a id="U:435" class="idref" href="#U:435"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cf8f9029777cd4b065236931af37085b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:434"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cf8f9029777cd4b065236931af37085b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:435"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#cumulAlgo"><span class="id" title="abbreviation">cumulAlgo</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cf8f9029777cd4b065236931af37085b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:434"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:435"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_cumul"><span class="id" title="inductive">wt_cumul</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#790f7a461bb9df3cbf16e2ea7438ce41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cf8f9029777cd4b065236931af37085b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:434"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:435"><span class="id" title="variable">U</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ht</span> <span class="id" title="var">hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#isType_red1"><span class="id" title="lemma">isType_red1</span></a> <span class="id" title="var">ht</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICSR.html#isType_red1"><span class="id" title="lemma">isType_red1</span></a> <span class="id" title="var">hu</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 3; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wtcumul"><span class="id" title="section">wtcumul</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_cumul" class="idref" href="#trans_cumul"><span class="id" title="lemma">trans_cumul</span></a> {<a id="cf:436" class="idref" href="#cf:436"><span class="id" title="binder">cf</span></a>} {<a id="e16497e8f36b77c3860967d69e300836" class="idref" href="#e16497e8f36b77c3860967d69e300836"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">PCUICEnvironment.global_env_ext</span></a>} {<a id="fee0257da0f6f4d4a1ee5aa79ec188ce" class="idref" href="#fee0257da0f6f4d4a1ee5aa79ec188ce"><span class="id" title="binder">Γ</span></a> <a id="T:439" class="idref" href="#T:439"><span class="id" title="binder">T</span></a> <a id="U:440" class="idref" href="#U:440"><span class="id" title="binder">U</span></a>} {<a id="7508eaaed58254cec464973045310ce5" class="idref" href="#7508eaaed58254cec464973045310ce5"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">PCUICTyping.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e16497e8f36b77c3860967d69e300836"><span class="id" title="variable">Σ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wt_cumul"><span class="id" title="inductive">wt_cumul</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e16497e8f36b77c3860967d69e300836"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fee0257da0f6f4d4a1ee5aa79ec188ce"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:439"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:440"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_gen"><span class="id" title="inductive">TT.cumul_gen</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e16497e8f36b77c3860967d69e300836"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fee0257da0f6f4d4a1ee5aa79ec188ce"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:439"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:440"><span class="id" title="variable">U</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_leq_term"><span class="id" title="lemma">trans_leq_term</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_global_ext_constraints"><span class="id" title="lemma">trans_global_ext_constraints</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">ht</span> <span class="id" title="var">hv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_red1"><span class="id" title="lemma">trans_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>. 2:<span class="id" title="tactic">destruct</span> <span class="id" title="var">ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">hs</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 2; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">ht</span> <span class="id" title="var">hv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_red1"><span class="id" title="lemma">trans_red1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">eauto</span>. 2:<span class="id" title="tactic">destruct</span> <span class="id" title="var">ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">hs</span>]; <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 3; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TTwf_local" class="idref" href="#TTwf_local"><span class="id" title="definition">TTwf_local</span></a> {<a id="cf:442" class="idref" href="#cf:442"><span class="id" title="binder">cf</span></a>} <a id="f8c71387e5e6967f482462e508595a26" class="idref" href="#f8c71387e5e6967f482462e508595a26"><span class="id" title="binder">Σ</span></a> <a id="3521a3b7148f925207ebb24918828702" class="idref" href="#3521a3b7148f925207ebb24918828702"><span class="id" title="binder">Γ</span></a> := <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env"><span class="id" title="inductive">TT.All_local_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_typing"><span class="id" title="definition">TT.lift_typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f8c71387e5e6967f482462e508595a26"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3521a3b7148f925207ebb24918828702"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_local'" class="idref" href="#trans_wf_local'"><span class="id" title="lemma">trans_wf_local'</span></a> {<a id="cf:445" class="idref" href="#cf:445"><span class="id" title="binder">cf</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="1531a270da076f773894e5abebc4167c" class="idref" href="#1531a270da076f773894e5abebc4167c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_env_ext"><span class="id" title="definition">SE.global_env_ext</span></a>) <a id="8d013d47d3533b736428cc09553704a4" class="idref" href="#8d013d47d3533b736428cc09553704a4"><span class="id" title="binder">Γ</span></a> (<a id="60687fb1599c6ac0180069ec1c77cf41" class="idref" href="#60687fb1599c6ac0180069ec1c77cf41"><span class="id" title="binder">wfΓ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1531a270da076f773894e5abebc4167c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="P:453" class="idref" href="#P:453"><span class="id" title="binder">P</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="648c80a133b5b24ee3c7c5a3b029978e" class="idref" href="#648c80a133b5b24ee3c7c5a3b029978e"><span class="id" title="binder">Σ0</span></a> <a id="c14e186fa3675e6b4c0497465e388a8b" class="idref" href="#c14e186fa3675e6b4c0497465e388a8b"><span class="id" title="binder">Γ0</span></a> <span class="id" title="var">_</span> (<a id="t:451" class="idref" href="#t:451"><span class="id" title="binder">t</span></a> <a id="T:452" class="idref" href="#T:452"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>) <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#648c80a133b5b24ee3c7c5a3b029978e"><span class="id" title="variable">Σ0</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c14e186fa3675e6b4c0497465e388a8b"><span class="id" title="variable">Γ0</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:451"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:452"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env_over"><span class="id" title="definition">ST.All_local_env_over</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:453"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1531a270da076f773894e5abebc4167c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#60687fb1599c6ac0180069ec1c77cf41"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TTwf_local"><span class="id" title="definition">TTwf_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#1531a270da076f773894e5abebc4167c"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8d013d47d3533b736428cc09553704a4"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_local_env" class="idref" href="#trans_wf_local_env"><span class="id" title="lemma">trans_wf_local_env</span></a> {<a id="cf:454" class="idref" href="#cf:454"><span class="id" title="binder">cf</span></a>} <a id="e965474e6b22765bf196476d81220dfd" class="idref" href="#e965474e6b22765bf196476d81220dfd"><span class="id" title="binder">Σ</span></a> <a id="ed0ab27a87ddbdcc1f4191fb00e8aedb" class="idref" href="#ed0ab27a87ddbdcc1f4191fb00e8aedb"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_typing"><span class="id" title="definition">ST.lift_typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="61011ff107733f0ee1fd3850c12323e1" class="idref" href="#61011ff107733f0ee1fd3850c12323e1"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_env_ext"><span class="id" title="definition">SE.global_env_ext</span></a>) <a id="17845b51c588499400cb49e652b0e434" class="idref" href="#17845b51c588499400cb49e652b0e434"><span class="id" title="binder">Γ</span></a> <a id="b:459" class="idref" href="#b:459"><span class="id" title="binder">b</span></a> <a id="ty:460" class="idref" href="#ty:460"><span class="id" title="binder">ty</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#61011ff107733f0ee1fd3850c12323e1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#17845b51c588499400cb49e652b0e434"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:459"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:460"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#61011ff107733f0ee1fd3850c12323e1"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#17845b51c588499400cb49e652b0e434"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:459"><span class="id" title="variable">b</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:460"><span class="id" title="variable">ty</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e965474e6b22765bf196476d81220dfd"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ed0ab27a87ddbdcc1f4191fb00e8aedb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TTwf_local"><span class="id" title="definition">TTwf_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#e965474e6b22765bf196476d81220dfd"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ed0ab27a87ddbdcc1f4191fb00e8aedb"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">t2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_branches" class="idref" href="#trans_branches"><span class="id" title="lemma">trans_branches</span></a> {<a id="cf:461" class="idref" href="#cf:461"><span class="id" title="binder">cf</span></a>} <a id="5b8db97ecd7d1f3a0ccfaee058fc6d87" class="idref" href="#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="binder">Σ</span></a> <a id="b7bfa96db3dcef8f37ba3781919ec0a9" class="idref" href="#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="binder">Γ</span></a> <a id="brs:464" class="idref" href="#brs:464"><span class="id" title="binder">brs</span></a> <a id="btys:465" class="idref" href="#btys:465"><span class="id" title="binder">btys</span></a> <a id="ps:466" class="idref" href="#ps:466"><span class="id" title="binder">ps</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="br:467" class="idref" href="#br:467"><span class="id" title="binder">br</span></a> <a id="bty:468" class="idref" href="#bty:468"><span class="id" title="binder">bty</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(((</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:467"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:468"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:467"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:468"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:467"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:468"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:468"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">PCUICAst.tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ps:466"><span class="id" title="variable">ps</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:468"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">PCUICAst.tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ps:466"><span class="id" title="variable">ps</span></a>))) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#brs:464"><span class="id" title="variable">brs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#btys:465"><span class="id" title="variable">btys</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="br:472" class="idref" href="#br:472"><span class="id" title="binder">br</span></a> <a id="bty:473" class="idref" href="#bty:473"><span class="id" title="binder">bty</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:472"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:473"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:472"><span class="id" title="variable">br</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:473"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5b8db97ecd7d1f3a0ccfaee058fc6d87"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b7bfa96db3dcef8f37ba3781919ec0a9"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bty:473"><span class="id" title="variable">bty</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ps:466"><span class="id" title="variable">ps</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Utils.MCProd.html#on_snd"><span class="id" title="definition">on_snd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#brs:464"><span class="id" title="variable">brs</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:471" class="idref" href="#pat:471"><span class="id" title="binder">(</span></a><a id="pat:471" class="idref" href="#pat:471"><span class="id" title="binder">x</span></a><a id="pat:471" class="idref" href="#pat:471"><span class="id" title="binder">,</span></a> <a id="pat:471" class="idref" href="#pat:471"><span class="id" title="binder">y</span></a><a id="pat:471" class="idref" href="#pat:471"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:470"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:469"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#btys:465"><span class="id" title="variable">btys</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [[[[] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>,<span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mfix_All" class="idref" href="#trans_mfix_All"><span class="id" title="lemma">trans_mfix_All</span></a> {<a id="cf:474" class="idref" href="#cf:474"><span class="id" title="binder">cf</span></a>} <a id="00d8123a707be1dacdbfa1e10724abd7" class="idref" href="#00d8123a707be1dacdbfa1e10724abd7"><span class="id" title="binder">Σ</span></a> <a id="754c087e0915a93e37f778dd725516ef" class="idref" href="#754c087e0915a93e37f778dd725516ef"><span class="id" title="binder">Γ</span></a> <a id="mfix:477" class="idref" href="#mfix:477"><span class="id" title="binder">mfix</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_typing"><span class="id" title="definition">ST.lift_typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="c1c5ad40a3869b5e8965c73046e24805" class="idref" href="#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_env_ext"><span class="id" title="definition">SE.global_env_ext</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="3b40bd60d01e0dccb7eab39989febb62" class="idref" href="#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context"><span class="id" title="definition">SE.context</span></a>) (<a id="b:480" class="idref" href="#b:480"><span class="id" title="binder">b</span></a> <a id="ty:481" class="idref" href="#ty:481"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:480"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:481"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c1c5ad40a3869b5e8965c73046e24805"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b40bd60d01e0dccb7eab39989febb62"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:480"><span class="id" title="variable">b</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:481"><span class="id" title="variable">ty</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#00d8123a707be1dacdbfa1e10724abd7"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#754c087e0915a93e37f778dd725516ef"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:477"><span class="id" title="variable">mfix</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TTwf_local"><span class="id" title="definition">TTwf_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#00d8123a707be1dacdbfa1e10724abd7"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#754c087e0915a93e37f778dd725516ef"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">TT.fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:477"><span class="id" title="variable">mfix</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_fix_context"><span class="id" title="lemma">trans_fix_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TTwf_local"><span class="id" title="definition">TTwf_local</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">A</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">A</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <span class="id" title="var">mfix</span>)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>;<span class="id" title="var">cbn</span>;<span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">auto</span>;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_mfix_All2" class="idref" href="#trans_mfix_All2"><span class="id" title="lemma">trans_mfix_All2</span></a> {<a id="cf:482" class="idref" href="#cf:482"><span class="id" title="binder">cf</span></a>} <a id="bccce3919ebd5e2b2f80d4e479892210" class="idref" href="#bccce3919ebd5e2b2f80d4e479892210"><span class="id" title="binder">Σ</span></a> <a id="68f0678da36d525e35176ac7a8ee868c" class="idref" href="#68f0678da36d525e35176ac7a8ee868c"><span class="id" title="binder">Γ</span></a> <a id="mfix:485" class="idref" href="#mfix:485"><span class="id" title="binder">mfix</span></a> <a id="xfix:486" class="idref" href="#xfix:486"><span class="id" title="binder">xfix</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d:487" class="idref" href="#d:487"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bccce3919ebd5e2b2f80d4e479892210"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#68f0678da36d525e35176ac7a8ee868c"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xfix:486"><span class="id" title="variable">xfix</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:487"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift0"><span class="id" title="abbreviation">S.lift0</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xfix:486"><span class="id" title="variable">xfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:487"><span class="id" title="variable">d</span></a>))<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bccce3919ebd5e2b2f80d4e479892210"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#68f0678da36d525e35176ac7a8ee868c"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xfix:486"><span class="id" title="variable">xfix</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:487"><span class="id" title="variable">d</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift0"><span class="id" title="abbreviation">S.lift0</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xfix:486"><span class="id" title="variable">xfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:487"><span class="id" title="variable">d</span></a>)))) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:485"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="d:488" class="idref" href="#d:488"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#bccce3919ebd5e2b2f80d4e479892210"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#68f0678da36d525e35176ac7a8ee868c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">TT.fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xfix:486"><span class="id" title="variable">xfix</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Common.BasicAst.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:488"><span class="id" title="variable">d</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift0"><span class="id" title="abbreviation">T.lift0</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">TT.fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#xfix:486"><span class="id" title="variable">xfix</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:488"><span class="id" title="variable">d</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:485"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Template.Ast.html#Env.app_context"><span class="id" title="definition">app_context</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#app_context"><span class="id" title="definition">SE.app_context</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_fix_context"><span class="id" title="lemma">trans_fix_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_dbody"><span class="id" title="lemma">trans_dbody</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_dtype"><span class="id" title="lemma">trans_dtype</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span>(<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">SE.fix_context</span></a> <span class="id" title="var">xfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context"><span class="id" title="definition">TT.fix_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a>(<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <span class="id" title="var">xfix</span>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">t0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_context_length"><span class="id" title="lemma">TT.fix_context_length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All_over_All" class="idref" href="#All_over_All"><span class="id" title="lemma">All_over_All</span></a> {<a id="cf:489" class="idref" href="#cf:489"><span class="id" title="binder">cf</span></a>} <a id="4873e77f1362cf139e171ac9a5970f68" class="idref" href="#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="binder">Σ</span></a> <a id="f527c353f82f1b6e84f6fc2cf2c60f35" class="idref" href="#f527c353f82f1b6e84f6fc2cf2c60f35"><span class="id" title="binder">Γ</span></a> <a id="b2671bdd32cdfb24456e65bca048d2e2" class="idref" href="#b2671bdd32cdfb24456e65bca048d2e2"><span class="id" title="binder">wfΓ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env_over"><span class="id" title="definition">ST.All_local_env_over</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="75d1139a913c3f297a3e2f9e51fba192" class="idref" href="#75d1139a913c3f297a3e2f9e51fba192"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_env_ext"><span class="id" title="definition">SE.global_env_ext</span></a>) (<a id="2d0905c7802b043f25ff1bec917eb94f" class="idref" href="#2d0905c7802b043f25ff1bec917eb94f"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context"><span class="id" title="definition">SE.context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#:::'wf_local'_x_x"><span class="id" title="notation">wf_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#75d1139a913c3f297a3e2f9e51fba192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2d0905c7802b043f25ff1bec917eb94f"><span class="id" title="variable">Γ</span></a>) (<a id="t:495" class="idref" href="#t:495"><span class="id" title="binder">t</span></a> <a id="T:496" class="idref" href="#T:496"><span class="id" title="binder">T</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#75d1139a913c3f297a3e2f9e51fba192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2d0905c7802b043f25ff1bec917eb94f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:495"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:496"><span class="id" title="variable">T</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#75d1139a913c3f297a3e2f9e51fba192"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2d0905c7802b043f25ff1bec917eb94f"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:495"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:496"><span class="id" title="variable">T</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f527c353f82f1b6e84f6fc2cf2c60f35"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b2671bdd32cdfb24456e65bca048d2e2"><span class="id" title="variable">wfΓ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env"><span class="id" title="inductive">ST.All_local_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_typing"><span class="id" title="definition">ST.lift_typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="b1a67477e439e08559286e83604b5ed0" class="idref" href="#b1a67477e439e08559286e83604b5ed0"><span class="id" title="binder">Σ0</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_env_ext"><span class="id" title="definition">SE.global_env_ext</span></a>) (<a id="3fce1c7925c09ccd9f3b4b500bf2a15f" class="idref" href="#3fce1c7925c09ccd9f3b4b500bf2a15f"><span class="id" title="binder">Γ0</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context"><span class="id" title="definition">SE.context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:499" class="idref" href="#b:499"><span class="id" title="binder">b</span></a> <a id="ty:500" class="idref" href="#ty:500"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">PCUICAst.term</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b1a67477e439e08559286e83604b5ed0"><span class="id" title="variable">Σ0</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3fce1c7925c09ccd9f3b4b500bf2a15f"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:499"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:500"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#52eddd74560fa276f934634af83eeaf4"><span class="id" title="notation">×</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b1a67477e439e08559286e83604b5ed0"><span class="id" title="variable">Σ0</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3fce1c7925c09ccd9f3b4b500bf2a15f"><span class="id" title="variable">Γ0</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b:499"><span class="id" title="variable">b</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:500"><span class="id" title="variable">ty</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#4873e77f1362cf139e171ac9a5970f68"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f527c353f82f1b6e84f6fc2cf2c60f35"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHAll_local_env_over_gen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<span class="id" title="tactic">split</span>;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHAll_local_env_over_gen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>;<span class="id" title="tactic">split</span>;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decompose_prod_assum" class="idref" href="#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="fce5e9eedd39e7cecf76c762d4c45260" class="idref" href="#fce5e9eedd39e7cecf76c762d4c45260"><span class="id" title="binder">Γ</span></a> <a id="t:502" class="idref" href="#t:502"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fce5e9eedd39e7cecf76c762d4c45260"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:502"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_prod_assum"><span class="id" title="definition">AstUtils.decompose_prod_assum</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fce5e9eedd39e7cecf76c762d4c45260"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:502"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">Δ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ</span> <span class="id" title="var">c</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">Δ</span>, <span class="id" title="var">c</span>, <span class="id" title="var">e</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">inversion</span> <span class="id" title="var">e</span> ; <span class="id" title="tactic">subst</span> ; <span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">noconf</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#mkApp_ex"><span class="id" title="lemma">mkApp_ex</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> [<span class="id" title="var">args</span> -&gt;]].<br/>
&nbsp;&nbsp;- <span class="id" title="var">noconf</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []] ⇒ /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_isApp" class="idref" href="#trans_isApp"><span class="id" title="lemma">trans_isApp</span></a> <a id="t:503" class="idref" href="#t:503"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">PCUICAst.isApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:503"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#isApp"><span class="id" title="definition">Ast.isApp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:503"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_nisApp" class="idref" href="#trans_nisApp"><span class="id" title="lemma">trans_nisApp</span></a> <a id="t:504" class="idref" href="#t:504"><span class="id" title="binder">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">PCUICAst.isApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:504"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#isApp"><span class="id" title="definition">Ast.isApp</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:504"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_destInd" class="idref" href="#trans_destInd"><span class="id" title="lemma">trans_destInd</span></a> <a id="t:505" class="idref" href="#t:505"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#destInd"><span class="id" title="definition">ST.destInd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:505"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#destInd"><span class="id" title="definition">TT.destInd</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:505"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ //. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Template.TypingWf.html#mkApp_ex"><span class="id" title="lemma">mkApp_ex</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> [<span class="id" title="var">u</span> -&gt;]].<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">prim</span> <span class="id" title="keyword">as</span> [? []].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_decompose_app" class="idref" href="#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> <a id="t:506" class="idref" href="#t:506"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:506"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app"><span class="id" title="definition">AstUtils.decompose_app</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:506"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">hd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec_inv"><span class="id" title="lemma">decompose_app_rec_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Template.AstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">AstUtils.decompose_app_mkApps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_isApp"><span class="id" title="lemma">trans_isApp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2_map_option_out_mapi_Some_spec" class="idref" href="#All2_map_option_out_mapi_Some_spec"><span class="id" title="lemma">All2_map_option_out_mapi_Some_spec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:507" class="idref" href="#A:507"><span class="id" title="binder">A</span></a> <a id="B:508" class="idref" href="#B:508"><span class="id" title="binder">B</span></a> <a id="B':509" class="idref" href="#B':509"><span class="id" title="binder">B'</span></a>} (<a id="f:510" class="idref" href="#f:510"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:507"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:508"><span class="id" title="variable">B</span></a>) (<a id="g':511" class="idref" href="#g':511"><span class="id" title="binder">g'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:508"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B':509"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:512" class="idref" href="#g:512"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:507"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B':509"><span class="id" title="variable">B'</span></a>) <a id="l:513" class="idref" href="#l:513"><span class="id" title="binder">l</span></a> <a id="t:514" class="idref" href="#t:514"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:515" class="idref" href="#i:515"><span class="id" title="binder">i</span></a> <a id="x:516" class="idref" href="#x:516"><span class="id" title="binder">x</span></a> <a id="t:517" class="idref" href="#t:517"><span class="id" title="binder">t</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:510"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:515"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:516"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:517"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:512"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:515"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:516"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g':511"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:517"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:510"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:513"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:514"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:512"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:513"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g':511"><span class="id" title="variable">g'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:514"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">f</span> <span class="id" title="var">g'</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>, <span class="id" title="var">e</span>, <span class="id" title="var">t</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#some_inj"><span class="id" title="lemma">some_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e'</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">e</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [ <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> ?<span class="id" title="var">t</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>. 2: <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e''</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e''</span>. <span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_one_fix" class="idref" href="#trans_check_one_fix"><span class="id" title="lemma">trans_check_one_fix</span></a> <a id="mfix:518" class="idref" href="#mfix:518"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_fix"><span class="id" title="definition">TT.check_one_fix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:518"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:518"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_fix"><span class="id" title="definition">TT.check_one_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mfix</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">arg</span> <span class="id" title="var">rarg</span>] ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">p</span>] ⇒ /= →.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_smash_context"><span class="id" title="lemma">trans_smash_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">List.map_rev</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_destInd"><span class="id" title="lemma">trans_destInd</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_option_out_check_one_fix" class="idref" href="#map_option_out_check_one_fix"><span class="id" title="lemma">map_option_out_check_one_fix</span></a> <a id="mfix:519" class="idref" href="#mfix:519"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:520" class="idref" href="#x:520"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_fix"><span class="id" title="definition">TT.check_one_fix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:520"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:519"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_fix"><span class="id" title="definition">ST.check_one_fix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:519"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_check_one_fix"><span class="id" title="lemma">trans_check_one_fix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_one_cofix" class="idref" href="#trans_check_one_cofix"><span class="id" title="lemma">trans_check_one_cofix</span></a> <a id="mfix:521" class="idref" href="#mfix:521"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_cofix"><span class="id" title="definition">TT.check_one_cofix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:521"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:521"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_cofix"><span class="id" title="definition">TT.check_one_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mfix</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">arg</span> <span class="id" title="var">rarg</span>] ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_decompose_prod_assum"><span class="id" title="lemma">trans_decompose_prod_assum</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ty</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_prod_assum"><span class="id" title="definition">decompose_prod_assum</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">p</span>] ⇒ → /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_decompose_app"><span class="id" title="lemma">trans_decompose_app</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> ⇒ /= →.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_destInd"><span class="id" title="lemma">trans_destInd</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_option_out_check_one_cofix" class="idref" href="#map_option_out_check_one_cofix"><span class="id" title="lemma">map_option_out_check_one_cofix</span></a> <a id="mfix:522" class="idref" href="#mfix:522"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:523" class="idref" href="#x:523"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_cofix"><span class="id" title="definition">TT.check_one_cofix</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:523"><span class="id" title="variable">x</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:522"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_one_cofix"><span class="id" title="definition">ST.check_one_cofix</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:522"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_ext"><span class="id" title="lemma">map_ext</span></a> ⇒ <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_check_one_cofix"><span class="id" title="lemma">trans_check_one_cofix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_check_rec_kind" class="idref" href="#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a> <a id="8ac9895499135a065afaa7fcc1b247c9" class="idref" href="#8ac9895499135a065afaa7fcc1b247c9"><span class="id" title="binder">Σ</span></a> <a id="k:525" class="idref" href="#k:525"><span class="id" title="binder">k</span></a> <a id="f:526" class="idref" href="#f:526"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_recursivity_kind"><span class="id" title="definition">ST.check_recursivity_kind</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_env"><span class="id" title="definition">SE.lookup_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8ac9895499135a065afaa7fcc1b247c9"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:525"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:526"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_recursivity_kind"><span class="id" title="definition">TT.check_recursivity_kind</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8ac9895499135a065afaa7fcc1b247c9"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:525"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:526"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_recursivity_kind"><span class="id" title="definition">ST.check_recursivity_kind</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#check_recursivity_kind"><span class="id" title="definition">TT.check_recursivity_kind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lookup"><span class="id" title="lemma">trans_lookup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lookup_env"><span class="id" title="definition">SE.lookup_env</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_fixpoint" class="idref" href="#trans_wf_fixpoint"><span class="id" title="lemma">trans_wf_fixpoint</span></a> <a id="82294b67919a7a6e3719acb7b53b72d2" class="idref" href="#82294b67919a7a6e3719acb7b53b72d2"><span class="id" title="binder">Σ</span></a> <a id="mfix:528" class="idref" href="#mfix:528"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_fixpoint"><span class="id" title="definition">TT.wf_fixpoint</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#82294b67919a7a6e3719acb7b53b72d2"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:528"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_fixpoint"><span class="id" title="definition">ST.wf_fixpoint</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#82294b67919a7a6e3719acb7b53b72d2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:528"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_fixpoint"><span class="id" title="definition">ST.wf_fixpoint</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_fixpoint_gen"><span class="id" title="definition">ST.wf_fixpoint_gen</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_fixpoint"><span class="id" title="definition">TT.wf_fixpoint</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_option_out_check_one_fix"><span class="id" title="lemma">map_option_out_check_one_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_ext"><span class="id" title="lemma">forallb_ext</span></a> ⇒ <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_isLambda"><span class="id" title="lemma">trans_isLambda</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_wf_cofixpoint" class="idref" href="#trans_wf_cofixpoint"><span class="id" title="lemma">trans_wf_cofixpoint</span></a> <a id="a3cfa5700dee2bb1ba9a2d32aa0f378a" class="idref" href="#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="binder">Σ</span></a> <a id="mfix:530" class="idref" href="#mfix:530"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_cofixpoint"><span class="id" title="definition">TT.wf_cofixpoint</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global_env"><span class="id" title="definition">trans_global_env</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:530"><span class="id" title="variable">mfix</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_cofixpoint"><span class="id" title="definition">ST.wf_cofixpoint</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a3cfa5700dee2bb1ba9a2d32aa0f378a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:530"><span class="id" title="variable">mfix</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_cofixpoint"><span class="id" title="definition">ST.wf_cofixpoint</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_cofixpoint_gen"><span class="id" title="definition">ST.wf_cofixpoint_gen</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf_cofixpoint"><span class="id" title="definition">TT.wf_cofixpoint</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#map_option_out_check_one_cofix"><span class="id" title="lemma">map_option_out_check_one_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MetaCoq.Utils.MCOption.html#map_option_out"><span class="id" title="definition">map_option_out</span></a> <span class="id" title="keyword">as</span> [[]|] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_check_rec_kind"><span class="id" title="lemma">trans_check_rec_kind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_mkApps_napp" class="idref" href="#type_mkApps_napp"><span class="id" title="lemma">type_mkApps_napp</span></a> `{<a id="H:531" class="idref" href="#H:531"><span class="id" title="binder">checker_flags</span></a>} <a id="5af8b4b176137ecf9b0a413e58ca9851" class="idref" href="#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="binder">Σ</span></a> <a id="3b818408e74e86a5b3047bdb0d5aa4ce" class="idref" href="#3b818408e74e86a5b3047bdb0d5aa4ce"><span class="id" title="binder">Γ</span></a> <a id="f:534" class="idref" href="#f:534"><span class="id" title="binder">f</span></a> <a id="u:535" class="idref" href="#u:535"><span class="id" title="binder">u</span></a> <a id="T:536" class="idref" href="#T:536"><span class="id" title="binder">T</span></a> <a id="T':537" class="idref" href="#T':537"><span class="id" title="binder">T'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:534"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b818408e74e86a5b3047bdb0d5aa4ce"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:534"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:536"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">TT.typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b818408e74e86a5b3047bdb0d5aa4ce"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:536"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:535"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':537"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5af8b4b176137ecf9b0a413e58ca9851"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b818408e74e86a5b3047bdb0d5aa4ce"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:534"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:535"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':537"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span> <span class="id" title="var">hty</span> <span class="id" title="var">hsp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">hsp</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.LiftSubst.html#mkApps_tApp"><span class="id" title="lemma">mkApps_tApp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> ⇒ //. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> ⇒ //. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="fix_guard_trans" class="idref" href="#fix_guard_trans"><span class="id" title="axiom">fix_guard_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="57a52350b520ce3a7a8c3ea16662a0ef" class="idref" href="#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="binder">Σ</span></a> <a id="962efeea6919d1cb22c013fff53e7ee5" class="idref" href="#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="binder">Γ</span></a> <a id="mfix:540" class="idref" href="#mfix:540"><span class="id" title="binder">mfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_guard"><span class="id" title="definition">ST.fix_guard</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:540"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_guard"><span class="id" title="method">TT.fix_guard</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#57a52350b520ce3a7a8c3ea16662a0ef"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#962efeea6919d1cb22c013fff53e7ee5"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:540"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="cofix_guard_trans" class="idref" href="#cofix_guard_trans"><span class="id" title="axiom">cofix_guard_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="5919d5c9ad9a2906ebccbeccb4852840" class="idref" href="#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="binder">Σ</span></a> <a id="2da9c42c89b48ffe494c083cded82017" class="idref" href="#2da9c42c89b48ffe494c083cded82017"><span class="id" title="binder">Γ</span></a> <a id="mfix:544" class="idref" href="#mfix:544"><span class="id" title="binder">mfix</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cofix_guard"><span class="id" title="definition">ST.cofix_guard</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2da9c42c89b48ffe494c083cded82017"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:544"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cofix_guard"><span class="id" title="method">TT.cofix_guard</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#5919d5c9ad9a2906ebccbeccb4852840"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2da9c42c89b48ffe494c083cded82017"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mfix:544"><span class="id" title="variable">mfix</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;version&nbsp;of&nbsp;typing&nbsp;spine&nbsp;allows&nbsp;to&nbsp;not&nbsp;require&nbsp;<span class="inlinecode"><span class="id" title="var">isType</span></span>&nbsp;assumptions&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the<br/>
&nbsp;&nbsp;application&nbsp;chain,&nbsp;which&nbsp;is&nbsp;crucial&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;build&nbsp;a&nbsp;spine&nbsp;that&nbsp;both&nbsp;encompasses&nbsp;PCUIC's<br/>
&nbsp;&nbsp;applications&nbsp;and&nbsp;mimicks&nbsp;the&nbsp;typing&nbsp;rule&nbsp;of.Common.&nbsp;Otherwise&nbsp;we&nbsp;would&nbsp;only&nbsp;model:<br/>
<br/>
&nbsp;&nbsp;|-&nbsp;tProd&nbsp;na&nbsp;A&nbsp;B&nbsp;:&nbsp;s<br/>
&nbsp;&nbsp;|-&nbsp;f&nbsp;:&nbsp;tProd&nbsp;na&nbsp;A&nbsp;B<br/>
&nbsp;&nbsp;|-&nbsp;u&nbsp;:&nbsp;A<br/>
&nbsp;&nbsp;***&nbsp;|-&nbsp;B&nbsp;<span class="inlinecode">0</span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">u</span></span>&nbsp;:&nbsp;s&nbsp;***&nbsp;&nbsp;&lt;-&nbsp;this&nbsp;last&nbsp;hypothesis&nbsp;is&nbsp;problematic,&nbsp;it's&nbsp;not&nbsp;present&nbsp;in&nbsp;PCUIC<br/>
&nbsp;&nbsp;------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;derivations&nbsp;for&nbsp;example.<br/>
&nbsp;&nbsp;|-&nbsp;tApp&nbsp;f&nbsp;u&nbsp;:&nbsp;B&nbsp;<span class="inlinecode">0</span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">u</span></span><br/>
<br/>
&nbsp;&nbsp;The&nbsp;typing_spine_nil&nbsp;constructor&nbsp;allows&nbsp;to&nbsp;stack&nbsp;cumulativity&nbsp;steps&nbsp;using&nbsp;transitivity&nbsp;of&nbsp;cumulativity,<br/>
&nbsp;&nbsp;following&nbsp;from&nbsp;confluence.<br/>
<br/>
&nbsp;&nbsp;In&nbsp;the&nbsp;end&nbsp;a&nbsp;typing&nbsp;derivation&nbsp;for&nbsp;an&nbsp;application&nbsp;that&nbsp;can&nbsp;mix&nbsp;application&nbsp;and&nbsp;cumulativity&nbsp;steps&nbsp;at&nbsp;any<br/>
&nbsp;&nbsp;point:<br/>
<br/>
&nbsp;&nbsp;tApp&nbsp;(tApp&nbsp;f&nbsp;u)&nbsp;v&nbsp;:&nbsp;T'&nbsp;can&nbsp;be&nbsp;translated&nbsp;to<br/>
<br/>
&nbsp;&nbsp;typing_spine&nbsp;fty&nbsp;<span class="inlinecode"><span class="id" title="var">u</span>;</span> <span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;T'<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="module">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="module">PCUICLiftSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#"><span class="id" title="module">PCUICTyping</span></a>.<br/>
<span class="id" title="keyword">Inductive</span> <a id="typing_spine" class="idref" href="#typing_spine"><span class="id" title="inductive">typing_spine</span></a> {<a id="cf:546" class="idref" href="#cf:546"><span class="id" title="binder">cf</span></a>} (<a id="262385f9d624cb5d3f32c92c9acffe2c" class="idref" href="#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>) (<a id="567e107ddeb5fe6c7bc8e4803f06d582" class="idref" href="#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="type_spine_eq" class="idref" href="#type_spine_eq"><span class="id" title="constructor">type_spine_eq</span></a> <a id="ty:551" class="idref" href="#ty:551"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine:549"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:551"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:551"><span class="id" title="variable">ty</span></a><br/>
<br/>
| <a id="type_spine_nil" class="idref" href="#type_spine_nil"><span class="id" title="constructor">type_spine_nil</span></a> <a id="ty:552" class="idref" href="#ty:552"><span class="id" title="binder">ty</span></a> <a id="ty':553" class="idref" href="#ty':553"><span class="id" title="binder">ty'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty':553"><span class="id" title="variable">ty'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:552"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty':553"><span class="id" title="variable">ty'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine:549"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:552"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty':553"><span class="id" title="variable">ty'</span></a><br/>
<br/>
| <a id="type_spine_cons" class="idref" href="#type_spine_cons"><span class="id" title="constructor">type_spine_cons</span></a> <a id="hd:554" class="idref" href="#hd:554"><span class="id" title="binder">hd</span></a> <a id="tl:555" class="idref" href="#tl:555"><span class="id" title="binder">tl</span></a> <a id="na:556" class="idref" href="#na:556"><span class="id" title="binder">na</span></a> <a id="A:557" class="idref" href="#A:557"><span class="id" title="binder">A</span></a> <a id="B:558" class="idref" href="#B:558"><span class="id" title="binder">B</span></a> <a id="T:559" class="idref" href="#T:559"><span class="id" title="binder">T</span></a> <a id="B':560" class="idref" href="#B':560"><span class="id" title="binder">B'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:556"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:557"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:558"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:559"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativity.html#306f7598d6d2dad3db9c83c8c8d63501"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:556"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:557"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:558"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#hd:554"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:557"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine:549"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst10"><span class="id" title="abbreviation">subst10</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#hd:554"><span class="id" title="variable">hd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:558"><span class="id" title="variable">B</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tl:555"><span class="id" title="variable">tl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B':560"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine:549"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#262385f9d624cb5d3f32c92c9acffe2c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#567e107ddeb5fe6c7bc8e4803f06d582"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:559"><span class="id" title="variable">T</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#hd:554"><span class="id" title="variable">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tl:555"><span class="id" title="variable">tl</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B':560"><span class="id" title="variable">B'</span></a>.<br/>
<span class="id" title="keyword">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;spine&nbsp;is&nbsp;the&nbsp;maximal&nbsp;depth&nbsp;of&nbsp;any&nbsp;typing&nbsp;derivation&nbsp;appearing&nbsp;in&nbsp;it&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="Typing_Spine_size" class="idref" href="#Typing_Spine_size"><span class="id" title="section">Typing_Spine_size</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:561" class="idref" href="#H:561"><span class="id" title="binder">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="d02a8fe3288ef3c3e68f083f7f6e4a11" class="idref" href="#d02a8fe3288ef3c3e68f083f7f6e4a11"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="c51f6eb1df6e0d6d14680115d95a1c9b" class="idref" href="#c51f6eb1df6e0d6d14680115d95a1c9b"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="typing_spine_size" class="idref" href="#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> {<a id="t:564" class="idref" href="#t:564"><span class="id" title="binder">t</span></a> <a id="T:565" class="idref" href="#T:565"><span class="id" title="binder">T</span></a> <a id="U:566" class="idref" href="#U:566"><span class="id" title="binder">U</span></a>} (<a id="s:567" class="idref" href="#s:567"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#4a8ed36af3d28580a87186a732ce77d2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#0759b806f12a9b54c07dbc145330fec5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:564"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:565"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#U:566"><span class="id" title="variable">U</span></a>) : <a class="idref" href="MetaCoq.Utils.All_Forall.html#size"><span class="id" title="definition">size</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:567"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_spine_eq"><span class="id" title="constructor">type_spine_eq</span></a> <span class="id" title="var">ty</span> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_spine_nil"><span class="id" title="constructor">type_spine_nil</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">ty'</span> <span class="id" title="var">ist</span> <span class="id" title="var">cum</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">ist</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_spine_cons"><span class="id" title="constructor">type_spine_cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#hd"><span class="id" title="definition">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#tl"><span class="id" title="definition">tl</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">T</span> <span class="id" title="var">B'</span> <span class="id" title="var">typrod</span> <a class="idref" href="MetaCoq.PCUIC.PCUICCumulativitySpec.html#cumul"><span class="id" title="abbreviation">cumul</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">s'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">typrod</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">ty</span>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size:568"><span class="id" title="definition">typing_spine_size</span></a> <span class="id" title="var">s'</span>)))%<span class="id" title="var">nat</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Typing_Spine_size"><span class="id" title="section">Typing_Spine_size</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;can&nbsp;weaken&nbsp;a&nbsp;spine&nbsp;by&nbsp;cumulativity,&nbsp;using&nbsp;the&nbsp;type_spine_nil&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_spine_weaken_concl" class="idref" href="#typing_spine_weaken_concl"><span class="id" title="lemma">typing_spine_weaken_concl</span></a> {<a id="cf:570" class="idref" href="#cf:570"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="2335c8bca7ec1c0ff94aa7c1f0c38db7" class="idref" href="#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="binder">Σ</span></a> <a id="814dd2dde7550ef57e490977235a9644" class="idref" href="#814dd2dde7550ef57e490977235a9644"><span class="id" title="binder">Γ</span></a> <a id="T:573" class="idref" href="#T:573"><span class="id" title="binder">T</span></a> <a id="args:574" class="idref" href="#args:574"><span class="id" title="binder">args</span></a> <a id="S:575" class="idref" href="#S:575"><span class="id" title="binder">S</span></a> <a id="S':576" class="idref" href="#S':576"><span class="id" title="binder">S'</span></a>} {<a id="21f0a7b1896e52e6eb04234c36eac29b" class="idref" href="#21f0a7b1896e52e6eb04234c36eac29b"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#814dd2dde7550ef57e490977235a9644"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:573"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:574"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S:575"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#814dd2dde7550ef57e490977235a9644"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:573"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#43af61ccfec5746413cd06bf5ba9ae4f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#814dd2dde7550ef57e490977235a9644"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#43af61ccfec5746413cd06bf5ba9ae4f"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S:575"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#43af61ccfec5746413cd06bf5ba9ae4f"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S':576"><span class="id" title="variable">S'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#814dd2dde7550ef57e490977235a9644"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S':576"><span class="id" title="variable">S'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#2335c8bca7ec1c0ff94aa7c1f0c38db7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#814dd2dde7550ef57e490977235a9644"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:573"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:574"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S':576"><span class="id" title="variable">S'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">S'</span> ⇒ <span class="id" title="var">tyT</span> <span class="id" title="var">cum</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_forget"><span class="id" title="lemma">ws_cumul_pb_forget</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cum</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#into_ws_cumul_pb"><span class="id" title="lemma">into_ws_cumul_pb</span></a> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_forget"><span class="id" title="lemma">ws_cumul_pb_forget</span></a> (<span class="id" title="var">pb</span>:=<a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a>)). <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">ty'</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">isType</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsp</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICArities.html#isType_apply"><span class="id" title="lemma">PCUICArities.isType_apply</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;size&nbsp;includes&nbsp;the&nbsp;new&nbsp;<span class="inlinecode"><span class="id" title="var">isType</span></span>&nbsp;hypothesis&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_spine_weaken_concl_size" class="idref" href="#typing_spine_weaken_concl_size"><span class="id" title="lemma">typing_spine_weaken_concl_size</span></a> {<a id="cf:578" class="idref" href="#cf:578"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<a id="3b2471138523605bf294183c378c80fd" class="idref" href="#3b2471138523605bf294183c378c80fd"><span class="id" title="binder">Σ</span></a> <a id="210178a19c4f6cbc55ac928c47a756c6" class="idref" href="#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="binder">Γ</span></a> <a id="T:581" class="idref" href="#T:581"><span class="id" title="binder">T</span></a> <a id="args:582" class="idref" href="#args:582"><span class="id" title="binder">args</span></a> <a id="S:583" class="idref" href="#S:583"><span class="id" title="binder">S</span></a> <a id="S':584" class="idref" href="#S':584"><span class="id" title="binder">S'</span></a>}<br/>
&nbsp;&nbsp;(<a id="wf:585" class="idref" href="#wf:585"><span class="id" title="binder">wf</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)<br/>
&nbsp;&nbsp;(<a id="sp:586" class="idref" href="#sp:586"><span class="id" title="binder">sp</span></a>  :<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:581"><span class="id" title="variable">T</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:582"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S:583"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;(<a id="tyT:587" class="idref" href="#tyT:587"><span class="id" title="binder">tyT</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:581"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:588" class="idref" href="#Hs:588"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#43af61ccfec5746413cd06bf5ba9ae4f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#43af61ccfec5746413cd06bf5ba9ae4f"><span class="id" title="notation">⊢</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S:583"><span class="id" title="variable">S</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#43af61ccfec5746413cd06bf5ba9ae4f"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S':584"><span class="id" title="variable">S'</span></a>)<br/>
&nbsp;&nbsp;(<a id="ist:589" class="idref" href="#ist:589"><span class="id" title="binder">ist</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#3b2471138523605bf294183c378c80fd"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#210178a19c4f6cbc55ac928c47a756c6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#S':584"><span class="id" title="variable">S'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_weaken_concl"><span class="id" title="lemma">typing_spine_weaken_concl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#sp:586"><span class="id" title="variable">sp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tyT:587"><span class="id" title="variable">tyT</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Hs:588"><span class="id" title="variable">Hs</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ist:589"><span class="id" title="variable">ist</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#sp:586"><span class="id" title="variable">sp</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ist:589"><span class="id" title="variable">ist</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.max_assoc"><span class="id" title="lemma">Nat.max_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsp</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICArities.html#isType_apply"><span class="id" title="lemma">PCUICArities.isType_apply</span></a> <span class="id" title="var">i</span> <span class="id" title="var">t</span>) <span class="id" title="var">Hs</span>). <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sig</span> := <span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>

<br/>
</div>

<div class="doc">
We can also append an argument to a spine *without* requiring a typing for the new conclusion type.
  This would be a derivation for a substitution of <span class="inlinecode"><span class="id" title="var">B</span></span>, hence incomparable in depth to the arguments.
  The invariant is witnessed by the spine size being lower than the arguments.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typing_spine_app" class="idref" href="#typing_spine_app"><span class="id" title="lemma">typing_spine_app</span></a> {<a id="cf:590" class="idref" href="#cf:590"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="8316dc70c4478fb3b22fc1cb658f00cb" class="idref" href="#8316dc70c4478fb3b22fc1cb658f00cb"><span class="id" title="binder">Σ</span></a> <a id="05419d2fd4818cbe253633db1619d5f4" class="idref" href="#05419d2fd4818cbe253633db1619d5f4"><span class="id" title="binder">Γ</span></a> <a id="ty:593" class="idref" href="#ty:593"><span class="id" title="binder">ty</span></a> <a id="args:594" class="idref" href="#args:594"><span class="id" title="binder">args</span></a> <a id="na:595" class="idref" href="#na:595"><span class="id" title="binder">na</span></a> <a id="A:596" class="idref" href="#A:596"><span class="id" title="binder">A</span></a> <a id="B:597" class="idref" href="#B:597"><span class="id" title="binder">B</span></a> <a id="arg:598" class="idref" href="#arg:598"><span class="id" title="binder">arg</span></a><br/>
&nbsp;&nbsp;(<a id="wf:599" class="idref" href="#wf:599"><span class="id" title="binder">wf</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8316dc70c4478fb3b22fc1cb658f00cb"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a>)<br/>
&nbsp;&nbsp;(<a id="isty:600" class="idref" href="#isty:600"><span class="id" title="binder">isty</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8316dc70c4478fb3b22fc1cb658f00cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#05419d2fd4818cbe253633db1619d5f4"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:595"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:596"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:597"><span class="id" title="variable">B</span></a>))<br/>
&nbsp;&nbsp;(<a id="sp:601" class="idref" href="#sp:601"><span class="id" title="binder">sp</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8316dc70c4478fb3b22fc1cb658f00cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#05419d2fd4818cbe253633db1619d5f4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:593"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:594"><span class="id" title="variable">args</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:595"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:596"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:597"><span class="id" title="variable">B</span></a>))<br/>
&nbsp;&nbsp;(<a id="argd:602" class="idref" href="#argd:602"><span class="id" title="binder">argd</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8316dc70c4478fb3b22fc1cb658f00cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#05419d2fd4818cbe253633db1619d5f4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#arg:598"><span class="id" title="variable">arg</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:596"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="sp':603" class="idref" href="#sp':603"><span class="id" title="binder">sp'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8316dc70c4478fb3b22fc1cb658f00cb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#05419d2fd4818cbe253633db1619d5f4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:593"><span class="id" title="variable">ty</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:594"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#arg:598"><span class="id" title="variable">arg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:597"><span class="id" title="variable">B</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">{</span></a>0 <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">:=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#arg:598"><span class="id" title="variable">arg</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#94070bf4072b9cf1e91d0855ad508f5b"><span class="id" title="notation">}</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#sp':603"><span class="id" title="variable">sp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#isty:600"><span class="id" title="variable">isty</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#sp:601"><span class="id" title="variable">sp</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#argd:602"><span class="id" title="variable">argd</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">arg</span> <span class="id" title="var">argd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depind</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">arg</span> <span class="id" title="var">Harg</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">arg</span> <span class="id" title="var">Harg</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">arg</span> <span class="id" title="var">Harg</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsp</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">isty</span> <span class="id" title="var">_</span> <span class="id" title="var">Harg</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">sp'</span> <span class="id" title="var">Hsp'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">sp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Likewise, in.Common-Coq, we can append without re-typing the result 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="TT_typing_spine_app" class="idref" href="#TT_typing_spine_app"><span class="id" title="lemma">TT_typing_spine_app</span></a> {<a id="cf:604" class="idref" href="#cf:604"><span class="id" title="binder">cf</span></a>:<a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <a id="9fb98b1a3dddd5864385dfc95ea35340" class="idref" href="#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="binder">Σ</span></a> <a id="afdc984afeeef709c9a3b50cfb1fc971" class="idref" href="#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="binder">Γ</span></a> <a id="ty:607" class="idref" href="#ty:607"><span class="id" title="binder">ty</span></a> <a id="T':608" class="idref" href="#T':608"><span class="id" title="binder">T'</span></a> <a id="args:609" class="idref" href="#args:609"><span class="id" title="binder">args</span></a> <a id="na:610" class="idref" href="#na:610"><span class="id" title="binder">na</span></a> <a id="A:611" class="idref" href="#A:611"><span class="id" title="binder">A</span></a> <a id="B:612" class="idref" href="#B:612"><span class="id" title="binder">B</span></a> <a id="arg:613" class="idref" href="#arg:613"><span class="id" title="binder">arg</span></a> <a id="s:614" class="idref" href="#s:614"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tProd"><span class="id" title="constructor">T.tProd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:610"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:611"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:612"><span class="id" title="variable">B</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tSort"><span class="id" title="constructor">T.tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:614"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">TT.typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:607"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:609"><span class="id" title="variable">args</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':608"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_gen"><span class="id" title="inductive">TT.cumul_gen</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':608"><span class="id" title="variable">T'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tProd"><span class="id" title="constructor">T.tProd</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#na:610"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:611"><span class="id" title="variable">A</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:612"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#arg:613"><span class="id" title="variable">arg</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:611"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">TT.typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#9fb98b1a3dddd5864385dfc95ea35340"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#afdc984afeeef709c9a3b50cfb1fc971"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ty:607"><span class="id" title="variable">ty</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#args:609"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#arg:613"><span class="id" title="variable">arg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst1"><span class="id" title="definition">T.subst1</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#arg:613"><span class="id" title="variable">arg</span></a> 0 <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:612"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">isty</span> <span class="id" title="var">H</span>; <span class="id" title="var">revert</span> <span class="id" title="var">arg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tProd"><span class="id" title="constructor">T.tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">prod</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">Heqprod</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">eq</span> <span class="id" title="var">arg</span> <span class="id" title="var">Harg</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Harg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">na'</span> <span class="id" title="var">A'</span> <span class="id" title="var">B''</span> <span class="id" title="var">eq</span> <span class="id" title="var">arg</span> <span class="id" title="var">Harg</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping_spine</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Harg</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is the central lemma for this translation:
  any PCUIC typing of an application `t` can be decomposed as
  a typing of the head of `t` followed by a typing spine for
  its arguments `l`. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_app" class="idref" href="#type_app"><span class="id" title="lemma">type_app</span></a> {<a id="cf:615" class="idref" href="#cf:615"><span class="id" title="binder">cf</span></a>} {<a id="b6304a5ace1d455f87961381cadb310a" class="idref" href="#b6304a5ace1d455f87961381cadb310a"><span class="id" title="binder">Σ</span></a> <a id="18221e17a25f111e8ea34ed9cf1c8b4b" class="idref" href="#18221e17a25f111e8ea34ed9cf1c8b4b"><span class="id" title="binder">Γ</span></a> <a id="t:618" class="idref" href="#t:618"><span class="id" title="binder">t</span></a> <a id="T:619" class="idref" href="#T:619"><span class="id" title="binder">T</span></a>} (<a id="d:620" class="idref" href="#d:620"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b6304a5ace1d455f87961381cadb310a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#18221e17a25f111e8ea34ed9cf1c8b4b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:618"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:619"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b6304a5ace1d455f87961381cadb310a"><span class="id" title="variable">Σ</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:618"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="f:621" class="idref" href="#f:621"><span class="id" title="binder">f</span></a>, <a id="l:622" class="idref" href="#l:622"><span class="id" title="binder">l</span></a>) := <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:618"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="fty:623" class="idref" href="#fty:623"><span class="id" title="binder">fty</span></a> (<a id="d':624" class="idref" href="#d':624"><span class="id" title="binder">d'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b6304a5ace1d455f87961381cadb310a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#18221e17a25f111e8ea34ed9cf1c8b4b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:621"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fty:623"><span class="id" title="variable">fty</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d':624"><span class="id" title="variable">d'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:620"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a id="sp:625" class="idref" href="#sp:625"><span class="id" title="binder">sp</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#b6304a5ace1d455f87961381cadb310a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#18221e17a25f111e8ea34ed9cf1c8b4b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fty:623"><span class="id" title="variable">fty</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:622"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:619"><span class="id" title="variable">T</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#sp:625"><span class="id" title="variable">sp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#d:620"><span class="id" title="variable">d</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">isapp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_rec_inv'"><span class="id" title="lemma">decompose_app_rec_inv'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> [<span class="id" title="var">napp</span> [<span class="id" title="var">equ</span> <span class="id" title="var">eqt</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHd1</span> <span class="id" title="var">IHd3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_mkApps"><span class="id" title="lemma">PCUICAstUtils.decompose_app_mkApps</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">IHd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHd2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fty</span> [<span class="id" title="var">d'</span> [<span class="id" title="var">sp</span> <span class="id" title="var">hd'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">fty</span>, <span class="id" title="var">d'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hd'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sp'</span> <span class="id" title="var">Hsp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_app"><span class="id" title="lemma">typing_spine_app</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">wfΣ</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">d1</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a> <span class="id" title="var">sp'</span> <span class="id" title="var">d3</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">appsp</span> <span class="id" title="var">Happ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">appsp</span> <span class="id" title="var">Happ</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">equ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">app</span> <span class="id" title="var">happ</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">app</span>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#atom_decompose_app"><span class="id" title="lemma">PCUICAstUtils.atom_decompose_app</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">d2</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">isapp</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_nonnil"><span class="id" title="lemma">decompose_app_nonnil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span> ⇒ //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHd1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fty</span> [<span class="id" title="var">d'</span> [? ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">fty</span>, <span class="id" title="var">d'</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sp</span> <span class="id" title="var">Hsp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_weaken_concl"><span class="id" title="lemma">typing_spine_weaken_concl</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">PCUICValidity.validity</span></a> <span class="id" title="var">d'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulSpec_cumulAlgo_curry"><span class="id" title="lemma">cumulSpec_cumulAlgo_curry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">d2</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_weaken_concl_size"><span class="id" title="lemma">typing_spine_weaken_concl_size</span></a> <span class="id" title="var">wfΣ</span> <span class="id" title="var">sp</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity_term"><span class="id" title="abbreviation">validity_term</span></a> <span class="id" title="var">wfΣ</span> <span class="id" title="var">d'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulSpec_cumulAlgo_curry"><span class="id" title="lemma">cumulSpec_cumulAlgo_curry</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">wfΣ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#typing_closed_context"><span class="id" title="lemma">typing_closed_context</span></a> <span class="id" title="var">d'</span>) (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#type_is_open_term"><span class="id" title="lemma">type_is_open_term</span></a> <span class="id" title="var">d1</span>) (<a class="idref" href="MetaCoq.PCUIC.Typing.PCUICClosedTyp.html#subject_is_open_term"><span class="id" title="lemma">subject_is_open_term</span></a> <span class="id" title="var">d2</span>) <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">;</span></a> <span class="id" title="var">d2</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#7957360534ce47b451efaf295515cd1d"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, for each typing spine built above, assuming we can apply the induction hypothesis
  of the translation to any of the typing derivations in the spine, then we can produce a typing
  spine in the n-ary application template-coq spec.

<div class="paragraph"> </div>

  We have two cases to consider at the "end" of the spine: either we have the same translation of the
  PCUIC conclusion type, or there is exactly one cumulativity step to get to this type. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="make_typing_spine" class="idref" href="#make_typing_spine"><span class="id" title="lemma">make_typing_spine</span></a> {<a id="cf:626" class="idref" href="#cf:626"><span class="id" title="binder">cf</span></a>} {<a id="7e2f00d9b830ec01a1a8a1e8e08b2213" class="idref" href="#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="21507e6455894237216a8d10a384f453" class="idref" href="#21507e6455894237216a8d10a384f453"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a>} {<a id="76119d04c2accd92f388b1bf22ac05ab" class="idref" href="#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="binder">Γ</span></a> <a id="fty:630" class="idref" href="#fty:630"><span class="id" title="binder">fty</span></a> <a id="l:631" class="idref" href="#l:631"><span class="id" title="binder">l</span></a> <a id="T:632" class="idref" href="#T:632"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;(<a id="sp:633" class="idref" href="#sp:633"><span class="id" title="binder">sp</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">PCUICToTemplateCorrectness.typing_spine</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fty:630"><span class="id" title="variable">fty</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:631"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:632"><span class="id" title="variable">T</span></a>) <a id="n:634" class="idref" href="#n:634"><span class="id" title="binder">n</span></a><br/>
&nbsp;&nbsp;(<a id="IH:638" class="idref" href="#IH:638"><span class="id" title="binder">IH</span></a> : <span class="id" title="keyword">∀</span> <a id="t':635" class="idref" href="#t':635"><span class="id" title="binder">t'</span></a> <a id="T':636" class="idref" href="#T':636"><span class="id" title="binder">T'</span></a> (<a id="Ht':637" class="idref" href="#Ht':637"><span class="id" title="binder">Ht'</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">;;;</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">|-</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t':635"><span class="id" title="variable">t'</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#f6519f471ad5acf69089466a686d7a45"><span class="id" title="notation">:</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':636"><span class="id" title="variable">T'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#Ht':637"><span class="id" title="variable">Ht'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:634"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t':635"><span class="id" title="variable">t'</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':636"><span class="id" title="variable">T'</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#isType"><span class="id" title="definition">isType</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fty:630"><span class="id" title="variable">fty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#sp:633"><span class="id" title="variable">sp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:634"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="T':639" class="idref" href="#T':639"><span class="id" title="binder">T'</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine"><span class="id" title="inductive">TT.typing_spine</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fty:630"><span class="id" title="variable">fty</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:631"><span class="id" title="variable">l</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':639"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':639"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:632"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_gen"><span class="id" title="inductive">TT.cumul_gen</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="MetaCoq.Common.BasicAst.html#Cumul"><span class="id" title="constructor">Cumul</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T':639"><span class="id" title="variable">T'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:632"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">∑</span></a> <a id="s:640" class="idref" href="#s:640"><span class="id" title="binder">s</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#cd4bc1b07c8b3bdc9f3bbc7941b56107"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#7e2f00d9b830ec01a1a8a1e8e08b2213"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#76119d04c2accd92f388b1bf22ac05ab"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:632"><span class="id" title="variable">T</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#tSort"><span class="id" title="constructor">T.tSort</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:640"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">ty</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_decorate"><span class="id" title="lemma">cumul_decorate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cumul"><span class="id" title="lemma">trans_cumul</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a> <span class="id" title="var">H</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">i</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#9068efa82fa7bcf30341b045859b1c5b"><span class="id" title="notation">.π1</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHsp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICArities.html#isType_apply"><span class="id" title="lemma">isType_apply</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHsp</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHt</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_decorate"><span class="id" title="lemma">cumul_decorate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cumul"><span class="id" title="lemma">trans_cumul</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span><a class="idref" href="MetaCoq.Utils.MCPrelude.html#777d545f3df7a0e7c9a56d33a4f5d56c"><span class="id" title="notation">.π2</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">IHi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHi</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Hsp</span> <span class="id" title="var">eq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">B'</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsp</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="it_mkLambda_or_LetIn_app" class="idref" href="#it_mkLambda_or_LetIn_app"><span class="id" title="lemma">it_mkLambda_or_LetIn_app</span></a> <a id="l:641" class="idref" href="#l:641"><span class="id" title="binder">l</span></a> <a id="l':642" class="idref" href="#l':642"><span class="id" title="binder">l'</span></a> <a id="t:643" class="idref" href="#t:643"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#it_mkLambda_or_LetIn"><span class="id" title="definition">T.Env.it_mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:641"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':642"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:643"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#it_mkLambda_or_LetIn"><span class="id" title="definition">T.Env.it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':642"><span class="id" title="variable">l'</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#it_mkLambda_or_LetIn"><span class="id" title="definition">T.Env.it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:641"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:643"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l'</span>, <span class="id" title="var">t</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_it_mkLambda_or_LetIn" class="idref" href="#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a> <a id="384a2ed267e5778a2dd707f88380e245" class="idref" href="#384a2ed267e5778a2dd707f88380e245"><span class="id" title="binder">Γ</span></a> <a id="T:645" class="idref" href="#T:645"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#384a2ed267e5778a2dd707f88380e245"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:645"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#it_mkLambda_or_LetIn"><span class="id" title="definition">T.Env.it_mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#384a2ed267e5778a2dd707f88380e245"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:645"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /=. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#it_mkLambda_or_LetIn_app"><span class="id" title="lemma">PCUICAstUtils.it_mkLambda_or_LetIn_app</span></a> [<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#it_mkLambda_or_LetIn_app"><span class="id" title="lemma">it_mkLambda_or_LetIn_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /=; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2i_All2_mapi" class="idref" href="#All2i_All2_mapi"><span class="id" title="lemma">All2i_All2_mapi</span></a> {<a id="A:646" class="idref" href="#A:646"><span class="id" title="binder">A</span></a> <a id="B:647" class="idref" href="#B:647"><span class="id" title="binder">B</span></a> <a id="C:648" class="idref" href="#C:648"><span class="id" title="binder">C</span></a> <a id="D:649" class="idref" href="#D:649"><span class="id" title="binder">D</span></a>} <a id="P:650" class="idref" href="#P:650"><span class="id" title="binder">P</span></a> (<a id="f:651" class="idref" href="#f:651"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:646"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:647"><span class="id" title="variable">B</span></a>) (<a id="g:652" class="idref" href="#g:652"><span class="id" title="binder">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#C:648"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#D:649"><span class="id" title="variable">D</span></a>) <a id="l:653" class="idref" href="#l:653"><span class="id" title="binder">l</span></a> <a id="l':654" class="idref" href="#l':654"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a> (<span class="id" title="keyword">fun</span> <a id="i:655" class="idref" href="#i:655"><span class="id" title="binder">i</span></a> <a id="x:656" class="idref" href="#x:656"><span class="id" title="binder">x</span></a> <a id="y:657" class="idref" href="#y:657"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:650"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:651"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:655"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:656"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:652"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:655"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:657"><span class="id" title="variable">y</span></a>)) 0 <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:653"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':654"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:650"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#f:651"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:653"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#g:652"><span class="id" title="variable">g</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':654"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.MCList.html#mapi"><span class="id" title="definition">mapi</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="All2i_sym" class="idref" href="#All2i_sym"><span class="id" title="lemma">All2i_sym</span></a> {<a id="A:658" class="idref" href="#A:658"><span class="id" title="binder">A</span></a> <a id="B:659" class="idref" href="#B:659"><span class="id" title="binder">B</span></a>} (<a id="P:660" class="idref" href="#P:660"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#A:658"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#B:659"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) <a id="n:661" class="idref" href="#n:661"><span class="id" title="binder">n</span></a> <a id="l:662" class="idref" href="#l:662"><span class="id" title="binder">l</span></a> <a id="l':663" class="idref" href="#l':663"><span class="id" title="binder">l'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a> (<span class="id" title="keyword">fun</span> <a id="i:664" class="idref" href="#i:664"><span class="id" title="binder">i</span></a> <a id="x:665" class="idref" href="#x:665"><span class="id" title="binder">x</span></a> <a id="y:666" class="idref" href="#y:666"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:660"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:664"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#y:666"><span class="id" title="variable">y</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:665"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:661"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':663"><span class="id" title="variable">l'</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:662"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i"><span class="id" title="inductive">All2i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#P:660"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#n:661"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l:662"><span class="id" title="variable">l</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#l':663"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_names_subst_context_pcuic" class="idref" href="#eq_names_subst_context_pcuic"><span class="id" title="lemma">eq_names_subst_context_pcuic</span></a> <a id="nas:667" class="idref" href="#nas:667"><span class="id" title="binder">nas</span></a> <a id="832c83f62efdeb77bb08f0b6949d593a" class="idref" href="#832c83f62efdeb77bb08f0b6949d593a"><span class="id" title="binder">Γ</span></a> <a id="s:669" class="idref" href="#s:669"><span class="id" title="binder">s</span></a> <a id="k:670" class="idref" href="#k:670"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:667"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#832c83f62efdeb77bb08f0b6949d593a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:667"><span class="id" title="variable">nas</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:669"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:670"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#832c83f62efdeb77bb08f0b6949d593a"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_nil"><span class="id" title="lemma">subst_context_nil</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context_snoc"><span class="id" title="lemma">subst_context_snoc</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_names_subst_instance_pcuic" class="idref" href="#eq_names_subst_instance_pcuic"><span class="id" title="lemma">eq_names_subst_instance_pcuic</span></a> <a id="nas:671" class="idref" href="#nas:671"><span class="id" title="binder">nas</span></a> (<a id="6393a0ec19b5ed4c827a06b97a3375da" class="idref" href="#6393a0ec19b5ed4c827a06b97a3375da"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) <a id="u:673" class="idref" href="#u:673"><span class="id" title="binder">u</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:671"><span class="id" title="variable">nas</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6393a0ec19b5ed4c827a06b97a3375da"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#eq_names"><span class="id" title="abbreviation">eq_names</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#nas:671"><span class="id" title="variable">nas</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:673"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#6393a0ec19b5ed4c827a06b97a3375da"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;× <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_case_branch_type" class="idref" href="#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> {<a id="cf:674" class="idref" href="#cf:674"><span class="id" title="binder">cf</span></a>} {<a id="c250c316ea0e364638da17fedd49c53e" class="idref" href="#c250c316ea0e364638da17fedd49c53e"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.global_env_ext"><span class="id" title="definition">global_env_ext</span></a>} {<a id="ad8245607587cee037b79ef2e127bd4b" class="idref" href="#ad8245607587cee037b79ef2e127bd4b"><span class="id" title="binder">wfΣ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#wf"><span class="id" title="class">wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a>} <a id="ci:677" class="idref" href="#ci:677"><span class="id" title="binder">ci</span></a> <a id="mdecl:678" class="idref" href="#mdecl:678"><span class="id" title="binder">mdecl</span></a> <a id="idecl:679" class="idref" href="#idecl:679"><span class="id" title="binder">idecl</span></a> <a id="cdecl:680" class="idref" href="#cdecl:680"><span class="id" title="binder">cdecl</span></a> <a id="i:681" class="idref" href="#i:681"><span class="id" title="binder">i</span></a> <a id="p:682" class="idref" href="#p:682"><span class="id" title="binder">p</span></a> <a id="br:683" class="idref" href="#br:683"><span class="id" title="binder">br</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#declared_inductive"><span class="id" title="definition">declared_inductive</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:679"><span class="id" title="variable">idecl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#consistent_instance_ext"><span class="id" title="definition">consistent_instance_ext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#c250c316ea0e364638da17fedd49c53e"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_universes"><span class="id" title="projection">ind_universes</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_branch"><span class="id" title="definition">wf_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:680"><span class="id" title="variable">cdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:683"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#eq_context_upto_names"><span class="id" title="abbreviation">eq_context_upto_names</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:683"><span class="id" title="variable">br</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cstr_branch_context"><span class="id" title="definition">cstr_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:680"><span class="id" title="variable">cdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ptm:684" class="idref" href="#ptm:684"><span class="id" title="binder">ptm</span></a> := <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkLambda_or_LetIn"><span class="id" title="definition">it_mkLambda_or_LetIn</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:679"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_minductive_body"><span class="id" title="definition">trans_minductive_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#Env.it_mkLambda_or_LetIn"><span class="id" title="definition">Env.it_mkLambda_or_LetIn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_predicate_context"><span class="id" title="definition">case_predicate_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:679"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.Template.Ast.html#preturn"><span class="id" title="projection">Ast.preturn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_predicate"><span class="id" title="definition">trans_predicate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_predicate"><span class="id" title="definition">map_predicate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a>))))<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:681"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_constructor_body"><span class="id" title="definition">trans_constructor_body</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:680"><span class="id" title="variable">cdecl</span></a>)<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_branch"><span class="id" title="definition">trans_branch</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#map_branch"><span class="id" title="definition">map_branch</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_context"><span class="id" title="definition">map_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:683"><span class="id" title="variable">br</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#forget_types"><span class="id" title="definition">forget_types</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:683"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:680"><span class="id" title="variable">cdecl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ci:677"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#mdecl:678"><span class="id" title="variable">mdecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#idecl:679"><span class="id" title="variable">idecl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#p:682"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#br:683"><span class="id" title="variable">br</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#ptm:684"><span class="id" title="variable">ptm</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#i:681"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cdecl:680"><span class="id" title="variable">cdecl</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">).2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type"><span class="id" title="definition">Ast.case_branch_type</span></a> /<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_type_gen"><span class="id" title="definition">Ast.case_branch_type_gen</span></a> /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> [<a class="idref" href="MetaCoq.Template.Ast.html#case_branch_context_gen"><span class="id" title="definition">Ast.case_branch_context_gen</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_inst_case_branch_context"><span class="id" title="lemma">trans_inst_case_branch_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_context"><span class="id" title="definition">case_branch_context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaCoq.PCUIC.PCUICCasesContexts.html#inst_case_branch_context_eq"><span class="id" title="lemma">PCUICCasesContexts.inst_case_branch_context_eq</span></a> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICTactics.html#lengths"><span class="id" title="definition">lengths</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a> /<span class="id" title="var">ptm</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>). <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_expand_lets_k"><span class="id" title="lemma">trans_expand_lets_k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance_ctx"><span class="id" title="lemma">trans_subst_instance_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>). <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_inds"><span class="id" title="lemma">trans_inds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>). <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>). <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_to_extended_list"><span class="id" title="lemma">trans_to_extended_list</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a> <a class="idref" href="MetaCoq.PCUIC.Conversion.PCUICWeakeningEnvConv.html#"><span class="id" title="library">PCUICWeakeningEnvConv</span></a> <a class="idref" href="MetaCoq.PCUIC.Typing.PCUICWeakeningEnvTyp.html#"><span class="id" title="library">PCUICWeakeningEnvTyp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trans_subst_instance_decl" class="idref" href="#trans_subst_instance_decl"><span class="id" title="lemma">trans_subst_instance_decl</span></a> <a id="u:685" class="idref" href="#u:685"><span class="id" title="binder">u</span></a> <a id="x:686" class="idref" href="#x:686"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:685"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:686"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#u:685"><span class="id" title="variable">u</span></a>) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#x:686"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_telescope_subst_context" class="idref" href="#subst_telescope_subst_context"><span class="id" title="lemma">subst_telescope_subst_context</span></a> <a id="s:687" class="idref" href="#s:687"><span class="id" title="binder">s</span></a> <a id="k:688" class="idref" href="#k:688"><span class="id" title="binder">k</span></a> <a id="45506ca9b87686c1e8c04b7a17428885" class="idref" href="#45506ca9b87686c1e8c04b7a17428885"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_telescope"><span class="id" title="definition">Env.subst_telescope</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:687"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:688"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#45506ca9b87686c1e8c04b7a17428885"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context"><span class="id" title="definition">Env.subst_context</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#s:687"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#k:688"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#45506ca9b87686c1e8c04b7a17428885"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_telescope"><span class="id" title="definition">Env.subst_telescope</span></a> <a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_context_alt"><span class="id" title="lemma">Env.subst_context_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_mapi"><span class="id" title="lemma">rev_mapi</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_rec_ext"><span class="id" title="lemma">mapi_rec_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">le</span> <span class="id" title="var">le'</span>; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="MetaCoq.Template.Ast.html#Env.subst_decl"><span class="id" title="definition">Env.subst_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> /=;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">le'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="pcuic_to_template" class="idref" href="#pcuic_to_template"><span class="id" title="lemma">pcuic_to_template</span></a> {<a id="cf:690" class="idref" href="#cf:690"><span class="id" title="binder">cf</span></a>} (<a id="a6cd025f9ae2ca29d013e0b6578e0501" class="idref" href="#a6cd025f9ae2ca29d013e0b6578e0501"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#global_env_ext"><span class="id" title="definition">SE.global_env_ext</span></a>) <a id="af2c8106d820630371dda262056b737c" class="idref" href="#af2c8106d820630371dda262056b737c"><span class="id" title="binder">Γ</span></a> <a id="t:693" class="idref" href="#t:693"><span class="id" title="binder">t</span></a> <a id="T:694" class="idref" href="#T:694"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#wf"><span class="id" title="class">ST.wf</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a6cd025f9ae2ca29d013e0b6578e0501"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">ST.typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a6cd025f9ae2ca29d013e0b6578e0501"><span class="id" title="variable">Σ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#af2c8106d820630371dda262056b737c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:693"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:694"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#a6cd025f9ae2ca29d013e0b6578e0501"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#af2c8106d820630371dda262056b737c"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:693"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:694"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Σ</span> <span class="id" title="var">X</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">X0</span>.<br/>
</div>

<div class="doc">
We use an induction principle allowing to apply induction to any subderivation of
    functions in applications. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_ind_env_app_size"><span class="id" title="lemma">typing_ind_env_app_size</span></a> (<span class="id" title="keyword">fun</span> <a id="6464385177d468cafa03d19ee7ac94a0" class="idref" href="#6464385177d468cafa03d19ee7ac94a0"><span class="id" title="binder">Σ</span></a> <a id="20dc69d041c84eb55f299276a9ac3bad" class="idref" href="#20dc69d041c84eb55f299276a9ac3bad"><span class="id" title="binder">Γ</span></a> <a id="t:705" class="idref" href="#t:705"><span class="id" title="binder">t</span></a> <a id="T:706" class="idref" href="#T:706"><span class="id" title="binder">T</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#59358cdd8ee15b2166807bff8a0d81f2"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#129d8694b204d8b9b65f09ed15de62bd"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#t:699"><span class="id" title="variable">t</span></a>) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#T:700"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;)%<span class="id" title="keyword">type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="00d0e2d7812fbba1953d6ff958442ab1" class="idref" href="#00d0e2d7812fbba1953d6ff958442ab1"><span class="id" title="binder">Σ</span></a> <a id="4c582c3b2a5b7ca475291074c637b33d" class="idref" href="#4c582c3b2a5b7ca475291074c637b33d"><span class="id" title="binder">Γ</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env"><span class="id" title="inductive">TT.All_local_env</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#lift_typing"><span class="id" title="definition">TT.lift_typing</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_global"><span class="id" title="definition">trans_global</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#8acf74c17f3742d78080a355090942a1"><span class="id" title="variable">Σ</span></a>)) (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#596bb682c926682aa5b236f1f40220f9"><span class="id" title="variable">Γ</span></a>))<br/>
&nbsp;&nbsp;);<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_wf_local_env"><span class="id" title="lemma">trans_wf_local_env</span></a>, <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_over_All"><span class="id" title="lemma">All_over_All</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_lift"><span class="id" title="lemma">trans_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_decl_type"><span class="id" title="lemma">trans_decl_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Rel"><span class="id" title="constructor">TT.type_Rel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Prod"><span class="id" title="constructor">TT.type_Prod</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Lambda"><span class="id" title="constructor">TT.type_Lambda</span></a>;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_LetIn"><span class="id" title="constructor">TT.type_LetIn</span></a>;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst10"><span class="id" title="lemma">trans_subst10</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#isApp"><span class="id" title="definition">isApp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">isapp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_app"><span class="id" title="lemma">type_app</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">wfΣ</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">isapp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app"><span class="id" title="definition">decompose_app</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">fty</span> [<span class="id" title="var">d'</span> [<span class="id" title="var">hd'</span> [<span class="id" title="var">sp</span> <span class="id" title="var">hsp</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hd''</span> : <a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">d'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">Ht</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hsp'</span> : <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing_spine_size"><span class="id" title="definition">typing_spine_size</span></a> <span class="id" title="var">sp</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">Ht</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">IHt</span> := <span class="id" title="var">X2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d'</span> <span class="id" title="var">hd''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#make_typing_spine"><span class="id" title="lemma">make_typing_spine</span></a> <span class="id" title="var">sp</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">Ht</span>) (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#typing_size"><span class="id" title="definition">typing_size</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="var">X2</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="var">d'</span>) <span class="id" title="var">hsp'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">IH</span> []]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">PCUICAstUtils.decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="MetaCoq.Template.TypingWf.html#mkApp_mkApps"><span class="id" title="lemma">mkApp_mkApps</span></a> -<a class="idref" href="MetaCoq.Template.AstUtils.html#mkApps_app"><span class="id" title="lemma">AstUtils.mkApps_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Template.AstUtils.html#mkApps_app"><span class="id" title="lemma">AstUtils.mkApps_app</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t0</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_isApp"><span class="id" title="lemma">trans_isApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_mkApps_napp"><span class="id" title="lemma">type_mkApps_napp</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">da</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TT_typing_spine_app"><span class="id" title="lemma">TT_typing_spine_app</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_refl'"><span class="id" title="lemma">TT.cumul_refl'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hcum</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_inv"><span class="id" title="lemma">PCUICAstUtils.decompose_app_inv</span></a> <span class="id" title="var">da</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="MetaCoq.Template.TypingWf.html#mkApp_mkApps"><span class="id" title="lemma">mkApp_mkApps</span></a> -<a class="idref" href="MetaCoq.Template.AstUtils.html#mkApps_app"><span class="id" title="lemma">AstUtils.mkApps_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Template.AstUtils.html#mkApps_app"><span class="id" title="lemma">AstUtils.mkApps_app</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">t0</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#decompose_app_notApp"><span class="id" title="lemma">decompose_app_notApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_isApp"><span class="id" title="lemma">trans_isApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">da</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_mkApps_napp"><span class="id" title="lemma">type_mkApps_napp</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">da</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#TT_typing_spine_app"><span class="id" title="lemma">TT_typing_spine_app</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hcum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Template.TypingWf.html#mkApp_mkApps"><span class="id" title="lemma">mkApp_mkApps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_mkApps_napp"><span class="id" title="lemma">type_mkApps_napp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_isApp"><span class="id" title="lemma">trans_isApp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">isapp</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">isapp</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_refl'"><span class="id" title="lemma">TT.cumul_refl'</span></a>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cst_type"><span class="id" title="lemma">trans_cst_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Const"><span class="id" title="constructor">TT.type_Const</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_constant"><span class="id" title="lemma">trans_declared_constant</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_ind_type"><span class="id" title="lemma">trans_ind_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Ind"><span class="id" title="constructor">TT.type_Ind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_consistent_instance_ext"><span class="id" title="lemma">trans_consistent_instance_ext</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_type_of_constructor"><span class="id" title="lemma">trans_type_of_constructor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Construct"><span class="id" title="constructor">TT.type_Construct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">isdecl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">ptm</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_it_mkLambda_or_LetIn"><span class="id" title="lemma">trans_it_mkLambda_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">predctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">hty</span> := <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a> <span class="id" title="var">X6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICInductiveInversion.html#isType_mkApps_Ind_smash"><span class="id" title="lemma">isType_mkApps_Ind_smash</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">H0</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Case"><span class="id" title="constructor">TT.type_Case</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_inductive"><span class="id" title="lemma">trans_declared_inductive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_ind_predicate_context_eq"><span class="id" title="lemma">trans_ind_predicate_context_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#context_assumptions_map"><span class="id" title="lemma">PCUICToTemplateCorrectness.context_assumptions_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#wf_predicate_length_pars"><span class="id" title="lemma">wf_predicate_length_pars</span></a> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICGlobalEnv.html#declared_minductive_ind_npars"><span class="id" title="lemma">declared_minductive_ind_npars</span></a> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">X5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">mapd</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:708" class="idref" href="#x:708"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_decl"><span class="id" title="abbreviation">context_decl</span></a> ⇒ <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">mapd</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_indices"><span class="id" title="projection">ind_indices</span></a> <span class="id" title="var">idecl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.ind_params"><span class="id" title="projection">ind_params</span></a> <span class="id" title="var">mdecl</span><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">)@[</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#puinst"><span class="id" title="projection">puinst</span></a> <span class="id" title="var">p</span><a class="idref" href="MetaCoq.Common.Universes.html#2069c293c95c271a185f7f719b9c1655"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">subst</span> <span class="id" title="var">mapd</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance_decl"><span class="id" title="lemma">trans_subst_instance_decl</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.Utils.MCList.html#map_map_compose"><span class="id" title="lemma">map_map_compose</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <span class="id" title="var">_</span>)]<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">change</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_instance_context"><span class="id" title="instance">subst_instance_context</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_instance_context"><span class="id" title="instance">SE.subst_instance_context</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>. <span class="id" title="tactic">set</span> (<span class="id" title="var">ctx</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <span class="id" title="var">_</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">ctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICTyping.html#ctx_inst_impl"><span class="id" title="lemma">ctx_inst_impl</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#typing"><span class="id" title="inductive">TT.typing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a id="H:710" class="idref" href="#H:710"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#H:709"><span class="id" title="variable">H</span></a><a class="idref" href="MetaCoq.Utils.MCProd.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a>)); <span class="id" title="var">revert</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">ctx</span>; <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_decl"><span class="id" title="abbreviation">trans_decl</span></a> <span class="id" title="var">Δ</span>)) <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#subst_telescope_subst_context"><span class="id" title="lemma">subst_telescope_subst_context</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-(<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_context"><span class="id" title="lemma">trans_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> -<a class="idref" href="MetaCoq.PCUIC.PCUICSpine.html#subst_telescope_subst_context"><span class="id" title="lemma">PCUICSpine.subst_telescope_subst_context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">List.rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> [<span class="id" title="var">Ast.pparams</span> <span class="id" title="var">Ast.pcontext</span> <span class="id" title="var">trans_predicate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">Γ</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_global_ext_constraints"><span class="id" title="lemma">trans_global_ext_constraints</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_case_predicate_context"><span class="id" title="lemma">trans_case_predicate_context</span></a> <span class="id" title="var">Γ</span>); <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_map"><span class="id" title="lemma">All2i_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_map_right"><span class="id" title="lemma">All2i_map_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#Forall2_All2"><span class="id" title="lemma">Forall2_All2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_All2_mix_left"><span class="id" title="lemma">All2i_All2_mix_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X8</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All2i_impl"><span class="id" title="lemma">All2i_impl</span></a> ; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">br</span>. <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">cbt</span> := <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#case_branch_type"><span class="id" title="definition">case_branch_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="keyword">wf</span> &amp; <span class="id" title="var">eqctx</span> &amp; <span class="id" title="var">Hbctx</span> &amp; (<span class="id" title="var">Hb</span> &amp; <span class="id" title="var">IHb</span>) &amp; <span class="id" title="var">Hbty</span> &amp; <span class="id" title="var">IHbty</span>) <span class="id" title="var">brctxty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">brctxty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cstr_branch_context_eq"><span class="id" title="lemma">trans_cstr_branch_context_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">br</span> <span class="id" title="var">isdecl</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">eqctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">brctxty</span> -/<span class="id" title="var">ptm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">brctxty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">brctxty</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_case_branch_type"><span class="id" title="lemma">trans_case_branch_type</span></a> <span class="id" title="var">ci</span> <span class="id" title="var">mdecl</span> <span class="id" title="var">idecl</span> <span class="id" title="var">cdecl</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">br</span> <span class="id" title="var">isdecl</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">eqctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">brctxty</span> -/<span class="id" title="var">ptm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">brctxty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">brctxty</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_local_app"><span class="id" title="lemma">trans_local_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbty</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst"><span class="id" title="lemma">trans_subst</span></a> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_subst_instance"><span class="id" title="lemma">trans_subst_instance</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.proj_type"><span class="id" title="projection">proj_type</span></a> <span class="id" title="var">pdecl</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_projection_body"><span class="id" title="definition">trans_projection_body</span></a> <span class="id" title="var">pdecl</span>).(<a class="idref" href="MetaCoq.Template.Ast.html#Env.proj_type"><span class="id" title="projection">Ast.Env.proj_type</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Proj"><span class="id" title="constructor">TT.type_Proj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_projection"><span class="id" title="lemma">trans_declared_projection</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mkApps"><span class="id" title="lemma">trans_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">mdecl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_dtype"><span class="id" title="lemma">trans_dtype</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Fix"><span class="id" title="constructor">TT.type_Fix</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#fix_guard_trans"><span class="id" title="axiom">fix_guard_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env_app_inv"><span class="id" title="lemma">TT.All_local_env_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [? ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">types</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mfix_All2"><span class="id" title="lemma">trans_mfix_All2</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_wf_fixpoint"><span class="id" title="lemma">trans_wf_fixpoint</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_dtype"><span class="id" title="lemma">trans_dtype</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_CoFix"><span class="id" title="constructor">TT.type_CoFix</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cofix_guard_trans"><span class="id" title="axiom">cofix_guard_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_nth_error"><span class="id" title="lemma">map_nth_error</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#map_def"><span class="id" title="definition">map_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans_local"><span class="id" title="definition">trans_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#All_local_env_app_inv"><span class="id" title="lemma">TT.All_local_env_app_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_map"><span class="id" title="lemma">All_map</span></a>, (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_impl"><span class="id" title="lemma">All_impl</span></a> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> [<span class="id" title="var">s</span> ?]; <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplate.html#trans"><span class="id" title="definition">trans</span></a>;<span class="id" title="tactic">subst</span> <span class="id" title="var">types</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_mfix_All2"><span class="id" title="lemma">trans_mfix_All2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_wf_cofixpoint"><span class="id" title="lemma">trans_wf_cofixpoint</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,3: <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_declared_constant"><span class="id" title="lemma">trans_declared_constant</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">move</span>: <span class="id" title="var">X0</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Template.Ast.html#Env.primitive_invariants"><span class="id" title="definition">Ast.Env.primitive_invariants</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.primitive_invariants"><span class="id" title="definition">primitive_invariants</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">s</span> []]; <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">split</span> ⇒ //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cdecl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> [?|] ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#type_Conv"><span class="id" title="constructor">TT.type_Conv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICConversion.html#cumulSpec_cumulAlgo_curry"><span class="id" title="lemma">cumulSpec_cumulAlgo_curry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>; <span class="id" title="var">tea</span>; <span class="id" title="var">fvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICWellScopedCumulativity.html#ws_cumul_pb_forget"><span class="id" title="lemma">ws_cumul_pb_forget</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#cumul_decorate"><span class="id" title="lemma">cumul_decorate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X4</span>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.PCUICValidity.html#validity"><span class="id" title="lemma">validity</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.TemplatePCUIC.PCUICToTemplateCorrectness.html#trans_cumul"><span class="id" title="lemma">trans_cumul</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Print&nbsp;Assumptions&nbsp;pcuic_to_template.&nbsp;*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
