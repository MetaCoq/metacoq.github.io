<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library MetaCoq.PCUIC.Syntax.PCUICOnFreeVars</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrfun.html#"><span class="id" title="library">ssrfun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#"><span class="id" title="library">ssrbool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Utils.utils.html#"><span class="id" title="library">utils</span></a> <a class="idref" href="MetaCoq.Utils.MCPred.html#"><span class="id" title="library">MCPred</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Common</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.Common.config.html#"><span class="id" title="library">config</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#"><span class="id" title="library">PCUICAst</span></a> <a class="idref" href="MetaCoq.PCUIC.utils.PCUICAstUtils.html#"><span class="id" title="library">PCUICAstUtils</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#"><span class="id" title="library">PCUICCases</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#"><span class="id" title="library">PCUICInduction</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#"><span class="id" title="library">PCUICLiftSubst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICUnivSubst.html#"><span class="id" title="library">PCUICUnivSubst</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#"><span class="id" title="library">PCUICEquality</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#"><span class="id" title="library">PCUICSigmaCalculus</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICClosed.html#"><span class="id" title="library">PCUICClosed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations.Prop.DepElim</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Equations</span> <span class="id" title="var">With</span> <span class="id" title="var">UIP</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab146"></a><h1 class="section">Preservation of free variables</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">sigma_scope</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>

<br/>
</div>

<div class="doc">
Hint database for solving closed/on_free_vars goals 
</div>
<div class="code">
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fvs</span> := <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">cf</span> : <a class="idref" href="MetaCoq.Common.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="shiftnP" class="idref" href="#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a id="k:1" class="idref" href="#k:1"><span class="id" title="binder">k</span></a> <a id="p:2" class="idref" href="#p:2"><span class="id" title="binder">p</span></a> <a id="i:3" class="idref" href="#i:3"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:3"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:1"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:2"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:3"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:1"><span class="id" title="variable">k</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="shiftnP_ext" class="idref" href="#shiftnP_ext"><span class="id" title="instance">shiftnP_ext</span></a> <a id="k:4" class="idref" href="#k:4"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:4"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">i</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <span class="id" title="var">Hfg</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP0" class="idref" href="#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <a id="P:5" class="idref" href="#P:5"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:5"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:5"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_add" class="idref" href="#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> <a id="k:7" class="idref" href="#k:7"><span class="id" title="binder">k</span></a> <a id="P:8" class="idref" href="#P:8"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:6"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:7"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:8"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:7"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:8"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ // /=. <span class="id" title="var">lia_f_equal</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_shiftn" class="idref" href="#shiftnP_shiftn"><span class="id" title="lemma">shiftnP_shiftn</span></a> <a id="P:9" class="idref" href="#P:9"><span class="id" title="binder">P</span></a> <a id="f:10" class="idref" href="#f:10"><span class="id" title="binder">f</span></a> <a id="i:11" class="idref" href="#i:11"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:11"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:9"><span class="id" title="variable">P</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:11"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:10"><span class="id" title="variable">f</span></a><a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:11"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:9"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:10"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#shiftn"><span class="id" title="definition">shiftn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">i</span>) ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">nat_compare_specs</span> ⇒ //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_impl" class="idref" href="#shiftnP_impl"><span class="id" title="lemma">shiftnP_impl</span></a> (<a id="p:12" class="idref" href="#p:12"><span class="id" title="binder">p</span></a> <a id="q:13" class="idref" href="#q:13"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:12"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:13"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:14"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:15" class="idref" href="#n:15"><span class="id" title="binder">n</span></a> <a id="i:16" class="idref" href="#i:16"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:15"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:12"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:16"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:15"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:13"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:16"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hi</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_S" class="idref" href="#shiftnP_S"><span class="id" title="lemma">shiftnP_S</span></a> <a id="P:17" class="idref" href="#P:17"><span class="id" title="binder">P</span></a> <a id="n:18" class="idref" href="#n:18"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:18"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:17"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:18"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:17"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> 1). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="closedP" class="idref" href="#closedP"><span class="id" title="definition">closedP</span></a> (<a id="n:19" class="idref" href="#n:19"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="P:20" class="idref" href="#P:20"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:21" class="idref" href="#i:21"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:21"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:19"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:20"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:21"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="closedP_proper" class="idref" href="#closedP_proper"><span class="id" title="instance">closedP_proper</span></a> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:22"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_closedP" class="idref" href="#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> <a id="k:23" class="idref" href="#k:23"><span class="id" title="binder">k</span></a> <a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a> <a id="P:25" class="idref" href="#P:25"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:23"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:25"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:23"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:24"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:23"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:25"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="on_free_vars" class="idref" href="#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a id="p:26" class="idref" href="#p:26"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="t:27" class="idref" href="#t:27"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:27"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> <span class="id" title="var">b'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">[&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">[&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) <span class="id" title="var">pred</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">pred</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) <span class="id" title="var">pred</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:30" class="idref" href="#k:30"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:30"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">pred</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">pred</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <a id="br:31" class="idref" href="#br:31"><span class="id" title="binder">br</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:32" class="idref" href="#k:32"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:32"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">pred</span>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:31"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:31"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:31"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>)) <span class="id" title="var">brs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">List.forallb</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars:28"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:26"><span class="id" title="variable">p</span></a>))) <span class="id" title="var">mfix</span><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">_</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ext" class="idref" href="#on_free_vars_ext"><span class="id" title="lemma">on_free_vars_ext</span></a> (<a id="p:33" class="idref" href="#p:33"><span class="id" title="binder">p</span></a> <a id="q:34" class="idref" href="#q:34"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="t:35" class="idref" href="#t:35"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:33"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:34"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:33"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:35"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:34"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:35"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> ⇒ //; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHt1</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) // <span class="id" title="notation">?(</span><span class="id" title="var">IHt2</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <span class="id" title="var">p</span>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <span class="id" title="var">q</span>)<span class="id" title="notation">)</span> // <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHt1</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) // <span class="id" title="notation">?(</span><span class="id" title="var">IHt2</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span><span class="id" title="notation">)</span> // (<span class="id" title="var">IHt3</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <span class="id" title="var">p</span>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <span class="id" title="var">q</span>)) // <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IHt1</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) // (<span class="id" title="var">IHt2</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [? [? ?]]. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> //|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> //|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a>; <span class="id" title="var">tea</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_free_vars_proper" class="idref" href="#on_free_vars_proper"><span class="id" title="instance">on_free_vars_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> ? ? →. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ext"><span class="id" title="lemma">on_free_vars_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_free_vars_proper_pointwise" class="idref" href="#on_free_vars_proper_pointwise"><span class="id" title="instance">on_free_vars_proper_pointwise</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ext"><span class="id" title="lemma">on_free_vars_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_xpredT" class="idref" href="#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a> <a id="n:36" class="idref" href="#n:36"><span class="id" title="binder">n</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:36"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>. <span class="id" title="var">nat_compare_specs</span> ⇒ //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="test_context_k_ctx" class="idref" href="#test_context_k_ctx"><span class="id" title="lemma">test_context_k_ctx</span></a> <a id="p:37" class="idref" href="#p:37"><span class="id" title="binder">p</span></a> <a id="k:38" class="idref" href="#k:38"><span class="id" title="binder">k</span></a> (<a id="ctx:39" class="idref" href="#ctx:39"><span class="id" title="binder">ctx</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">⇒</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:37"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:38"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:39"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_context"><span class="id" title="definition">test_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:37"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:39"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_ctx"><span class="id" title="lemma">test_context_k_ctx</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="comment">(*&nbsp;<span class="comment">(*&nbsp;Lemma&nbsp;on_free_vars_true&nbsp;t&nbsp;:&nbsp;on_free_vars&nbsp;xpredT&nbsp;t.<br/>
Proof.<br/>
&nbsp;&nbsp;revert&nbsp;t.<br/>
&nbsp;&nbsp;induction&nbsp;t&nbsp;using&nbsp;PCUICInduction.term_forall_list_ind;&nbsp;simpl&nbsp;=&gt;&nbsp;//;&nbsp;solve_all.<br/>
&nbsp;&nbsp;all:try&nbsp;(rtoProp;&nbsp;now&nbsp;rewrite&nbsp;?shiftnP_xpredT&nbsp;?IHt1&nbsp;?IHt2&nbsp;?IHt3;&nbsp;eauto&nbsp;2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;rtoProp;&nbsp;solve_all).<br/>
&nbsp;&nbsp;-&nbsp;rtoProp.&nbsp;setoid_rewrite&nbsp;shiftnP_xpredT.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;test_context_k_ctx.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;move/onctxP:&nbsp;a0.<br/>
&nbsp;&nbsp;-&nbsp;setoid_rewrite&nbsp;shiftnP_xpredT.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;test_context_k_ctx.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;move/onctxP:&nbsp;a1.<br/>
&nbsp;&nbsp;-&nbsp;unfold&nbsp;test_def&nbsp;in&nbsp;*.&nbsp;apply&nbsp;/andP.&nbsp;now&nbsp;rewrite&nbsp;shiftnP_xpredT.<br/>
&nbsp;&nbsp;-&nbsp;unfold&nbsp;test_def&nbsp;in&nbsp;*.&nbsp;apply&nbsp;/andP.&nbsp;now&nbsp;rewrite&nbsp;shiftnP_xpredT.<br/>
Qed.&nbsp;*)</span><br/>
<br/>
Lemma&nbsp;on_free_vars_xpredT&nbsp;:&nbsp;on_free_vars&nbsp;xpredT&nbsp;=1&nbsp;xpredT.<br/>
Proof.<br/>
&nbsp;&nbsp;intros&nbsp;t;&nbsp;apply&nbsp;on_free_vars_true.<br/>
Qed.&nbsp;*)</span><br/>
<br/>
Lemma&nbsp;test_context_k_true&nbsp;n&nbsp;ctx&nbsp;:&nbsp;test_context_k&nbsp;(fun=&gt;&nbsp;on_free_vars&nbsp;xpredT)&nbsp;n&nbsp;ctx.<br/>
Proof.<br/>
&nbsp;&nbsp;setoid_rewrite&nbsp;on_free_vars_xpredT.<br/>
&nbsp;&nbsp;induction&nbsp;ctx;&nbsp;simpl;&nbsp;auto.<br/>
&nbsp;&nbsp;rewrite&nbsp;/test_decl&nbsp;IHctx&nbsp;/=.<br/>
&nbsp;&nbsp;destruct&nbsp;a&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">na</span></span> <span class="inlinecode">[<span class="id" title="var">b</span>|]</span> <span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;=&gt;&nbsp;/=&nbsp;//.<br/>
Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_impl" class="idref" href="#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a> (<a id="p:40" class="idref" href="#p:40"><span class="id" title="binder">p</span></a> <a id="q:41" class="idref" href="#q:41"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="t:42" class="idref" href="#t:42"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:40"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:43"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:41"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:43"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:40"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:42"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:41"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:42"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">Basics.impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Himpl</span> <span class="id" title="var">onf</span>. <span class="id" title="var">revert</span> <span class="id" title="var">onf</span> <span class="id" title="var">Himpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> ⇒ //; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">rtoProp</span>; <span class="id" title="var">now</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_impl"><span class="id" title="lemma">shiftnP_impl</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">all</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedP_on_free_vars" class="idref" href="#closedP_on_free_vars"><span class="id" title="lemma">closedP_on_free_vars</span></a> {<a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> <a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:45"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> ⇒ //; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:(<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="var">rtoProp</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H</span> ?<span class="id" title="var">H0</span> ?<span class="id" title="var">H1</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /=. <span class="id" title="var">now</span> <span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>. <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_predicate_k"><span class="id" title="definition">test_predicate_k</span></a> /= !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> /=. <span class="id" title="tactic">f_equal</span>. 2:<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_branch_k"><span class="id" title="definition">test_branch_k</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_on_free_vars" class="idref" href="#closedn_on_free_vars"><span class="id" title="lemma">closedn_on_free_vars</span></a> {<a id="P:46" class="idref" href="#P:46"><span class="id" title="binder">P</span></a> <a id="n:47" class="idref" href="#n:47"><span class="id" title="binder">n</span></a> <a id="t:48" class="idref" href="#t:48"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:47"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:48"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:47"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:46"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:48"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_on_free_vars"><span class="id" title="lemma">closedP_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Any predicate is admissible as there are no free variables to consider 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="closed_on_free_vars_none" class="idref" href="#closed_on_free_vars_none"><span class="id" title="lemma">closed_on_free_vars_none</span></a> {<a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:49"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_on_free_vars"><span class="id" title="lemma">closedP_on_free_vars</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_on_free_vars" class="idref" href="#closed_on_free_vars"><span class="id" title="lemma">closed_on_free_vars</span></a> {<a id="P:50" class="idref" href="#P:50"><span class="id" title="binder">P</span></a> <a id="t:51" class="idref" href="#t:51"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed"><span class="id" title="abbreviation">closed</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:51"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:50"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:51"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_on_free_vars"><span class="id" title="lemma">closedP_on_free_vars</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_subst_instance" class="idref" href="#on_free_vars_subst_instance"><span class="id" title="lemma">on_free_vars_subst_instance</span></a> {<a id="p:52" class="idref" href="#p:52"><span class="id" title="binder">p</span></a> <a id="u:53" class="idref" href="#u:53"><span class="id" title="binder">u</span></a> <a id="t:54" class="idref" href="#t:54"><span class="id" title="binder">t</span></a>} : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:52"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:53"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:54"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:52"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:54"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> /=. <span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> ⇒ //; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="var">rtoProp</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -?<span class="id" title="var">IHt1</span> -?<span class="id" title="var">IHt2</span> -?<span class="id" title="var">IHt3</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> (<span class="id" title="var">solve_all</span>; <span class="id" title="tactic">f_equal</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a>; <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_free_vars_decl" class="idref" href="#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a id="P:55" class="idref" href="#P:55"><span class="id" title="binder">P</span></a> <a id="d:56" class="idref" href="#d:56"><span class="id" title="binder">d</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:55"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:56"><span class="id" title="variable">d</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_free_vars_decl_proper" class="idref" href="#on_free_vars_decl_proper"><span class="id" title="instance">on_free_vars_decl_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> ⇒ <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> &lt;-. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_free_vars_decl_proper_pointwise" class="idref" href="#on_free_vars_decl_proper_pointwise"><span class="id" title="instance">on_free_vars_decl_proper_pointwise</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> ⇒ <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_free_vars_ctx" class="idref" href="#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a id="P:57" class="idref" href="#P:57"><span class="id" title="binder">P</span></a> <a id="ctx:58" class="idref" href="#ctx:58"><span class="id" title="binder">ctx</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli"><span class="id" title="definition">alli</span></a> (<span class="id" title="keyword">fun</span> <a id="k:59" class="idref" href="#k:59"><span class="id" title="binder">k</span></a> ⇒ (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:59"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:57"><span class="id" title="variable">P</span></a>))) 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:58"><span class="id" title="variable">ctx</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_free_vars_ctx_proper" class="idref" href="#on_free_vars_ctx_proper"><span class="id" title="instance">on_free_vars_ctx_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> ⇒ <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="is_open_term" class="idref" href="#is_open_term"><span class="id" title="abbreviation">is_open_term</span></a> <span class="id" title="var">Γ</span> := (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="is_open_decl" class="idref" href="#is_open_decl"><span class="id" title="abbreviation">is_open_decl</span></a> <span class="id" title="var">Γ</span> := (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="is_closed_context" class="idref" href="#is_closed_context"><span class="id" title="abbreviation">is_closed_context</span></a> := (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_decl_impl" class="idref" href="#on_free_vars_decl_impl"><span class="id" title="lemma">on_free_vars_decl_impl</span></a> (<a id="p:60" class="idref" href="#p:60"><span class="id" title="binder">p</span></a> <a id="q:61" class="idref" href="#q:61"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="d:62" class="idref" href="#d:62"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:63" class="idref" href="#i:63"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:63"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:61"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:63"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:60"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:62"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:61"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:62"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hpi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl_impl"><span class="id" title="lemma">test_decl_impl</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_impl" class="idref" href="#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a> (<a id="p:64" class="idref" href="#p:64"><span class="id" title="binder">p</span></a> <a id="q:65" class="idref" href="#q:65"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="ctx:66" class="idref" href="#ctx:66"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:67" class="idref" href="#i:67"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:64"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:67"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:65"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:67"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:64"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:66"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:65"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:66"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hpi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_impl"><span class="id" title="lemma">alli_impl</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl_impl"><span class="id" title="lemma">on_free_vars_decl_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">nat_compare_specs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_decl_on_free_vars" class="idref" href="#closed_decl_on_free_vars"><span class="id" title="lemma">closed_decl_on_free_vars</span></a> {<a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a> <a id="d:69" class="idref" href="#d:69"><span class="id" title="binder">d</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_decl"><span class="id" title="abbreviation">closed_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:69"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:69"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_on_free_vars"><span class="id" title="lemma">closedP_on_free_vars</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">db</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_on_free_vars"><span class="id" title="lemma">closedP_on_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_ctx_on_free_vars" class="idref" href="#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a> {<a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="ctx:71" class="idref" href="#ctx:71"><span class="id" title="binder">ctx</span></a>} : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:71"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:71"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closed_decl_on_free_vars"><span class="id" title="lemma">closed_decl_on_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedP_shiftnP" class="idref" href="#closedP_shiftnP"><span class="id" title="lemma">closedP_shiftnP</span></a> (<a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> ⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb"><span class="id" title="definition">Nat.ltb</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedP_shiftnP_impl" class="idref" href="#closedP_shiftnP_impl"><span class="id" title="lemma">closedP_shiftnP_impl</span></a> <a id="n:73" class="idref" href="#n:73"><span class="id" title="binder">n</span></a> <a id="P:74" class="idref" href="#P:74"><span class="id" title="binder">P</span></a> <a id="i:75" class="idref" href="#i:75"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:73"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:75"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:73"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:74"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:75"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_shiftnP"><span class="id" title="lemma">closedP_shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedn_ctx_on_free_vars_shift" class="idref" href="#closedn_ctx_on_free_vars_shift"><span class="id" title="lemma">closedn_ctx_on_free_vars_shift</span></a> {<a id="n:76" class="idref" href="#n:76"><span class="id" title="binder">n</span></a> <a id="ctx:77" class="idref" href="#ctx:77"><span class="id" title="binder">ctx</span></a> <a id="P:78" class="idref" href="#P:78"><span class="id" title="binder">P</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closedn_ctx"><span class="id" title="abbreviation">closedn_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:76"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:77"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:76"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:78"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:77"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_impl"><span class="id" title="lemma">alli_impl</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl_impl"><span class="id" title="lemma">on_free_vars_decl_impl</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_shiftnP_impl"><span class="id" title="lemma">closedP_shiftnP_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This uses absurdity elimination as <span class="inlinecode"><span class="id" title="var">ctx</span></span> can't have any free variable 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="closed_ctx_on_free_vars" class="idref" href="#closed_ctx_on_free_vars"><span class="id" title="lemma">closed_ctx_on_free_vars</span></a> <a id="P:79" class="idref" href="#P:79"><span class="id" title="binder">P</span></a> <a id="ctx:80" class="idref" href="#ctx:80"><span class="id" title="binder">ctx</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#closed_ctx"><span class="id" title="abbreviation">closed_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:80"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:79"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:80"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedn_ctx_on_free_vars"><span class="id" title="lemma">closedn_ctx_on_free_vars</span></a> ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nocc_betweenp" class="idref" href="#nocc_betweenp"><span class="id" title="definition">nocc_betweenp</span></a> <a id="k:81" class="idref" href="#k:81"><span class="id" title="binder">k</span></a> <a id="n:82" class="idref" href="#n:82"><span class="id" title="binder">n</span></a> <a id="i:83" class="idref" href="#i:83"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:83"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:81"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:81"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:82"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:83"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nocc_between" class="idref" href="#nocc_between"><span class="id" title="definition">nocc_between</span></a> <a id="k:84" class="idref" href="#k:84"><span class="id" title="binder">k</span></a> <a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="t:86" class="idref" href="#t:86"><span class="id" title="binder">t</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#nocc_betweenp"><span class="id" title="definition">nocc_betweenp</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:84"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:85"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:86"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="noccur_shift" class="idref" href="#noccur_shift"><span class="id" title="definition">noccur_shift</span></a> <a id="p:87" class="idref" href="#p:87"><span class="id" title="binder">p</span></a> <a id="k:88" class="idref" href="#k:88"><span class="id" title="binder">k</span></a> := <span class="id" title="keyword">fun</span> <a id="i:89" class="idref" href="#i:89"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:89"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:88"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:87"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:89"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:88"><span class="id" title="variable">k</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">All_forallb_eq_forallb</span> : <span class="id" title="var">all</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="strengthenP" class="idref" href="#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a id="k:90" class="idref" href="#k:90"><span class="id" title="binder">k</span></a> <a id="n:91" class="idref" href="#n:91"><span class="id" title="binder">n</span></a> (<a id="p:92" class="idref" href="#p:92"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:93" class="idref" href="#i:93"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:93"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:90"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:92"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:93"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:93"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:90"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:91"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:92"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:93"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:91"><span class="id" title="variable">n</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="strengthenP_proper" class="idref" href="#strengthenP_proper"><span class="id" title="instance">strengthenP_proper</span></a> <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a> <a id="k:95" class="idref" href="#k:95"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:94"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:95"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hfg</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Hfg</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_strengthenP" class="idref" href="#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a> <a id="k':96" class="idref" href="#k':96"><span class="id" title="binder">k'</span></a> <a id="k:97" class="idref" href="#k:97"><span class="id" title="binder">k</span></a> <a id="n:98" class="idref" href="#n:98"><span class="id" title="binder">n</span></a> <a id="p:99" class="idref" href="#p:99"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k':96"><span class="id" title="variable">k'</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:97"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:98"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:99"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k':96"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:97"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:98"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k':96"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:99"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_lift" class="idref" href="#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> (<a id="p:100" class="idref" href="#p:100"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a> <a id="k:102" class="idref" href="#k:102"><span class="id" title="binder">k</span></a> <a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:102"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:100"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:102"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:103"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:100"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:103"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> ⇒ //; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_forallb_eq_forallb"><span class="id" title="lemma">All_forallb_eq_forallb</span></a>; <span class="id" title="var">tea</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;2-6:<span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a> ?<span class="id" title="var">IHt1</span> ?<span class="id" title="var">IHt2</span> ?<span class="id" title="var">IHt3</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">n0</span> <span class="id" title="var">into</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a> <span class="id" title="var">e</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_free_vars_terms" class="idref" href="#on_free_vars_terms"><span class="id" title="definition">on_free_vars_terms</span></a> <a id="p:104" class="idref" href="#p:104"><span class="id" title="binder">p</span></a> <a id="s:105" class="idref" href="#s:105"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:104"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:105"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="substP" class="idref" href="#substP"><span class="id" title="definition">substP</span></a> (<a id="k:106" class="idref" href="#k:106"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a> (<a id="q:108" class="idref" href="#q:108"><span class="id" title="binder">q</span></a> <a id="p:109" class="idref" href="#p:109"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:110" class="idref" href="#i:110"><span class="id" title="binder">i</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:110"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:106"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:109"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:110"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:109"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:110"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:107"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:106"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:108"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:110"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnP_substP" class="idref" href="#shiftnP_substP"><span class="id" title="lemma">shiftnP_substP</span></a> <a id="k':111" class="idref" href="#k':111"><span class="id" title="binder">k'</span></a> <a id="k:112" class="idref" href="#k:112"><span class="id" title="binder">k</span></a> <a id="n:113" class="idref" href="#n:113"><span class="id" title="binder">n</span></a> <a id="q:114" class="idref" href="#q:114"><span class="id" title="binder">q</span></a> <a id="p:115" class="idref" href="#p:115"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k':111"><span class="id" title="variable">k'</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:112"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:113"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:114"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:115"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k':111"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:112"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:113"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:114"><span class="id" title="variable">q</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k':111"><span class="id" title="variable">k'</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:115"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; [<span class="id" title="tactic">f_equal</span>|] ⇒ /= //.<br/>
&nbsp;&nbsp;× <span class="id" title="var">lia_f_equal</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_subst_gen" class="idref" href="#on_free_vars_subst_gen"><span class="id" title="lemma">on_free_vars_subst_gen</span></a> (<a id="p:116" class="idref" href="#p:116"><span class="id" title="binder">p</span></a> <a id="q:117" class="idref" href="#q:117"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="s:118" class="idref" href="#s:118"><span class="id" title="binder">s</span></a> <a id="k:119" class="idref" href="#k:119"><span class="id" title="binder">k</span></a> <a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_terms"><span class="id" title="definition">on_free_vars_terms</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:117"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:116"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:120"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:119"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:118"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:117"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:116"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:119"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:120"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">p</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICInduction.html#term_forall_list_ind"><span class="id" title="lemma">PCUICInduction.term_forall_list_ind</span></a>; <span class="id" title="tactic">simpl</span> ⇒ //; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">try</span> (<span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_substP"><span class="id" title="lemma">shiftnP_substP</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHt1</span> ?<span class="id" title="var">IHt2</span> ?<span class="id" title="var">IHt3</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">Nat.leb_spec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_terms"><span class="id" title="definition">on_free_vars_terms</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">toAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_Some_length"><span class="id" title="lemma">nth_error_Some_length</span></a> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_true_r"><span class="id" title="lemma">orb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error_None"><span class="id" title="lemma">nth_error_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">n</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_substP"><span class="id" title="lemma">shiftnP_substP</span></a>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_substP"><span class="id" title="lemma">shiftnP_substP</span></a>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>; <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rtoProp</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_substP"><span class="id" title="lemma">shiftnP_substP</span></a>; <span class="id" title="var">len</span>. <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">solve_all</span>. <span class="id" title="var">rtoProp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_substP"><span class="id" title="lemma">shiftnP_substP</span></a>; <span class="id" title="var">len</span>. <span class="id" title="var">solve_all</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rshiftk_S" class="idref" href="#rshiftk_S"><span class="id" title="lemma">rshiftk_S</span></a> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="f:122" class="idref" href="#f:122"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:122"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#rshiftk"><span class="id" title="definition">rshiftk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:121"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:122"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="substP_shiftnP" class="idref" href="#substP_shiftnP"><span class="id" title="lemma">substP_shiftnP</span></a> <a id="n:123" class="idref" href="#n:123"><span class="id" title="binder">n</span></a> <a id="p:124" class="idref" href="#p:124"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:123"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:124"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:123"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:124"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:124"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_diag"><span class="id" title="lemma">orb_diag</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_subst" class="idref" href="#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a> (<a id="p:125" class="idref" href="#p:125"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="s:126" class="idref" href="#s:126"><span class="id" title="binder">s</span></a> <a id="t:127" class="idref" href="#t:127"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:125"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:126"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:126"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:125"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:127"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:125"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:126"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:127"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_gen"><span class="id" title="lemma">on_free_vars_subst_gen</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">s</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">p</span> <span class="id" title="var">s</span> 0 <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP_shiftnP"><span class="id" title="lemma">substP_shiftnP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ht</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_subst1" class="idref" href="#on_free_vars_subst1"><span class="id" title="lemma">on_free_vars_subst1</span></a> (<a id="p:128" class="idref" href="#p:128"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="s:129" class="idref" href="#s:129"><span class="id" title="binder">s</span></a> <a id="t:130" class="idref" href="#t:130"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:128"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:129"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:128"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:128"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:129"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:130"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hs</span> <span class="id" title="var">ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#subst1"><span class="id" title="definition">subst1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_gen"><span class="id" title="lemma">on_free_vars_subst_gen</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <span class="id" title="var">p</span>) <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> 0 <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP_shiftnP"><span class="id" title="lemma">substP_shiftnP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_terms"><span class="id" title="definition">on_free_vars_terms</span></a> /= <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ht</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="addnP" class="idref" href="#addnP"><span class="id" title="definition">addnP</span></a> <a id="n:131" class="idref" href="#n:131"><span class="id" title="binder">n</span></a> (<a id="p:132" class="idref" href="#p:132"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:133" class="idref" href="#i:133"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:132"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:131"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:133"><span class="id" title="variable">i</span></a>).<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="addnP_proper" class="idref" href="#addnP_proper"><span class="id" title="instance">addnP_proper</span></a> <a id="n:134" class="idref" href="#n:134"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:134"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="addnP_proper_pointwise" class="idref" href="#addnP_proper_pointwise"><span class="id" title="instance">addnP_proper_pointwise</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP_add" class="idref" href="#addnP_add"><span class="id" title="lemma">addnP_add</span></a> <a id="n:135" class="idref" href="#n:135"><span class="id" title="binder">n</span></a> <a id="k:136" class="idref" href="#k:136"><span class="id" title="binder">k</span></a> <a id="p:137" class="idref" href="#p:137"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:135"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:136"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:137"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:135"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:136"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:137"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> ⇒ <span class="id" title="var">i</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP0" class="idref" href="#addnP0"><span class="id" title="lemma">addnP0</span></a> <a id="p:138" class="idref" href="#p:138"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:138"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:138"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP_shiftnP" class="idref" href="#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a> <a id="n:139" class="idref" href="#n:139"><span class="id" title="binder">n</span></a> <a id="P:140" class="idref" href="#P:140"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:139"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:139"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:140"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:140"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ /=. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP_orP" class="idref" href="#addnP_orP"><span class="id" title="lemma">addnP_orP</span></a> <a id="n:141" class="idref" href="#n:141"><span class="id" title="binder">n</span></a> <a id="p:142" class="idref" href="#p:142"><span class="id" title="binder">p</span></a> <a id="q:143" class="idref" href="#q:143"><span class="id" title="binder">q</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:141"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:142"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:143"><span class="id" title="variable">q</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:141"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:142"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:141"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:143"><span class="id" title="variable">q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_ctx_free_vars" class="idref" href="#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a id="P:144" class="idref" href="#P:144"><span class="id" title="binder">P</span></a> <a id="ctx:145" class="idref" href="#ctx:145"><span class="id" title="binder">ctx</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli"><span class="id" title="definition">alli</span></a> (<span class="id" title="keyword">fun</span> <a id="k:146" class="idref" href="#k:146"><span class="id" title="binder">k</span></a> <a id="d:147" class="idref" href="#d:147"><span class="id" title="binder">d</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:144"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:146"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:146"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:144"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:147"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a>) 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:145"><span class="id" title="variable">ctx</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_ctx_free_vars_proper" class="idref" href="#on_ctx_free_vars_proper"><span class="id" title="instance">on_ctx_free_vars_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> ⇒ <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a> ⇒ <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="on_ctx_free_vars_proper_pointwise" class="idref" href="#on_ctx_free_vars_proper_pointwise"><span class="id" title="instance">on_ctx_free_vars_proper_pointwise</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> ⇒ <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a> ⇒ <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_error_on_free_vars_ctx" class="idref" href="#nth_error_on_free_vars_ctx"><span class="id" title="lemma">nth_error_on_free_vars_ctx</span></a> <a id="P:148" class="idref" href="#P:148"><span class="id" title="binder">P</span></a> <a id="n:149" class="idref" href="#n:149"><span class="id" title="binder">n</span></a> <a id="ctx:150" class="idref" href="#ctx:150"><span class="id" title="binder">ctx</span></a> <a id="i:151" class="idref" href="#i:151"><span class="id" title="binder">i</span></a> <a id="d:152" class="idref" href="#d:152"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:149"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:148"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:150"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:148"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:149"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:151"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:150"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:151"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:152"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:149"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:151"><span class="id" title="variable">i</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:148"><span class="id" title="variable">P</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:152"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_nth_error"><span class="id" title="lemma">Alli_nth_error</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= {1}/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <span class="id" title="var">H0</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_add"><span class="id" title="lemma">addnP_add</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="aboveP" class="idref" href="#aboveP"><span class="id" title="definition">aboveP</span></a> <a id="k:153" class="idref" href="#k:153"><span class="id" title="binder">k</span></a> (<a id="p:154" class="idref" href="#p:154"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:155" class="idref" href="#i:155"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:155"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:153"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:155"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strengthenP_addn" class="idref" href="#strengthenP_addn"><span class="id" title="lemma">strengthenP_addn</span></a> <a id="i:156" class="idref" href="#i:156"><span class="id" title="binder">i</span></a> <a id="p:157" class="idref" href="#p:157"><span class="id" title="binder">p</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:156"><span class="id" title="variable">i</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:156"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:157"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#aboveP"><span class="id" title="definition">aboveP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:156"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:157"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#aboveP"><span class="id" title="definition">aboveP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_lift0" class="idref" href="#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a> <a id="i:158" class="idref" href="#i:158"><span class="id" title="binder">i</span></a> <a id="p:159" class="idref" href="#p:159"><span class="id" title="binder">p</span></a> <a id="t:160" class="idref" href="#t:160"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:158"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:159"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:160"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:159"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:158"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:160"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#aboveP"><span class="id" title="definition">aboveP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">i'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_lift0_above" class="idref" href="#on_free_vars_lift0_above"><span class="id" title="lemma">on_free_vars_lift0_above</span></a> <a id="i:161" class="idref" href="#i:161"><span class="id" title="binder">i</span></a> <a id="p:162" class="idref" href="#p:162"><span class="id" title="binder">p</span></a> <a id="t:163" class="idref" href="#t:163"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:161"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:162"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:163"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#aboveP"><span class="id" title="definition">aboveP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:161"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:162"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:161"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:163"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#aboveP"><span class="id" title="definition">aboveP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ext"><span class="id" title="lemma">on_free_vars_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">i'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_mkApps" class="idref" href="#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a> <a id="p:164" class="idref" href="#p:164"><span class="id" title="binder">p</span></a> <a id="f:165" class="idref" href="#f:165"><span class="id" title="binder">f</span></a> <a id="args:166" class="idref" href="#args:166"><span class="id" title="binder">args</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:164"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#mkApps"><span class="id" title="definition">mkApps</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#args:166"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:164"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:164"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#args:166"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span> |- × ⇒ /=.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHargs</span> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extended_subst_shiftn" class="idref" href="#extended_subst_shiftn"><span class="id" title="lemma">extended_subst_shiftn</span></a> <a id="p:167" class="idref" href="#p:167"><span class="id" title="binder">p</span></a> <a id="ctx:168" class="idref" href="#ctx:168"><span class="id" title="binder">ctx</span></a> <a id="n:169" class="idref" href="#n:169"><span class="id" title="binder">n</span></a> <a id="k:170" class="idref" href="#k:170"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:169"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:170"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:168"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:167"><span class="id" title="variable">p</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:168"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:169"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:170"><span class="id" title="variable">k</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:170"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:168"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:167"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:168"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:170"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst'"><span class="id" title="lemma">lift_extended_subst'</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_ext"><span class="id" title="lemma">forallb_ext</span></a> ⇒ <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span> 0 <span class="id" title="var">t</span>) //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extended_subst_shiftn_aboveP" class="idref" href="#extended_subst_shiftn_aboveP"><span class="id" title="lemma">extended_subst_shiftn_aboveP</span></a> <a id="p:171" class="idref" href="#p:171"><span class="id" title="binder">p</span></a> <a id="ctx:172" class="idref" href="#ctx:172"><span class="id" title="binder">ctx</span></a> <a id="n:173" class="idref" href="#n:173"><span class="id" title="binder">n</span></a> <a id="k:174" class="idref" href="#k:174"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#aboveP"><span class="id" title="definition">aboveP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:171"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:172"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:174"><span class="id" title="variable">k</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:171"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:172"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:174"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst'"><span class="id" title="lemma">lift_extended_subst'</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_ext"><span class="id" title="lemma">forallb_ext</span></a> ⇒ <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0_above"><span class="id" title="lemma">on_free_vars_lift0_above</span></a>) //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extended_subst_shiftn_impl" class="idref" href="#extended_subst_shiftn_impl"><span class="id" title="lemma">extended_subst_shiftn_impl</span></a> <a id="p:175" class="idref" href="#p:175"><span class="id" title="binder">p</span></a> <a id="ctx:176" class="idref" href="#ctx:176"><span class="id" title="binder">ctx</span></a> <a id="n:177" class="idref" href="#n:177"><span class="id" title="binder">n</span></a> <a id="k:178" class="idref" href="#k:178"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:178"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:176"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:175"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:176"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:178"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:177"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:178"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:176"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:175"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:176"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:177"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:178"><span class="id" title="variable">k</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst'"><span class="id" title="lemma">lift_extended_subst'</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_impl"><span class="id" title="lemma">forallb_impl</span></a> ⇒ <span class="id" title="var">t</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span> 0 <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a> ⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H2</span>. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="occ_betweenP" class="idref" href="#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a> <a id="k:179" class="idref" href="#k:179"><span class="id" title="binder">k</span></a> <a id="n:180" class="idref" href="#n:180"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:181" class="idref" href="#i:181"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:179"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#0f31f5c1c6b6a21a3a187247222bc9e4"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:181"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:181"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:179"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:180"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_decl_all_term" class="idref" href="#on_free_vars_decl_all_term"><span class="id" title="lemma">on_free_vars_decl_all_term</span></a> <a id="P:182" class="idref" href="#P:182"><span class="id" title="binder">P</span></a> <a id="d:183" class="idref" href="#d:183"><span class="id" title="binder">d</span></a> <a id="s:184" class="idref" href="#s:184"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:182"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:183"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:182"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:183"><span class="id" title="variable">d</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:184"><span class="id" title="variable">s</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] ⇒ /= //; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_mkProd_or_LetIn" class="idref" href="#on_free_vars_mkProd_or_LetIn"><span class="id" title="lemma">on_free_vars_mkProd_or_LetIn</span></a> <a id="P:185" class="idref" href="#P:185"><span class="id" title="binder">P</span></a> <a id="d:186" class="idref" href="#d:186"><span class="id" title="binder">d</span></a> <a id="t:187" class="idref" href="#t:187"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:185"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:186"><span class="id" title="variable">d</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:187"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:185"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:186"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:185"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:187"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.mkProd_or_LetIn"><span class="id" title="definition">mkProd_or_LetIn</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;?<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_assoc"><span class="id" title="lemma">andb_assoc</span></a> /<a class="idref" href="MetaCoq.Utils.MCOption.html#foroptb"><span class="id" title="definition">foroptb</span></a> /=; <span class="id" title="tactic">try</span> <span class="id" title="var">bool_congr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_all_term" class="idref" href="#on_free_vars_ctx_all_term"><span class="id" title="lemma">on_free_vars_ctx_all_term</span></a> <a id="P:188" class="idref" href="#P:188"><span class="id" title="binder">P</span></a> <a id="ctx:189" class="idref" href="#ctx:189"><span class="id" title="binder">ctx</span></a> <a id="s:190" class="idref" href="#s:190"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:188"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:189"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:188"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn"><span class="id" title="definition">it_mkProd_or_LetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:189"><span class="id" title="variable">ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:190"><span class="id" title="variable">s</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">P</span>](<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> 0 <span class="id" title="keyword">as</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">List.rev_app_distr</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.it_mkProd_or_LetIn_app"><span class="id" title="lemma">it_mkProd_or_LetIn_app</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkProd_or_LetIn"><span class="id" title="lemma">on_free_vars_mkProd_or_LetIn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="on_free_vars_ctx_k" class="idref" href="#on_free_vars_ctx_k"><span class="id" title="definition">on_free_vars_ctx_k</span></a> <a id="P:191" class="idref" href="#P:191"><span class="id" title="binder">P</span></a> <a id="n:192" class="idref" href="#n:192"><span class="id" title="binder">n</span></a> <a id="ctx:193" class="idref" href="#ctx:193"><span class="id" title="binder">ctx</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli"><span class="id" title="definition">alli</span></a> (<span class="id" title="keyword">fun</span> <a id="k:194" class="idref" href="#k:194"><span class="id" title="binder">k</span></a> ⇒ (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:194"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:191"><span class="id" title="variable">P</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:192"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:193"><span class="id" title="variable">ctx</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="predA" class="idref" href="#predA"><span class="id" title="definition">predA</span></a> {<a id="A:195" class="idref" href="#A:195"><span class="id" title="binder">A</span></a>} (<a id="p:196" class="idref" href="#p:196"><span class="id" title="binder">p</span></a> <a id="q:197" class="idref" href="#q:197"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:195"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#simpl_pred"><span class="id" title="definition">simpl_pred</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:195"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">pred</span></a> <a id="i:198" class="idref" href="#i:198"><span class="id" title="binder">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:196"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:198"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:197"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:198"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eq_simpl_pred" class="idref" href="#eq_simpl_pred"><span class="id" title="definition">eq_simpl_pred</span></a> {<a id="A:199" class="idref" href="#A:199"><span class="id" title="binder">A</span></a>} (<a id="x:200" class="idref" href="#x:200"><span class="id" title="binder">x</span></a> <a id="y:201" class="idref" href="#y:201"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#simpl_pred"><span class="id" title="definition">simpl_pred</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:199"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">x</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">y</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="implP_Proper" class="idref" href="#implP_Proper"><span class="id" title="instance">implP_Proper</span></a> {<a id="A:202" class="idref" href="#A:202"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#eq_simpl_pred"><span class="id" title="definition">eq_simpl_pred</span></a>) (@<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:202"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">Hfg'</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hfg'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_implP" class="idref" href="#on_free_vars_implP"><span class="id" title="lemma">on_free_vars_implP</span></a> <a id="p:203" class="idref" href="#p:203"><span class="id" title="binder">p</span></a> <a id="q:204" class="idref" href="#q:204"><span class="id" title="binder">q</span></a> <a id="t:205" class="idref" href="#t:205"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:203"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:204"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:203"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:205"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:204"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:205"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> /=. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">hp</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hp</span> <span class="id" title="var">i</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="shiftnP_predU" class="idref" href="#shiftnP_predU"><span class="id" title="definition">shiftnP_predU</span></a> <a id="n:206" class="idref" href="#n:206"><span class="id" title="binder">n</span></a> <a id="p:207" class="idref" href="#p:207"><span class="id" title="binder">p</span></a> <a id="q:208" class="idref" href="#q:208"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:206"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:207"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:208"><span class="id" title="variable">q</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:206"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:207"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:206"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:208"><span class="id" title="variable">q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="orP_Proper" class="idref" href="#orP_Proper"><span class="id" title="instance">orP_Proper</span></a> {<a id="A:209" class="idref" href="#A:209"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#eq_simpl_pred"><span class="id" title="definition">eq_simpl_pred</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:209"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">Hfg'</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hfg'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="andP_Proper" class="idref" href="#andP_Proper"><span class="id" title="instance">andP_Proper</span></a> <a id="A:210" class="idref" href="#A:210"><span class="id" title="binder">A</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#eq_simpl_pred"><span class="id" title="definition">eq_simpl_pred</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predI"><span class="id" title="definition">predI</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:210"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">Hfg'</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predI"><span class="id" title="definition">predI</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfg</span> <span class="id" title="var">Hfg'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="pred_of_simpl_proper" class="idref" href="#pred_of_simpl_proper"><span class="id" title="instance">pred_of_simpl_proper</span></a> {<a id="A:211" class="idref" href="#A:211"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#eq_simpl_pred"><span class="id" title="definition">eq_simpl_pred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#1554d3df40addf893543592a515f020a"><span class="id" title="notation">`=1`</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#PredOfSimpl.coerce"><span class="id" title="definition">PredOfSimpl.coerce</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#A:211"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>⇒ <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#eq_simpl_pred"><span class="id" title="definition">eq_simpl_pred</span></a> ⇒ <span class="id" title="var">Hfg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="orPL" class="idref" href="#orPL"><span class="id" title="lemma">orPL</span></a> (<a id="p:212" class="idref" href="#p:212"><span class="id" title="binder">p</span></a> <a id="q:213" class="idref" href="#q:213"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:212"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:212"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:213"><span class="id" title="variable">q</span></a>)<a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#implybE"><span class="id" title="lemma">ssrbool.implybE</span></a> (<span class="id" title="var">p</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">p</span> <span class="id" title="var">i</span>) ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="orPR" class="idref" href="#orPR"><span class="id" title="lemma">orPR</span></a> (<a id="p:214" class="idref" href="#p:214"><span class="id" title="binder">p</span></a> <a id="q:215" class="idref" href="#q:215"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="i:216" class="idref" href="#i:216"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:215"><span class="id" title="variable">q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:214"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#q:215"><span class="id" title="variable">q</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:216"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> /= ⇒ -&gt;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_true_r"><span class="id" title="lemma">orb_true_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We need a disjunction here as the substitution can be made of
    expanded lets (properly lifted) or just the variables of
    <span class="inlinecode"><span class="id" title="var">ctx</span></span> (lifted by <span class="inlinecode"><span class="id" title="var">k</span></span>).

<div class="paragraph"> </div>

    The proof could certainly be simplified using a more high-level handling of
    free-variables predicate, which form a simple classical algebra.
    To investigate: does ssr's library support this? 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_extended_subst" class="idref" href="#on_free_vars_extended_subst"><span class="id" title="lemma">on_free_vars_extended_subst</span></a> <a id="p:217" class="idref" href="#p:217"><span class="id" title="binder">p</span></a> <a id="k:218" class="idref" href="#k:218"><span class="id" title="binder">k</span></a> <a id="ctx:219" class="idref" href="#ctx:219"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_k"><span class="id" title="definition">on_free_vars_ctx_k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:217"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:218"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:219"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> 0 (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:219"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:218"><span class="id" title="variable">k</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:218"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:217"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:218"><span class="id" title="variable">k</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:219"><span class="id" title="variable">ctx</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:219"><span class="id" title="variable">ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:218"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_k"><span class="id" title="definition">on_free_vars_ctx_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>] <span class="id" title="var">ctx</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>, <span class="id" title="var">k</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=; <span class="id" title="var">len</span> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hty</span> /= <span class="id" title="var">hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHctx</span> <span class="id" title="var">_</span> <span class="id" title="var">k</span> <span class="id" title="var">hctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHctx</span> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_implP"><span class="id" title="lemma">on_free_vars_implP</span></a> ⇒ //; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_predU"><span class="id" title="definition">shiftnP_predU</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_strengthenP"><span class="id" title="lemma">shiftnP_strengthenP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#orPL"><span class="id" title="lemma">orPL</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">hctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /= ⇒ <span class="id" title="var">hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHctx</span> <span class="id" title="var">p</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andb_idl"><span class="id" title="lemma">andb_idl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHctx</span> <span class="id" title="var">hctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_extended_subst'"><span class="id" title="lemma">lift_extended_subst'</span></a> <span class="id" title="var">_</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_map"><span class="id" title="lemma">forallb_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_orP"><span class="id" title="lemma">addnP_orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_implP"><span class="id" title="lemma">on_free_vars_implP</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#predA"><span class="id" title="definition">predA</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#predU"><span class="id" title="definition">predU</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#implb"><span class="id" title="definition">implb</span></a> ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#implybE"><span class="id" title="lemma">implybE</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_expand_lets_k" class="idref" href="#on_free_vars_expand_lets_k"><span class="id" title="lemma">on_free_vars_expand_lets_k</span></a> <a id="P:220" class="idref" href="#P:220"><span class="id" title="binder">P</span></a> <a id="c30d4c2709e08547a4fb059c9aeb70f2" class="idref" href="#c30d4c2709e08547a4fb059c9aeb70f2"><span class="id" title="binder">Γ</span></a> <a id="n:222" class="idref" href="#n:222"><span class="id" title="binder">n</span></a> <a id="t:223" class="idref" href="#t:223"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:222"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#c30d4c2709e08547a4fb059c9aeb70f2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:220"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#c30d4c2709e08547a4fb059c9aeb70f2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#c30d4c2709e08547a4fb059c9aeb70f2"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:220"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:223"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:222"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:220"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#c30d4c2709e08547a4fb059c9aeb70f2"><span class="id" title="variable">Γ</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:223"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> → <span class="id" title="var">HΓ</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.expand_lets_k"><span class="id" title="definition">expand_lets_k</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_gen"><span class="id" title="lemma">on_free_vars_subst_gen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_extended_subst"><span class="id" title="lemma">on_free_vars_extended_subst</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_diag"><span class="id" title="lemma">orb_diag</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_terms_inds" class="idref" href="#on_free_vars_terms_inds"><span class="id" title="lemma">on_free_vars_terms_inds</span></a> <a id="P:224" class="idref" href="#P:224"><span class="id" title="binder">P</span></a> <a id="ind:225" class="idref" href="#ind:225"><span class="id" title="binder">ind</span></a> <a id="puinst:226" class="idref" href="#puinst:226"><span class="id" title="binder">puinst</span></a> <a id="bodies:227" class="idref" href="#bodies:227"><span class="id" title="binder">bodies</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_terms"><span class="id" title="definition">on_free_vars_terms</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:224"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ind:225"><span class="id" title="variable">ind</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#puinst:226"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#bodies:227"><span class="id" title="variable">bodies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#inds"><span class="id" title="definition">inds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">bodies</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_decl_map" class="idref" href="#on_free_vars_decl_map"><span class="id" title="lemma">on_free_vars_decl_map</span></a> <a id="P:228" class="idref" href="#P:228"><span class="id" title="binder">P</span></a> <a id="f:229" class="idref" href="#f:229"><span class="id" title="binder">f</span></a> <a id="d:230" class="idref" href="#d:230"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:231" class="idref" href="#i:231"><span class="id" title="binder">i</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:228"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:231"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:228"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:229"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:231"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:228"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:230"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:228"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#map_decl"><span class="id" title="definition">map_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f:229"><span class="id" title="variable">f</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:230"><span class="id" title="variable">d</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> <span class="id" title="var">d</span>) ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Utils.MCOption.html#foroptb"><span class="id" title="definition">foroptb</span></a> /= (<span class="id" title="var">Hi</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_subst_instance" class="idref" href="#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a> <a id="P:232" class="idref" href="#P:232"><span class="id" title="binder">P</span></a> <a id="u:233" class="idref" href="#u:233"><span class="id" title="binder">u</span></a> <a id="0328fd687cee8e3ffffa92b16cc78e89" class="idref" href="#0328fd687cee8e3ffffa92b16cc78e89"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:232"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:233"><span class="id" title="variable">u</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#0328fd687cee8e3ffffa92b16cc78e89"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:232"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#0328fd687cee8e3ffffa92b16cc78e89"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.Common.Universes.html#subst_instance"><span class="id" title="definition">subst_instance</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">map_rev</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_map"><span class="id" title="lemma">alli_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl_map"><span class="id" title="lemma">on_free_vars_decl_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_instance"><span class="id" title="lemma">on_free_vars_subst_instance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_map2_cstr_args" class="idref" href="#on_free_vars_map2_cstr_args"><span class="id" title="lemma">on_free_vars_map2_cstr_args</span></a> <a id="p:235" class="idref" href="#p:235"><span class="id" title="binder">p</span></a> <a id="bctx:236" class="idref" href="#bctx:236"><span class="id" title="binder">bctx</span></a> <a id="ctx:237" class="idref" href="#ctx:237"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#bctx:236"><span class="id" title="variable">bctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:237"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:235"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:237"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:235"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.set_binder_name"><span class="id" title="definition">set_binder_name</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#bctx:236"><span class="id" title="variable">bctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:237"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">d</span> <span class="id" title="var">ctx</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">bctx</span> |- *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">bctx</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">bctx</span> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= <span class="id" title="var">hlen</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> (<span class="id" title="var">IHctx</span> <span class="id" title="var">bctx</span>) // <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#map2_length"><span class="id" title="lemma">map2_length</span></a> // <span class="id" title="var">hlen</span>. <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_to_extended_list" class="idref" href="#on_free_vars_to_extended_list"><span class="id" title="lemma">on_free_vars_to_extended_list</span></a> <a id="P:238" class="idref" href="#P:238"><span class="id" title="binder">P</span></a> <a id="ctx:239" class="idref" href="#ctx:239"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:239"><span class="id" title="variable">ctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:238"><span class="id" title="variable">P</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:239"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list"><span class="id" title="definition">to_extended_list</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.to_extended_list_k"><span class="id" title="definition">to_extended_list_k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">with</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="var">P</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>), 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [?|] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHctx</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>. <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHctx</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>](<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a> <span class="id" title="var">n</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">ctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) /= <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This is less precise than the strengthenP lemma above 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_lift_impl" class="idref" href="#on_free_vars_lift_impl"><span class="id" title="lemma">on_free_vars_lift_impl</span></a> (<a id="p:240" class="idref" href="#p:240"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="n:241" class="idref" href="#n:241"><span class="id" title="binder">n</span></a> <a id="k:242" class="idref" href="#k:242"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="t:243" class="idref" href="#t:243"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:242"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:240"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:243"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:241"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:242"><span class="id" title="variable">k</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:240"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:241"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:242"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:243"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="foron_free_vars_extended_subst" class="idref" href="#foron_free_vars_extended_subst"><span class="id" title="lemma">foron_free_vars_extended_subst</span></a> <a id="brctx:244" class="idref" href="#brctx:244"><span class="id" title="binder">brctx</span></a> <a id="p:245" class="idref" href="#p:245"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:245"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#brctx:244"><span class="id" title="variable">brctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context_assumptions"><span class="id" title="definition">context_assumptions</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#brctx:244"><span class="id" title="variable">brctx</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:245"><span class="id" title="variable">p</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.extended_subst"><span class="id" title="definition">extended_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#brctx:244"><span class="id" title="variable">brctx</span></a> 0).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_extended_subst"><span class="id" title="lemma">on_free_vars_extended_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_impl"><span class="id" title="lemma">forallb_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#occ_betweenP"><span class="id" title="definition">occ_betweenP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_fix_subst" class="idref" href="#on_free_vars_fix_subst"><span class="id" title="lemma">on_free_vars_fix_subst</span></a> <a id="P:246" class="idref" href="#P:246"><span class="id" title="binder">P</span></a> <a id="mfix:247" class="idref" href="#mfix:247"><span class="id" title="binder">mfix</span></a> <a id="idx:248" class="idref" href="#idx:248"><span class="id" title="binder">idx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:246"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:247"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#idx:248"><span class="id" title="variable">idx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:246"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:247"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_subst"><span class="id" title="definition">fix_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hmfix</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">hmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 2 4; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [<span class="id" title="var">ha</span> <span class="id" title="var">hm</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHm</span> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_unfold_fix" class="idref" href="#on_free_vars_unfold_fix"><span class="id" title="lemma">on_free_vars_unfold_fix</span></a> <a id="P:249" class="idref" href="#P:249"><span class="id" title="binder">P</span></a> <a id="mfix:250" class="idref" href="#mfix:250"><span class="id" title="binder">mfix</span></a> <a id="idx:251" class="idref" href="#idx:251"><span class="id" title="binder">idx</span></a> <a id="narg:252" class="idref" href="#narg:252"><span class="id" title="binder">narg</span></a> <a id="fn:253" class="idref" href="#fn:253"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:250"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#idx:251"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#narg:252"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fn:253"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:249"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:250"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#idx:251"><span class="id" title="variable">idx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:249"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fn:253"><span class="id" title="variable">fn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ // [=] <span class="id" title="var">_</span> &lt;- /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hmfix</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">hmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>/(<a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="var">hnth</span>) ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">_</span> <span class="id" title="var">Hbody</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>; <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_fix_subst"><span class="id" title="lemma">on_free_vars_fix_subst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">idx</span>) ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_cofix_subst" class="idref" href="#on_free_vars_cofix_subst"><span class="id" title="lemma">on_free_vars_cofix_subst</span></a> <a id="P:254" class="idref" href="#P:254"><span class="id" title="binder">P</span></a> <a id="mfix:255" class="idref" href="#mfix:255"><span class="id" title="binder">mfix</span></a> <a id="idx:256" class="idref" href="#idx:256"><span class="id" title="binder">idx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:254"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:255"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#idx:256"><span class="id" title="variable">idx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:254"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:255"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#cofix_subst"><span class="id" title="definition">cofix_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hmfix</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">hmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span> <span class="id" title="tactic">at</span> 2 4; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [<span class="id" title="var">ha</span> <span class="id" title="var">hm</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHm</span> // <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_unfold_cofix" class="idref" href="#on_free_vars_unfold_cofix"><span class="id" title="lemma">on_free_vars_unfold_cofix</span></a> <a id="P:257" class="idref" href="#P:257"><span class="id" title="binder">P</span></a> <a id="mfix:258" class="idref" href="#mfix:258"><span class="id" title="binder">mfix</span></a> <a id="idx:259" class="idref" href="#idx:259"><span class="id" title="binder">idx</span></a> <a id="narg:260" class="idref" href="#narg:260"><span class="id" title="binder">narg</span></a> <a id="fn:261" class="idref" href="#fn:261"><span class="id" title="binder">fn</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:258"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#idx:259"><span class="id" title="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#narg:260"><span class="id" title="variable">narg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fn:261"><span class="id" title="variable">fn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:257"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:258"><span class="id" title="variable">mfix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#idx:259"><span class="id" title="variable">idx</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:257"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fn:261"><span class="id" title="variable">fn</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#unfold_cofix"><span class="id" title="definition">unfold_cofix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">hnth</span> ⇒ // [=] <span class="id" title="var">_</span> &lt;- /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hmfix</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">hmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a>/(<a class="idref" href="MetaCoq.Utils.All_Forall.html#nth_error_all"><span class="id" title="lemma">nth_error_all</span></a> <span class="id" title="var">hnth</span>) ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] <span class="id" title="var">_</span> <span class="id" title="var">Hbody</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a>; <span class="id" title="var">len</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_cofix_subst"><span class="id" title="lemma">on_free_vars_cofix_subst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">idx</span>) ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lenm_eq" class="idref" href="#lenm_eq"><span class="id" title="lemma">lenm_eq</span></a> {<a id="n:262" class="idref" href="#n:262"><span class="id" title="binder">n</span></a> <a id="m:263" class="idref" href="#m:263"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:262"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:263"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:262"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:263"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addnP_shiftnP_comm" class="idref" href="#addnP_shiftnP_comm"><span class="id" title="lemma">addnP_shiftnP_comm</span></a> <a id="n:264" class="idref" href="#n:264"><span class="id" title="binder">n</span></a> (<a id="P:265" class="idref" href="#P:265"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:265"><span class="id" title="variable">P</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> 1 (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:264"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:265"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:264"><span class="id" title="variable">n</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:265"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p0</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ /= //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#lenm_eq"><span class="id" title="lemma">lenm_eq</span></a> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_concat" class="idref" href="#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a> <a id="P:266" class="idref" href="#P:266"><span class="id" title="binder">P</span></a> <a id="f174c58f184d82c581050ae52fc55293" class="idref" href="#f174c58f184d82c581050ae52fc55293"><span class="id" title="binder">Γ</span></a> <a id="46acb33f95707960828ab3c325ea7f51" class="idref" href="#46acb33f95707960828ab3c325ea7f51"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#46acb33f95707960828ab3c325ea7f51"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:266"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f174c58f184d82c581050ae52fc55293"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#46acb33f95707960828ab3c325ea7f51"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:266"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#f174c58f184d82c581050ae52fc55293"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#46acb33f95707960828ab3c325ea7f51"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:266"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#46acb33f95707960828ab3c325ea7f51"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_shiftn"><span class="id" title="lemma">alli_shiftn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">d</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a>. <span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Δ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_add"><span class="id" title="lemma">addnP_add</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_tip" class="idref" href="#on_ctx_free_vars_tip"><span class="id" title="lemma">on_ctx_free_vars_tip</span></a> <a id="P:269" class="idref" href="#P:269"><span class="id" title="binder">P</span></a> <a id="d:270" class="idref" href="#d:270"><span class="id" title="binder">d</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:269"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:270"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:269"><span class="id" title="variable">P</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:269"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:270"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> /= /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnPS" class="idref" href="#shiftnPS"><span class="id" title="lemma">shiftnPS</span></a> <a id="n:271" class="idref" href="#n:271"><span class="id" title="binder">n</span></a> <a id="P:272" class="idref" href="#P:272"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:271"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:272"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:271"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">nat_compare_specs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="shiftnPSS" class="idref" href="#shiftnPSS"><span class="id" title="lemma">shiftnPSS</span></a> <a id="n:273" class="idref" href="#n:273"><span class="id" title="binder">n</span></a> <a id="i:274" class="idref" href="#i:274"><span class="id" title="binder">i</span></a> <a id="P:275" class="idref" href="#P:275"><span class="id" title="binder">P</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:273"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:275"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:274"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:273"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:275"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:274"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /=. <span class="id" title="var">lia_f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closedP_xpredT" class="idref" href="#closedP_xpredT"><span class="id" title="lemma">closedP_xpredT</span></a> <a id="n:276" class="idref" href="#n:276"><span class="id" title="binder">n</span></a> <a id="i:277" class="idref" href="#i:277"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:276"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:277"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:277"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_on_ctx_free_vars" class="idref" href="#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> {<a id="P:278" class="idref" href="#P:278"><span class="id" title="binder">P</span></a> <a id="d1a1282b755d50bc07dffad75c89a0fd" class="idref" href="#d1a1282b755d50bc07dffad75c89a0fd"><span class="id" title="binder">Γ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">PCUICOnFreeVars.shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d1a1282b755d50bc07dffad75c89a0fd"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:278"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d1a1282b755d50bc07dffad75c89a0fd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:278"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d1a1282b755d50bc07dffad75c89a0fd"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> ⇒ /= //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> /= <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;-(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> 1 <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">andb_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHΓ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_shift"><span class="id" title="lemma">alli_shift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 1) /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_ext"><span class="id" title="lemma">alli_ext</span></a> ⇒ <span class="id" title="var">i</span> <span class="id" title="var">d</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnPSS"><span class="id" title="lemma">shiftnPSS</span></a> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>)) -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_add"><span class="id" title="lemma">addnP_add</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;on_ctx_free_vars_impl&nbsp;{P&nbsp;Q&nbsp;Γ}&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_on_ctx_free_vars_xpredT" class="idref" href="#on_free_vars_ctx_on_ctx_free_vars_xpredT"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_xpredT</span></a> {<a id="P:280" class="idref" href="#P:280"><span class="id" title="binder">P</span></a> <a id="854c33c731e7ba97688106c356af8e81" class="idref" href="#854c33c731e7ba97688106c356af8e81"><span class="id" title="binder">Γ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:280"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#854c33c731e7ba97688106c356af8e81"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#854c33c731e7ba97688106c356af8e81"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">easy</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_extend" class="idref" href="#on_ctx_free_vars_extend"><span class="id" title="lemma">on_ctx_free_vars_extend</span></a> <a id="P:282" class="idref" href="#P:282"><span class="id" title="binder">P</span></a> <a id="1cef8fae65681836677e61bf20b3d80a" class="idref" href="#1cef8fae65681836677e61bf20b3d80a"><span class="id" title="binder">Γ</span></a> <a id="41070f8d093b8e17fcc457e64a77724f" class="idref" href="#41070f8d093b8e17fcc457e64a77724f"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#41070f8d093b8e17fcc457e64a77724f"><span class="id" title="variable">Δ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:282"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#1cef8fae65681836677e61bf20b3d80a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#41070f8d093b8e17fcc457e64a77724f"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:282"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#1cef8fae65681836677e61bf20b3d80a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:282"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#41070f8d093b8e17fcc457e64a77724f"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a> ⇒ //. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_fix_context" class="idref" href="#on_free_vars_fix_context"><span class="id" title="lemma">on_free_vars_fix_context</span></a> <a id="P:285" class="idref" href="#P:285"><span class="id" title="binder">P</span></a> <a id="mfix:286" class="idref" href="#mfix:286"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:287" class="idref" href="#x:287"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:285"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:286"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:285"><span class="id" title="variable">P</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:287"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:286"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:285"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:286"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:289" class="idref" href="#x:289"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <span class="id" title="var">P</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:288"><span class="id" title="variable">x</span></a>.(<a class="idref" href="MetaCoq.Common.BasicAst.html#dtype"><span class="id" title="projection">dtype</span></a>)) <span class="id" title="var">mfix</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">solve_all</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span>⇒ []. } <span class="id" title="tactic">clear</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">mfix</span> <span class="id" title="keyword">using</span> <a class="idref" href="MetaCoq.Utils.MCList.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> /= <a class="idref" href="MetaCoq.Utils.MCList.html#mapi_app"><span class="id" title="lemma">mapi_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">List.rev_app_distr</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> /= <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a>. <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_app"><span class="id" title="lemma">All_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHmfix</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHmfix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHmfix</span> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /= /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift0"><span class="id" title="lemma">on_free_vars_lift0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="test_context_k_on_free_vars_ctx" class="idref" href="#test_context_k_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_on_free_vars_ctx</span></a> <a id="P:290" class="idref" href="#P:290"><span class="id" title="binder">P</span></a> <a id="ctx:291" class="idref" href="#ctx:291"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:292" class="idref" href="#k:292"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:292"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:290"><span class="id" title="variable">P</span></a>)) 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:291"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:290"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:291"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Not&nbsp;necessary&nbsp;for&nbsp;the&nbsp;above&nbsp;lemma,&nbsp;but&nbsp;still&nbsp;useful&nbsp;at&nbsp;some&nbsp;point&nbsp;presumably,<br/>
&nbsp;&nbsp;&nbsp;e.g.&nbsp;for&nbsp;strenghtening&nbsp;*)</span><br/>
<span class="comment">(*<br/>
Lemma&nbsp;on_free_vars_case_predicate_context&nbsp;{cf}&nbsp;{Σ}&nbsp;{wfΣ&nbsp;:&nbsp;wf&nbsp;Σ}&nbsp;{P&nbsp;ci&nbsp;mdecl&nbsp;idecl&nbsp;p}&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;let&nbsp;pctx&nbsp;:=&nbsp;case_predicate_context&nbsp;ci&nbsp;mdecl&nbsp;idecl&nbsp;p&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;declared_inductive&nbsp;Σ&nbsp;ci&nbsp;mdecl&nbsp;idecl&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;wf_predicate&nbsp;mdecl&nbsp;idecl&nbsp;p&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;forallb&nbsp;(on_free_vars&nbsp;P)&nbsp;(pparams&nbsp;p)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;on_free_vars&nbsp;(shiftnP&nbsp;|pcontext p| P) (preturn p) ->
   on_free_vars_ctx P pctx.
 Proof.
   intros pctx decli wfp wfb havp.
   rewrite /pctx /case_predicate_context /case_predicate_context_gen
     /pre_case_predicate_context_gen /ind_predicate_context.
   set (ibinder := {| decl_name := _ |}).
   rewrite -on_free_vars_map2_cstr_args /=; len.
   { eapply (wf_predicate_length_pcontext wfp). }
   rewrite alli_app; len; rewrite andb_true_r.
   apply andb_true_iff. split.
   - rewrite -/(on_free_vars_ctx P _).
     rewrite (on_free_vars_ctx_all_term _ _ Universe.type0).
     rewrite -(subst_it_mkProd_or_LetIn _ _ _ (tSort _)).
     apply on_free_vars_subst.
     { rewrite forallb_rev => //. }
     rewrite -on_free_vars_ctx_all_term.
     rewrite on_free_vars_ctx_subst_instance.
     rewrite (on_free_vars_ctx_all_term _ _ (Universe.type0)).
     rewrite -(expand_lets_it_mkProd_or_LetIn _ _ 0 (tSort _)).
     eapply on_free_vars_expand_lets_k; len.
     * rewrite (wf_predicate_length_pars wfp).
       apply (declared_minductive_ind_npars decli).
     * eapply closed_ctx_on_free_vars.
       apply (declared_inductive_closed_params decli).
     * eapply on_free_vars_impl; cycle 1.
       { rewrite <- on_free_vars_ctx_all_term.
         instantiate (1 := closedP |mdecl.(ind_params)|&nbsp;xpredT).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;closedn_ctx_on_free_vars.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move:&nbsp;(declared_inductive_closed_pars_indices&nbsp;wfΣ&nbsp;decli).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;rewrite&nbsp;closedn_ctx_app&nbsp;=&gt;&nbsp;/andP&nbsp;<span class="inlinecode"></span>.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;i'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;/substP&nbsp;/=&nbsp;/closedP&nbsp;/shiftnP.&nbsp;len.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;repeat&nbsp;nat_compare_specs&nbsp;=&gt;&nbsp;/=&nbsp;//.<br/>
&nbsp;&nbsp;&nbsp;-&nbsp;rewrite&nbsp;/on_free_vars_decl&nbsp;/ibinder&nbsp;/test_decl&nbsp;/=&nbsp;/foroptb&nbsp;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;on_free_vars_mkApps&nbsp;/=&nbsp;forallb_app&nbsp;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;on_free_vars_to_extended_list&nbsp;/=&nbsp;andb_true_r.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;-/(is_true&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;forallb_map.&nbsp;unshelve&nbsp;eapply&nbsp;(forallb_impl&nbsp;_&nbsp;_&nbsp;_&nbsp;_&nbsp;wfb).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.&nbsp;simpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;on_free_vars_lift0.&nbsp;now&nbsp;rewrite&nbsp;addnP_shiftnP.<br/>
&nbsp;Qed.<br/>
<br/>
&nbsp;Lemma&nbsp;on_free_vars_case_branch_context&nbsp;{cf}&nbsp;{Σ}&nbsp;{wfΣ&nbsp;:&nbsp;wf&nbsp;Σ}&nbsp;{P&nbsp;ci&nbsp;i&nbsp;mdecl&nbsp;idecl&nbsp;p&nbsp;br&nbsp;cdecl}&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;let&nbsp;brctx&nbsp;:=&nbsp;case_branch_context&nbsp;ci&nbsp;mdecl&nbsp;p&nbsp;(forget_types&nbsp;(bcontext&nbsp;br))&nbsp;cdecl&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;declared_constructor&nbsp;Σ&nbsp;(ci,&nbsp;i)&nbsp;mdecl&nbsp;idecl&nbsp;cdecl&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;wf_predicate&nbsp;mdecl&nbsp;idecl&nbsp;p&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;wf_branch&nbsp;cdecl&nbsp;br&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;forallb&nbsp;(on_free_vars&nbsp;P)&nbsp;(pparams&nbsp;p)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;on_free_vars_ctx&nbsp;P&nbsp;brctx.<br/>
&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;intros&nbsp;brctx&nbsp;decli&nbsp;wfp&nbsp;wfb&nbsp;havp.<br/>
&nbsp;&nbsp;&nbsp;rewrite&nbsp;/brctx&nbsp;/case_branch_context&nbsp;/case_branch_context_gen.<br/>
&nbsp;&nbsp;&nbsp;rewrite&nbsp;(on_free_vars_ctx_all_term&nbsp;_&nbsp;_&nbsp;Universe.type0).<br/>
&nbsp;&nbsp;&nbsp;rewrite&nbsp;-(subst_it_mkProd_or_LetIn&nbsp;_&nbsp;_&nbsp;_&nbsp;(tSort&nbsp;_)).<br/>
&nbsp;&nbsp;&nbsp;apply&nbsp;on_free_vars_subst&nbsp;=&gt;&nbsp;//.<br/>
&nbsp;&nbsp;&nbsp;{&nbsp;rewrite&nbsp;forallb_rev&nbsp;//.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;rewrite&nbsp;-(expand_lets_it_mkProd_or_LetIn&nbsp;_&nbsp;_&nbsp;0&nbsp;(tSort&nbsp;_)).<br/>
&nbsp;&nbsp;&nbsp;eapply&nbsp;on_free_vars_expand_lets_k;&nbsp;len.<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;rewrite&nbsp;(wf_predicate_length_pars&nbsp;wfp).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;(declared_minductive_ind_npars&nbsp;decli).<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;eapply&nbsp;closed_ctx_on_free_vars.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;closedn_subst_instance_context.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;(declared_inductive_closed_params&nbsp;decli).<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;rewrite&nbsp;-(subst_it_mkProd_or_LetIn&nbsp;_&nbsp;_&nbsp;_&nbsp;(tSort&nbsp;_)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;on_free_vars_impl;&nbsp;cycle&nbsp;1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;eapply&nbsp;(on_free_vars_subst_gen&nbsp;_&nbsp;P).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;eapply&nbsp;on_free_vars_terms_inds.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;-on_free_vars_ctx_all_term.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;on_free_vars_ctx_subst_instance.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;-on_free_vars_map2_cstr_args.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;len.&nbsp;apply&nbsp;(wf_branch_length&nbsp;wfb).&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;(1&nbsp;:=&nbsp;closedP&nbsp;(|mdecl.(ind_bodies)| + |mdecl.(ind_params)|)&nbsp;xpredT).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;closedn_ctx_on_free_vars.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;move/andP:&nbsp;(declared_constructor_closed&nbsp;wfΣ&nbsp;decli)&nbsp;=&gt;&nbsp;<span class="inlinecode"></span>&nbsp;/andP&nbsp;<span class="inlinecode"></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;intros&nbsp;i'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;/substP&nbsp;/=&nbsp;/closedP&nbsp;/shiftnP.&nbsp;len.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;repeat&nbsp;nat_compare_specs&nbsp;=&gt;&nbsp;/=&nbsp;//.<br/>
&nbsp;Qed.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_inst_case_context" class="idref" href="#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a> <a id="P:293" class="idref" href="#P:293"><span class="id" title="binder">P</span></a> <a id="n:294" class="idref" href="#n:294"><span class="id" title="binder">n</span></a> <a id="pars:295" class="idref" href="#pars:295"><span class="id" title="binder">pars</span></a> <a id="puinst:296" class="idref" href="#puinst:296"><span class="id" title="binder">puinst</span></a> <a id="ctx:297" class="idref" href="#ctx:297"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:294"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:295"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:293"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:295"><span class="id" title="variable">pars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:298" class="idref" href="#k:298"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:298"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:294"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:297"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:293"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:295"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#puinst:296"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:297"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hpars</span> <span class="id" title="var">hn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_all_term"><span class="id" title="lemma">on_free_vars_ctx_all_term</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.type0"><span class="id" title="definition">Universe.type0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_it_mkProd_or_LetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst"><span class="id" title="lemma">on_free_vars_subst</span></a> ⇒ //.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_all_term"><span class="id" title="lemma">on_free_vars_ctx_all_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_instance"><span class="id" title="lemma">on_free_vars_ctx_subst_instance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_impl"><span class="id" title="lemma">alli_impl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl_impl"><span class="id" title="lemma">test_decl_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_shiftnP_impl"><span class="id" title="lemma">closedP_shiftnP_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_snoc" class="idref" href="#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a> {<a id="P:299" class="idref" href="#P:299"><span class="id" title="binder">P</span></a> <a id="b101aa25c534ed367c9f95beb30141b5" class="idref" href="#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="binder">Γ</span></a> <a id="d:301" class="idref" href="#d:301"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:299"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:301"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:299"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b101aa25c534ed367c9f95beb30141b5"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:299"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:301"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_tip"><span class="id" title="lemma">on_ctx_free_vars_tip</span></a> {1}/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="test_context_k_closed_on_free_vars_ctx" class="idref" href="#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> <a id="k:302" class="idref" href="#k:302"><span class="id" title="binder">k</span></a> <a id="ctx:303" class="idref" href="#ctx:303"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:304" class="idref" href="#k:304"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:304"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:302"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:303"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:302"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:303"><span class="id" title="variable">ctx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#test_context_k_eq"><span class="id" title="lemma">test_context_k_eq</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_closedP"><span class="id" title="lemma">shiftnP_closedP</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="tactic">at</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="inv_on_free_vars_decl" class="idref" href="#inv_on_free_vars_decl"><span class="id" title="lemma">inv_on_free_vars_decl</span></a> {<a id="P:305" class="idref" href="#P:305"><span class="id" title="binder">P</span></a> <a id="d:306" class="idref" href="#d:306"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:305"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:306"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:306"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| {| <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <span class="id" title="var">t</span> |} ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:305"><span class="id" title="variable">P</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;| {| <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_body"><span class="id" title="projection">decl_body</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span>; <a class="idref" href="MetaCoq.Common.BasicAst.html#decl_type"><span class="id" title="projection">decl_type</span></a> := <span class="id" title="var">t</span> |} ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:305"><span class="id" title="variable">P</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:305"><span class="id" title="variable">P</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a>, <a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] //. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl_body</span>; <span class="id" title="var">cbn</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_on_free_vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#inv_on_free_vars_decl"><span class="id" title="lemma">inv_on_free_vars_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#inv_on_free_vars_decl"><span class="id" title="lemma">inv_on_free_vars_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> []<br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="var">andP</span>: <span class="id" title="var">H</span> ⇒ []; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> ?<span class="id" title="var">P</span> ?<span class="id" title="var">t</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">progress</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_mkApps"><span class="id" title="lemma">on_free_vars_mkApps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">move</span>/<span class="id" title="var">and5P</span>: <span class="id" title="var">H</span> ⇒ [] || <span class="id" title="tactic">move</span>/<span class="id" title="var">and4P</span>: <span class="id" title="var">H</span> ⇒ [] || <span class="id" title="tactic">move</span>/<span class="id" title="var">and3P</span>: <span class="id" title="var">H</span> ⇒ [] || <span class="id" title="tactic">move</span>/<span class="id" title="var">andP</span>: <span class="id" title="var">H</span> ⇒ [] ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#forallb_All"><span class="id" title="lemma">forallb_All</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> ?<span class="id" title="var">P</span>) ?<span class="id" title="var">Q</span> ?<span class="id" title="var">x</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="var">andP</span>: <span class="id" title="var">H</span> ⇒ []; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="byfvs" class="idref" href="#byfvs"><span class="id" title="abbreviation">byfvs</span></a> := (<span class="id" title="keyword">ltac</span>:(<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>)) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_vass" class="idref" href="#on_free_vars_vass"><span class="id" title="lemma">on_free_vars_vass</span></a> {<a id="P:308" class="idref" href="#P:308"><span class="id" title="binder">P</span></a> <a id="na:309" class="idref" href="#na:309"><span class="id" title="binder">na</span></a> <a id="t:310" class="idref" href="#t:310"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:308"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:310"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:308"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:309"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:310"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_vdef" class="idref" href="#on_free_vars_vdef"><span class="id" title="lemma">on_free_vars_vdef</span></a> {<a id="P:311" class="idref" href="#P:311"><span class="id" title="binder">P</span></a> <a id="na:312" class="idref" href="#na:312"><span class="id" title="binder">na</span></a> <a id="b:313" class="idref" href="#b:313"><span class="id" title="binder">b</span></a> <a id="t:314" class="idref" href="#t:314"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:311"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b:313"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:311"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:314"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:311"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:312"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b:313"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:314"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /= /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=. <span class="id" title="var">rtoProp</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_free_vars_vass</span> <span class="id" title="var">on_free_vars_vdef</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="onctx_All_fold" class="idref" href="#onctx_All_fold"><span class="id" title="lemma">onctx_All_fold</span></a> <a id="P:315" class="idref" href="#P:315"><span class="id" title="binder">P</span></a> <a id="Q:316" class="idref" href="#Q:316"><span class="id" title="binder">Q</span></a> (<a id="b2a4b07ea8860670c7bc3f5c1f1e84b7" class="idref" href="#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#onctx"><span class="id" title="abbreviation">onctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:315"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="410316a375a88c43022c5d65981d0378" class="idref" href="#410316a375a88c43022c5d65981d0378"><span class="id" title="binder">Γ</span></a> <a id="x:319" class="idref" href="#x:319"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold"><span class="id" title="inductive">All_fold</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#Q:316"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#ondecl"><span class="id" title="definition">ondecl</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:315"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:319"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#Q:316"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#410316a375a88c43022c5d65981d0378"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:319"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold"><span class="id" title="inductive">All_fold</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#Q:316"><span class="id" title="variable">Q</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b2a4b07ea8860670c7bc3f5c1f1e84b7"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">o</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="substP_shiftnP_gen" class="idref" href="#substP_shiftnP_gen"><span class="id" title="lemma">substP_shiftnP_gen</span></a> <a id="k:320" class="idref" href="#k:320"><span class="id" title="binder">k</span></a> <a id="n:321" class="idref" href="#n:321"><span class="id" title="binder">n</span></a> <a id="p:322" class="idref" href="#p:322"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:320"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:321"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:322"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:320"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:321"><span class="id" title="variable">n</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:322"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.Utils.MCPrelude.html#65e39e13a0e7811abaf3f6b8fa112fed"><span class="id" title="notation">=1</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:320"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:322"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP"><span class="id" title="definition">substP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#orb_diag"><span class="id" title="lemma">orb_diag</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_subst_context" class="idref" href="#on_free_vars_ctx_subst_context"><span class="id" title="lemma">on_free_vars_ctx_subst_context</span></a> <a id="P:323" class="idref" href="#P:323"><span class="id" title="binder">P</span></a> <a id="s:324" class="idref" href="#s:324"><span class="id" title="binder">s</span></a> <a id="k:325" class="idref" href="#k:325"><span class="id" title="binder">k</span></a> <a id="ctx:326" class="idref" href="#ctx:326"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:325"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:324"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:323"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:326"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:323"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:324"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:325"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:323"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:324"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:325"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:326"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onctx</span> <span class="id" title="var">ons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_all_term"><span class="id" title="lemma">on_free_vars_ctx_all_term</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.type0"><span class="id" title="definition">Universe.type0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#subst_it_mkProd_or_LetIn"><span class="id" title="lemma">subst_it_mkProd_or_LetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_subst_gen"><span class="id" title="lemma">on_free_vars_subst_gen</span></a> ⇒ //; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_all_term"><span class="id" title="lemma">on_free_vars_ctx_all_term</span></a> //. <span class="id" title="tactic">exact</span> <span class="id" title="var">onctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#substP_shiftnP_gen"><span class="id" title="lemma">substP_shiftnP_gen</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_subst_context0" class="idref" href="#on_free_vars_ctx_subst_context0"><span class="id" title="lemma">on_free_vars_ctx_subst_context0</span></a> <a id="P:327" class="idref" href="#P:327"><span class="id" title="binder">P</span></a> <a id="s:328" class="idref" href="#s:328"><span class="id" title="binder">s</span></a> <a id="ctx:329" class="idref" href="#ctx:329"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:328"><span class="id" title="variable">s</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:327"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:329"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:327"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:328"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:327"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:328"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:329"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onctx</span> <span class="id" title="var">ons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a> <span class="id" title="var">P</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_context"><span class="id" title="lemma">on_free_vars_ctx_subst_context</span></a> ⇒ /= //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_lift_context" class="idref" href="#on_free_vars_ctx_lift_context"><span class="id" title="lemma">on_free_vars_ctx_lift_context</span></a> <a id="p:330" class="idref" href="#p:330"><span class="id" title="binder">p</span></a> <a id="k:331" class="idref" href="#k:331"><span class="id" title="binder">k</span></a> <a id="n:332" class="idref" href="#n:332"><span class="id" title="binder">n</span></a> <a id="ctx:333" class="idref" href="#ctx:333"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:330"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:333"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:331"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:332"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:330"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:332"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:331"><span class="id" title="variable">k</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:333"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_all_term"><span class="id" title="lemma">on_free_vars_ctx_all_term</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Common.Universes.html#Universe.type0"><span class="id" title="definition">Universe.type0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICLiftSubst.html#lift_it_mkProd_or_LetIn"><span class="id" title="lemma">lift_it_mkProd_or_LetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_lift"><span class="id" title="lemma">on_free_vars_lift</span></a> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_lift_context0" class="idref" href="#on_free_vars_ctx_lift_context0"><span class="id" title="lemma">on_free_vars_ctx_lift_context0</span></a> <a id="p:334" class="idref" href="#p:334"><span class="id" title="binder">p</span></a> <a id="n:335" class="idref" href="#n:335"><span class="id" title="binder">n</span></a> <a id="ctx:336" class="idref" href="#ctx:336"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:335"><span class="id" title="variable">n</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:334"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:336"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:334"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#n:335"><span class="id" title="variable">n</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:336"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_lift_context"><span class="id" title="lemma">on_free_vars_ctx_lift_context</span></a> <span class="id" title="var">_</span> 0 <span class="id" title="var">n</span>) ⇒ <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#strengthenP"><span class="id" title="definition">strengthenP</span></a> /= /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP"><span class="id" title="definition">addnP</span></a> ⇒ <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">nat_compare_specs</span> ⇒ // /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_snoc" class="idref" href="#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> {<a id="P:337" class="idref" href="#P:337"><span class="id" title="binder">P</span></a> <a id="3d29090e089084c9012cf931107a397a" class="idref" href="#3d29090e089084c9012cf931107a397a"><span class="id" title="binder">Γ</span></a> <a id="d:339" class="idref" href="#d:339"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:337"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#3d29090e089084c9012cf931107a397a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:339"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:337"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#3d29090e089084c9012cf931107a397a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#3d29090e089084c9012cf931107a397a"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:337"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:339"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> - !<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#snoc"><span class="id" title="definition">snoc</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> 1) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) /=. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_tip"><span class="id" title="lemma">on_ctx_free_vars_tip</span></a> {1 2}/<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#addnP_shiftnP"><span class="id" title="lemma">addnP_shiftnP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_snoc_impl" class="idref" href="#on_free_vars_ctx_snoc_impl"><span class="id" title="lemma">on_free_vars_ctx_snoc_impl</span></a> {<a id="P:340" class="idref" href="#P:340"><span class="id" title="binder">P</span></a> <a id="ffb18a72f25d3c5701a2687258c75b54" class="idref" href="#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="binder">Γ</span></a> <a id="d:342" class="idref" href="#d:342"><span class="id" title="binder">d</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:340"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:342"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:340"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ffb18a72f25d3c5701a2687258c75b54"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:340"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:342"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_smash" class="idref" href="#on_free_vars_ctx_smash"><span class="id" title="lemma">on_free_vars_ctx_smash</span></a> <a id="P:343" class="idref" href="#P:343"><span class="id" title="binder">P</span></a> <a id="a9ed3f62f59098fa7a7be0d7917e1e15" class="idref" href="#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="binder">Γ</span></a> <a id="acc:345" class="idref" href="#acc:345"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:343"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:343"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#acc:345"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:343"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.smash_context"><span class="id" title="definition">smash_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#acc:345"><span class="id" title="variable">acc</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#a9ed3f62f59098fa7a7be0d7917e1e15"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">P</span>, <span class="id" title="var">acc</span> |- ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP0"><span class="id" title="lemma">shiftnP0</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> /= ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">onΓ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /= /= ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">onb</span> <span class="id" title="var">onty</span> <span class="id" title="var">onacc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_context0"><span class="id" title="lemma">on_free_vars_ctx_subst_context0</span></a> ⇒ /= //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">onb</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> /= ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">onΓ</span> <span class="id" title="var">ont</span> <span class="id" title="var">onacc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> /=; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> <span class="id" title="var">onacc</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> /= <span class="id" title="var">ont</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_subst_context_xpredT" class="idref" href="#on_free_vars_ctx_subst_context_xpredT"><span class="id" title="lemma">on_free_vars_ctx_subst_context_xpredT</span></a> <a id="s:346" class="idref" href="#s:346"><span class="id" title="binder">s</span></a> <a id="ctx:347" class="idref" href="#ctx:347"><span class="id" title="binder">ctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:347"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:346"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.subst_context"><span class="id" title="definition">subst_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:346"><span class="id" title="variable">s</span></a> 0 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ctx:347"><span class="id" title="variable">ctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onctx</span> <span class="id" title="var">ons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_subst_context0"><span class="id" title="lemma">on_free_vars_ctx_subst_context0</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_xpredT"><span class="id" title="lemma">shiftnP_xpredT</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_All_fold" class="idref" href="#on_free_vars_ctx_All_fold"><span class="id" title="lemma">on_free_vars_ctx_All_fold</span></a> <a id="P:348" class="idref" href="#P:348"><span class="id" title="binder">P</span></a> <a id="1e7b460b73acc0d8bf64589fdfb6d1cf" class="idref" href="#1e7b460b73acc0d8bf64589fdfb6d1cf"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:348"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#1e7b460b73acc0d8bf64589fdfb6d1cf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Utils.MCRelations.html#e8aac4a093c83da9a780e8c256235d19"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold"><span class="id" title="inductive">All_fold</span></a> (<span class="id" title="keyword">fun</span> <a id="403814e71d2c772816b44e6e99ce2772" class="idref" href="#403814e71d2c772816b44e6e99ce2772"><span class="id" title="binder">Γ</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#403814e71d2c772816b44e6e99ce2772"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:348"><span class="id" title="variable">P</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#1e7b460b73acc0d8bf64589fdfb6d1cf"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>/<a class="idref" href="MetaCoq.Utils.All_Forall.html#Alli_rev_All_fold"><span class="id" title="lemma">Alli_rev_All_fold</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold_Alli_rev"><span class="id" title="lemma">All_fold_Alli_rev</span></a> (<span class="id" title="keyword">fun</span> <a id="k:352" class="idref" href="#k:352"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:351"><span class="id" title="variable">k</span></a> <span class="id" title="var">P</span>)) 0) <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_Alli"><span class="id" title="lemma">alli_Alli</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_on_free_vars_ind" class="idref" href="#term_on_free_vars_ind"><span class="id" title="lemma">term_on_free_vars_ind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="P:353" class="idref" href="#P:353"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="p:354" class="idref" href="#p:354"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="i:355" class="idref" href="#i:355"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:354"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:355"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:354"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tRel"><span class="id" title="constructor">tRel</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:355"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:356" class="idref" href="#p:356"><span class="id" title="binder">p</span></a> (<a id="i:357" class="idref" href="#i:357"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#ident"><span class="id" title="definition">ident</span></a>), <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:356"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tVar"><span class="id" title="constructor">tVar</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:357"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:358" class="idref" href="#p:358"><span class="id" title="binder">p</span></a> (<a id="id:359" class="idref" href="#id:359"><span class="id" title="binder">id</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:360" class="idref" href="#l:360"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:358"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#l:360"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:358"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#l:360"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:358"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#id:359"><span class="id" title="variable">id</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#l:360"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:361" class="idref" href="#p:361"><span class="id" title="binder">p</span></a> <a id="s:362" class="idref" href="#s:362"><span class="id" title="binder">s</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:361"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:362"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:363" class="idref" href="#p:363"><span class="id" title="binder">p</span></a> (<a id="na:364" class="idref" href="#na:364"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="t:365" class="idref" href="#t:365"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="dom:366" class="idref" href="#dom:366"><span class="id" title="binder">dom</span></a> <a id="codom:367" class="idref" href="#codom:367"><span class="id" title="binder">codom</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:363"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#dom:366"><span class="id" title="variable">dom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:363"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#dom:366"><span class="id" title="variable">dom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:363"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#codom:367"><span class="id" title="variable">codom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:363"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#codom:367"><span class="id" title="variable">codom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:363"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:364"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#dom:366"><span class="id" title="variable">dom</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#codom:367"><span class="id" title="variable">codom</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:368" class="idref" href="#p:368"><span class="id" title="binder">p</span></a> (<a id="na:369" class="idref" href="#na:369"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="ty:370" class="idref" href="#ty:370"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="body:371" class="idref" href="#body:371"><span class="id" title="binder">body</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:368"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:370"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:368"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:370"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:368"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#body:371"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:368"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#body:371"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:368"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:369"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:370"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#body:371"><span class="id" title="variable">body</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:372" class="idref" href="#p:372"><span class="id" title="binder">p</span></a> (<a id="na:373" class="idref" href="#na:373"><span class="id" title="binder">na</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#aname"><span class="id" title="definition">aname</span></a>) (<a id="def:374" class="idref" href="#def:374"><span class="id" title="binder">def</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="ty:375" class="idref" href="#ty:375"><span class="id" title="binder">ty</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="body:376" class="idref" href="#body:376"><span class="id" title="binder">body</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#def:374"><span class="id" title="variable">def</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#def:374"><span class="id" title="variable">def</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:375"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:375"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#body:376"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#body:376"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:372"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:373"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#def:374"><span class="id" title="variable">def</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:375"><span class="id" title="variable">ty</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#body:376"><span class="id" title="variable">body</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:377" class="idref" href="#p:377"><span class="id" title="binder">p</span></a> (<a id="t:378" class="idref" href="#t:378"><span class="id" title="binder">t</span></a> <a id="u:379" class="idref" href="#u:379"><span class="id" title="binder">u</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:377"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:378"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:377"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:378"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:377"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:379"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:377"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:379"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:377"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tApp"><span class="id" title="constructor">tApp</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:378"><span class="id" title="variable">t</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:379"><span class="id" title="variable">u</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:380" class="idref" href="#p:380"><span class="id" title="binder">p</span></a> <a id="s:381" class="idref" href="#s:381"><span class="id" title="binder">s</span></a> (<a id="u:382" class="idref" href="#u:382"><span class="id" title="binder">u</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a>), <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:380"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConst"><span class="id" title="constructor">tConst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:381"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:382"><span class="id" title="variable">u</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:383" class="idref" href="#p:383"><span class="id" title="binder">p</span></a> (<a id="i:384" class="idref" href="#i:384"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) (<a id="u:385" class="idref" href="#u:385"><span class="id" title="binder">u</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a>), <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:383"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:384"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:385"><span class="id" title="variable">u</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:386" class="idref" href="#p:386"><span class="id" title="binder">p</span></a> (<a id="i:387" class="idref" href="#i:387"><span class="id" title="binder">i</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#inductive"><span class="id" title="record">inductive</span></a>) (<a id="c:388" class="idref" href="#c:388"><span class="id" title="binder">c</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="u:389" class="idref" href="#u:389"><span class="id" title="binder">u</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MetaCoq.Common.Universes.html#Level.t"><span class="id" title="definition">Level.t</span></a>), <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:386"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:387"><span class="id" title="variable">i</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#c:388"><span class="id" title="variable">c</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#u:389"><span class="id" title="variable">u</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:390" class="idref" href="#p:390"><span class="id" title="binder">p</span></a> (<a id="ci:391" class="idref" href="#ci:391"><span class="id" title="binder">ci</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#case_info"><span class="id" title="record">case_info</span></a>) (<a id="pred:392" class="idref" href="#pred:392"><span class="id" title="binder">pred</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#predicate"><span class="id" title="record">predicate</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) <a id="discr:393" class="idref" href="#discr:393"><span class="id" title="binder">discr</span></a> <a id="brs:394" class="idref" href="#brs:394"><span class="id" title="binder">brs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold"><span class="id" title="inductive">All_fold</span></a> (<span class="id" title="keyword">fun</span> <a id="83a7ee069cfd1cd5b13e0da2fd30a0c4" class="idref" href="#83a7ee069cfd1cd5b13e0da2fd30a0c4"><span class="id" title="binder">Γ</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#ondecl"><span class="id" title="definition">ondecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#83a7ee069cfd1cd5b13e0da2fd30a0c4"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#preturn"><span class="id" title="projection">preturn</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#discr:393"><span class="id" title="variable">discr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#discr:393"><span class="id" title="variable">discr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="br:396" class="idref" href="#br:396"><span class="id" title="binder">br</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.MCProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">[×</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:396"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All_fold"><span class="id" title="inductive">All_fold</span></a> (<span class="id" title="keyword">fun</span> <a id="8c1cff6eee92851f7552765e854eba84" class="idref" href="#8c1cff6eee92851f7552765e854eba84"><span class="id" title="binder">Γ</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#ondecl"><span class="id" title="definition">ondecl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#8c1cff6eee92851f7552765e854eba84"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:396"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:396"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:396"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>) <a class="idref" href="MetaCoq.Utils.MCProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:396"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a>)<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#br:396"><span class="id" title="variable">br</span></a>.(<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bbody"><span class="id" title="projection">bbody</span></a>)<a class="idref" href="MetaCoq.Utils.MCProd.html#e1d373c00c5388a2c7aaca322473d464"><span class="id" title="notation">]</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#brs:394"><span class="id" title="variable">brs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:390"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ci:391"><span class="id" title="variable">ci</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pred:392"><span class="id" title="variable">pred</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#discr:393"><span class="id" title="variable">discr</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#brs:394"><span class="id" title="variable">brs</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:398" class="idref" href="#p:398"><span class="id" title="binder">p</span></a> (<a id="s:399" class="idref" href="#s:399"><span class="id" title="binder">s</span></a> : <a class="idref" href="MetaCoq.Common.Kernames.html#projection"><span class="id" title="record">projection</span></a>) (<a id="t:400" class="idref" href="#t:400"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:398"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:400"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:398"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:400"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:398"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:399"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:400"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:401" class="idref" href="#p:401"><span class="id" title="binder">p</span></a> (<a id="m:402" class="idref" href="#m:402"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="i:403" class="idref" href="#i:403"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">tFixProp</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:401"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:402"><span class="id" title="variable">m</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:401"><span class="id" title="variable">p</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:402"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">tFixProp</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:401"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:402"><span class="id" title="variable">m</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:401"><span class="id" title="variable">p</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:402"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:401"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:402"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:403"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:404" class="idref" href="#p:404"><span class="id" title="binder">p</span></a> (<a id="m:405" class="idref" href="#m:405"><span class="id" title="binder">m</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>) (<a id="i:406" class="idref" href="#i:406"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">tFixProp</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:404"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:405"><span class="id" title="variable">m</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:404"><span class="id" title="variable">p</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:405"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#tFixProp"><span class="id" title="definition">tFixProp</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:404"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:405"><span class="id" title="variable">m</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:404"><span class="id" title="variable">p</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:405"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:404"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#m:405"><span class="id" title="variable">m</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#i:406"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:407" class="idref" href="#p:407"><span class="id" title="binder">p</span></a> <a id="pr:408" class="idref" href="#pr:408"><span class="id" title="binder">pr</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:407"><span class="id" title="variable">p</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#tPrim"><span class="id" title="constructor">tPrim</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pr:408"><span class="id" title="variable">pr</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:409" class="idref" href="#p:409"><span class="id" title="binder">p</span></a> (<a id="t:410" class="idref" href="#t:410"><span class="id" title="binder">t</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a>), <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:409"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:410"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:353"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#p:409"><span class="id" title="variable">p</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:410"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">t</span>. <span class="id" title="var">revert</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxt</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">auxt</span> <span class="id" title="tactic">at</span> <span class="id" title="var">top</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">clt</span>;  <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">clt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clt</span> ⇒ [<span class="id" title="var">cl1</span> <span class="id" title="var">cl2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl2</span> ⇒ [<span class="id" title="var">cl2</span> <span class="id" title="var">cl3</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl3</span> ⇒ [<span class="id" title="var">cl3</span> <span class="id" title="var">cl4</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">cl4</span> ⇒ [<span class="id" title="var">cl4</span> <span class="id" title="var">cl5</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span>[<span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span>; <span class="id" title="tactic">auto</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">inv_on_free_vars</span>; <span class="id" title="var">tas</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">clt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxl'</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">constructor</span>; [|<span class="id" title="tactic">apply</span> <span class="id" title="var">auxl'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">clt</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clt</span>  ⇒ [<span class="id" title="var">clt</span> <span class="id" title="var">cll</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clt</span> ⇒ [<span class="id" title="var">clt</span> <span class="id" title="var">cll</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">solve_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">cl1</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pparams"><span class="id" title="projection">pparams</span></a> <span class="id" title="var">p0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxl'</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> ⇒ [|<span class="id" title="var">t'</span> <span class="id" title="var">ts</span>] /= //; <span class="id" title="var">cbn</span> ⇒ /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">Ht'</span> <span class="id" title="var">Hts</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">auxl'</span>] ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">cl3</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">auxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#pcontext"><span class="id" title="projection">pcontext</span></a> <span class="id" title="var">p0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxl</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] <span class="id" title="var">cll</span> <span class="id" title="var">clc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">auxl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span> || <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clc</span> ⇒ []. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clc</span> ⇒ []. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">clc</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">cl5</span> <span class="id" title="var">into</span> <span class="id" title="var">cl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">brs</span> <span class="id" title="var">cl</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">auxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxl'</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">brs</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">clctx</span> <span class="id" title="var">clb</span>] <span class="id" title="var">cll</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">tas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#test_context_k_closed_on_free_vars_ctx"><span class="id" title="lemma">test_context_k_closed_on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: <span class="id" title="var">clctx</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">auxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#bcontext"><span class="id" title="projection">bcontext</span></a> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxl</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] <span class="id" title="var">cll</span> <span class="id" title="var">clc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">auxl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">na</span> [<span class="id" title="var">b'</span>|] <span class="id" title="var">ty</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span> || <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clc</span> ⇒ []. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">clc</span> ⇒ []. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">clc</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">auxl'</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="var">len</span>; <span class="id" title="var">solve_all</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span>⇒ [].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">clt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">mfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxm</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mfix</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">clb</span> <span class="id" title="var">clty</span> <span class="id" title="var">clmfix</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">auxm</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="var">len</span>; <span class="id" title="var">solve_all</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">H</span>⇒ [].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#fix_context_length"><span class="id" title="lemma">fix_context_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">clt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">mfix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">auxm</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mfix</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">n</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] /<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[] <span class="id" title="var">clb</span> <span class="id" title="var">clty</span> <span class="id" title="var">clmfix</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">apply</span> <span class="id" title="var">auxt</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">auxm</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="alpha_eq_on_free_vars" class="idref" href="#alpha_eq_on_free_vars"><span class="id" title="lemma">alpha_eq_on_free_vars</span></a> <a id="P:411" class="idref" href="#P:411"><span class="id" title="binder">P</span></a> (<a id="41c789a52d9c478f5a3682457d9bf047" class="idref" href="#41c789a52d9c478f5a3682457d9bf047"><span class="id" title="binder">Γ</span></a> <a id="4cc3298772d7450076a86a5267ad0df3" class="idref" href="#4cc3298772d7450076a86a5267ad0df3"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.context"><span class="id" title="definition">context</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2"><span class="id" title="inductive">All2</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICEquality.html#compare_decls"><span class="id" title="inductive">PCUICEquality.compare_decls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#41c789a52d9c478f5a3682457d9bf047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#4cc3298772d7450076a86a5267ad0df3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:411"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#41c789a52d9c478f5a3682457d9bf047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:411"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#4cc3298772d7450076a86a5267ad0df3"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a> /= !<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> ⇒ [] <span class="id" title="var">IH</span> <span class="id" title="var">hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHX</span> <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">PCUICOnFreeVars.on_free_vars_ctx</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHX</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">len</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hx</span>. <span class="id" title="var">len</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.Utils.All_Forall.html#All2_length"><span class="id" title="lemma">All2_length</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_any_xpredT" class="idref" href="#on_free_vars_ctx_any_xpredT"><span class="id" title="lemma">on_free_vars_ctx_any_xpredT</span></a> <a id="P:414" class="idref" href="#P:414"><span class="id" title="binder">P</span></a> <a id="349eb8d6f3af3fdde1936a5012b44105" class="idref" href="#349eb8d6f3af3fdde1936a5012b44105"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:414"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#349eb8d6f3af3fdde1936a5012b44105"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#349eb8d6f3af3fdde1936a5012b44105"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_impl"><span class="id" title="lemma">on_free_vars_ctx_impl</span></a>; <span class="id" title="var">tea</span> ⇒ //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_on_ctx_free_vars_closedP" class="idref" href="#on_free_vars_ctx_on_ctx_free_vars_closedP"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_closedP</span></a> <a id="fea13b50e1f3ce2f3068ec4e64a4f586" class="idref" href="#fea13b50e1f3ce2f3068ec4e64a4f586"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fea13b50e1f3ce2f3068ec4e64a4f586"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fea13b50e1f3ce2f3068ec4e64a4f586"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#fea13b50e1f3ce2f3068ec4e64a4f586"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP_shiftnP"><span class="id" title="lemma">closedP_shiftnP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_on_ctx_free_vars_closedP_impl" class="idref" href="#on_free_vars_ctx_on_ctx_free_vars_closedP_impl"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_closedP_impl</span></a> <a id="b83bc512186e352967f68bcc26ff41bc" class="idref" href="#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="binder">Γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b83bc512186e352967f68bcc26ff41bc"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars_closedP"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars_closedP</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_app" class="idref" href="#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <a id="P:418" class="idref" href="#P:418"><span class="id" title="binder">P</span></a> <a id="182081a3d26401167eb6aef97e63e86e" class="idref" href="#182081a3d26401167eb6aef97e63e86e"><span class="id" title="binder">Γ</span></a> <a id="33854b311b33d1b46913320e327a411b" class="idref" href="#33854b311b33d1b46913320e327a411b"><span class="id" title="binder">Δ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:418"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#33854b311b33d1b46913320e327a411b"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:418"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#182081a3d26401167eb6aef97e63e86e"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:418"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#33854b311b33d1b46913320e327a411b"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">List.rev_app_distr</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_app"><span class="id" title="lemma">alli_app</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">List.rev_length</span></a> <a class="idref" href="MetaCoq.Utils.All_Forall.html#alli_shift"><span class="id" title="lemma">alli_shift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 4 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">_</span>))) ⇒<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_snoc_ass" class="idref" href="#on_ctx_free_vars_snoc_ass"><span class="id" title="lemma">on_ctx_free_vars_snoc_ass</span></a> <a id="P:421" class="idref" href="#P:421"><span class="id" title="binder">P</span></a> <a id="59a6192ae6fe352be9688ffb61fbe5b1" class="idref" href="#59a6192ae6fe352be9688ffb61fbe5b1"><span class="id" title="binder">Γ</span></a> <a id="na:423" class="idref" href="#na:423"><span class="id" title="binder">na</span></a> <a id="ty:424" class="idref" href="#ty:424"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:421"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#59a6192ae6fe352be9688ffb61fbe5b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:421"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:424"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">PCUICOnFreeVars.shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:421"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#59a6192ae6fe352be9688ffb61fbe5b1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:423"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:424"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a> ⇒ → /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_snoc_def" class="idref" href="#on_ctx_free_vars_snoc_def"><span class="id" title="lemma">on_ctx_free_vars_snoc_def</span></a> <a id="P:425" class="idref" href="#P:425"><span class="id" title="binder">P</span></a> <a id="a4b661e9d60c12a0d7a01f2b873beba0" class="idref" href="#a4b661e9d60c12a0d7a01f2b873beba0"><span class="id" title="binder">Γ</span></a> <a id="na:427" class="idref" href="#na:427"><span class="id" title="binder">na</span></a> <a id="def:428" class="idref" href="#def:428"><span class="id" title="binder">def</span></a> <a id="ty:429" class="idref" href="#ty:429"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:425"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#a4b661e9d60c12a0d7a01f2b873beba0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:425"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:429"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:425"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#def:428"><span class="id" title="variable">def</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">PCUICOnFreeVars.shiftnP</span></a> 1 <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:425"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#a4b661e9d60c12a0d7a01f2b873beba0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:427"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#def:428"><span class="id" title="variable">def</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#ty:429"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a> ⇒ → /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> /<a class="idref" href="MetaCoq.Common.BasicAst.html#test_decl"><span class="id" title="definition">test_decl</span></a> /= ⇒ → →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_ctx_free_vars_snoc_def</span> <span class="id" title="var">on_ctx_free_vars_snoc_ass</span> : <span class="id" title="var">pcuic</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_snocS" class="idref" href="#on_ctx_free_vars_snocS"><span class="id" title="lemma">on_ctx_free_vars_snocS</span></a> <a id="P:430" class="idref" href="#P:430"><span class="id" title="binder">P</span></a> <a id="e69d8f8eaf7c6fbb1d30e7c3add60dcf" class="idref" href="#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="binder">Γ</span></a> <a id="d:432" class="idref" href="#d:432"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">PCUICOnFreeVars.shiftnP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:430"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:432"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">PCUICOnFreeVars.shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:430"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_decl"><span class="id" title="definition">on_free_vars_decl</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">PCUICOnFreeVars.shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#e69d8f8eaf7c6fbb1d30e7c3add60dcf"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:430"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#d:432"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a> 1).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_snoc"><span class="id" title="lemma">on_ctx_free_vars_snoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_inst_case_context" class="idref" href="#on_ctx_free_vars_inst_case_context"><span class="id" title="lemma">on_ctx_free_vars_inst_case_context</span></a> <a id="P:433" class="idref" href="#P:433"><span class="id" title="binder">P</span></a> <a id="9222df8a7b8c6f516746a41ebac1d389" class="idref" href="#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="binder">Γ</span></a> <a id="pars:435" class="idref" href="#pars:435"><span class="id" title="binder">pars</span></a> <a id="puinst:436" class="idref" href="#puinst:436"><span class="id" title="binder">puinst</span></a> <a id="pctx:437" class="idref" href="#pctx:437"><span class="id" title="binder">pctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:433"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:435"><span class="id" title="variable">pars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:438" class="idref" href="#k:438"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:438"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:435"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pctx:437"><span class="id" title="variable">pctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:433"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pctx:437"><span class="id" title="variable">pctx</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:433"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#9222df8a7b8c6f516746a41ebac1d389"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:435"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#puinst:436"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pctx:437"><span class="id" title="variable">pctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">relativize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">pctx</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; [<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a>|]; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a>; <span class="id" title="var">trea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_ctx_free_vars_inst_case_context</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_inst_case_context_weak" class="idref" href="#on_free_vars_ctx_inst_case_context_weak"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context_weak</span></a> <a id="P:439" class="idref" href="#P:439"><span class="id" title="binder">P</span></a> <a id="650d88eec4660b2d051875320bc577cb" class="idref" href="#650d88eec4660b2d051875320bc577cb"><span class="id" title="binder">Γ</span></a> <a id="pars:441" class="idref" href="#pars:441"><span class="id" title="binder">pars</span></a> <a id="puinst:442" class="idref" href="#puinst:442"><span class="id" title="binder">puinst</span></a> <a id="pctx:443" class="idref" href="#pctx:443"><span class="id" title="binder">pctx</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#650d88eec4660b2d051875320bc577cb"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:439"><span class="id" title="variable">P</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:441"><span class="id" title="variable">pars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Common.BasicAst.html#test_context_k"><span class="id" title="definition">test_context_k</span></a> (<span class="id" title="keyword">fun</span> <a id="k:444" class="idref" href="#k:444"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#closedP"><span class="id" title="definition">closedP</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#k:444"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a>)) <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:441"><span class="id" title="variable">pars</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pctx:443"><span class="id" title="variable">pctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:439"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#650d88eec4660b2d051875320bc577cb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:439"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#650d88eec4660b2d051875320bc577cb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICCases.html#inst_case_context"><span class="id" title="definition">inst_case_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pars:441"><span class="id" title="variable">pars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#puinst:442"><span class="id" title="variable">puinst</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#pctx:443"><span class="id" title="variable">pctx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_app"><span class="id" title="lemma">on_free_vars_ctx_app</span></a> <span class="id" title="var">H1</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_inst_case_context"><span class="id" title="lemma">on_free_vars_ctx_inst_case_context</span></a>; <span class="id" title="var">trea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_free_vars_ctx_inst_case_context</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_ctx_free_vars_fix_context" class="idref" href="#on_ctx_free_vars_fix_context"><span class="id" title="lemma">on_ctx_free_vars_fix_context</span></a> <a id="P:445" class="idref" href="#P:445"><span class="id" title="binder">P</span></a> <a id="5a5ce17fc249048e08148d136ea86e37" class="idref" href="#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="binder">Γ</span></a> <a id="mfix:447" class="idref" href="#mfix:447"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:448" class="idref" href="#x:448"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:445"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:447"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:445"><span class="id" title="variable">P</span></a>)) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:448"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:447"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:445"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:447"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:445"><span class="id" title="variable">P</span></a>) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#5a5ce17fc249048e08148d136ea86e37"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:447"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">relativize</span> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><span class="id" title="var">mfix</span><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a>; [<span class="id" title="var">erewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_concat"><span class="id" title="lemma">on_ctx_free_vars_concat</span></a>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_fix_context"><span class="id" title="lemma">on_free_vars_fix_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">len</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_fix_context_weak" class="idref" href="#on_free_vars_ctx_fix_context_weak"><span class="id" title="lemma">on_free_vars_ctx_fix_context_weak</span></a> <a id="P:449" class="idref" href="#P:449"><span class="id" title="binder">P</span></a> <a id="0dca8d62b6476e21fd9b9dcb2d55e89c" class="idref" href="#0dca8d62b6476e21fd9b9dcb2d55e89c"><span class="id" title="binder">Γ</span></a> <a id="mfix:451" class="idref" href="#mfix:451"><span class="id" title="binder">mfix</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<span class="id" title="keyword">fun</span> <a id="x:452" class="idref" href="#x:452"><span class="id" title="binder">x</span></a> : <a class="idref" href="MetaCoq.Common.BasicAst.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#term"><span class="id" title="inductive">term</span></a> ⇒ <a class="idref" href="MetaCoq.Common.BasicAst.html#test_def"><span class="id" title="definition">test_def</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#0dca8d62b6476e21fd9b9dcb2d55e89c"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:449"><span class="id" title="variable">P</span></a>)) (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:451"><span class="id" title="variable">mfix</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#0dca8d62b6476e21fd9b9dcb2d55e89c"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:449"><span class="id" title="variable">P</span></a>))) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#x:452"><span class="id" title="variable">x</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:451"><span class="id" title="variable">mfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:449"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#0dca8d62b6476e21fd9b9dcb2d55e89c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:449"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#0dca8d62b6476e21fd9b9dcb2d55e89c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.Environment.html#49608ad29a449fb99e23f35a3e9f2749"><span class="id" title="notation">,,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.fix_context"><span class="id" title="definition">fix_context</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#mfix:451"><span class="id" title="variable">mfix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>; <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP_add"><span class="id" title="lemma">shiftnP_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars_fix_context"><span class="id" title="lemma">on_ctx_free_vars_fix_context</span></a> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_ctx_free_vars_fix_context</span> : <span class="id" title="var">fvs</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_free_vars_ctx_fix_context_weak</span> : <span class="id" title="var">fvs</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_ctx_free_vars_snoc_ass</span> <span class="id" title="var">on_ctx_free_vars_snoc_def</span> : <span class="id" title="var">fvs</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_ctx_free_vars_inst_case_context</span> : <span class="id" title="var">fvs</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 3 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span>)) ⇒ <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">idtac</span> : <span class="id" title="var">fvs</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 4 (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#is_true"><span class="id" title="definition">is_true</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_ctx_free_vars"><span class="id" title="definition">on_ctx_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a>) <span class="id" title="var">_</span>)) ⇒<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_on_ctx_free_vars"><span class="id" title="lemma">on_free_vars_ctx_on_ctx_free_vars</span></a> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_snoc_ass" class="idref" href="#on_free_vars_ctx_snoc_ass"><span class="id" title="lemma">on_free_vars_ctx_snoc_ass</span></a> <a id="P:453" class="idref" href="#P:453"><span class="id" title="binder">P</span></a> <a id="28852ac1d0c3387d30da58b8c05c9afd" class="idref" href="#28852ac1d0c3387d30da58b8c05c9afd"><span class="id" title="binder">Γ</span></a> <a id="na:455" class="idref" href="#na:455"><span class="id" title="binder">na</span></a> <a id="t:456" class="idref" href="#t:456"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:453"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#28852ac1d0c3387d30da58b8c05c9afd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#28852ac1d0c3387d30da58b8c05c9afd"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:453"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:456"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:453"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#28852ac1d0c3387d30da58b8c05c9afd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:455"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:456"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onΓ</span> <span class="id" title="var">ont</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> <span class="id" title="var">onΓ</span> /=; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_ctx_snoc_def" class="idref" href="#on_free_vars_ctx_snoc_def"><span class="id" title="lemma">on_free_vars_ctx_snoc_def</span></a> <a id="P:457" class="idref" href="#P:457"><span class="id" title="binder">P</span></a> <a id="17845b51c588499400cb49e652b0e434" class="idref" href="#17845b51c588499400cb49e652b0e434"><span class="id" title="binder">Γ</span></a> <a id="na:459" class="idref" href="#na:459"><span class="id" title="binder">na</span></a> <a id="b:460" class="idref" href="#b:460"><span class="id" title="binder">b</span></a> <a id="t:461" class="idref" href="#t:461"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:457"><span class="id" title="variable">P</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#17845b51c588499400cb49e652b0e434"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#17845b51c588499400cb49e652b0e434"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:457"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b:460"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#shiftnP"><span class="id" title="definition">shiftnP</span></a> <a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">#|</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#17845b51c588499400cb49e652b0e434"><span class="id" title="variable">Γ</span></a><a class="idref" href="MetaCoq.Utils.MCList.html#50abc9bd1bb81dce67ffb7e42f8ed4c9"><span class="id" title="notation">|</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:457"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:461"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx"><span class="id" title="definition">on_free_vars_ctx</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:457"><span class="id" title="variable">P</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#17845b51c588499400cb49e652b0e434"><span class="id" title="variable">Γ</span></a> <a class="idref" href="MetaCoq.Common.BasicAst.html#b66601545ff7e22c5dcb7c86aa0cca21"><span class="id" title="notation">,,</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICAst.html#PCUICEnvironment.vdef"><span class="id" title="definition">vdef</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#na:459"><span class="id" title="variable">na</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#b:460"><span class="id" title="variable">b</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#t:461"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">onΓ</span> <span class="id" title="var">ont</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_ctx_snoc"><span class="id" title="lemma">on_free_vars_ctx_snoc</span></a> <span class="id" title="var">onΓ</span> /=; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">fvs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">on_free_vars_ctx_snoc_ass</span> <span class="id" title="var">on_free_vars_ctx_snoc_def</span> : <span class="id" title="var">fvs</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="on_free_vars_all_subst" class="idref" href="#on_free_vars_all_subst"><span class="id" title="lemma">on_free_vars_all_subst</span></a> <a id="P:462" class="idref" href="#P:462"><span class="id" title="binder">P</span></a> <a id="s:463" class="idref" href="#s:463"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MetaCoq.Utils.All_Forall.html#All"><span class="id" title="inductive">All</span></a> (<a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#P:462"><span class="id" title="variable">P</span></a>) <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:463"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:464" class="idref" href="#x:464"><span class="id" title="binder">x</span></a>, <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars"><span class="id" title="definition">on_free_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ssr.ssrbool.html#xpredT"><span class="id" title="abbreviation">xpredT</span></a> (<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">(</span></a><a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#s:463"><span class="id" title="variable">s</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">⋅</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">n</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#ids"><span class="id" title="definition">ids</span></a><a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">)</span></a> <a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#999cdb9531c4ecd731abe269ac7560c5"><span class="id" title="notation">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 ⇒ <span class="id" title="var">n</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_consn"><span class="id" title="definition">subst_consn</span></a> /<a class="idref" href="MetaCoq.PCUIC.PCUICSigmaCalculus.html#subst_compose"><span class="id" title="definition">subst_compose</span></a> /=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MetaCoq.Utils.MCList.html#nth_error_nil"><span class="id" title="lemma">nth_error_nil</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> ⇒ /=; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="MetaCoq.PCUIC.Syntax.PCUICOnFreeVars.html#on_free_vars_impl"><span class="id" title="lemma">on_free_vars_impl</span></a>; <span class="id" title="var">tea</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
